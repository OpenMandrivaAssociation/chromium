From 0bde311580a6d68d22f21e3a2ac1e78f4d8f5d39 Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Tue, 18 Feb 2025 10:15:02 -0600
Subject: [PATCH 1/3] Consolidate contingent paths in prune_binaries.py

Handles the differences between full tarball, lite tarball, and cloned sources.
Removes the skip_unused and sysroot flags from _extraction.py and downloads.py.
---
 .cirrus.yml                  |   2 +-
 devutils/update_lists.py     |   2 +
 domain_substitution.list     | 392 ++++++++---------------------------
 pruning.list                 |  95 ++++++---
 utils/_extraction.py         |  62 +-----
 utils/clone.py               |  67 ------
 utils/domain_substitution.py |   2 +-
 utils/downloads.py           |  27 +--
 utils/prune_binaries.py      |  96 ++++++++-
 9 files changed, 262 insertions(+), 483 deletions(-)

diff --git a/.cirrus.yml b/.cirrus.yml
index ea919c783f..1c5bac5369 100644
--- a/.cirrus.yml
+++ b/.cirrus.yml
@@ -46,7 +46,7 @@ validate_with_source_task:
         fi
     unpack_source_script: |
         if [ ! -d chromium_src ]; then
-          ./utils/downloads.py unpack --skip-unused -i downloads.ini -c chromium_download_cache chromium_src
+          ./utils/downloads.py unpack -i downloads.ini -c chromium_download_cache chromium_src
         fi
     validate_patches_script:
         - ./devutils/validate_patches.py -l chromium_src -v
diff --git a/devutils/update_lists.py b/devutils/update_lists.py
index 4c6cbb7ed5..9a2270a6e3 100755
--- a/devutils/update_lists.py
+++ b/devutils/update_lists.py
@@ -111,6 +111,8 @@
     # Exclusions for files covered with other patches/unnecessary
     'components/search_engines/prepopulated_engines.json',
     'third_party/blink/renderer/core/dom/document.cc',
+    # Exclusion to allow download of sysroots
+    'build/linux/sysroot_scripts/sysroots.json',
 ]
 
 # pylint: enable=line-too-long
diff --git a/domain_substitution.list b/domain_substitution.list
index 5323caa6bf..c4eb15a3d1 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -478,7 +478,6 @@ build/gn_ast/json_gn_editor.py
 build/install-build-deps.py
 build/ios/presubmit_support.py
 build/linux/install-chromeos-fonts.py
-build/linux/sysroot_scripts/sysroots.json
 build/linux/unbundle/remove_bundled_libraries.py
 build/mac_toolchain.py
 build/nocompile.gni
@@ -515,20 +514,6 @@ cc/trees/layer_tree_host_unittest_animation.cc
 cc/trees/proxy_main.cc
 chrome/BUILD.gn
 chrome/PRESUBMIT.py
-chrome/android/chrome_public_apk_tmpl.gni
-chrome/android/expectations/lint-baseline.xml
-chrome/android/expectations/lint-suppressions.xml
-chrome/android/features/tab_ui/java/strings/android_chrome_tab_ui_strings.grd
-chrome/android/java/res/values-sw600dp/values.xml
-chrome/android/java/res/values/dimens.xml
-chrome/android/java/res/values/strings.xml
-chrome/android/java/res/values/values.xml
-chrome/android/java/src/PRESUBMIT.py
-chrome/android/javatests/src/org/chromium/chrome/test/smoke/AndroidManifest_bundle.xml
-chrome/android/trichrome.gni
-chrome/android/webapk/PRESUBMIT.py
-chrome/android/webapk/shell_apk/manifest/javatest_manifest_config_delta.json
-chrome/android/webapk/shell_apk/res/values/dimens.xml
 chrome/app/PRESUBMIT.py
 chrome/app/app_management_strings.grdp
 chrome/app/chrome_command_ids.h
@@ -4026,6 +4011,89 @@ content/services/auction_worklet/webidl_compat.cc
 content/shell/browser/shell_browser_main_parts.cc
 content/shell/browser/shell_platform_delegate_ios.mm
 content/test/PRESUBMIT.py
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_1.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_2.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_3.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_gcp_1.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_gcp_2.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/latest/report_gcp_3.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_1.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_2.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_3.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_gcp_1.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_gcp_2.json
+content/test/data/attribution_reporting/aggregatable_debug_report_goldens/version_0.1/report_gcp_3.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_1.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_10.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_2.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_3.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_4.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_5.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_6.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_7.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_8.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_9.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_1.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_2.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_3.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_4.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_5.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_6.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_7.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_8.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/latest/report_gcp_9.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_1.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_2.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_3.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_4.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_5.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_6.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_7.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_8.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_9.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_1.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_2.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_3.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_4.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_5.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_6.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_7.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_8.json
+content/test/data/attribution_reporting/aggregatable_report_goldens/version_0.1/report_gcp_9.json
+content/test/data/dom_serializer/html_doc_has_base_tag.htm
+content/test/data/dom_serializer/youtube_1.htm
+content/test/data/dom_serializer/youtube_2.htm
+content/test/data/fedcm/accounts_endpoint.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_1.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_10.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_11.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_12.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_13.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_14.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_15.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_16.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_17.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_2.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_3.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_4.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_5.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_6.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_7.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_8.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_9.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_1.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_10.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_2.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_3.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_4.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_5.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_6.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_7.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_8.json
+content/test/data/private_aggregation/aggregatable_report_goldens/version_0.1/report_9.json
+content/test/data/site_isolation/json-prefixed-3.js
+content/test/data/site_isolation/json-prefixed-4.js
+content/test/data/web_ui_mojo_ts_test.ts
 content/test/gpu/PRESUBMIT.py
 content/test/gpu/find_unknown_typ_tags.py
 content/test/gpu/flake_suppressor/gpu_results_unittest.py
@@ -4322,259 +4390,6 @@ infra/config/generated/health-specs/health-specs.json
 infra/config/migration/PRESUBMIT.py
 infra/config/scripts/PRESUBMIT.py
 infra/config/scripts/sync-pyl-files.py
-ios/PRESUBMIT.py
-ios/build/bots/scripts/PRESUBMIT.py
-ios/build/bots/scripts/plugin/PRESUBMIT.py
-ios/build/bots/scripts/result_sink_util.py
-ios/build/bots/scripts/result_sink_util_test.py
-ios/build/bots/scripts/test_result_util.py
-ios/build/bots/scripts/test_runner.py
-ios/build/bots/scripts/xcode_util.py
-ios/chrome/app/application_delegate/url_opener_unittest.mm
-ios/chrome/app/startup/chrome_app_startup_parameters_unittest.mm
-ios/chrome/app/strings/ios_chromium_strings.grd
-ios/chrome/app/strings/ios_google_chrome_strings.grd
-ios/chrome/app/strings/ios_strings.grd
-ios/chrome/browser/app_launcher/model/app_launcher_abuse_detector_unittest.mm
-ios/chrome/browser/app_launcher/model/app_launcher_tab_helper_unittest.mm
-ios/chrome/browser/authentication/ui_bundled/account_menu/account_menu_egtest.mm
-ios/chrome/browser/authentication/ui_bundled/account_menu/account_menu_mediator_delegate.h
-ios/chrome/browser/authentication/ui_bundled/account_menu/account_menu_mutator.h
-ios/chrome/browser/authentication/ui_bundled/authentication_flow/authentication_flow_unittest.mm
-ios/chrome/browser/authentication/ui_bundled/authentication_flow_unittest.mm
-ios/chrome/browser/authentication/ui_bundled/history_sync/history_sync_capabilities_fetcher_unittest.mm
-ios/chrome/browser/authentication/ui_bundled/signin/add_account_signin/add_account_signin_manager_unittest.mm
-ios/chrome/browser/authentication/ui_bundled/signin_earl_grey_ui_test_util.mm
-ios/chrome/browser/autofill/model/automation/automation_action.mm
-ios/chrome/browser/autofill/model/form_suggestion_controller_unittest.mm
-ios/chrome/browser/autofill/ui_bundled/authentication/authentication_egtest_util.mm
-ios/chrome/browser/autofill/ui_bundled/authentication/card_unmask_authentication_egtest.mm
-ios/chrome/browser/autofill/ui_bundled/bottom_sheet/virtual_card_enrollment_bottom_sheet_egtest.mm
-ios/chrome/browser/autofill/ui_bundled/cells/target_account_item_unittest.mm
-ios/chrome/browser/autofill/ui_bundled/manual_fill/form_observer_helper_unittest.mm
-ios/chrome/browser/autofill/ui_bundled/manual_fill/manual_fill_password_mediator_unittest.mm
-ios/chrome/browser/autofill/ui_bundled/save_card_infobar_egtest.mm
-ios/chrome/browser/autofill/ui_bundled/save_profile_egtest.mm
-ios/chrome/browser/bookmarks/ui_bundled/bookmark_earl_grey.mm
-ios/chrome/browser/bookmarks/ui_bundled/bookmark_earl_grey_ui.h
-ios/chrome/browser/bookmarks/ui_bundled/bookmark_mediator_unittest.mm
-ios/chrome/browser/bookmarks/ui_bundled/bookmarks_egtest.mm
-ios/chrome/browser/bookmarks/ui_bundled/folder_chooser/bookmarks_folder_chooser_egtest.mm
-ios/chrome/browser/bring_android_tabs/ui_bundled/tab_list_from_android_mediator_unittest.mm
-ios/chrome/browser/commerce/model/shopping_persisted_data_tab_helper_unittest.mm
-ios/chrome/browser/context_menu/ui_bundled/context_menu_configuration_provider_unittest.mm
-ios/chrome/browser/crash_report/model/breadcrumbs/breadcrumb_manager_tab_helper_unittest.mm
-ios/chrome/browser/credential_provider/model/credential_provider_service_unittest.mm
-ios/chrome/browser/credential_provider/model/ios_credential_provider_infobar_delegate_unittest.mm
-ios/chrome/browser/credential_provider_promo/ui_bundled/resources/CPE_promo_animation_edu_autofill.json
-ios/chrome/browser/credential_provider_promo/ui_bundled/resources/CPE_promo_animation_edu_autofill_darkmode.json
-ios/chrome/browser/dialogs/ui_bundled/nsurl_protection_space_util_unittest.mm
-ios/chrome/browser/download/model/ar_quick_look_tab_helper_unittest.mm
-ios/chrome/browser/drive/model/drive_list.h
-ios/chrome/browser/drive/model/manage_storage_url_util.mm
-ios/chrome/browser/drive_file_picker/coordinator/drive_file_picker_mediator.mm
-ios/chrome/browser/drive_file_picker/coordinator/drive_file_picker_mediator_helper.mm
-ios/chrome/browser/first_run/ui_bundled/first_run_search_engine_choice_egtest.mm
-ios/chrome/browser/flags/about_flags.mm
-ios/chrome/browser/history/model/history_tab_helper_unittest.mm
-ios/chrome/browser/home_customization/utils/home_customization_constants.mm
-ios/chrome/browser/infobars/ui_bundled/modals/autofill_address_profile/infobar_save_address_profile_table_view_controller_unittest.mm
-ios/chrome/browser/infobars/ui_bundled/test/test_infobar_password_delegate.mm
-ios/chrome/browser/intents/user_activity_browser_agent_unittest.mm
-ios/chrome/browser/lens_overlay/coordinator/lens_omnibox_client_unittest.mm
-ios/chrome/browser/lens_overlay/coordinator/lens_overlay_mediator_unittest.mm
-ios/chrome/browser/lens_overlay/coordinator/lens_result_page_mediator.mm
-ios/chrome/browser/lens_overlay/coordinator/lens_result_page_mediator_unittest.mm
-ios/chrome/browser/link_to_text/model/link_to_text_java_script_feature_unittest.mm
-ios/chrome/browser/link_to_text/ui_bundled/link_to_text_mediator_unittest.mm
-ios/chrome/browser/location_bar/ui_bundled/location_bar_coordinator_unittest.mm
-ios/chrome/browser/metrics/model/ios_family_link_user_metrics_provider_unittest.mm
-ios/chrome/browser/metrics/model/tab_usage_recorder_browser_agent_unittest.mm
-ios/chrome/browser/net/model/retryable_url_fetcher_unittest.mm
-ios/chrome/browser/ntp/model/browser_policy_new_tab_page_rewriter_unittest.mm
-ios/chrome/browser/ntp/ui_bundled/discover_feed_constants.mm
-ios/chrome/browser/ntp/ui_bundled/incognito/incognito_view_util.mm
-ios/chrome/browser/ntp/ui_bundled/new_tab_page_coordinator_unittest.mm
-ios/chrome/browser/ntp/ui_bundled/new_tab_page_mediator.mm
-ios/chrome/browser/ntp/ui_bundled/new_tab_page_mediator_unittest.mm
-ios/chrome/browser/omaha/model/omaha_service.mm
-ios/chrome/browser/omnibox/ui_bundled/omnibox_egtest.mm
-ios/chrome/browser/omnibox/ui_bundled/zero_suggest_prefetch_helper_unittest.mm
-ios/chrome/browser/optimization_guide/model/optimization_guide_validation_tab_helper_unittest.mm
-ios/chrome/browser/overlays/ui_bundled/infobar_banner/passwords/password_infobar_banner_overlay_mediator_unittest.mm
-ios/chrome/browser/overlays/ui_bundled/infobar_modal/passwords/password_infobar_modal_overlay_mediator_unittest.mm
-ios/chrome/browser/page_info/about_this_site_tab_helper_unittest.mm
-ios/chrome/browser/page_info/ui_bundled/page_info_security_egtest.mm
-ios/chrome/browser/passwords/model/password_controller_js_unittest.mm
-ios/chrome/browser/passwords/model/password_controller_unittest.mm
-ios/chrome/browser/plus_addresses/ui/plus_address_bottom_sheet_constants.h
-ios/chrome/browser/policy/model/cloud/user_policy_signin_service_unittest.mm
-ios/chrome/browser/policy/model/new_tab_page_location_policy_handler_unittest.cc
-ios/chrome/browser/policy/model/restrict_accounts_policy_handler_unittest.cc
-ios/chrome/browser/prerender/model/preload_controller_unittest.mm
-ios/chrome/browser/prerender/model/prerender_service_impl_unittest.mm
-ios/chrome/browser/profile/model/profile_ios_impl.h
-ios/chrome/browser/reading_list/model/reading_list_browser_agent_unittest.mm
-ios/chrome/browser/reading_list/ui_bundled/reading_list_list_item_factory_unittest.mm
-ios/chrome/browser/reading_list/ui_bundled/reading_list_mediator_unittest.mm
-ios/chrome/browser/reading_list/ui_bundled/reading_list_table_view_item_unittest.mm
-ios/chrome/browser/safe_browsing/model/safe_browsing_client_impl_unittest.mm
-ios/chrome/browser/safe_browsing/model/tailored_security/tailored_security_tab_helper_unittest.mm
-ios/chrome/browser/safety_check/model/ios_chrome_safety_check_manager_unittest.mm
-ios/chrome/browser/save_to_photos/ui_bundled/save_to_photos_mediator.mm
-ios/chrome/browser/saved_tab_groups/model/ios_tab_group_sync_util_unittest.mm
-ios/chrome/browser/saved_tab_groups/model/tab_group_local_update_observer_unittest.mm
-ios/chrome/browser/search_engines/model/extension_search_engine_data_updater_unittest.mm
-ios/chrome/browser/search_engines/model/resources/search_engine.ts
-ios/chrome/browser/search_engines/model/search_engine_js_unittest.mm
-ios/chrome/browser/search_engines/model/search_engine_tab_helper.h
-ios/chrome/browser/search_engines/model/search_engine_tab_helper.mm
-ios/chrome/browser/settings/ui_bundled/autofill/autofill_profile_settings_egtest.mm
-ios/chrome/browser/settings/ui_bundled/clear_browsing_data/clear_browsing_data_egtest.mm
-ios/chrome/browser/settings/ui_bundled/clear_browsing_data/quick_delete_egtest.mm
-ios/chrome/browser/settings/ui_bundled/google_services/manage_sync_settings_command_handler.h
-ios/chrome/browser/settings/ui_bundled/password/password_checkup/password_checkup_constants.mm
-ios/chrome/browser/settings/ui_bundled/password/password_checkup/password_checkup_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_checkup/password_checkup_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_details/add_password_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_details/password_details_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_details/password_details_table_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_exporter_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_issues/password_issues_table_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_manager_egtest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_manager_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_settings/password_settings_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/family_picker_coordinator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/family_picker_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/family_promo_coordinator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/password_picker_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/password_sharing_constants.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/password_sharing_egtest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/password_sharing_first_run_coordinator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/password_sharing/sharing_status_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/password/passwords_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/safety_check/safety_check_mediator_unittest.mm
-ios/chrome/browser/settings/ui_bundled/search_engine_table_view_controller_unittest.mm
-ios/chrome/browser/settings/ui_bundled/supervised_user_settings_app_interface.mm
-ios/chrome/browser/settings/ui_bundled/table_cell_catalog_view_controller.mm
-ios/chrome/browser/settings/ui_bundled/translate_table_view_controller.mm
-ios/chrome/browser/shared/coordinator/scene/scene_controller.mm
-ios/chrome/browser/shared/coordinator/scene/scene_controller_unittest.mm
-ios/chrome/browser/shared/model/url/chrome_url_constants.cc
-ios/chrome/browser/shared/model/web_state_list/order_controller_source_from_web_state_list_unittest.mm
-ios/chrome/browser/shared/model/web_state_list/web_state_list_unittest.mm
-ios/chrome/browser/shared/ui/table_view/cells/table_view_detail_icon_item_unittest.mm
-ios/chrome/browser/shared/ui/table_view/cells/table_view_url_item_unittest.mm
-ios/chrome/browser/shared/ui/util/pasteboard_util_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activities/copy_activity_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activities/find_in_page_activity_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activities/print_activity_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activities/send_tab_to_self_activity_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activity_service_mediator_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/activity_services/activity_type_util.mm
-ios/chrome/browser/sharing/ui_bundled/qr_generator/qr_generator_coordinator_unittest.mm
-ios/chrome/browser/sharing/ui_bundled/qr_generator/qr_generator_util_unittest.mm
-ios/chrome/browser/signin/model/account_capabilities_fetcher_ios_unittest.mm
-ios/chrome/browser/signin/model/account_profile_mapper_unittest.mm
-ios/chrome/browser/signin/model/authentication_service_unittest.mm
-ios/chrome/browser/signin/model/chrome_account_manager_service_unittest.mm
-ios/chrome/browser/signin/model/fake_system_identity.mm
-ios/chrome/browser/signin/model/fake_system_identity_manager.mm
-ios/chrome/browser/signin/model/gaia_auth_fetcher_ios_unittest.mm
-ios/chrome/browser/signin/model/pattern_account_restriction_unittest.mm
-ios/chrome/browser/signin/model/system_identity_manager.h
-ios/chrome/browser/signin/model/test_account_info.mm
-ios/chrome/browser/snapshots/model/snapshot_generator_unittest.mm
-ios/chrome/browser/ssl/model/ios_ssl_error_handler_unittest.mm
-ios/chrome/browser/start_surface/ui_bundled/start_surface_scene_agent_unittest.mm
-ios/chrome/browser/supervised_user/model/supervised_user_url_filter_tab_helper_unittest.mm
-ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid/base_grid_mediator_unittest.mm
-ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_grid_egtest.mm
-ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_groups/tab_group_sync_earl_grey_app_interface.mm
-ios/chrome/browser/tab_switcher/ui_bundled/tab_strip/coordinator/tab_strip_mediator_unittest.mm
-ios/chrome/browser/toolbar/ui_bundled/adaptive_toolbar_mediator_unittest.mm
-ios/chrome/browser/ui/content_suggestions/cells/most_visited_tiles_mediator_unittest.mm
-ios/chrome/browser/ui/content_suggestions/ntp_home_egtest.mm
-ios/chrome/browser/ui/content_suggestions/parcel_tracking/parcel_tracking_mediator_unittest.mm
-ios/chrome/browser/ui/content_suggestions/tab_resumption/tab_resumption_mediator.mm
-ios/chrome/browser/ui/popup_menu/overflow_menu/overflow_menu_mediator_unittest.mm
-ios/chrome/browser/ui/popup_menu/popup_menu_mediator_unittest.mm
-ios/chrome/browser/url_loading/model/image_search_param_generator_unittest.mm
-ios/chrome/browser/web/model/chrome_web_client_unittest.mm
-ios/chrome/browser/web/model/font_size/font_size_tab_helper_unittest.mm
-ios/chrome/browser/web_state_list/model/web_usage_enabler/web_usage_enabler_browser_agent_unittest.mm
-ios/chrome/browser/webui/ui_bundled/interstitials/interstitial_ui_util.mm
-ios/chrome/common/ns_regular_expression_unittest.mm
-ios/chrome/common/string_util_unittest.mm
-ios/chrome/common/x_callback_url_unittest.cc
-ios/chrome/credential_provider_extension/strings/ios_credential_provider_extension_strings.grd
-ios/chrome/credential_provider_extension/ui/passkey_welcome_screen_view_controller_unittest.mm
-ios/chrome/test/data/policy/PRESUBMIT.py
-ios/chrome/test/data/policy/pref_mapping/ManagedBookmarks.json
-ios/chrome/test/data/policy/pref_mapping/NewTabPageLocation.json
-ios/chrome/test/data/policy/pref_mapping/PopupsAllowedForUrls.json
-ios/chrome/test/data/policy/pref_mapping/PopupsBlockedForUrls.json
-ios/chrome/test/data/policy/pref_mapping/RestrictAccountsToPatterns.json
-ios/chrome/test/data/policy/pref_mapping/URLAllowlist.json
-ios/chrome/test/data/policy/pref_mapping/URLBlocklist.json
-ios/chrome/test/earl_grey/chrome_earl_grey_ui.h
-ios/chrome/test/earl_grey/device_check_egtest.mm
-ios/chrome/test/providers/omaha/test_omaha.cc
-ios/chrome/test/xcuitest/device_check_xctest.mm
-ios/components/cookie_util/cookie_util_unittest.mm
-ios/components/credential_provider_extension/password_spec_fetcher.mm
-ios/components/credential_provider_extension/password_util_unittest.mm
-ios/components/security_interstitials/https_only_mode/https_only_mode_blocking_page.mm
-ios/net/cookies/cookie_cache_unittest.cc
-ios/net/cookies/cookie_store_ios_test_util.mm
-ios/net/cookies/cookie_store_ios_unittest.mm
-ios/net/cookies/system_cookie_store_unittest_template.h
-ios/net/crn_http_protocol_handler.mm
-ios/net/nsurlrequest_util_unittest.mm
-ios/testing/PRESUBMIT.py
-ios/testing/data/http_server_files/opensearch.xml
-ios/testing/data/http_server_files/window_open.html
-ios/testing/earl_grey/base_earl_grey_test_case.mm
-ios/web/browsing_data/browsing_data_removing_util_unittest.mm
-ios/web/browsing_data/system_cookie_store_util_unittest.mm
-ios/web/favicon/favicon_util_unittest.mm
-ios/web/js_features/context_menu/context_menu_js_unittest.mm
-ios/web/navigation/history_state_operations_inttest.mm
-ios/web/navigation/navigation_manager_impl.mm
-ios/web/navigation/navigation_manager_util_unittest.mm
-ios/web/net/cookies/crw_wk_http_cookie_store_unittest.mm
-ios/web/public/init/web_main_parts.h
-ios/web/shell/test/earl_grey/shell_earl_grey.h
-ios/web/util/wk_security_origin_util_unittest.mm
-ios/web/web_state/permissions_inttest.mm
-ios/web/web_state/ui/crw_web_controller_unittest.mm
-ios/web/web_state/ui/wk_content_rule_list_util.mm
-ios/web/web_state/web_state_context_menu_bridge_unittest.mm
-ios/web/web_state/web_state_unittest.mm
-ios/web_view/PRESUBMIT.py
-ios/web_view/internal/autofill/cwv_autofill_controller_unittest.mm
-ios/web_view/internal/autofill/cwv_autofill_data_manager_unittest.mm
-ios/web_view/internal/autofill/cwv_credit_card_saver_unittest.mm
-ios/web_view/internal/cwv_favicon_unittest.mm
-ios/web_view/internal/cwv_flags.mm
-ios/web_view/internal/cwv_lookalike_url_handler_unittest.mm
-ios/web_view/internal/cwv_ssl_error_handler_unittest.mm
-ios/web_view/internal/cwv_web_view.mm
-ios/web_view/internal/passwords/cwv_credential_provider_extension_utils_unittest.mm
-ios/web_view/internal/passwords/cwv_leak_check_credential_unittest.mm
-ios/web_view/internal/passwords/cwv_password_unittest.mm
-ios/web_view/internal/passwords/cwv_reuse_check_service_unittest.mm
-ios/web_view/internal/safe_browsing/cwv_unsafe_url_handler_unittest.mm
-ios/web_view/internal/signin/account_capabilities_fetcher_ios_web_view_unittest.mm
-ios/web_view/internal/signin/cwv_identity_unittest.mm
-ios/web_view/internal/signin/web_view_device_accounts_provider_impl_unittest.mm
-ios/web_view/internal/sync/cwv_sync_controller_unittest.mm
-ios/web_view/internal/translate/cwv_translation_controller_unittest.mm
-ios/web_view/public/cwv_autofill_data_manager.h
-ios/web_view/public/cwv_credential_provider_extension_utils.h
-ios/web_view/public/cwv_identity.h
-ios/web_view/public/cwv_translation_language.h
-ios/web_view/public/cwv_web_view.h
 ipc/ipc_channel.h
 media/PRESUBMIT.py
 media/audio/android/audio_track_output_stream.cc
@@ -7266,47 +7081,6 @@ third_party/cld_3/src/src/script_span/getonescriptspan.h
 third_party/cld_3/src/src/script_span/offsetmap.cc
 third_party/cld_3/src/src/script_span/offsetmap.h
 third_party/cld_3/src/src/script_span/utf8statetable.h
-third_party/closure_compiler/externs/accessibility_features.js
-third_party/closure_compiler/externs/accessibility_private.js
-third_party/closure_compiler/externs/arc_apps_private.js
-third_party/closure_compiler/externs/audio.js
-third_party/closure_compiler/externs/bluetooth.js
-third_party/closure_compiler/externs/bluetooth_private.js
-third_party/closure_compiler/externs/braille_display_private.js
-third_party/closure_compiler/externs/chrome.js
-third_party/closure_compiler/externs/chrome_extensions.js
-third_party/closure_compiler/externs/chromeos_info_private.js
-third_party/closure_compiler/externs/clipboard.js
-third_party/closure_compiler/externs/command_line_private.js
-third_party/closure_compiler/externs/crash_report_private.js
-third_party/closure_compiler/externs/events.js
-third_party/closure_compiler/externs/extension_types.js
-third_party/closure_compiler/externs/file_system_provider.js
-third_party/closure_compiler/externs/image_loader_private.js
-third_party/closure_compiler/externs/input_method_private.js
-third_party/closure_compiler/externs/language_settings_private.js
-third_party/closure_compiler/externs/login_state.js
-third_party/closure_compiler/externs/metrics_private.js
-third_party/closure_compiler/externs/metrics_private_individual_apis.js
-third_party/closure_compiler/externs/mojo_private.js
-third_party/closure_compiler/externs/networking_private.js
-third_party/closure_compiler/externs/pending.js
-third_party/closure_compiler/externs/quick_unlock_private.js
-third_party/closure_compiler/externs/runtime.js
-third_party/closure_compiler/externs/settings_private.js
-third_party/closure_compiler/externs/speech_recognition_private.js
-third_party/closure_compiler/externs/tabs.js
-third_party/closure_compiler/externs/terminal_private.js
-third_party/closure_compiler/externs/test.js
-third_party/closure_compiler/externs/tts.js
-third_party/closure_compiler/externs/ttsEngine.js
-third_party/closure_compiler/externs/virtual_keyboard_private.js
-third_party/closure_compiler/externs/webview_tag.js
-third_party/closure_compiler/externs/windows.js
-third_party/closure_compiler/interfaces/bluetooth_interface.js
-third_party/closure_compiler/interfaces/networking_private_interface.js
-third_party/closure_compiler/interfaces/settings_private_interface.js
-third_party/closure_compiler/interfaces/system_display_interface.js
 third_party/colorama/src/demos/demo09.py
 third_party/content_analysis_sdk/src/agent/src/scoped_print_handle_win.cc
 third_party/content_analysis_sdk/src/common/utils_win.cc
diff --git a/pruning.list b/pruning.list
index 76586a3a66..664403dafd 100644
--- a/pruning.list
+++ b/pruning.list
@@ -247,6 +247,77 @@ content/browser/indexed_db/fuzzer_corpus/indexed_db_key/string_type
 content/browser/indexed_db/fuzzer_corpus/indexed_db_key_path/ascii
 content/browser/indexed_db/fuzzer_corpus/indexed_db_key_path/ascii_utf8_vector
 content/browser/indexed_db/fuzzer_corpus/indexed_db_key_path/utf8
+content/test/data/android/SelfConsumingObject.dex
+content/test/data/background_resource_fetch/SpaceOnly.otf
+content/test/data/cache_storage/invalid_bucket_id/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/3767fbd3edc759b5_0
+content/test/data/cache_storage/invalid_bucket_id/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/index
+content/test/data/cache_storage/invalid_bucket_id/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/index-dir/the-real-index
+content/test/data/cache_storage/padding_v2/0430f1a484a0ea6d8de562488c5fbeec0111d16f/676288ed-4de0-44af-97d6-dbd75b07a8a3/4bfb34f348c2269e_0
+content/test/data/cache_storage/padding_v2/0430f1a484a0ea6d8de562488c5fbeec0111d16f/676288ed-4de0-44af-97d6-dbd75b07a8a3/index
+content/test/data/cache_storage/padding_v2/0430f1a484a0ea6d8de562488c5fbeec0111d16f/676288ed-4de0-44af-97d6-dbd75b07a8a3/index-dir/the-real-index
+content/test/data/cache_storage/storage_key/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/3767fbd3edc759b5_0
+content/test/data/cache_storage/storage_key/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/index
+content/test/data/cache_storage/storage_key/0430f1a484a0ea6d8de562488c5fbeec0111d16f/ba31f73b-95e8-44fb-a273-265e7e76f5ab/index-dir/the-real-index
+content/test/data/download-test1.lib
+content/test/data/download/empty.bin
+content/test/data/download/gzip-content.gz
+content/test/data/fuzzer_corpus/signed_exchange_certificate_chain_data/wildcard_example.org.public.pem.cbor
+content/test/data/gzip-content.svgz
+content/test/data/indexeddb/corrupt_leveldb/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/corrupt_leveldb/file__0.indexeddb.leveldb/MANIFEST-000002
+content/test/data/indexeddb/crbug899446/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/crbug899446/file__0.indexeddb.leveldb/MANIFEST-000001
+content/test/data/indexeddb/crbug899446_noai/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/crbug899446_noai/file__0.indexeddb.leveldb/MANIFEST-000001
+content/test/data/indexeddb/missing_sst/file__0.indexeddb.leveldb/000008.sst
+content/test/data/indexeddb/missing_sst/file__0.indexeddb.leveldb/MANIFEST-000007
+content/test/data/indexeddb/schema_version_123456/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/schema_version_123456/file__0.indexeddb.leveldb/MANIFEST-000002
+content/test/data/indexeddb/ssv_version_987654/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/ssv_version_987654/file__0.indexeddb.leveldb/MANIFEST-000002
+content/test/data/indexeddb/v3_migration_test/file__0.indexeddb.blob/1/00/5
+content/test/data/indexeddb/v3_migration_test/file__0.indexeddb.leveldb/000003.log
+content/test/data/indexeddb/v3_migration_test/file__0.indexeddb.leveldb/MANIFEST-000001
+content/test/data/interest_group/auction_only.wbn
+content/test/data/interest_group/auction_only_both_new_and_old_names.wbn
+content/test/data/interest_group/auction_only_new_name.wbn
+content/test/data/interest_group/multiply.wasm
+content/test/data/shared_dictionary/path/compressed.data
+content/test/data/site_isolation/nosniff.png.octet-stream
+content/test/data/sxg/127.0.0.1.public.pem.cbor
+content/test/data/sxg/google-com.example.org.public.pem.cbor
+content/test/data/sxg/google-com.example.org_test.sxg
+content/test/data/sxg/test.example.com_invalid_test.sxg
+content/test/data/sxg/test.example.org-long-validity.public.pem.cbor
+content/test/data/sxg/test.example.org-noext.public.pem.cbor
+content/test/data/sxg/test.example.org-validity-too-long.public.pem.cbor
+content/test/data/sxg/test.example.org.public.pem.cbor
+content/test/data/sxg/test.example.org_bad_content_type.sxg
+content/test/data/sxg/test.example.org_cert_validity_too_long.sxg
+content/test/data/sxg/test.example.org_csp.sxg
+content/test/data/sxg/test.example.org_fr_variant.sxg
+content/test/data/sxg/test.example.org_hello.txt.sxg
+content/test/data/sxg/test.example.org_long_cert_validity.sxg
+content/test/data/sxg/test.example.org_noext_test.sxg
+content/test/data/sxg/test.example.org_test.html.gz.sxg
+content/test/data/sxg/test.example.org_test.sxg
+content/test/data/sxg/test.example.org_test_bad_mice.sxg
+content/test/data/sxg/test.example.org_test_bad_mice_small.sxg
+content/test/data/sxg/test.example.org_test_download.sxg
+content/test/data/sxg/test.example.org_test_invalid_cbor_header.sxg
+content/test/data/sxg/test.example.org_test_invalid_content_type.sxg
+content/test/data/sxg/test.example.org_test_invalid_magic_string.sxg
+content/test/data/sxg/test.example.org_test_missing_nosniff.sxg
+content/test/data/sxg/test.example.org_vary_cookie.sxg
+content/test/data/web_bundle/broken_bundle_base_b2.wbn
+content/test/data/web_bundle/broken_bundle_broken_first_entry_b2.wbn
+content/test/data/web_bundle/broken_bundle_broken_script_entry_b2.wbn
+content/test/data/web_bundle/cross_origin_b2.wbn
+content/test/data/web_bundle/foo_base_url_bundle_b2.wbn
+content/test/data/web_bundle/foo_primary_url_bundle_b2.wbn
+content/test/data/web_bundle/same_origin_b2.wbn
+content/test/data/web_bundle/uuid-in-package.wbn
+content/test/data/web_bundle/web_bundle_browsertest_b2.wbn
 device/fido/response_data_fuzzer_corpus/get_assertion_response_corpus
 device/fido/response_data_fuzzer_corpus/make_credential_response_corpus
 device/fido/response_data_fuzzer_corpus/register1
@@ -259,29 +330,6 @@ fuchsia_web/webengine/test/data/bear-vp8a.webm
 fuchsia_web/webengine/test/data/bear-vp9-opus.webm
 fuchsia_web/webengine/test/data/bear-vp9.webm
 headless/test/data/protocol/emulation/resources/video.webm
-ios/chrome/app/profile/profile_controller.mm
-ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_1
-ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_2
-ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_3
-ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_4
-ios/chrome/browser/omnibox/ui_bundled/popup/carousel/omnibox_popup_carousel_control.mm
-ios/chrome/browser/omnibox/ui_bundled/popup/omnibox_popup_view_controller.mm
-ios/chrome/browser/omnibox/ui_bundled/popup/row/omnibox_popup_row_content_configuration.mm
-ios/chrome/browser/sessions/model/session_restoration_web_state_list_observer.mm
-ios/chrome/test/data/optimization_guide/additional_file_doesnt_exist.crx3
-ios/chrome/test/data/optimization_guide/additional_file_exists.crx3
-ios/chrome/test/data/optimization_guide/signed_valid_model.crx3
-ios/chrome/test/data/sessions/corrupted.plist
-ios/chrome/test/data/sessions/session_m57.plist
-ios/chrome/test/data/sessions/session_m58.plist
-ios/chrome/test/data/voice/test_sound.m4a
-ios/testing/data/http_server_files/bundle.pkpasses
-ios/testing/data/http_server_files/generic.pkpass
-ios/testing/data/http_server_files/redchair.usdz
-ios/testing/data/http_server_files/semi_bundle.pkpasses
-ios/testing/data/http_server_files/video_sample.mov
-ios/web/navigation/navigation_item_impl_unittest.mm
-ios/web/test/data/testpass.pkpass
 media/formats/mp4/h264_annex_b_fuzz_corpus/chunk1-config-idr.bin
 media/formats/mp4/h264_annex_b_fuzz_corpus/chunk2-non-idr.bin
 media/formats/mp4/h264_annex_b_fuzz_corpus/chunk3-non-idr.bin
@@ -7016,7 +7064,6 @@ third_party/catapult/third_party/vinn/third_party/parse5/test/data/tree_construc
 third_party/catapult/third_party/vinn/third_party/parse5/test/data/tree_construction/plain-text-unsafe.dat
 third_party/catapult/tracing/skp_data/google_homepage.skp
 third_party/catapult/tracing/skp_data/lthi_cats.skp
-third_party/closure_compiler/compiler/compiler.jar
 third_party/cpuinfo/src/test/dmesg/alldocube-iwork8.log
 third_party/cpuinfo/src/test/dmesg/galaxy-a3-2016-eu.log
 third_party/cpuinfo/src/test/dmesg/galaxy-grand-prime-value-edition.log
diff --git a/utils/_extraction.py b/utils/_extraction.py
index 93a735faca..ab93107a41 100644
--- a/utils/_extraction.py
+++ b/utils/_extraction.py
@@ -14,7 +14,6 @@
 from pathlib import Path, PurePosixPath
 
 from _common import (USE_REGISTRY, PlatformEnum, ExtractorEnum, get_logger, get_running_platform)
-from prune_binaries import CONTINGENT_PATHS
 
 DEFAULT_EXTRACTORS = {
     ExtractorEnum.SEVENZIP: USE_REGISTRY,
@@ -88,7 +87,7 @@ def _process_relative_to(unpack_root, relative_to):
     relative_root.rmdir()
 
 
-def _extract_tar_with_7z(binary, archive_path, output_dir, relative_to, skip_unused, sysroot):
+def _extract_tar_with_7z(binary, archive_path, output_dir, relative_to):
     get_logger().debug('Using 7-zip extractor')
     if not relative_to is None and (output_dir / relative_to).exists():
         get_logger().error('Temporary unpacking directory already exists: %s',
@@ -96,11 +95,6 @@ def _extract_tar_with_7z(binary, archive_path, output_dir, relative_to, skip_unu
         raise Exception()
     cmd1 = (binary, 'x', str(archive_path), '-so')
     cmd2 = (binary, 'x', '-si', '-aoa', '-ttar', '-o{}'.format(str(output_dir)))
-    if skip_unused:
-        for cpath in CONTINGENT_PATHS:
-            if sysroot and f'{sysroot}-sysroot' in cpath:
-                continue
-            cmd2 += ('-x!%s/%s' % (str(relative_to), cpath[:-1]), )
     get_logger().debug('7z command line: %s | %s', ' '.join(cmd1), ' '.join(cmd2))
 
     proc1 = subprocess.Popen(cmd1, stdout=subprocess.PIPE)
@@ -116,15 +110,10 @@ def _extract_tar_with_7z(binary, archive_path, output_dir, relative_to, skip_unu
     _process_relative_to(output_dir, relative_to)
 
 
-def _extract_tar_with_tar(binary, archive_path, output_dir, relative_to, skip_unused, sysroot):
+def _extract_tar_with_tar(binary, archive_path, output_dir, relative_to):
     get_logger().debug('Using BSD or GNU tar extractor')
     output_dir.mkdir(exist_ok=True)
     cmd = (binary, '-xf', str(archive_path), '-C', str(output_dir))
-    if skip_unused:
-        for cpath in CONTINGENT_PATHS:
-            if sysroot and f'{sysroot}-sysroot' in cpath:
-                continue
-            cmd += ('--exclude=%s/%s' % (str(relative_to), cpath[:-1]), )
     get_logger().debug('tar command line: %s', ' '.join(cmd))
     result = subprocess.run(cmd, check=False)
     if result.returncode != 0:
@@ -136,15 +125,10 @@ def _extract_tar_with_tar(binary, archive_path, output_dir, relative_to, skip_un
     _process_relative_to(output_dir, relative_to)
 
 
-def _extract_tar_with_winrar(binary, archive_path, output_dir, relative_to, skip_unused, sysroot):
+def _extract_tar_with_winrar(binary, archive_path, output_dir, relative_to):
     get_logger().debug('Using WinRAR extractor')
     output_dir.mkdir(exist_ok=True)
     cmd = (binary, 'x', '-o+', str(archive_path), str(output_dir))
-    if skip_unused:
-        for cpath in CONTINGENT_PATHS:
-            if sysroot and f'{sysroot}-sysroot' in cpath:
-                continue
-            cmd += ('-x%s%s%s' % (str(relative_to), os.sep, cpath[:-1].replace('/')), )
     get_logger().debug('WinRAR command line: %s', ' '.join(cmd))
     result = subprocess.run(cmd, check=False)
     if result.returncode != 0:
@@ -154,7 +138,7 @@ def _extract_tar_with_winrar(binary, archive_path, output_dir, relative_to, skip
     _process_relative_to(output_dir, relative_to)
 
 
-def _extract_tar_with_python(archive_path, output_dir, relative_to, skip_unused, sysroot):
+def _extract_tar_with_python(archive_path, output_dir, relative_to):
     get_logger().debug('Using pure Python tar extractor')
 
     class NoAppendList(list):
@@ -181,12 +165,6 @@ def append(self, obj):
         tar_file_obj.members = NoAppendList()
         for tarinfo in tar_file_obj:
             try:
-                if skip_unused and [
-                        cpath for cpath in CONTINGENT_PATHS
-                        if tarinfo.name.startswith(str(relative_to) + '/' + cpath)
-                        and not (sysroot and f'{sysroot}-sysroot' in cpath)
-                ]:
-                    continue
                 if relative_to is None:
                     destination = output_dir / PurePosixPath(tarinfo.name)
                 else:
@@ -210,7 +188,7 @@ def append(self, obj):
                 raise
 
 
-def extract_tar_file(archive_path, output_dir, relative_to, skip_unused, sysroot, extractors=None):
+def extract_tar_file(archive_path, output_dir, relative_to, extractors=None):
     """
     Extract regular or compressed tar archive into the output directory.
 
@@ -233,8 +211,7 @@ def extract_tar_file(archive_path, output_dir, relative_to, skip_unused, sysroot
             sevenzip_cmd = str(_find_7z_by_registry())
         sevenzip_bin = _find_extractor_by_cmd(sevenzip_cmd)
         if sevenzip_bin is not None:
-            _extract_tar_with_7z(sevenzip_bin, archive_path, output_dir, relative_to, skip_unused,
-                                 sysroot)
+            _extract_tar_with_7z(sevenzip_bin, archive_path, output_dir, relative_to)
             return
 
         # Use WinRAR if 7-zip is not found
@@ -243,8 +220,7 @@ def extract_tar_file(archive_path, output_dir, relative_to, skip_unused, sysroot
             winrar_cmd = str(_find_winrar_by_registry())
         winrar_bin = _find_extractor_by_cmd(winrar_cmd)
         if winrar_bin is not None:
-            _extract_tar_with_winrar(winrar_bin, archive_path, output_dir, relative_to, skip_unused,
-                                     sysroot)
+            _extract_tar_with_winrar(winrar_bin, archive_path, output_dir, relative_to)
             return
         get_logger().warning(
             'Neither 7-zip nor WinRAR were found. Falling back to Python extractor...')
@@ -252,17 +228,16 @@ def extract_tar_file(archive_path, output_dir, relative_to, skip_unused, sysroot
         # NOTE: 7-zip isn't an option because it doesn't preserve file permissions
         tar_bin = _find_extractor_by_cmd(extractors.get(ExtractorEnum.TAR))
         if not tar_bin is None:
-            _extract_tar_with_tar(tar_bin, archive_path, output_dir, relative_to, skip_unused,
-                                  sysroot)
+            _extract_tar_with_tar(tar_bin, archive_path, output_dir, relative_to)
             return
     else:
         # This is not a normal code path, so make it clear.
         raise NotImplementedError(current_platform)
     # Fallback to Python-based extractor on all platforms
-    _extract_tar_with_python(archive_path, output_dir, relative_to, skip_unused, sysroot)
+    _extract_tar_with_python(archive_path, output_dir, relative_to)
 
 
-def extract_with_7z(archive_path, output_dir, relative_to, skip_unused, sysroot, extractors=None):
+def extract_with_7z(archive_path, output_dir, relative_to, extractors=None):
     """
     Extract archives with 7-zip into the output directory.
     Only supports archives with one layer of unpacking, so compressed tar archives don't work.
@@ -292,11 +267,6 @@ def extract_with_7z(archive_path, output_dir, relative_to, skip_unused, sysroot,
                            output_dir / relative_to)
         raise Exception()
     cmd = (sevenzip_bin, 'x', str(archive_path), '-aoa', '-o{}'.format(str(output_dir)))
-    if skip_unused:
-        for cpath in CONTINGENT_PATHS:
-            if sysroot and f'{sysroot}-sysroot' in cpath:
-                continue
-            cmd += ('-x!%s/%s' % (str(relative_to), cpath[:-1]), )
     get_logger().debug('7z command line: %s', ' '.join(cmd))
 
     result = subprocess.run(cmd, check=False)
@@ -307,12 +277,7 @@ def extract_with_7z(archive_path, output_dir, relative_to, skip_unused, sysroot,
     _process_relative_to(output_dir, relative_to)
 
 
-def extract_with_winrar(archive_path,
-                        output_dir,
-                        relative_to,
-                        skip_unused,
-                        sysroot,
-                        extractors=None):
+def extract_with_winrar(archive_path, output_dir, relative_to, extractors=None):
     """
     Extract archives with WinRAR into the output directory.
     Only supports archives with one layer of unpacking, so compressed tar archives don't work.
@@ -340,11 +305,6 @@ def extract_with_winrar(archive_path,
                            output_dir / relative_to)
         raise Exception()
     cmd = (winrar_bin, 'x', '-o+', str(archive_path), str(output_dir))
-    if skip_unused:
-        for cpath in CONTINGENT_PATHS:
-            if sysroot and f'{sysroot}-sysroot' in cpath:
-                continue
-            cmd += ('-x%s%s%s' % (str(relative_to), os.sep, cpath[:-1].replace('/', os.sep)), )
     get_logger().debug('WinRAR command line: %s', ' '.join(cmd))
 
     result = subprocess.run(cmd, check=False)
diff --git a/utils/clone.py b/utils/clone.py
index 8d711b1845..9208206441 100755
--- a/utils/clone.py
+++ b/utils/clone.py
@@ -18,7 +18,6 @@
 from subprocess import run
 
 from _common import add_common_params, get_chromium_version, get_logger
-from prune_binaries import CONTINGENT_PATHS
 
 # Config file for gclient
 # Instances of 'src' replaced with UC_OUT, which will be replaced with the output directory
@@ -233,72 +232,6 @@ def clone(args): # pylint: disable=too-many-branches, too-many-locals, too-many-
          str(args.output / 'tools' / 'gn' / 'bootstrap'))
 
     get_logger().info('Removing uneeded files')
-    # Match removals for the tarball:
-    # https://source.chromium.org/chromium/chromium/tools/build/+/main:recipes/recipe_modules/chromium/resources/export_tarball.py
-    remove_dirs = (
-        (args.output / 'base' / 'tracing' / 'test' / 'data'),
-        (args.output / 'chrome' / 'test' / 'data'),
-        (args.output / 'components' / 'test' / 'data'),
-        (args.output / 'content' / 'test' / 'data'),
-        (args.output / 'courgette' / 'testdata'),
-        (args.output / 'extensions' / 'test' / 'data'),
-        (args.output / 'media' / 'test' / 'data'),
-        (args.output / 'native_client' / 'src' / 'trusted' / 'service_runtime' / 'testdata'),
-        (args.output / 'testing' / 'libfuzzer' / 'fuzzers' / 'wasm_corpus'),
-        (args.output / 'third_party' / 'blink' / 'perf_tests'),
-        (args.output / 'third_party' / 'blink' / 'tools'),
-        (args.output / 'third_party' / 'blink' / 'web_tests'),
-        (args.output / 'third_party' / 'breakpad' / 'breakpad' / 'src' / 'processor' / 'testdata'),
-        (args.output / 'third_party' / 'catapult' / 'tracing' / 'test_data'),
-        (args.output / 'third_party' / 'dawn' / 'test'),
-        (args.output / 'third_party' / 'expat' / 'src' / 'testdata'),
-        (args.output / 'third_party' / 'harfbuzz-ng' / 'src' / 'test'),
-        (args.output / 'third_party' / 'hunspell' / 'tests'),
-        (args.output / 'third_party' / 'hunspell_dictionaries'),
-        (args.output / 'third_party' / 'jdk' / 'current'),
-        (args.output / 'third_party' / 'jdk' / 'extras'),
-        (args.output / 'third_party' / 'liblouis' / 'src' / 'tests' / 'braille-specs'),
-        (args.output / 'third_party' / 'llvm' / 'llvm' / 'test'),
-        (args.output / 'third_party' / 'ots' / 'src' / 'tests' / 'fonts'),
-        (args.output / 'third_party' / 'rust-src' / 'src' / 'gcc' / 'gcc' / 'testsuite'),
-        (args.output / 'third_party' / 'rust-src' / 'src' / 'llvm-project' / 'clang' / 'test'),
-        (args.output / 'third_party' / 'rust-src' / 'src' / 'llvm-project' / 'llvm' / 'test'),
-        (args.output / 'third_party' / 'screen-ai' / 'linux' / 'resources'),
-        (args.output / 'third_party' / 'sqlite' / 'src' / 'test'),
-        (args.output / 'third_party' / 'swiftshader' / 'tests' / 'regres'),
-        (args.output / 'third_party' / 'test_fonts' / 'test_fonts'),
-        (args.output / 'third_party' / 'xdg-utils' / 'tests'),
-        (args.output / 'tools' / 'perf' / 'testdata'),
-        (args.output / 'v8' / 'test'),
-    )
-    keep_files = (
-        (args.output / 'chrome' / 'test' / 'data' / 'webui' / 'i18n_process_css_test.html'),
-        (args.output / 'chrome' / 'test' / 'data' / 'webui' / 'mojo' / 'foobar.mojom'),
-        (args.output / 'chrome' / 'test' / 'data' / 'webui' / 'web_ui_test.mojom'),
-        (args.output / 'v8' / 'test' / 'torque' / 'test-torque.tq'),
-    )
-    keep_suffix = ('.gn', '.gni', '.grd', '.gyp', '.isolate', '.pydeps')
-    # Include Contingent Paths
-    for cpath in CONTINGENT_PATHS:
-        if args.sysroot and f'{args.sysroot}-sysroot' in cpath:
-            continue
-        remove_dirs += (args.output / Path(cpath), )
-    for remove_dir in remove_dirs:
-        for path in sorted(remove_dir.rglob('*'), key=lambda l: len(str(l)), reverse=True):
-            if path.is_file() and path not in keep_files and path.suffix not in keep_suffix:
-                try:
-                    path.unlink()
-                # read-only files can't be deleted on Windows
-                # so remove the flag and try again.
-                except PermissionError:
-                    path.chmod(S_IWRITE)
-                    path.unlink()
-            elif path.is_dir() and not any(path.iterdir()):
-                try:
-                    path.rmdir()
-                except PermissionError:
-                    path.chmod(S_IWRITE)
-                    path.rmdir()
     for path in sorted(args.output.rglob('*'), key=lambda l: len(str(l)), reverse=True):
         if not path.is_symlink() and '.git' not in path.parts:
             if path.is_file() and (('out' in path.parts and 'node_modules' not in path.parts)
diff --git a/utils/domain_substitution.py b/utils/domain_substitution.py
index 91d3034f62..0aa5f577e8 100755
--- a/utils/domain_substitution.py
+++ b/utils/domain_substitution.py
@@ -284,7 +284,7 @@ def revert_substitution(domainsub_cache, source_tree):
                                      dir=str(resolved_tree)) as tmp_extract_name:
         extract_path = Path(tmp_extract_name)
         get_logger().debug('Extracting domain substitution cache...')
-        extract_tar_file(domainsub_cache, extract_path, None, False, None)
+        extract_tar_file(domainsub_cache, extract_path, None)
 
         # Validate source tree file hashes match
         get_logger().debug('Validating substituted files in source tree...')
diff --git a/utils/downloads.py b/utils/downloads.py
index b3b2bf7269..f2b3b55cc1 100755
--- a/utils/downloads.py
+++ b/utils/downloads.py
@@ -332,13 +332,7 @@ def check_downloads(download_info, cache_dir, components, chunk_bytes=262144):
                 raise HashMismatchError(download_path)
 
 
-def unpack_downloads(download_info,
-                     cache_dir,
-                     components,
-                     output_dir,
-                     skip_unused,
-                     sysroot,
-                     extractors=None):
+def unpack_downloads(download_info, cache_dir, components, output_dir, extractors=None):
     """
     Unpack downloads in the downloads cache to output_dir. Assumes all downloads are retrieved.
 
@@ -346,8 +340,6 @@ def unpack_downloads(download_info,
     cache_dir is the pathlib.Path directory containing the download cache
     components is a list of component names to unpack, if not empty.
     output_dir is the pathlib.Path directory to unpack the downloads to.
-    skip_unused is a boolean that determines if unused paths should be extracted.
-    sysroot is a string containing a sysroot to unpack if any.
     extractors is a dictionary of PlatformEnum to a command or path to the
         extractor binary. Defaults to 'tar' for tar, and '_use_registry' for 7-Zip and WinRAR.
 
@@ -377,8 +369,6 @@ def unpack_downloads(download_info,
         extractor_func(archive_path=download_path,
                        output_dir=output_dir / Path(download_properties.output_path),
                        relative_to=strip_leading_dirs_path,
-                       skip_unused=skip_unused,
-                       sysroot=sysroot,
                        extractors=extractors)
 
 
@@ -409,6 +399,9 @@ def _retrieve_callback(args):
 
 
 def _unpack_callback(args):
+    if args.skip_unused or args.sysroot:
+        get_logger().warning('The --skip-unused and --sysroot flags for downloads.py are'
+                             ' no longer functional and will be removed in the future.')
     extractors = {
         ExtractorEnum.SEVENZIP: args.sevenz_path,
         ExtractorEnum.WINRAR: args.winrar_path,
@@ -416,8 +409,7 @@ def _unpack_callback(args):
     }
     info = DownloadInfo(args.ini)
     info.check_sections_exist(args.components)
-    unpack_downloads(info, args.cache, args.components, args.output, args.skip_unused, args.sysroot,
-                     extractors)
+    unpack_downloads(info, args.cache, args.components, args.output, extractors)
 
 
 def main():
@@ -479,13 +471,8 @@ def _default_extractor_path(name):
         help=('Command or path to WinRAR\'s "winrar" binary. If "_use_registry" is '
               'specified, determine the path from the registry. Default: %(default)s'))
     unpack_parser.add_argument('output', type=Path, help='The directory to unpack to.')
-    unpack_parser.add_argument('--skip-unused',
-                               action='store_true',
-                               help='Skip extraction of unused directories (CONTINGENT_PATHS).')
-    unpack_parser.add_argument('--sysroot',
-                               choices=('amd64', 'i386'),
-                               help=('Extracts the sysroot for the given architecture '
-                                     'when --skip-unused is set.'))
+    unpack_parser.add_argument('--skip-unused', action='store_true', help='Deprecated')
+    unpack_parser.add_argument('--sysroot', choices=('amd64', 'i386'), help='Deprecated')
     unpack_parser.set_defaults(callback=_unpack_callback)
 
     args = parser.parse_args()
diff --git a/utils/prune_binaries.py b/utils/prune_binaries.py
index 82e1d564db..d0e90f0dea 100755
--- a/utils/prune_binaries.py
+++ b/utils/prune_binaries.py
@@ -16,37 +16,97 @@
 from _common import ENCODING, get_logger, add_common_params
 
 # List of paths to prune if they exist, excluded from domain_substitution and pruning lists
-# These allow the lists to be compatible between cloned and tarball sources
+# These allow the lists to be compatible between cloned, tarball, and lite tarball sources
 CONTINGENT_PATHS = (
-    # Overridable git sources
-    'third_party/angle/third_party/VK-GL-CTS/src/',
     # CIPD sources
+    'buildtools/linux64/',
+    'third_party/checkstyle/cipd/',
     'third_party/dawn/third_party/ninja/',
     'third_party/dawn/tools/golang/',
     'third_party/devtools-frontend/src/third_party/esbuild/',
     'third_party/google-java-format/',
+    'third_party/libei/cipd/',
+    'third_party/ninja/',
     'third_party/openscreen/src/third_party/ninja/',
+    'third_party/siso/cipd/',
     'third_party/updater/chrome_linux64/',
+    'third_party/updater/chrome_linux64_sans_iid/cipd/',
     'third_party/updater/chromium_linux64/',
+    'third_party/updater/chromium_linux64_sans_iid/cipd/',
+    'tools/luci-go/',
+    'tools/resultdb/',
+    'tools/skia_goldctl/linux/',
     # GCS sources
-    'build/linux/debian_bullseye_amd64-sysroot/',
-    'build/linux/debian_bullseye_i386-sysroot/',
+    'buildtools/linux64-format/',
+    'third_party/blink/renderer/core/css/perftest_data/',
     'third_party/js_code_coverage/',
     'third_party/openscreen/src/buildtools/linux64/format/',
+    'third_party/opus/tests/resources/',
+    'third_party/subresource-filter-ruleset/data/',
+    'tools/perf/page_sets/maps_perf_test/dataset/',
+    # Sysroots(GCS), include all arches the clone script is able to obtain
+    'build/linux/debian_bullseye_amd64-sysroot/',
+    'build/linux/debian_bullseye_arm64-sysroot/',
+    'build/linux/debian_bullseye_armhf-sysroot/',
+    'build/linux/debian_bullseye_i386-sysroot/',
+    'build/linux/debian_bullseye_mips64el-sysroot/',
+    'build/linux/debian_bullseye_mipsel-sysroot/',
     # other
     'third_party/depot_tools/external_bin/',
+    # Match removals for the tarball:
+    # https://source.chromium.org/chromium/chromium/tools/build/+/main:recipes/recipe_modules/chromium/resources/export_tarball.py
+    # nonessential
+    'third_party/blink/tools/',
+    'third_party/blink/web_tests/',
+    'third_party/hunspell_dictionaries/',
+    'third_party/hunspell/tests/',
+    'third_party/jdk/current/',
+    'third_party/jdk/extras/',
+    'third_party/liblouis/src/tests/braille-specs/',
+    'third_party/xdg-utils/tests/',
+    'v8/test/',
+    # test
+    'base/tracing/test/data/',
+    'chrome/test/data/',
+    'components/test/data/',
+    'content/test/data/accessibility/',
+    'content/test/data/gpu/',
+    'content/test/data/media/',
+    'courgette/testdata/',
+    'extensions/test/data/',
+    'media/test/data/',
+    'native_client/src/trusted/service_runtime/testdata/',
+    'testing/libfuzzer/fuzzers/wasm_corpus/',
+    'third_party/blink/perf_tests/',
+    'third_party/breakpad/breakpad/src/processor/testdata/',
+    'third_party/catapult/tracing/test_data/',
+    'third_party/dawn/test/',
+    'third_party/expat/src/testdata/',
+    'third_party/harfbuzz-ng/src/test/',
+    'third_party/llvm/llvm/test/',
+    'third_party/ots/src/tests/fonts/',
+    'third_party/rust-src/src/gcc/gcc/testsuite/',
+    'third_party/rust-src/src/llvm-project/clang/test/',
+    'third_party/rust-src/src/llvm-project/llvm/test/',
+    'third_party/screen-ai/linux/resources/',
+    'third_party/sqlite/src/test/',
+    'third_party/swiftshader/tests/regres/',
+    'third_party/test_fonts/test_fonts/',
+    'tools/perf/testdata/',
     # lite tarball paths:
     # https://source.chromium.org/chromium/chromium/tools/build/+/main:recipes/recipes/publish_tarball.py
     'android_webview/',
     'buildtools/reclient/',
+    'chrome/android/',
     'chromecast/',
+    'ios/',
     'native_client/',
     'native_client_sdk/',
     'third_party/android_platform/',
+    'third_party/angle/third_party/VK-GL-CTS/',
     'third_party/apache-linux/',
-    'third_party/blink/manual_tests/',
-    'third_party/blink/perf_tests/',
     'third_party/catapult/third_party/vinn/third_party/v8/',
+    'third_party/closure_compiler/',
     'third_party/instrumented_libs/',
     'third_party/llvm/',
     'third_party/llvm-build/',
@@ -55,8 +115,20 @@
     'third_party/rust-src/',
     'third_party/rust-toolchain/',
     'third_party/webgl/',
+    'third_party/blink/manual_tests/',
+    'third_party/blink/perf_tests/',
+)
+
+# Files that should be excluded when pruning contingent paths.
+KEEP_FILES = (
+    'chrome/test/data/webui/i18n_process_css_test.html',
+    'chrome/test/data/webui/mojo/foobar.mojom',
+    'v8/test/torque/test-torque.tq',
 )
 
+# File suffixes that should be excluded when pruning contingent paths.
+KEEP_SUFFIXES = ('.gn', '.gni', '.grd', '.grdp', '.isolate', '.pydeps')
+
 
 def prune_files(unpack_root, prune_list):
     """
@@ -80,13 +152,17 @@ def prune_files(unpack_root, prune_list):
     return unremovable_files
 
 
-def _prune_path(path):
+def _prune_path(path, unpack_root=None):
     """
-    Delete all files and directories in path.
+    Delete files and directories in path.
 
     path is a pathlib.Path to the directory to be pruned
+    unpack_root is a pathlib.Path to the source tree
     """
     for node in sorted(path.rglob('*'), key=lambda l: len(str(l)), reverse=True):
+        if unpack_root is not None and (node.suffix in KEEP_SUFFIXES
+                                        or str(node.relative_to(unpack_root)) in KEEP_FILES):
+            continue
         if node.is_file() or node.is_symlink():
             try:
                 node.unlink()
@@ -120,7 +196,7 @@ def prune_dirs(unpack_root, keep_contingent_paths, sysroot):
                 get_logger().info('%s: %s', 'Exempt', cpath)
                 continue
             get_logger().info('%s: %s', 'Exists' if Path(cpath).exists() else 'Absent', cpath)
-            _prune_path(unpack_root / cpath)
+            _prune_path(unpack_root / cpath, unpack_root)
 
 
 def _callback(args):

From ec2117b299fdc372bbb81c5b8b29c67d179433db Mon Sep 17 00:00:00 2001
From: Daniel Richard G <skunk@iSKUNK.ORG>
Date: Mon, 17 Feb 2025 18:56:44 -0500
Subject: [PATCH 2/3] Switch to the upstream's lite source tarball

---
 .cirrus.yml   | 2 +-
 downloads.ini | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/.cirrus.yml b/.cirrus.yml
index 1c5bac5369..f7a24c5144 100644
--- a/.cirrus.yml
+++ b/.cirrus.yml
@@ -41,7 +41,7 @@ validate_with_source_task:
           ./utils/clone.py -o chromium_src
           rm -rf chromium_src/uc_staging
           find chromium_src -type d -name '.git' -exec rm -rf "{}" \; -prune
-          tar cf chromium_download_cache/chromium-$(cat chromium_version.txt).tar.xz \
+          tar cf chromium_download_cache/chromium-$(cat chromium_version.txt)-lite.tar.xz \
             --transform s/chromium_src/chromium-$(cat chromium_version.txt)/ chromium_src
         fi
     unpack_source_script: |
diff --git a/downloads.ini b/downloads.ini
index 13f58c487e..e61ab4d7d2 100644
--- a/downloads.ini
+++ b/downloads.ini
@@ -1,8 +1,8 @@
 # Official Chromium source code archive
 # NOTE: Substitutions beginning with underscore are provided by utils
 [chromium]
-url = https://commondatastorage.googleapis.com/chromium-browser-official/chromium-%(_chromium_version)s.tar.xz
-download_filename = chromium-%(_chromium_version)s.tar.xz
-hash_url = chromium|chromium-%(_chromium_version)s.tar.xz.hashes|https://commondatastorage.googleapis.com/chromium-browser-official/chromium-%(_chromium_version)s.tar.xz.hashes
+url = https://commondatastorage.googleapis.com/chromium-browser-official/chromium-%(_chromium_version)s-lite.tar.xz
+download_filename = chromium-%(_chromium_version)s-lite.tar.xz
+hash_url = chromium|chromium-%(_chromium_version)s-lite.tar.xz.hashes|https://commondatastorage.googleapis.com/chromium-browser-official/chromium-%(_chromium_version)s-lite.tar.xz.hashes
 output_path = ./
 strip_leading_dirs = chromium-%(_chromium_version)s

From 2d603520e2c1aaf8786eea60fde60311587235ca Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Sun, 23 Feb 2025 17:24:33 -0600
Subject: [PATCH 3/3] Update to Chromium 134.0.6998.35

---
 chromium_version.txt                          |    2 +-
 devutils/update_lists.py                      |    2 +-
 docs/flags.md                                 |    1 +
 domain_regex.list                             |    2 +-
 domain_substitution.list                      |  339 ++--
 .../disable-fetching-field-trials.patch       |    2 +-
 ...01-fix-building-without-safebrowsing.patch |  635 +-------
 ...03-disable-autofill-download-manager.patch |    2 +-
 .../0005-disable-default-extensions.patch     |    8 +-
 .../0015-disable-update-pings.patch           |    2 +-
 .../core/inox-patchset/0021-disable-rlz.patch |    2 +-
 ...refixes-to-possibly-evil-connections.patch |   24 +-
 ..._browsing-disable-incident-reporting.patch |    2 +-
 ...sable-reporting-of-safebrowsing-over.patch |    4 +-
 .../ungoogled-chromium/block-requests.patch   |    4 +-
 .../block-trk-and-subdomains.patch            |    4 +-
 .../disable-crash-reporter.patch              |    4 +-
 .../disable-fonts-googleapis-references.patch |   16 +-
 .../core/ungoogled-chromium/disable-gcm.patch |   13 +-
 .../disable-google-host-detection.patch       |   27 +-
 .../disable-mei-preload.patch                 |   18 +-
 .../disable-privacy-sandbox.patch             |  278 +++-
 .../disable-webrtc-log-uploader.patch         |    8 +-
 .../disable-webstore-urls.patch               |    6 +-
 .../extensions-manifestv2.patch               |   20 +-
 .../fix-building-with-prunned-binaries.patch  |  250 +--
 .../fix-building-without-safebrowsing.patch   | 1410 ++++-------------
 .../remove-unused-preferences-fields.patch    |  530 +++----
 ...e-google-search-engine-with-nosearch.patch |    8 +-
 .../toggle-translation-via-switch.patch       |    6 +-
 ...g-flags-client-rects-and-measuretext.patch |   46 +-
 ...ngerprinting-canvas-image-data-noise.patch |   10 +-
 .../flag-max-connections-per-host.patch       |   15 +-
 .../0006-modify-default-prefs.patch           |   12 +-
 .../add-flag-for-bookmark-bar-ntp.patch       |    4 +-
 .../add-flag-for-close-confirmation.patch     |   18 +-
 .../add-flag-for-custom-ntp.patch             |    6 +-
 .../add-flag-for-grab-handle.patch            |    2 +-
 ...g-for-omnibox-autocomplete-filtering.patch |    8 +-
 ...dd-flag-for-search-engine-collection.patch |   16 +-
 .../add-flag-for-tab-hover-cards.patch        |    8 +-
 .../add-flag-for-tabsearch-button.patch       |    6 +-
 ...dd-flag-to-change-http-accept-header.patch |    4 +-
 .../add-flag-to-clear-data-on-exit.patch      |    2 +-
 ...d-flag-to-close-window-with-last-tab.patch |    4 +-
 ...g-to-configure-extension-downloading.patch |   18 +-
 .../add-flag-to-convert-popups-to-tabs.patch  |    2 +-
 .../add-flag-to-hide-extensions-menu.patch    |    6 +-
 .../add-flag-to-hide-fullscreen-exit-ui.patch |    2 +-
 .../add-flag-to-hide-tab-close-buttons.patch  |    4 +-
 .../add-flag-to-reduce-system-info.patch      |    4 +-
 .../add-flag-to-show-avatar-button.patch      |    2 +-
 ...dd-flag-to-spoof-webgl-renderer-info.patch |   54 +
 .../add-flags-for-existing-switches.patch     |    2 +-
 ...add-flags-for-referrer-customization.patch |   16 +-
 .../add-ipv6-probing-option.patch             |    4 +-
 .../add-suggestions-url-field.patch           |   16 +-
 .../add-ungoogled-flag-headers.patch          |    2 +-
 .../default-webrtc-ip-handling-policy.patch   |    2 +-
 .../disable-capture-all-screens.patch         |    2 +-
 .../disable-download-quarantine.patch         |    2 +-
 .../disable-downloads-page-referrer-url.patch |    2 +-
 ...ble-default-prefetch-privacy-changes.patch |    2 +-
 .../enable-page-saving-on-more-pages.patch    |    6 +-
 .../enable-paste-and-go-new-tab-button.patch  |    6 +-
 .../ungoogled-chromium/first-run-page.patch   |    2 +-
 .../keep-expired-flags.patch                  |    4 +-
 .../prepopulated-search-engines.patch         |    2 +-
 .../remove-uneeded-ui.patch                   |   51 +-
 .../spoof-webgl-renderer-info.patch           |   24 -
 patches/series                                |    2 +-
 patches/upstream-fixes/glue_core_pools.patch  |    2 +-
 .../upstream-fixes/missing-dependencies.patch |    4 +-
 pruning.list                                  |   91 +-
 74 files changed, 1510 insertions(+), 2616 deletions(-)
 create mode 100644 patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
 delete mode 100644 patches/extra/ungoogled-chromium/spoof-webgl-renderer-info.patch

diff --git a/chromium_version.txt b/chromium_version.txt
index 119f297b97..b3128ed395 100644
--- a/chromium_version.txt
+++ b/chromium_version.txt
@@ -1 +1 @@
-133.0.6943.141
+134.0.6998.35
diff --git a/devutils/update_lists.py b/devutils/update_lists.py
index 9a2270a6e3..2038ddd619 100755
--- a/devutils/update_lists.py
+++ b/devutils/update_lists.py
@@ -109,7 +109,7 @@
     # Exclusions for Visual Studio Project generation with GN (PR #445)
     'tools/gn/',
     # Exclusions for files covered with other patches/unnecessary
-    'components/search_engines/prepopulated_engines.json',
+    'third_party/search_engines_data/resources/definitions/prepopulated_engines.json',
     'third_party/blink/renderer/core/dom/document.cc',
     # Exclusion to allow download of sysroots
     'build/linux/sysroot_scripts/sysroots.json',
diff --git a/docs/flags.md b/docs/flags.md
index 0f65fda28c..885d69e1fe 100644
--- a/docs/flags.md
+++ b/docs/flags.md
@@ -68,6 +68,7 @@ These are also available on the `chrome://flags` page.
   `ReducedSystemInfo` | Reduces the amount of system information obatainable through headers and javascript, also causes hardwareConcurrency to respond with two cores.
   `RemoveClientHints` | Removes client hints (information sent to servers about your system, similar to a user agent).
   `SetIpv6ProbeFalse` | Forces the result of the browser's IPv6 probing (i.e. IPv6 connectivity test) to be unsuccessful. This causes IPv4 addresses to be prioritized over IPv6 addresses. Without this flag, the probing result is set to be successful, which causes IPv6 to be used over IPv4 when possible.
+  `SpoofWebGLInfo` | Return generic values for WebGLDebugRendererInfo to remove a potential data leak while preventing potential website breakage.
 
 - ### Available only on desktop
 
diff --git a/domain_regex.list b/domain_regex.list
index dd4d52ac97..9af635e5e3 100644
--- a/domain_regex.list
+++ b/domain_regex.list
@@ -1,7 +1,7 @@
 fonts(\\*?)\.googleapis(\\*?)\.com#f0ntz\g<1>.9oo91e8p1\g<2>.qjz9zk
 google([A-Za-z\-]*?\\*?)\.com(?!mon)#9oo91e\g<1>.qjz9zk
 gstatic([A-Za-z\-]*?\\*?)\.com#95tat1c\g<1>.qjz9zk
-chrome([A-Za-z\-]*?\\*?)\.com#ch40me\g<1>.qjz9zk
+chrome([A-Za-z\-]*?\\*?)\.com(?!ponent)#ch40me\g<1>.qjz9zk
 chromium([A-Za-z\-]*?\\*?)\.org#ch40m1um\g<1>.qjz9zk
 mozilla([A-Za-z\-]*?\\*?)\.org#m0z111a\g<1>.qjz9zk
 facebook([A-Za-z\-]*?\\*?)\.com#f8c3b00k\g<1>.qjz9zk
diff --git a/domain_substitution.list b/domain_substitution.list
index c4eb15a3d1..013fef8791 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -32,14 +32,6 @@ ash/capture_mode/capture_mode_unittests.cc
 ash/child_accounts/parent_access_controller_impl_unittest.cc
 ash/clipboard/clipboard_history_controller_unittest.cc
 ash/clipboard/clipboard_history_menu_model_adapter_unittest.cc
-ash/components/arc/arc_util.h
-ash/components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc
-ash/components/arc/intent_helper/link_handler_model_unittest.cc
-ash/components/arc/net/arc_net_host_impl_unittest.cc
-ash/components/arc/net/passpoint_dialog_view.cc
-ash/components/arc/session/arc_upgrade_params.h
-ash/components/arc/session/serial_number_util_unittest.cc
-ash/components/arc/volume_mounter/arc_volume_mounter_bridge_unittest.cc
 ash/constants/ash_features.cc
 ash/constants/ash_switches.cc
 ash/constants/url_constants.cc
@@ -60,6 +52,7 @@ ash/glanceables/tasks/glanceables_tasks_view_unittest.cc
 ash/glanceables/tasks/test/glanceables_tasks_test_util.cc
 ash/login/ui/auth_icon_view.cc
 ash/login/ui/login_remove_account_dialog_unittest.cc
+ash/metrics/demo_session_metrics_recorder_unittest.cc
 ash/projector/projector_metadata_model.cc
 ash/public/cpp/android_intent_helper_unittest.cc
 ash/public/cpp/child_accounts/parent_access_controller.h
@@ -98,7 +91,6 @@ ash/resources/PRESUBMIT.py
 ash/scanner/scanner_action_handler.cc
 ash/scanner/scanner_action_handler_unittest.cc
 ash/scanner/scanner_controller_unittest.cc
-ash/scanner/scanner_session_unittest.cc
 ash/session/fullscreen_controller_unittest.cc
 ash/shelf/home_to_overview_nudge_controller_unittest.cc
 ash/shelf/launcher_nudge_controller_unittest.cc
@@ -130,7 +122,6 @@ ash/system/input_device_settings/input_device_settings_notification_controller.c
 ash/system/input_device_settings/input_device_settings_notification_controller_unittest.cc
 ash/system/mahi/mahi_content_source_button_unittest.cc
 ash/system/mahi/mahi_panel_view_unittest.cc
-ash/system/nearby_share/nearby_share_detailed_view_impl.cc
 ash/system/notification_center/message_center_test_util.cc
 ash/system/notification_center/notification_grouping_controller_unittest.cc
 ash/system/notification_center/views/ash_notification_view_unittest.cc
@@ -163,6 +154,7 @@ ash/wallpaper/wallpaper_image_downloader.cc
 ash/webui/boca_ui/boca_app_page_handler_unittest.cc
 ash/webui/boca_ui/boca_ui.cc
 ash/webui/boca_ui/provider/classroom_page_handler_impl.cc
+ash/webui/boca_ui/webview_auth_handler_unittest.cc
 ash/webui/camera_app_ui/camera_app_untrusted_ui.cc
 ash/webui/camera_app_ui/resources/js/externs/types.d.ts
 ash/webui/camera_app_ui/resources/js/geometry.ts
@@ -240,7 +232,6 @@ ash/webui/system_apps/public/system_web_app_type.h
 ash/wm/coral/coral_controller_unittest.cc
 ash/wm/desks/desks_unittests.cc
 ash/wm/desks/templates/admin_template_unittest.cc
-ash/wm/desks/templates/saved_desk_test_helper.cc
 ash/wm/desks/templates/saved_desk_unittest.cc
 ash/wm/overview/birch/birch_bar_unittest.cc
 ash/wm/overview/birch/birch_chip_context_menu_model.cc
@@ -253,8 +244,10 @@ base/allocator/partition_allocator/PRESUBMIT.py
 base/allocator/partition_allocator/src/partition_alloc/address_space_randomization.h
 base/allocator/partition_allocator/src/partition_alloc/build_config.h
 base/allocator/partition_allocator/src/partition_alloc/in_slot_metadata.h
+base/allocator/partition_allocator/src/partition_alloc/lightweight_quarantine.h
 base/allocator/partition_allocator/src/partition_alloc/oom.cc
 base/allocator/partition_allocator/src/partition_alloc/oom.h
+base/allocator/partition_allocator/src/partition_alloc/page_allocator_constants.h
 base/allocator/partition_allocator/src/partition_alloc/page_allocator_internals_win.h
 base/allocator/partition_allocator/src/partition_alloc/partition_alloc_base/compiler_specific.h
 base/allocator/partition_allocator/src/partition_alloc/partition_alloc_base/logging.h
@@ -369,6 +362,7 @@ base/third_party/nspr/prtime.cc
 base/third_party/nspr/prtime.h
 base/third_party/symbolize/symbolize.cc
 base/threading/platform_thread.h
+base/threading/platform_thread_android.cc
 base/threading/platform_thread_unittest.cc
 base/threading/platform_thread_win.cc
 base/threading/sequence_local_storage_slot_unittest.cc
@@ -411,10 +405,10 @@ build/android/fast_local_dev_server.py
 build/android/gradle/generate_gradle.py
 build/android/gyp/assert_static_initializers.py
 build/android/gyp/bundletool.py
-build/android/gyp/compile_java.py
 build/android/gyp/create_app_bundle.py
 build/android/gyp/create_java_binary_script.py
 build/android/gyp/dex.py
+build/android/gyp/errorprone.py
 build/android/gyp/lint.py
 build/android/gyp/merge_manifest.py
 build/android/gyp/util/build_utils.py
@@ -465,7 +459,6 @@ build/config/nacl/rules.gni
 build/config/ozone.gni
 build/config/rust.gni
 build/config/sanitizers/sanitizers.gni
-build/config/unsafe_buffers_paths.txt
 build/config/win/BUILD.gn
 build/config/win/control_flow_guard.gni
 build/fuchsia/PRESUBMIT.py
@@ -540,6 +533,7 @@ chrome/browser/about_flags.cc
 chrome/browser/accessibility/live_caption/live_caption_speech_recognition_host_browsertest.cc
 chrome/browser/ai/ai_data_keyed_service.cc
 chrome/browser/ai/ai_language_model.cc
+chrome/browser/ai/ai_language_model_unittest.cc
 chrome/browser/android/compositor/scene_layer/contextual_search_scene_layer.cc
 chrome/browser/android/cookies/cookies_fetcher_restore_util_browsertest.cc
 chrome/browser/android/customtabs/custom_tabs_browsertest.cc
@@ -664,7 +658,8 @@ chrome/browser/ash/attestation/tpm_challenge_key_subtle_unittest.cc
 chrome/browser/ash/bluetooth/bluetooth_log_controller_unittest.cc
 chrome/browser/ash/bluetooth/debug_logs_manager_unittest.cc
 chrome/browser/ash/boca/on_task/on_task_locked_session_navigation_throttle.cc
-chrome/browser/ash/boca/on_task/on_task_locked_session_window_tracker_unittest.cc
+chrome/browser/ash/boca/on_task/on_task_locked_session_navigation_throttle_browsertest.cc
+chrome/browser/ash/boca/on_task/on_task_locked_session_window_tracker_browsertest.cc
 chrome/browser/ash/boca/spotlight/spotlight_crd_manager_impl_unittest.cc
 chrome/browser/ash/bruschetta/bruschetta_download.cc
 chrome/browser/ash/calendar/calendar_client_impl.cc
@@ -678,10 +673,8 @@ chrome/browser/ash/child_accounts/family_user_device_metrics_browsertest.cc
 chrome/browser/ash/child_accounts/parent_access_code/parent_access_service_browsertest.cc
 chrome/browser/ash/child_accounts/time_limits/app_time_limit_utils_unittest.cc
 chrome/browser/ash/child_accounts/website_approval_notifier_unittest.cc
-chrome/browser/ash/crosapi/browser_util_unittest.cc
 chrome/browser/ash/crosapi/local_printer_ash_unittest.cc
 chrome/browser/ash/crosapi/one_drive_integration_service_ash_unittest.cc
-chrome/browser/ash/crosapi/search_controller_ash_unittest.cc
 chrome/browser/ash/crostini/crostini_installer.h
 chrome/browser/ash/crostini/crostini_simple_types.h
 chrome/browser/ash/crostini/crostini_util.h
@@ -694,6 +687,7 @@ chrome/browser/ash/drive/drivefs_test_support.cc
 chrome/browser/ash/drive/file_system_util_unittest.cc
 chrome/browser/ash/extensions/file_manager/system_notification_manager_unittest.cc
 chrome/browser/ash/extensions/users_private/users_private_apitest.cc
+chrome/browser/ash/file_manager/external_filesystem_apitest.cc
 chrome/browser/ash/file_manager/file_browser_handlers.h
 chrome/browser/ash/file_manager/file_manager_browsertest_base.cc
 chrome/browser/ash/file_manager/file_manager_policy_browsertest.cc
@@ -728,6 +722,7 @@ chrome/browser/ash/login/app_mode/test/kiosk_enterprise_browsertest.cc
 chrome/browser/ash/login/ash_hud_login_browsertest.cc
 chrome/browser/ash/login/demo_mode/demo_login_controller.cc
 chrome/browser/ash/login/demo_mode/demo_login_controller_unittest.cc
+chrome/browser/ash/login/demo_mode/demo_mode_idle_handler_unittest.cc
 chrome/browser/ash/login/device_family_link_allowed_policy_browsertest.cc
 chrome/browser/ash/login/encryption_migration_browsertest.cc
 chrome/browser/ash/login/existing_user_controller_browsertest.cc
@@ -828,7 +823,6 @@ chrome/browser/ash/scalable_iph/scalable_iph_browsertest.cc
 chrome/browser/ash/scalable_iph/scalable_iph_delegate_impl.cc
 chrome/browser/ash/scanner/scanner_keyed_service.cc
 chrome/browser/ash/scanning/chrome_scanning_app_delegate_unittest.cc
-chrome/browser/ash/scheduler_config/scheduler_configuration_manager.h
 chrome/browser/ash/settings/cros_settings_unittest.cc
 chrome/browser/ash/settings/device_settings_provider_unittest.cc
 chrome/browser/ash/smb_client/smb_service_helper.h
@@ -926,6 +920,7 @@ chrome/browser/content_settings/content_settings_policy_provider_unittest.cc
 chrome/browser/content_settings/content_settings_pref_provider_unittest.cc
 chrome/browser/content_settings/host_content_settings_map_unittest.cc
 chrome/browser/content_settings/sound_content_setting_observer_unittest.cc
+chrome/browser/contextual_cueing/contextual_cueing_helper_interactive_uitest.cc
 chrome/browser/custom_handlers/protocol_handler_registry_browsertest.cc
 chrome/browser/data_sharing/desktop/data_sharing_conversion_utils_unittest.cc
 chrome/browser/data_sharing/desktop/data_sharing_service_browsertest.cc
@@ -1021,6 +1016,7 @@ chrome/browser/extensions/api/enterprise_platform_keys/enterprise_platform_keys_
 chrome/browser/extensions/api/enterprise_platform_keys_private/enterprise_platform_keys_private_api_unittest.cc
 chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_apitest.cc
 chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_unittest.cc
+chrome/browser/extensions/api/experimental_ai_data/experimental_ai_data_api.cc
 chrome/browser/extensions/api/extension_action/browser_action_interactive_test.cc
 chrome/browser/extensions/api/extension_action/extension_action_apitest.cc
 chrome/browser/extensions/api/feedback_private/feedback_browsertest.cc
@@ -1127,8 +1123,15 @@ chrome/browser/flag-metadata.json
 chrome/browser/flag_descriptions.cc
 chrome/browser/flags/android/chrome_session_state.h
 chrome/browser/font_prewarmer_tab_helper_browsertest.cc
+chrome/browser/glic/border_view_interactive_uitest.cc
+chrome/browser/glic/glic_cookie_synchronizer.cc
 chrome/browser/glic/glic_cookie_synchronizer_unittest.cc
+chrome/browser/glic/glic_fre_page_handler.cc
+chrome/browser/glic/glic_page_handler.cc
+chrome/browser/glic/glic_policy_browsertest.cc
+chrome/browser/glic/glic_window_resize_animation_browsertest.cc
 chrome/browser/glic/guest_util_browsertest.cc
+chrome/browser/glic/interactive_glic_test.h
 chrome/browser/google/google_update_win.cc
 chrome/browser/guest_view/web_view/context_menu_content_type_web_view.cc
 chrome/browser/hid/chrome_hid_delegate_unittest.cc
@@ -1176,7 +1179,6 @@ chrome/browser/media/router/providers/cast/cast_media_route_provider_unittest.cc
 chrome/browser/media/router/providers/dial/dial_activity_manager_unittest.cc
 chrome/browser/media/router/providers/dial/dial_media_route_provider.cc
 chrome/browser/media/router/providers/dial/dial_media_route_provider_unittest.cc
-chrome/browser/media/router/providers/openscreen/discovery/open_screen_listener.h
 chrome/browser/media/webrtc/capture_policy_utils_browsertest.cc
 chrome/browser/media/webrtc/capture_policy_utils_unittest.cc
 chrome/browser/media/webrtc/display_media_access_handler_unittest.cc
@@ -1230,6 +1232,8 @@ chrome/browser/net/stub_resolver_config_reader_browsertest.cc
 chrome/browser/net/system_network_context_manager_browsertest.cc
 chrome/browser/new_tab_page/modules/file_suggestion/drive_service.cc
 chrome/browser/new_tab_page/modules/file_suggestion/drive_service_unittest.cc
+chrome/browser/new_tab_page/modules/file_suggestion/microsoft_files_page_handler.cc
+chrome/browser/new_tab_page/modules/file_suggestion/microsoft_files_page_handler_unittest.cc
 chrome/browser/new_tab_page/modules/new_tab_page_modules_interactive_uitest.cc
 chrome/browser/new_tab_page/modules/new_tab_page_modules_unittest.cc
 chrome/browser/new_tab_page/modules/v2/calendar/calendar_fake_data_helper.cc
@@ -1302,6 +1306,7 @@ chrome/browser/password_manager/android/password_store_android_backend_bridge_he
 chrome/browser/password_manager/android/password_store_backend_migration_decorator_unittest.cc
 chrome/browser/password_manager/android/unified_password_manager_proto_utils_unittest.cc
 chrome/browser/password_manager/chrome_password_manager_client_unittest.cc
+chrome/browser/password_manager/password_change_delegate_impl_unittest.cc
 chrome/browser/password_manager/password_manager_browsertest.cc
 chrome/browser/password_manager/password_manager_signin_intercept_test_helper.cc
 chrome/browser/password_manager/password_manager_util_win.cc
@@ -1361,7 +1366,6 @@ chrome/browser/preloading/prefetch/no_state_prefetch/prerender_nostate_prefetch_
 chrome/browser/preloading/prefetch/no_state_prefetch/tools/prerender_test_server/index.html
 chrome/browser/preloading/prefetch/no_state_prefetch/tools/prerender_test_server/prerender_test_server.py
 chrome/browser/preloading/prefetch/prefetch_service/chrome_prefetch_service_delegate.cc
-chrome/browser/preloading/prefetch/search_prefetch/search_prefetch_service_browsertest.cc
 chrome/browser/preloading/prefetch/zero_suggest_prefetch/zero_suggest_prefetch_tab_helper_browsertest.cc
 chrome/browser/preloading/preview/preview_navigation_throttle.h
 chrome/browser/preloading/preview/preview_zoom_controller.h
@@ -1370,6 +1374,7 @@ chrome/browser/privacy/secure_dns_bridge.cc
 chrome/browser/privacy_sandbox/privacy_sandbox_activity_types_service.h
 chrome/browser/privacy_sandbox/privacy_sandbox_service_impl.cc
 chrome/browser/privacy_sandbox/privacy_sandbox_service_impl_unittest.cc
+chrome/browser/privacy_sandbox/privacy_sandbox_utils_unittest.cc
 chrome/browser/private_network_access/private_network_device_chooser_controller_unittest.cc
 chrome/browser/process_singleton_posix.cc
 chrome/browser/process_singleton_posix_unittest.cc
@@ -1416,6 +1421,8 @@ chrome/browser/resources/accessibility/embedded_a11y_helper_manifest.json.jinja2
 chrome/browser/resources/accessibility/reading_mode_gdocs_helper_manifest.json.jinja2
 chrome/browser/resources/app_home/app_home_empty_page.html.ts
 chrome/browser/resources/app_settings/icons.html
+chrome/browser/resources/ash/print_preview/data/destination_store.ts
+chrome/browser/resources/ash/print_preview/ui/icons.html
 chrome/browser/resources/ash/settings/app_management_icons.html
 chrome/browser/resources/ash/settings/controls/v2/settings_row.ts
 chrome/browser/resources/ash/settings/crostini_page/crostini_disk_resize_dialog.html
@@ -1464,8 +1471,10 @@ chrome/browser/resources/chromeos/accessibility/select_to_speak/select_to_speak_
 chrome/browser/resources/chromeos/accessibility/select_to_speak/select_to_speak_unittest.js
 chrome/browser/resources/chromeos/accessibility/select_to_speak_manifest.json.jinja2
 chrome/browser/resources/chromeos/accessibility/strings/chromevox_strings.grdp
-chrome/browser/resources/chromeos/accessibility/switch_access/item_scan_manager_test.js
-chrome/browser/resources/chromeos/accessibility/switch_access/switch_access_predicate_test.js
+chrome/browser/resources/chromeos/accessibility/switch_access/mv2/item_scan_manager_test.js
+chrome/browser/resources/chromeos/accessibility/switch_access/mv2/switch_access_predicate_test.js
+chrome/browser/resources/chromeos/accessibility/switch_access/mv3/item_scan_manager_test.js
+chrome/browser/resources/chromeos/accessibility/switch_access/mv3/switch_access_predicate_test.js
 chrome/browser/resources/chromeos/accessibility/switch_access_manifest.json.jinja2
 chrome/browser/resources/chromeos/add_supervision/add_supervision_ui.ts
 chrome/browser/resources/chromeos/app_install/app_install_dialog.html
@@ -1507,6 +1516,8 @@ chrome/browser/resources/gaia_auth_host/authenticator.js
 chrome/browser/resources/gaia_auth_host/password_change_authenticator.js
 chrome/browser/resources/gaia_auth_host/saml_handler.js
 chrome/browser/resources/gaia_auth_host/saml_password_attributes.js
+chrome/browser/resources/glic/glic_api/glic_api.ts
+chrome/browser/resources/glic/glic_app_controller.ts
 chrome/browser/resources/hangout_services/manifest_v2.json
 chrome/browser/resources/hangout_services/manifest_v3.json
 chrome/browser/resources/inspect/inspect.html
@@ -1681,7 +1692,8 @@ chrome/browser/subresource_filter/subresource_filter_browsertest.cc
 chrome/browser/subresource_filter/subresource_filter_fenced_frame_browsertest.cc
 chrome/browser/supervised_user/android/java/res/drawable/ic_family_link.xml
 chrome/browser/supervised_user/android/supervised_user_settings_test_bridge.cc
-chrome/browser/supervised_user/linux_mac_windows/parent_access_view.cc
+chrome/browser/supervised_user/kids_profile_interactive_uitest.cc
+chrome/browser/supervised_user/linux_mac_windows/parent_access_dialog_web_contents_observer_browsertest.cc
 chrome/browser/supervised_user/supervised_user_browser_utils.cc
 chrome/browser/supervised_user/supervised_user_browser_utils_unittest.cc
 chrome/browser/supervised_user/supervised_user_google_auth_navigation_throttle.cc
@@ -1697,6 +1709,7 @@ chrome/browser/sync/test/integration/cookie_helper.cc
 chrome/browser/sync/test/integration/password_manager_sync_test.cc
 chrome/browser/sync/test/integration/password_sharing_invitation_helper.cc
 chrome/browser/sync/test/integration/passwords_helper.cc
+chrome/browser/sync/test/integration/select_type_and_migrate_local_data_items_when_active_sync_test.cc
 chrome/browser/sync/test/integration/single_client_bookmarks_sync_test.cc
 chrome/browser/sync/test/integration/single_client_common_sync_test.cc
 chrome/browser/sync/test/integration/single_client_custom_passphrase_sync_test.cc
@@ -1732,7 +1745,6 @@ chrome/browser/themes/theme_syncable_service.cc
 chrome/browser/translate/translate_manager_browsertest.cc
 chrome/browser/trusted_vault/trusted_vault_encryption_keys_tab_helper_browsertest.cc
 chrome/browser/ui/android/plus_addresses/all_plus_addresses_bottom_sheet_view_browsertest.cc
-chrome/browser/ui/android/plus_addresses/plus_address_creation_controller_android_unittest.cc
 chrome/browser/ui/android/strings/android_chrome_strings.grd
 chrome/browser/ui/ash/app_list/app_list_interactive_uitest.cc
 chrome/browser/ui/ash/arc/arc_open_url_delegate_impl_browsertest.cc
@@ -1781,7 +1793,6 @@ chrome/browser/ui/ash/wallpaper/wallpaper_controller_client_impl.cc
 chrome/browser/ui/ash/web_view/ash_web_view_impl_browsertest.cc
 chrome/browser/ui/ash/wm/coral_browsertest.cc
 chrome/browser/ui/autofill/address_editor_controller_unittest.cc
-chrome/browser/ui/autofill/autofill_bubble_signin_promo_controller_unittest.cc
 chrome/browser/ui/autofill/autofill_signin_promo_tab_helper_browsertest.cc
 chrome/browser/ui/autofill/delete_address_profile_dialog_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/offer_notification_bubble_controller_impl_unittest.cc
@@ -1845,10 +1856,10 @@ chrome/browser/ui/managed_ui_browsertest.cc
 chrome/browser/ui/media_router/media_router_ui_helper_unittest.cc
 chrome/browser/ui/media_router/media_router_ui_unittest.cc
 chrome/browser/ui/media_router/query_result_manager.h
+chrome/browser/ui/omnibox/omnibox_metrics_browsertest.cc
 chrome/browser/ui/omnibox/omnibox_pedal_implementations.cc
 chrome/browser/ui/omnibox/omnibox_view_browsertest.cc
 chrome/browser/ui/page_info/chrome_page_info_ui_delegate.cc
-chrome/browser/ui/passwords/account_storage_auth_helper_unittest.cc
 chrome/browser/ui/passwords/bubble_controllers/move_to_account_store_bubble_controller_unittest.cc
 chrome/browser/ui/passwords/display_account_info_unittest.cc
 chrome/browser/ui/passwords/manage_passwords_state_unittest.cc
@@ -1866,7 +1877,6 @@ chrome/browser/ui/search/ntp_user_data_logger_unittest.cc
 chrome/browser/ui/search/search_tab_helper.h
 chrome/browser/ui/search/third_party_ntp_browsertest.cc
 chrome/browser/ui/signin/cookie_clear_on_exit_migration_notice_browsertest.cc
-chrome/browser/ui/signin/signin_reauth_view_controller_browsertest.cc
 chrome/browser/ui/signin/signin_view_controller.cc
 chrome/browser/ui/signin/signin_view_controller_browsertest.cc
 chrome/browser/ui/signin/signin_view_controller_interactive_uitest.cc
@@ -1905,13 +1915,14 @@ chrome/browser/ui/views/autofill/popup/popup_row_factory_utils_browsertest.cc
 chrome/browser/ui/views/autofill/popup/popup_separator_view.h
 chrome/browser/ui/views/autofill/popup/popup_view_views_browsertest.cc
 chrome/browser/ui/views/autofill/popup/popup_view_views_unittest.cc
-chrome/browser/ui/views/bookmarks/bookmark_account_storage_move_dialog_browsertest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bar_view_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bubble_view.cc
 chrome/browser/ui/views/bookmarks/bookmark_bubble_view_browsertest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bubble_view_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_context_menu_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_menu_delegate_unittest.cc
+chrome/browser/ui/views/bookmarks/bookmark_test_utils.cc
+chrome/browser/ui/views/bookmarks/saved_tab_groups/shared_tab_group_interactive_uitest.cc
 chrome/browser/ui/views/borealis/borealis_disallowed_dialog.cc
 chrome/browser/ui/views/commerce/price_tracking_bubble_dialog_view_unittest.cc
 chrome/browser/ui/views/commerce/price_tracking_email_dialog_view.cc
@@ -1941,6 +1952,7 @@ chrome/browser/ui/views/omnibox/omnibox_view_views.h
 chrome/browser/ui/views/omnibox/omnibox_view_views_browsertest.cc
 chrome/browser/ui/views/omnibox/omnibox_view_views_unittest.cc
 chrome/browser/ui/views/overlay/video_overlay_window_views_unittest.cc
+chrome/browser/ui/views/page_action/pwa_install.cc
 chrome/browser/ui/views/page_info/about_this_site_side_panel_coordinator.cc
 chrome/browser/ui/views/page_info/about_this_site_side_panel_coordinator_browsertest.cc
 chrome/browser/ui/views/page_info/merchant_trust_side_panel_coordinator.cc
@@ -1950,6 +1962,7 @@ chrome/browser/ui/views/page_info/page_info_history_controller.h
 chrome/browser/ui/views/page_info/safety_tip_page_info_bubble_view_browsertest.cc
 chrome/browser/ui/views/passwords/password_bubble_browsertest.cc
 chrome/browser/ui/views/passwords/password_bubble_interactive_uitest.cc
+chrome/browser/ui/views/passwords/password_change/successful_password_change_view_unittest.cc
 chrome/browser/ui/views/passwords/password_dialog_view_browsertest.cc
 chrome/browser/ui/views/passwords/password_generation_popup_view_views_browsertest.cc
 chrome/browser/ui/views/payments/payment_method_view_controller_browsertest.cc
@@ -1976,7 +1989,9 @@ chrome/browser/ui/views/site_data/page_specific_site_data_dialog_unittest.cc
 chrome/browser/ui/views/sync/inline_login_ui_browsertest.cc
 chrome/browser/ui/views/tabs/collaboration_messaging_page_action_icon_view_interactive_uitest.cc
 chrome/browser/ui/views/tabs/recent_activity_bubble_dialog_view_browsertest.cc
+chrome/browser/ui/views/tabs/recent_activity_bubble_dialog_view_interactive_uitest.cc
 chrome/browser/ui/views/tabs/tab_hover_card_controller_interactive_uitest.cc
+chrome/browser/ui/views/tabs/tab_strip_action_container_browsertest.cc
 chrome/browser/ui/views/translate/translate_bubble_view_interactive_uitest.cc
 chrome/browser/ui/views/user_education/browser_user_education_service.cc
 chrome/browser/ui/views/user_education/low_usage_promo.cc
@@ -2074,7 +2089,6 @@ chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher.
 chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher_unittest.cc
 chrome/browser/ui/webui/signin/batch_upload_ui.cc
 chrome/browser/ui/webui/signin/signin_error_handler_unittest.cc
-chrome/browser/ui/webui/signin/signin_reauth_ui.h
 chrome/browser/ui/webui/signin/sync_confirmation_handler_unittest.cc
 chrome/browser/ui/webui/signin/sync_confirmation_ui.cc
 chrome/browser/ui/webui/signin/turn_sync_on_helper_browsertest.cc
@@ -2136,6 +2150,7 @@ chrome/browser/webauthn/challenge_url_fetcher.cc
 chrome/browser/webauthn/chrome_authenticator_request_delegate.cc
 chrome/browser/webauthn/chrome_authenticator_request_delegate_unittest.cc
 chrome/browser/webauthn/chrome_web_authentication_delegate.cc
+chrome/browser/webauthn/chrome_web_authentication_delegate_unittest.cc
 chrome/browser/webauthn/chrome_webauthn_autofill_interactive_uitest.cc
 chrome/browser/webauthn/enclave_authenticator_browsertest.cc
 chrome/browser/webauthn/enclave_manager.cc
@@ -2382,6 +2397,7 @@ chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_
 chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_browser_history_webdriver_test.py
 chrome/test/enterprise/e2e/policy/apps_shortcut/apps_shortcut.py
 chrome/test/enterprise/e2e/policy/bookmarkbar_enabled/bookmarkbar_enabled.py
+chrome/test/enterprise/e2e/policy/chrome_data_region_setting/chrome_data_region_setting.py
 chrome/test/enterprise/e2e/policy/cloud_management_enrollment_token/cloud_management_enrollment_token.py
 chrome/test/enterprise/e2e/policy/cloud_reporting_enabled/cloud_reporting_enabled.py
 chrome/test/enterprise/e2e/policy/default_search_provider/default_search_provider.py
@@ -2435,8 +2451,6 @@ chrome/updater/certificate_tag_unittest.cc
 chrome/updater/crash_reporter.cc
 chrome/updater/enterprise/win/google/build_group_policy_template_unittest.py
 chrome/updater/enterprise/win/google/public_apps.py
-chrome/updater/external_constants_builder_unittest.cc
-chrome/updater/external_constants_override_unittest.cc
 chrome/updater/fix_licenses.py
 chrome/updater/mac/launcher_main.c
 chrome/updater/mac/setup/ks_tickets.mm
@@ -2466,6 +2480,7 @@ chrome/utility/importer/nss_decryptor.cc
 chrome/utility/importer/nss_decryptor_system_nss.cc
 chrome/utility/importer/nss_decryptor_win.h
 chrome/version.gni
+chrome/windows_services/service_program/crash_reporting.cc
 chrome/windows_services/service_program/service.cc
 chromeos/BUILD.gn
 chromeos/ash/components/attestation/attestation_flow_adaptive_unittest.cc
@@ -2542,11 +2557,20 @@ chromeos/ash/components/quick_start/quick_start_requests_unittest.cc
 chromeos/ash/components/report/device_metrics/use_case/use_case.cc
 chromeos/ash/components/report/utils/network_utils.cc
 chromeos/ash/components/report/utils/network_utils_unittest.cc
+chromeos/ash/components/scheduler_config/scheduler_configuration_manager.h
 chromeos/ash/components/specialized_features/feature_access_checker_unittest.cc
 chromeos/ash/components/string_matching/tokenized_string_unittest.cc
 chromeos/ash/components/timezone/timezone_request.cc
 chromeos/ash/components/tpm/tpm_token_info_getter_unittest.cc
 chromeos/ash/components/trial_group/trial_group_checker.cc
+chromeos/ash/experiences/arc/arc_util.h
+chromeos/ash/experiences/arc/intent_helper/arc_intent_helper_bridge_unittest.cc
+chromeos/ash/experiences/arc/intent_helper/link_handler_model_unittest.cc
+chromeos/ash/experiences/arc/net/arc_net_host_impl_unittest.cc
+chromeos/ash/experiences/arc/net/passpoint_dialog_view.cc
+chromeos/ash/experiences/arc/session/arc_upgrade_params.h
+chromeos/ash/experiences/arc/session/serial_number_util_unittest.cc
+chromeos/ash/experiences/arc/volume_mounter/arc_volume_mounter_bridge_unittest.cc
 chromeos/ash/services/assistant/assistant_manager_service_impl.cc
 chromeos/ash/services/assistant/service.cc
 chromeos/ash/services/assistant/service_unittest.cc
@@ -2569,7 +2593,6 @@ chromeos/ash/services/quick_pair/public/cpp/account_key_filter.h
 chromeos/ash/services/quick_pair/public/cpp/battery_notification.h
 chromeos/ash/services/quick_pair/public/cpp/not_discoverable_advertisement.h
 chromeos/chromeos_strings.grd
-chromeos/components/quick_answers/public/cpp/quick_answers_state_unittest.cc
 chromeos/components/quick_answers/translation_result_loader.cc
 chromeos/components/quick_answers/translation_result_loader_unittest.cc
 chromeos/components/quick_answers/utils/spell_check_language.cc
@@ -2630,7 +2653,6 @@ components/autofill/core/browser/metrics/autofill_metrics_unittest.cc
 components/autofill/core/browser/metrics/form_interactions_ukm_logger.cc
 components/autofill/core/browser/metrics/form_interactions_ukm_logger_unittest.cc
 components/autofill/core/browser/metrics/prediction_quality_metrics_unittest.cc
-components/autofill/core/browser/metrics/profile_deduplication_metrics_unittest.cc
 components/autofill/core/browser/metrics/quality_metrics_unittest.cc
 components/autofill/core/browser/ml_model/field_classification_model_handler.cc
 components/autofill/core/browser/payments/autofill_offer_manager_unittest.cc
@@ -2701,6 +2723,7 @@ components/cloud_devices/common/cloud_device_description.h
 components/cloud_devices/common/printer_description.h
 components/collaboration/internal/android/messaging/messaging_backend_service_bridge_unittest.cc
 components/collaboration/internal/messaging/messaging_backend_service_impl_unittest.cc
+components/collaboration_strings.grdp
 components/commerce/core/account_checker.cc
 components/commerce/core/account_checker_unittest.cc
 components/commerce/core/commerce_constants.h
@@ -2787,6 +2810,7 @@ components/drive/service/drive_service_interface.h
 components/drive/service/fake_drive_service.cc
 components/embedder_support/android/BUILD.gn
 components/endpoint_fetcher/endpoint_fetcher_unittest.cc
+components/enterprise/connectors/core/reporting_utils_unittest.cc
 components/enterprise/connectors/core/service_provider_config.cc
 components/enterprise/connectors/core/service_provider_config_unittest.cc
 components/enterprise/data_controls/core/browser/conditions/attributes_condition_unittest.cc
@@ -2828,6 +2852,7 @@ components/feedback/redaction_tool/redaction_tool_unittest.cc
 components/feedback/redaction_tool/url_parse.h
 components/fingerprinting_protection_filter/browser/fingerprinting_protection_web_contents_helper.cc
 components/fingerprinting_protection_filter/common/fingerprinting_protection_breakage_exception_unittest.cc
+components/fingerprinting_protection_filter/common/fingerprinting_protection_filter_constants.h
 components/fingerprinting_protection_filter/interventions/browser/interventions_web_contents_helper_unittest.cc
 components/flags_ui/flags_test_helpers.cc
 components/flags_ui/resources/app.html.ts
@@ -2896,6 +2921,7 @@ components/invalidation/impl/fcm_invalidation_service_unittest.cc
 components/invalidation/impl/per_user_topic_subscription_manager.cc
 components/invalidation/impl/per_user_topic_subscription_manager_unittest.cc
 components/ip_protection/common/ip_protection_config_http.cc
+components/ip_protection/common/ip_protection_issuer_token_direct_fetcher.cc
 components/ip_protection/common/ip_protection_proxy_config_direct_fetcher.cc
 components/ip_protection/common/ip_protection_token_manager_impl.cc
 components/ip_protection/common/masked_domain_list_manager_unittest.cc
@@ -2933,7 +2959,9 @@ components/media_router/common/providers/cast/cast_media_source_unittest.cc
 components/media_router/common/providers/cast/certificate/net_trust_store.cc
 components/media_router/common/providers/cast/channel/BUILD.gn
 components/media_router/common/providers/cast/channel/enum_table.h
+components/metrics/content/dwa_web_contents_observer_unittest.cc
 components/metrics/debug/app.ts
+components/metrics/dwa/dwa_entry_builder_unittest.cc
 components/metrics/metrics_state_manager.h
 components/metrics/metrics_state_manager_unittest.cc
 components/metrics/net/net_metrics_log_uploader.cc
@@ -2973,8 +3001,8 @@ components/omnibox/browser/autocomplete_controller.h
 components/omnibox/browser/autocomplete_controller_metrics_unittest.cc
 components/omnibox/browser/autocomplete_controller_unittest.cc
 components/omnibox/browser/autocomplete_input.cc
-components/omnibox/browser/autocomplete_match.cc
 components/omnibox/browser/autocomplete_match.h
+components/omnibox/browser/autocomplete_match_test_util.cc
 components/omnibox/browser/autocomplete_match_type_unittest.cc
 components/omnibox/browser/autocomplete_match_unittest.cc
 components/omnibox/browser/autocomplete_result.cc
@@ -2987,7 +3015,8 @@ components/omnibox/browser/document_provider.cc
 components/omnibox/browser/document_provider_unittest.cc
 components/omnibox/browser/document_suggestions_service.cc
 components/omnibox/browser/document_suggestions_service_unittest.cc
-components/omnibox/browser/enterprise_search_aggregator_provider.cc
+components/omnibox/browser/enterprise_search_aggregator_suggestions_service.cc
+components/omnibox/browser/enterprise_search_aggregator_suggestions_service_unittest.cc
 components/omnibox/browser/fake_autocomplete_provider_client.cc
 components/omnibox/browser/featured_search_provider_unittest.cc
 components/omnibox/browser/history_match.h
@@ -3028,7 +3057,6 @@ components/omnibox/browser/titled_url_match_utils_unittest.cc
 components/omnibox/browser/zero_suggest_cache_service_unittest.cc
 components/omnibox/browser/zero_suggest_provider_unittest.cc
 components/omnibox/browser/zero_suggest_verbatim_match_provider_unittest.cc
-components/omnibox/common/omnibox_feature_configs.h
 components/omnibox/resources/omnibox_pedal_synonyms.grd
 components/omnibox_pedal_ui_strings.grdp
 components/omnibox_strings.grdp
@@ -3333,6 +3361,7 @@ components/policy/test/data/pref_mapping/ThirdPartyStoragePartitioningBlockedFor
 components/policy/test/data/pref_mapping/URLAllowlist.json
 components/policy/test/data/pref_mapping/URLBlocklist.json
 components/policy/test/data/pref_mapping/VideoCaptureAllowedUrls.json
+components/policy/test/data/pref_mapping/WebAuthenticationRemoteDesktopAllowedOrigins.json
 components/policy/test/data/pref_mapping/WebHidAllowAllDevicesForUrls.json
 components/policy/test/data/pref_mapping/WebHidAllowDevicesForUrls.json
 components/policy/test/data/pref_mapping/WebHidAllowDevicesWithHidUsagesForUrls.json
@@ -3486,7 +3515,6 @@ components/saved_tab_groups/internal/shared_tab_group_data_sync_bridge_unittest.
 components/saved_tab_groups/internal/tab_group_sync_bridge_mediator_unittest.cc
 components/saved_tab_groups/internal/tab_group_sync_service_unittest.cc
 components/saved_tab_groups/public/saved_tab_group_unittest.cc
-components/saved_tab_groups/test_support/fake_tab_group_sync_service.cc
 components/saved_tab_groups/test_support/saved_tab_group_test_utils.cc
 components/search_engines/PRESUBMIT.py
 components/search_engines/android/template_url_service_android_unittest.cc
@@ -3564,6 +3592,7 @@ components/sharing_message/vapid_key_manager.h
 components/sharing_message/web_push/json_web_token_util_unittest.cc
 components/sharing_message/web_push/web_push_sender.cc
 components/sharing_message/web_push/web_push_sender_unittest.cc
+components/signin/core/browser/account_management_type_metrics_recorder_unittest.cc
 components/signin/core/browser/account_reconcilor_unittest.cc
 components/signin/core/browser/chrome_connected_header_helper.cc
 components/signin/core/browser/dice_account_reconcilor_delegate_unittest.cc
@@ -3631,6 +3660,7 @@ components/supervised_user/core/browser/supervised_user_settings_service_unittes
 components/supervised_user/core/browser/supervised_user_url_filter.cc
 components/supervised_user/core/browser/supervised_user_url_filter.h
 components/supervised_user/core/browser/supervised_user_url_filter_unittest.cc
+components/supervised_user/core/browser/supervised_user_utils.cc
 components/supervised_user/core/common/supervised_user_constants.cc
 components/supervised_user/core/common/supervised_user_constants.h
 components/supervised_user/test_support/account_repository.h
@@ -3655,7 +3685,9 @@ components/sync/test/mock_connection_manager.cc
 components/sync_bookmarks/PRESUBMIT.py
 components/sync_preferences/pref_service_syncable_unittest.cc
 components/sync_sessions/PRESUBMIT.py
+components/sync_sessions/session_store_unittest.cc
 components/sync_sessions/session_sync_bridge.h
+components/sync_sessions/synced_session_unittest.cc
 components/system_cpu/cpu_probe_win.cc
 components/tpcd/enterprise_reporting/enterprise_reporting_tab_helper_unittest.cc
 components/tpcd/metadata/browser/parser_unittest.cc
@@ -3713,7 +3745,6 @@ components/user_manager/account_id_util_unittest.cc
 components/user_manager/known_user_unittest.cc
 components/user_manager/user.h
 components/user_manager/user_type.h
-components/user_notes/browser/user_note_utils_unittest.cc
 components/variations/entropy_provider.h
 components/variations/net/variations_http_headers.cc
 components/variations/net/variations_http_headers_unittest.cc
@@ -3764,7 +3795,6 @@ content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm
 content/browser/accessibility/accessibility_action_browsertest.cc
 content/browser/accessibility/accessibility_auralinux_browsertest.cc
 content/browser/accessibility/browser_accessibility_manager_android.cc
-content/browser/accessibility/dump_accessibility_tree_browsertest.cc
 content/browser/accessibility/hit_testing_browsertest.cc
 content/browser/android/nfc_host_unittest.cc
 content/browser/attribution_reporting/attribution_os_level_manager_android.cc
@@ -3785,6 +3815,7 @@ content/browser/browsing_data/browsing_data_filter_builder_impl_unittest.cc
 content/browser/browsing_topics/browsing_topics_url_loader_unittest.cc
 content/browser/buckets/bucket_manager_host_unittest.cc
 content/browser/cache_storage/cache_storage_context_unittest.cc
+content/browser/child_process_sandbox_support_win_unittest.cc
 content/browser/child_process_security_policy_unittest.cc
 content/browser/client_hints/client_hints.cc
 content/browser/content_security_policy_browsertest.cc
@@ -3861,6 +3892,7 @@ content/browser/preloading/prefetch/prefetch_match_resolver.cc
 content/browser/preloading/prefetch/prefetch_service.cc
 content/browser/preloading/prefetch/prefetch_status.h
 content/browser/preloading/prefetch/prefetch_url_loader_interceptor.cc
+content/browser/preloading/preloading_decider.cc
 content/browser/preloading/preloading_decider_unittest.cc
 content/browser/preloading/prerender/prerender_browsertest.cc
 content/browser/preloading/prerender/prerender_final_status.h
@@ -3875,6 +3907,7 @@ content/browser/renderer_host/clipboard_host_impl_unittest.cc
 content/browser/renderer_host/direct_manipulation_test_helper_win.cc
 content/browser/renderer_host/dwrite_font_proxy_impl_win.cc
 content/browser/renderer_host/frame_tree_unittest.cc
+content/browser/renderer_host/input/input_transfer_handler_android.h
 content/browser/renderer_host/legacy_render_widget_host_win.cc
 content/browser/renderer_host/media/media_devices_dispatcher_host_unittest.cc
 content/browser/renderer_host/mixed_content_checker_unittest.cc
@@ -3905,6 +3938,7 @@ content/browser/resources/PRESUBMIT.py
 content/browser/resources/gpu/info_view.ts
 content/browser/resources/traces_internals/icons.html
 content/browser/sandbox_ipc_linux.h
+content/browser/sandbox_support_win_impl.cc
 content/browser/screen_orientation/screen_orientation_provider_unittest.cc
 content/browser/security/dip/document_isolation_policy_browsertest.cc
 content/browser/serial/serial_unittest.cc
@@ -4073,6 +4107,8 @@ content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_15.json
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_16.json
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_17.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_18.json
+content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_19.json
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_2.json
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_3.json
 content/test/data/private_aggregation/aggregatable_report_goldens/latest/report_4.json
@@ -4161,6 +4197,7 @@ docs/website/scripts/fetch_lobs.py
 docs/website/scripts/fetch_node_modules.py
 docs/website/site/Home/google-ssl.xml
 docs/website/site/administrators/err_ssl_weak_server_ephemeral_dh_key/redirect-dh.xml
+docs/website/site/chromium-os/developer-library/reference/upstart-cookbook/index.html
 docs/website/site/developers/design-documents/accessibility/tracker/CSUN_Accessibility_in_the_Cloud.txt
 docs/website/site/developers/design-documents/accessibility/tracker/CSUN_Improving_Access_To_Web_Platforms_Content_and_Applications.txt
 docs/website/site/sts/redirect.xml
@@ -4313,7 +4350,6 @@ google_apis/gaia/oauth2_api_call_flow_unittest.cc
 google_apis/gaia/oauth_multilogin_result_unittest.cc
 google_apis/gcm/base/mcs_util.cc
 google_apis/gcm/engine/account_mapping_unittest.cc
-google_apis/gcm/engine/checkin_request_unittest.cc
 google_apis/gcm/engine/gcm_store_impl_unittest.cc
 google_apis/gcm/engine/gservices_settings.cc
 google_apis/gcm/engine/gservices_settings_unittest.cc
@@ -4434,11 +4470,11 @@ media/capture/video/win/video_capture_device_mf_win.cc
 media/capture/video/win/video_capture_device_utils_win.cc
 media/capture/video/win/video_capture_device_utils_win.h
 media/capture/video/win/video_capture_device_win.cc
-media/cast/encoding/video_encoder_unittest.cc
+media/cast/encoding/media_video_encoder_wrapper_unittest.cc
 media/cast/encoding/vpx_encoder.cc
+media/cast/encoding/vpx_quantizer_parser_unittest.cc
 media/cast/sender/openscreen_frame_sender.h
 media/cast/sender/video_bitrate_suggester.h
-media/cast/sender/video_sender_unittest.cc
 media/cdm/win/media_foundation_cdm.cc
 media/cdm/win/test/media_foundation_clear_key_decryptor.cc
 media/cdm/win/test/mock_media_protection_pmp_server.h
@@ -4482,6 +4518,7 @@ media/gpu/vaapi/vaapi_jpeg_decoder_unittest.cc
 media/gpu/vaapi/vaapi_unittest.cc
 media/gpu/vaapi/vaapi_webp_decoder_unittest.cc
 media/gpu/windows/d3d11_video_decoder_wrapper.cc
+media/gpu/windows/d3d12_copy_command_list_wrapper.cc
 media/gpu/windows/media_foundation_video_encode_accelerator_win.cc
 media/gpu/windows/mf_audio_encoder.cc
 media/gpu/windows/mf_audio_encoder.h
@@ -4644,9 +4681,11 @@ net/http/http_server_properties_unittest.cc
 net/http/http_stream_factory_job_controller_unittest.cc
 net/http/http_stream_factory_unittest.cc
 net/http/http_stream_parser.cc
+net/http/http_stream_pool_attempt_manager.cc
 net/http/http_transaction_test_util.cc
 net/http/http_util.cc
 net/http/http_util_unittest.cc
+net/http/no_vary_search_cache.h
 net/http/transport_security_state.cc
 net/http/transport_security_state.h
 net/http/transport_security_state_unittest.cc
@@ -4935,13 +4974,15 @@ services/network/orb/orb_impl_unittest.cc
 services/network/orb/orb_sniffers.cc
 services/network/proxy_resolver_factory_mojo_unittest.cc
 services/network/public/cpp/content_security_policy/content_security_policy_unittest.cc
+services/network/public/cpp/cors/cors_error_status.h
 services/network/public/cpp/cors/cors_unittest.cc
 services/network/public/cpp/cors/origin_access_entry_unittest.cc
 services/network/public/cpp/cors/origin_access_list_unittest.cc
-services/network/public/cpp/cross_origin_resource_policy.cc
 services/network/public/cpp/is_potentially_trustworthy.cc
 services/network/public/cpp/network_switches.cc
+services/network/public/cpp/resource_request.h
 services/network/public/cpp/transferable_socket.cc
+services/network/public/mojom/permissions_policy/PRESUBMIT.py
 services/network/sct_auditing/sct_auditing_reporter.cc
 services/network/trust_tokens/trust_token_client_data_canonicalization.h
 services/network/trust_tokens/trust_token_key_commitment_parser.h
@@ -4988,7 +5029,6 @@ skia/ext/SkMemory_new_handler.cpp
 skia/ext/skia_utils_ios_unittest.mm
 skia/rusty_png_feature.h
 sql/database.cc
-sql/database.h
 storage/browser/blob/blob_reader.h
 storage/browser/file_system/external_mount_points_unittest.cc
 storage/browser/file_system/file_system_backend.h
@@ -5233,6 +5273,7 @@ third_party/angle/scripts/update_extension_data.py
 third_party/angle/src/common/aligned_memory.cpp
 third_party/angle/src/common/android_util.cpp
 third_party/angle/src/common/android_util.h
+third_party/angle/src/common/apple_platform_utils.mm
 third_party/angle/src/common/linux/dma_buf_utils.h
 third_party/angle/src/common/mathutil.h
 third_party/angle/src/common/system_utils_posix.cpp
@@ -5311,9 +5352,9 @@ third_party/angle/src/tests/restricted_traces/sync_restricted_traces_to_cipd.py
 third_party/angle/src/tests/run_perf_tests.py
 third_party/angle/src/tests/test_utils/runner/TestSuite.cpp
 third_party/angle/src/tests/test_utils/runner/android/java/AndroidManifest.xml.jinja2
+third_party/angle/src/tests/test_utils/runner/android/java/StandaloneBenchmarkAndroidManifest.xml.jinja2
 third_party/angle/src/third_party/volk/volk.h
 third_party/angle/third_party/BUILD.gn
-third_party/angle/third_party/glmark2/src/src/include/dirent.h
 third_party/angle/third_party/glmark2/src/src/native-state-dispmanx.cpp
 third_party/angle/third_party/glmark2/src/src/native-state-dispmanx.h
 third_party/angle/third_party/glmark2/src/src/native-state-wayland.cpp
@@ -5343,6 +5384,7 @@ third_party/blink/common/page_state/page_state_serialization.cc
 third_party/blink/common/page_state/page_state_serialization_unittest.cc
 third_party/blink/common/permissions_policy/origin_with_possible_wildcards_unittest.cc
 third_party/blink/common/shared_storage/module_script_downloader.cc
+third_party/blink/common/webid/federated_auth_request_mojom_traits_unittest.cc
 third_party/blink/public/common/custom_handlers/protocol_handler_utils.h
 third_party/blink/public/common/frame/delegated_capability_request_token.h
 third_party/blink/public/common/frame/user_activation_state.h
@@ -5409,6 +5451,7 @@ third_party/blink/renderer/core/dom/abort_controller.h
 third_party/blink/renderer/core/dom/attr.idl
 third_party/blink/renderer/core/dom/cdata_section.idl
 third_party/blink/renderer/core/dom/child_node.idl
+third_party/blink/renderer/core/dom/child_node_part.cc
 third_party/blink/renderer/core/dom/class_collection.cc
 third_party/blink/renderer/core/dom/class_collection.h
 third_party/blink/renderer/core/dom/comment.idl
@@ -5455,7 +5498,6 @@ third_party/blink/renderer/core/editing/dom_selection.cc
 third_party/blink/renderer/core/editing/editing_behavior.cc
 third_party/blink/renderer/core/editing/editing_utilities.cc
 third_party/blink/renderer/core/editing/editing_utilities_test.cc
-third_party/blink/renderer/core/editing/finder/find_buffer.cc
 third_party/blink/renderer/core/editing/finder/find_buffer.h
 third_party/blink/renderer/core/editing/finder/find_buffer_test.cc
 third_party/blink/renderer/core/editing/serializers/serialization.cc
@@ -5607,8 +5649,10 @@ third_party/blink/renderer/core/layout/layout_text.cc
 third_party/blink/renderer/core/layout/layout_theme_default.h
 third_party/blink/renderer/core/layout/layout_view.cc
 third_party/blink/renderer/core/layout/layout_view.h
+third_party/blink/renderer/core/layout/layout_view_test.cc
 third_party/blink/renderer/core/layout/length_utils.cc
 third_party/blink/renderer/core/layout/map_coordinates_test.cc
+third_party/blink/renderer/core/layout/physical_box_fragment.cc
 third_party/blink/renderer/core/layout/scroll_anchor_test.cc
 third_party/blink/renderer/core/layout/svg/layout_svg_path.cc
 third_party/blink/renderer/core/layout/svg/layout_svg_shape.cc
@@ -5632,6 +5676,7 @@ third_party/blink/renderer/core/loader/resource/xsl_style_sheet_resource.cc
 third_party/blink/renderer/core/loader/resource/xsl_style_sheet_resource.h
 third_party/blink/renderer/core/loader/subresource_filter.cc
 third_party/blink/renderer/core/loader/web_bundle/script_web_bundle.cc
+third_party/blink/renderer/core/page/drag_controller_test.cc
 third_party/blink/renderer/core/page/print_context_test.cc
 third_party/blink/renderer/core/page/scrolling/element_fragment_anchor_test.cc
 third_party/blink/renderer/core/page/validation_message_client_impl.cc
@@ -5912,7 +5957,7 @@ third_party/boringssl/src/crypto/fipsmodule/aes/internal.h
 third_party/boringssl/src/crypto/internal.h
 third_party/boringssl/src/crypto/pkcs7/pkcs7_test.cc
 third_party/boringssl/src/crypto/pkcs8/pkcs8_x509.cc
-third_party/boringssl/src/crypto/rand_extra/windows.cc
+third_party/boringssl/src/crypto/rand/windows.cc
 third_party/boringssl/src/crypto/test/abi_test.h
 third_party/boringssl/src/crypto/test/file_util.cc
 third_party/boringssl/src/crypto/thread_win.cc
@@ -5937,7 +5982,6 @@ third_party/boringssl/src/third_party/googletest/googletest/test/gtest_list_outp
 third_party/boringssl/src/third_party/googletest/googletest/test/gtest_skip_test.cc
 third_party/boringssl/src/tool/fd.cc
 third_party/boringssl/src/tool/internal.h
-third_party/boringssl/src/util/bot/update_clang.py
 third_party/breakpad/BUILD.gn
 third_party/breakpad/breakpad/default.xml
 third_party/breakpad/breakpad/src/client/linux/minidump_writer/minidump_writer.cc
@@ -7186,9 +7230,11 @@ third_party/cros_system_api/dbus/bluetooth/dbus-constants.h
 third_party/cros_system_api/dbus/shill/dbus-constants.h
 third_party/crossbench/chrome-extension-replay/devtools-recorder/crossbench.html
 third_party/crossbench/crossbench/action_runner/action/enums.py
+third_party/crossbench/crossbench/action_runner/default_bond_action_runner.py
 third_party/crossbench/crossbench/benchmarks/loading/config/login/google.py
 third_party/crossbench/crossbench/benchmarks/loading/loading_benchmark.py
 third_party/crossbench/crossbench/benchmarks/loading/page/live.py
+third_party/crossbench/crossbench/bond/bond.py
 third_party/crossbench/crossbench/browsers/chrome/downloader.py
 third_party/crossbench/crossbench/browsers/chromium/applescript.py
 third_party/crossbench/crossbench/browsers/chromium/driver_finder.py
@@ -7202,7 +7248,7 @@ third_party/crossbench/crossbench/probes/chrome_histograms.py
 third_party/crossbench/crossbench/probes/perfetto/downloader.py
 third_party/crossbench/crossbench/probes/performance_entries.py
 third_party/crossbench/crossbench/probes/profiling/browser_profiling.py
-third_party/crossbench/crossbench/probes/profiling/context/android.py
+third_party/crossbench/crossbench/probes/profiling/context/base.py
 third_party/crossbench/crossbench/probes/profiling/enum.py
 third_party/crossbench/crossbench/probes/web_page_replay/recorder.py
 third_party/crossbench/tests/crossbench/benchmarks/loading/config/test_example_configs.py
@@ -7249,9 +7295,9 @@ third_party/dawn/src/dawn/native/d3d12/ResourceAllocatorManagerD3D12.h
 third_party/dawn/src/dawn/native/d3d12/SamplerD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/SharedTextureMemoryD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/TextureD3D12.cpp
+third_party/dawn/src/dawn/native/d3d12/UtilsD3D12.cpp
 third_party/dawn/src/dawn/native/metal/MultiDrawEncoder.mm
 third_party/dawn/src/dawn/native/metal/QueueMTL.h
-third_party/dawn/src/dawn/native/metal/SharedTextureMemoryMTL.mm
 third_party/dawn/src/dawn/native/opengl/CommandBufferGL.cpp
 third_party/dawn/src/dawn/native/opengl/ContextEGL.cpp
 third_party/dawn/src/dawn/native/opengl/TextureGL.cpp
@@ -7499,6 +7545,7 @@ third_party/depot_tools/git_cl.py
 third_party/depot_tools/git_common.py
 third_party/depot_tools/git_number.py
 third_party/depot_tools/git_retry.py
+third_party/depot_tools/gn_helper.py
 third_party/depot_tools/gsutil.py
 third_party/depot_tools/infra_lib/telemetry/__init__.py
 third_party/depot_tools/infra_lib/telemetry/clearcut_span_exporter.py
@@ -7524,7 +7571,10 @@ third_party/depot_tools/man/html/git-squash-branch.html
 third_party/depot_tools/man/html/git-thaw.html
 third_party/depot_tools/man/html/git-upstream-diff.html
 third_party/depot_tools/man/src/depot_tools_tutorial.txt
+third_party/depot_tools/metadata/dependency_metadata.py
 third_party/depot_tools/metadata/fields/custom/license.py
+third_party/depot_tools/metadata/fields/custom/license_allowlist.py
+third_party/depot_tools/metadata/tests/parse_test.py
 third_party/depot_tools/metrics_utils.py
 third_party/depot_tools/my_activity.py
 third_party/depot_tools/ninja.py
@@ -7650,6 +7700,7 @@ third_party/depot_tools/tests/git_cache_test.py
 third_party/depot_tools/tests/git_cl_creds_check_report.txt
 third_party/depot_tools/tests/git_cl_test.py
 third_party/depot_tools/tests/metrics_test.py
+third_party/depot_tools/tests/presubmit_support_test.py
 third_party/depot_tools/tests/presubmit_unittest.py
 third_party/depot_tools/tests/reclient_helper_test.py
 third_party/depot_tools/tests/roll_dep_test.py
@@ -7757,6 +7808,7 @@ third_party/devtools-frontend/src/front_end/core/sdk/NetworkManager.ts
 third_party/devtools-frontend/src/front_end/core/sdk/NetworkRequest.ts
 third_party/devtools-frontend/src/front_end/core/sdk/ResourceTreeModel.ts
 third_party/devtools-frontend/src/front_end/core/sdk/SourceMap.ts
+third_party/devtools-frontend/src/front_end/design_system_tokens.css
 third_party/devtools-frontend/src/front_end/entrypoint_template.html
 third_party/devtools-frontend/src/front_end/entrypoints/inspector_main/RenderingOptions.ts
 third_party/devtools-frontend/src/front_end/entrypoints/inspector_main/inspector_main-meta.ts
@@ -7787,7 +7839,6 @@ third_party/devtools-frontend/src/front_end/models/persistence/NetworkPersistenc
 third_party/devtools-frontend/src/front_end/models/persistence/NetworkPersistenceManager.ts
 third_party/devtools-frontend/src/front_end/models/persistence/PersistenceImpl.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/ModelImpl.test.ts
-third_party/devtools-frontend/src/front_end/models/trace/extras/ThirdParties.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/MetaHandler.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/MetaHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/NetworkRequestsHandler.test.ts
@@ -7801,8 +7852,10 @@ third_party/devtools-frontend/src/front_end/models/trace/insights/DOMSize.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/DocumentLatency.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/FontDisplay.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/FontDisplay.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/ForcedReflow.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ImageDelivery.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/InteractionToNextPaint.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/LongCriticalNetworkTree.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/RenderBlocking.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/SlowCSSSelector.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ThirdParties.test.ts
@@ -7820,6 +7873,7 @@ third_party/devtools-frontend/src/front_end/panels/accessibility/AccessibilityNo
 third_party/devtools-frontend/src/front_end/panels/accessibility/AccessibilityStrings.ts
 third_party/devtools-frontend/src/front_end/panels/ai_assistance/AiAssistancePanel.ts
 third_party/devtools-frontend/src/front_end/panels/ai_assistance/agents/FileAgent.ts
+third_party/devtools-frontend/src/front_end/panels/ai_assistance/agents/PerformanceAgent.test.ts
 third_party/devtools-frontend/src/front_end/panels/ai_assistance/agents/PerformanceAgent.ts
 third_party/devtools-frontend/src/front_end/panels/ai_assistance/components/ChatView.ts
 third_party/devtools-frontend/src/front_end/panels/ai_assistance/components/UserActionRow.ts
@@ -7831,6 +7885,7 @@ third_party/devtools-frontend/src/front_end/panels/application/InterestGroupTree
 third_party/devtools-frontend/src/front_end/panels/application/ReportingApiReportsView.test.ts
 third_party/devtools-frontend/src/front_end/panels/application/ReportingApiReportsView.ts
 third_party/devtools-frontend/src/front_end/panels/application/ServiceWorkerCacheTreeElement.ts
+third_party/devtools-frontend/src/front_end/panels/application/StorageBucketsTreeElement.ts
 third_party/devtools-frontend/src/front_end/panels/application/StorageView.ts
 third_party/devtools-frontend/src/front_end/panels/application/components/EndpointsGrid.ts
 third_party/devtools-frontend/src/front_end/panels/application/components/FrameDetailsView.ts
@@ -7841,6 +7896,8 @@ third_party/devtools-frontend/src/front_end/panels/application/preloading/compon
 third_party/devtools-frontend/src/front_end/panels/application/preloading/components/UsedPreloadingView.test.ts
 third_party/devtools-frontend/src/front_end/panels/application/preloading/components/UsedPreloadingView.ts
 third_party/devtools-frontend/src/front_end/panels/autofill/AutofillView.ts
+third_party/devtools-frontend/src/front_end/panels/browser_debugger/DOMBreakpointsSidebarPane.ts
+third_party/devtools-frontend/src/front_end/panels/changes/ChangesView.ts
 third_party/devtools-frontend/src/front_end/panels/console/ConsoleViewMessage.ts
 third_party/devtools-frontend/src/front_end/panels/console/ErrorStackParser.test.ts
 third_party/devtools-frontend/src/front_end/panels/css_overview/components/CSSOverviewStartView.ts
@@ -7855,6 +7912,7 @@ third_party/devtools-frontend/src/front_end/panels/issues/AffectedDirectivesView
 third_party/devtools-frontend/src/front_end/panels/issues/AffectedMetadataAllowedSitesView.ts
 third_party/devtools-frontend/src/front_end/panels/issues/AffectedTrackingSitesView.ts
 third_party/devtools-frontend/src/front_end/panels/lighthouse/LighthouseController.ts
+third_party/devtools-frontend/src/front_end/panels/mobile_throttling/CalibrationController.ts
 third_party/devtools-frontend/src/front_end/panels/network/NetworkConfigView.ts
 third_party/devtools-frontend/src/front_end/panels/network/NetworkDataGridNode.ts
 third_party/devtools-frontend/src/front_end/panels/network/NetworkLogView.ts
@@ -7868,7 +7926,6 @@ third_party/devtools-frontend/src/front_end/panels/network/network-meta.ts
 third_party/devtools-frontend/src/front_end/panels/profiler/HeapSnapshotGridNodes.ts
 third_party/devtools-frontend/src/front_end/panels/recorder/RecorderController.ts
 third_party/devtools-frontend/src/front_end/panels/recorder/components/CreateRecordingView.ts
-third_party/devtools-frontend/src/front_end/panels/recorder/components/StartView.ts
 third_party/devtools-frontend/src/front_end/panels/security/CookieControlsView.ts
 third_party/devtools-frontend/src/front_end/panels/security/CookieReportView.ts
 third_party/devtools-frontend/src/front_end/panels/settings/AISettingsTab.ts
@@ -7894,6 +7951,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/components/DetailsVi
 third_party/devtools-frontend/src/front_end/panels/timeline/components/FieldSettingsDialog.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/LiveMetricsView.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/SidebarInsightsTab.test.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/components/SidebarSingleInsightSet.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/overlays/components/EntriesLinkOverlay.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/track_appenders/ThreadAppender.test.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/utils/AICallTree.test.ts
@@ -8019,8 +8077,6 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cj
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/WebWorker.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/WebWorker.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/bidi/Frame.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/FirefoxTargetManager.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/Input.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.js
@@ -8057,8 +8113,6 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/es
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/WebWorker.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/WebWorker.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/bidi/Frame.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/FirefoxTargetManager.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/Input.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.js
@@ -8089,7 +8143,6 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/ap
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Target.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/WebWorker.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/bidi/Frame.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/FirefoxTargetManager.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/Input.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/PredefinedNetworkConditions.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/Tracing.ts
@@ -8138,7 +8191,6 @@ third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/Custo
 third_party/devtools-frontend/src/front_end/ui/legacy/components/perf_ui/FlameChart.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/JSPresentationUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/Linkifier.test.ts
-third_party/devtools-frontend/src/front_end/ui/legacy/themeColors.css
 third_party/devtools-frontend/src/front_end/ui/legacy/theme_support/ThemeSupport.ts
 third_party/devtools-frontend/src/node_modules/@babel/core/node_modules/source-map/dist/source-map.debug.js
 third_party/devtools-frontend/src/node_modules/@babel/core/node_modules/source-map/dist/source-map.js
@@ -8173,6 +8225,8 @@ third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/esm/brows
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/esm/browser-data/firefox.js
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/esm/install.d.ts
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/node_modules/ansi-regex/package.json
+third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/node_modules/strip-ansi/package.json
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/src/browser-data/browser-data.ts
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/src/browser-data/chrome-headless-shell.ts
@@ -8237,7 +8291,6 @@ third_party/devtools-frontend/src/node_modules/acorn/package.json
 third_party/devtools-frontend/src/node_modules/ajv/dist/ajv.bundle.js
 third_party/devtools-frontend/src/node_modules/ansi-regex/package.json
 third_party/devtools-frontend/src/node_modules/ansi-styles/package.json
-third_party/devtools-frontend/src/node_modules/aria-query/package.json
 third_party/devtools-frontend/src/node_modules/array-buffer-byte-length/package.json
 third_party/devtools-frontend/src/node_modules/array-find-index/package.json
 third_party/devtools-frontend/src/node_modules/array-includes/package.json
@@ -8250,9 +8303,6 @@ third_party/devtools-frontend/src/node_modules/arraybuffer.prototype.slice/packa
 third_party/devtools-frontend/src/node_modules/asap/browser-raw.js
 third_party/devtools-frontend/src/node_modules/astral-regex/package.json
 third_party/devtools-frontend/src/node_modules/available-typed-arrays/package.json
-third_party/devtools-frontend/src/node_modules/axe-core/axe.js
-third_party/devtools-frontend/src/node_modules/axe-core/axe.min.js
-third_party/devtools-frontend/src/node_modules/axobject-query/package.json
 third_party/devtools-frontend/src/node_modules/base64-js/package.json
 third_party/devtools-frontend/src/node_modules/basic-ftp/package.json
 third_party/devtools-frontend/src/node_modules/binary-extensions/package.json
@@ -8260,7 +8310,6 @@ third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/pa
 third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/buffer-crc32/package.json
 third_party/devtools-frontend/src/node_modules/buffer/index.js
-third_party/devtools-frontend/src/node_modules/builtin-modules/package.json
 third_party/devtools-frontend/src/node_modules/bytes/package.json
 third_party/devtools-frontend/src/node_modules/call-bind/package.json
 third_party/devtools-frontend/src/node_modules/callsites/package.json
@@ -8291,7 +8340,6 @@ third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/esm/utils/uuid.
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/iife/mapperTab.js
 third_party/devtools-frontend/src/node_modules/cliui/node_modules/ansi-regex/package.json
 third_party/devtools-frontend/src/node_modules/cliui/node_modules/strip-ansi/package.json
-third_party/devtools-frontend/src/node_modules/clone/package.json
 third_party/devtools-frontend/src/node_modules/color-convert/package.json
 third_party/devtools-frontend/src/node_modules/color-name/package.json
 third_party/devtools-frontend/src/node_modules/colord/constants.d.ts
@@ -8305,13 +8353,6 @@ third_party/devtools-frontend/src/node_modules/colors/lib/system/supports-colors
 third_party/devtools-frontend/src/node_modules/connect/node_modules/debug/package.json
 third_party/devtools-frontend/src/node_modules/connect/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/cookie/package.json
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.array.reduce-right.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.array.reduce.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.math.acosh.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.math.hypot.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.promise.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.symbol.js
-third_party/devtools-frontend/src/node_modules/core-js-pure/modules/web.url.js
 third_party/devtools-frontend/src/node_modules/cors/package.json
 third_party/devtools-frontend/src/node_modules/cosmiconfig/package.json
 third_party/devtools-frontend/src/node_modules/css-functions-list/package.json
@@ -8350,16 +8391,6 @@ third_party/devtools-frontend/src/node_modules/diff/lib/convert/dmp.js
 third_party/devtools-frontend/src/node_modules/diff/lib/index.es6.js
 third_party/devtools-frontend/src/node_modules/diff/package.json
 third_party/devtools-frontend/src/node_modules/dir-glob/package.json
-third_party/devtools-frontend/src/node_modules/doctrine/lib/doctrine.js
-third_party/devtools-frontend/src/node_modules/doctrine/lib/typed.js
-third_party/devtools-frontend/src/node_modules/doctrine/lib/utility.js
-third_party/devtools-frontend/src/node_modules/doctrine/package.json
-third_party/devtools-frontend/src/node_modules/dom5/lib/util.d.ts
-third_party/devtools-frontend/src/node_modules/dom5/lib/util.js
-third_party/devtools-frontend/src/node_modules/dom5/node_modules/parse5/lib/index.d.ts
-third_party/devtools-frontend/src/node_modules/dom5/node_modules/parse5/lib/tokenizer/index.js
-third_party/devtools-frontend/src/node_modules/dom5/node_modules/parse5/package.json
-third_party/devtools-frontend/src/node_modules/dom5/src/util.ts
 third_party/devtools-frontend/src/node_modules/end-of-stream/package.json
 third_party/devtools-frontend/src/node_modules/engine.io-parser/build/cjs/index.js
 third_party/devtools-frontend/src/node_modules/engine.io-parser/build/esm/index.js
@@ -8378,10 +8409,6 @@ third_party/devtools-frontend/src/node_modules/es-shim-unscopables/package.json
 third_party/devtools-frontend/src/node_modules/es-to-primitive/package.json
 third_party/devtools-frontend/src/node_modules/escalade/package.json
 third_party/devtools-frontend/src/node_modules/escape-string-regexp/package.json
-third_party/devtools-frontend/src/node_modules/escodegen/bin/escodegen.js
-third_party/devtools-frontend/src/node_modules/escodegen/bin/esgenerate.js
-third_party/devtools-frontend/src/node_modules/escodegen/escodegen.js
-third_party/devtools-frontend/src/node_modules/escodegen/package.json
 third_party/devtools-frontend/src/node_modules/eslint-import-resolver-node/node_modules/debug/package.json
 third_party/devtools-frontend/src/node_modules/eslint-import-resolver-node/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/debug/package.json
@@ -8394,31 +8421,25 @@ third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/typed.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/utility.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/package.json
-third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/dist/tagNames.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/node_modules/escape-string-regexp/package.json
-third_party/devtools-frontend/src/node_modules/eslint-plugin-lit-a11y/node_modules/eslint-plugin-lit/node_modules/parse5/lib/tokenizer/index.js
-third_party/devtools-frontend/src/node_modules/eslint-plugin-lit-a11y/node_modules/eslint-plugin-lit/node_modules/parse5/package.json
+third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/src/tagNames.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-mocha/node_modules/globals/package.json
 third_party/devtools-frontend/src/node_modules/eslint-plugin-mocha/package.json
-third_party/devtools-frontend/src/node_modules/eslint/lib/cli-engine/formatters/formatters-meta.json
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/definition.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/index.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/pattern-visitor.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/reference.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/referencer.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/scope-manager.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/scope.js
+third_party/devtools-frontend/src/node_modules/eslint-scope/lib/variable.js
 third_party/devtools-frontend/src/node_modules/eslint/lib/rules/max-lines-per-function.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/ansi-regex/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/ansi-styles/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/color-convert/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/color-name/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/escape-string-regexp/package.json
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/definition.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/index.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/pattern-visitor.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/reference.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/referencer.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/scope-manager.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/scope.js
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/eslint-scope/lib/variable.js
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/glob-parent/package.json
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/globals/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/has-flag/package.json
-third_party/devtools-frontend/src/node_modules/eslint/node_modules/strip-ansi/package.json
 third_party/devtools-frontend/src/node_modules/eslint/node_modules/supports-color/package.json
 third_party/devtools-frontend/src/node_modules/espree/espree.js
 third_party/devtools-frontend/src/node_modules/esprima/package.json
@@ -8455,8 +8476,6 @@ third_party/devtools-frontend/src/node_modules/gensync/package.json
 third_party/devtools-frontend/src/node_modules/get-intrinsic/package.json
 third_party/devtools-frontend/src/node_modules/get-stream/package.json
 third_party/devtools-frontend/src/node_modules/get-symbol-description/package.json
-third_party/devtools-frontend/src/node_modules/get-uri/node_modules/fs-extra/lib/mkdirs/utils.js
-third_party/devtools-frontend/src/node_modules/get-uri/node_modules/fs-extra/package.json
 third_party/devtools-frontend/src/node_modules/glob-parent/package.json
 third_party/devtools-frontend/src/node_modules/globals/package.json
 third_party/devtools-frontend/src/node_modules/globalthis/package.json
@@ -8484,7 +8503,6 @@ third_party/devtools-frontend/src/node_modules/is-async-function/package.json
 third_party/devtools-frontend/src/node_modules/is-bigint/package.json
 third_party/devtools-frontend/src/node_modules/is-binary-path/package.json
 third_party/devtools-frontend/src/node_modules/is-boolean-object/package.json
-third_party/devtools-frontend/src/node_modules/is-builtin-module/package.json
 third_party/devtools-frontend/src/node_modules/is-callable/package.json
 third_party/devtools-frontend/src/node_modules/is-core-module/package.json
 third_party/devtools-frontend/src/node_modules/is-data-view/package.json
@@ -8494,7 +8512,6 @@ third_party/devtools-frontend/src/node_modules/is-generator-function/package.jso
 third_party/devtools-frontend/src/node_modules/is-map/package.json
 third_party/devtools-frontend/src/node_modules/is-negative-zero/package.json
 third_party/devtools-frontend/src/node_modules/is-number-object/package.json
-third_party/devtools-frontend/src/node_modules/is-path-inside/package.json
 third_party/devtools-frontend/src/node_modules/is-plain-obj/package.json
 third_party/devtools-frontend/src/node_modules/is-regex/package.json
 third_party/devtools-frontend/src/node_modules/is-set/package.json
@@ -8596,12 +8613,8 @@ third_party/devtools-frontend/src/node_modules/p-locate/package.json
 third_party/devtools-frontend/src/node_modules/pac-proxy-agent/dist/index.js
 third_party/devtools-frontend/src/node_modules/pac-resolver/dist/myIpAddress.js
 third_party/devtools-frontend/src/node_modules/parent-module/package.json
+third_party/devtools-frontend/src/node_modules/parse-imports/package.json
 third_party/devtools-frontend/src/node_modules/parse-json/package.json
-third_party/devtools-frontend/src/node_modules/parse5-htmlparser2-tree-adapter/node_modules/parse5/lib/tokenizer/index.js
-third_party/devtools-frontend/src/node_modules/parse5-htmlparser2-tree-adapter/node_modules/parse5/package.json
-third_party/devtools-frontend/src/node_modules/parse5-htmlparser2-tree-adapter/package.json
-third_party/devtools-frontend/src/node_modules/parse5/lib/tokenizer/index.js
-third_party/devtools-frontend/src/node_modules/parse5/package.json
 third_party/devtools-frontend/src/node_modules/path-exists/package.json
 third_party/devtools-frontend/src/node_modules/path-is-absolute/package.json
 third_party/devtools-frontend/src/node_modules/path-key/package.json
@@ -8653,8 +8666,6 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/WebWorker.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/WebWorker.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/bidi/Frame.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/FirefoxTargetManager.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/Input.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.js
@@ -8691,8 +8702,6 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/WebWorker.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/WebWorker.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/bidi/Frame.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/FirefoxTargetManager.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/Input.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.js
@@ -8713,6 +8722,8 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/PuppeteerNode.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/types.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Browser.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/BrowserContext.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/ElementHandle.ts
@@ -8723,7 +8734,6 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Page.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Target.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/WebWorker.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/bidi/Frame.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/FirefoxTargetManager.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/Input.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/PredefinedNetworkConditions.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/Tracing.ts
@@ -8745,7 +8755,6 @@ third_party/devtools-frontend/src/node_modules/regenerator-runtime/runtime.js
 third_party/devtools-frontend/src/node_modules/regexp.prototype.flags/package.json
 third_party/devtools-frontend/src/node_modules/require-directory/package.json
 third_party/devtools-frontend/src/node_modules/require-from-string/package.json
-third_party/devtools-frontend/src/node_modules/requireindex/package.json
 third_party/devtools-frontend/src/node_modules/requires-port/test.js
 third_party/devtools-frontend/src/node_modules/resolve-from/package.json
 third_party/devtools-frontend/src/node_modules/resolve/lib/caller.js
@@ -8881,6 +8890,7 @@ third_party/devtools-frontend/src/node_modules/typed-array-buffer/package.json
 third_party/devtools-frontend/src/node_modules/typed-array-byte-length/package.json
 third_party/devtools-frontend/src/node_modules/typed-array-byte-offset/package.json
 third_party/devtools-frontend/src/node_modules/typed-array-length/package.json
+third_party/devtools-frontend/src/node_modules/typescript/lib/_tsc.js
 third_party/devtools-frontend/src/node_modules/typescript/lib/cs/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/de/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/es/diagnosticMessages.generated.json
@@ -8895,13 +8905,14 @@ third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2020.bigint.
 third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2020.intl.d.ts
 third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2021.intl.d.ts
 third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2022.intl.d.ts
+third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2024.arraybuffer.d.ts
+third_party/devtools-frontend/src/node_modules/typescript/lib/lib.es2024.sharedmemory.d.ts
 third_party/devtools-frontend/src/node_modules/typescript/lib/lib.webworker.d.ts
 third_party/devtools-frontend/src/node_modules/typescript/lib/lib.webworker.iterable.d.ts
 third_party/devtools-frontend/src/node_modules/typescript/lib/pl/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/pt-br/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/ru/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/tr/diagnosticMessages.generated.json
-third_party/devtools-frontend/src/node_modules/typescript/lib/tsc.js
 third_party/devtools-frontend/src/node_modules/typescript/lib/typescript.js
 third_party/devtools-frontend/src/node_modules/typescript/lib/zh-cn/diagnosticMessages.generated.json
 third_party/devtools-frontend/src/node_modules/typescript/lib/zh-tw/diagnosticMessages.generated.json
@@ -9123,6 +9134,10 @@ third_party/eigen3/src/Eigen/src/Core/arch/GPU/MathFunctions.h
 third_party/eigen3/src/Eigen/src/Core/arch/GPU/PacketMath.h
 third_party/eigen3/src/Eigen/src/Core/arch/GPU/Tuple.h
 third_party/eigen3/src/Eigen/src/Core/arch/GPU/TypeCasting.h
+third_party/eigen3/src/Eigen/src/Core/arch/LSX/Complex.h
+third_party/eigen3/src/Eigen/src/Core/arch/LSX/MathFunctions.h
+third_party/eigen3/src/Eigen/src/Core/arch/LSX/PacketMath.h
+third_party/eigen3/src/Eigen/src/Core/arch/LSX/TypeCasting.h
 third_party/eigen3/src/Eigen/src/Core/arch/MSA/Complex.h
 third_party/eigen3/src/Eigen/src/Core/arch/MSA/MathFunctions.h
 third_party/eigen3/src/Eigen/src/Core/arch/MSA/PacketMath.h
@@ -9296,6 +9311,7 @@ third_party/eigen3/src/Eigen/src/SuperLUSupport/SuperLUSupport.h
 third_party/eigen3/src/Eigen/src/ThreadPool/Barrier.h
 third_party/eigen3/src/Eigen/src/ThreadPool/CoreThreadPoolDevice.h
 third_party/eigen3/src/Eigen/src/ThreadPool/EventCount.h
+third_party/eigen3/src/Eigen/src/ThreadPool/ForkJoin.h
 third_party/eigen3/src/Eigen/src/ThreadPool/NonBlockingThreadPool.h
 third_party/eigen3/src/Eigen/src/ThreadPool/RunQueue.h
 third_party/eigen3/src/Eigen/src/ThreadPool/ThreadCancel.h
@@ -9514,6 +9530,7 @@ third_party/eigen3/src/test/swap.cpp
 third_party/eigen3/src/test/sycl_basic.cpp
 third_party/eigen3/src/test/symbolic_index.cpp
 third_party/eigen3/src/test/threads_eventcount.cpp
+third_party/eigen3/src/test/threads_fork_join.cpp
 third_party/eigen3/src/test/threads_non_blocking_thread_pool.cpp
 third_party/eigen3/src/test/threads_runqueue.cpp
 third_party/eigen3/src/test/triangular.cpp
@@ -10220,6 +10237,7 @@ third_party/fuchsia-gn-sdk/src/prepare_package_inputs.py
 third_party/fuzztest/src/centipede/environment.h
 third_party/fuzztest/src/centipede/runner_fork_server.cc
 third_party/fuzztest/src/centipede/testing/test_fuzz_target.cc
+third_party/fuzztest/src/fuzztest/internal/centipede_adaptor.cc
 third_party/gemmlowp/src/contrib/CMakeLists.txt
 third_party/gemmlowp/src/standalone/neon-gemm-kernel-benchmark.cc
 third_party/glslang/src/glslang/HLSL/hlslParseHelper.cpp
@@ -10550,7 +10568,6 @@ third_party/google_input_tools/third_party/closure_library/closure/goog/ui/decor
 third_party/google_input_tools/third_party/closure_library/closure/goog/ui/menuseparatorrenderer.js
 third_party/google_input_tools/third_party/closure_library/closure/goog/ui/registry.js
 third_party/google_input_tools/third_party/closure_library/closure/goog/ui/separator.js
-third_party/google_input_tools/third_party/closure_library/closure/goog/uri/utils.js
 third_party/google_input_tools/third_party/closure_library/closure/goog/useragent/useragent.js
 third_party/google_input_tools/third_party/closure_library/third_party/closure/goog/mochikit/async/deferred.js
 third_party/googletest/src/docs/_layouts/default.html
@@ -10853,6 +10870,7 @@ third_party/libaddressinput/src/cpp/src/util/string_util.h
 third_party/libaddressinput/src/cpp/test/testdata_source.cc
 third_party/libaddressinput/src/cpp/test/util/md5_unittest.cc
 third_party/libaddressinput/src/cpp/test/util/string_split_unittest.cc
+third_party/libaom/source/libaom/CMakeLists.txt
 third_party/libaom/source/libaom/aom/src/aom_encoder.c
 third_party/libaom/source/libaom/aom_dsp/x86/variance_impl_avx2.c
 third_party/libaom/source/libaom/aom_ports/aarch64_cpudetect.c
@@ -10901,13 +10919,6 @@ third_party/libaom/source/libaom/tools/diff.py
 third_party/libaom/source/libaom/tools/inspect-cli.js
 third_party/libaom/source/libaom/tools/intersect-diffs.py
 third_party/libaom/source/libaom/tools/wrap-commit-msg.py
-third_party/libavif/src/android_jni/avifandroidjni/src/main/jni/libavif_jni.cc
-third_party/libavif/src/src/codec_aom.c
-third_party/libavif/src/src/colr.c
-third_party/libavif/src/src/reformat.c
-third_party/libavif/src/src/reformat_libyuv.c
-third_party/libavif/src/src/scale.c
-third_party/libavif/src/tests/gtest/avifprogressivetest.cc
 third_party/libc++/src/CREDITS.TXT
 third_party/libc++/src/src/chrono.cpp
 third_party/libc++/src/src/experimental/tzdb.cpp
@@ -11229,9 +11240,11 @@ third_party/mediapipe/src/mediapipe/calculators/image/scale_image_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/tflite/tflite_custom_op_resolver_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/util/detection_label_id_to_text_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/util/face_to_rect_calculator.cc
+third_party/mediapipe/src/mediapipe/calculators/util/resource_provider_calculator.h
 third_party/mediapipe/src/mediapipe/calculators/video/flow_to_image_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/video/opencv_video_encoder_calculator.cc
 third_party/mediapipe/src/mediapipe/framework/formats/unique_fd.h
+third_party/mediapipe/src/mediapipe/framework/resources.h
 third_party/mediapipe/src/mediapipe/framework/tool/proto_util_lite.cc
 third_party/mediapipe/src/mediapipe/framework/tool/template_parser.cc
 third_party/mediapipe/src/mediapipe/gpu/egl_surface_holder.h
@@ -11246,32 +11259,6 @@ third_party/minigbm/src/gbm.h
 third_party/nearby/src/connections/implementation/endpoint_manager.cc
 third_party/nearby/src/embedded/common/source/nearby_event.h
 third_party/nearby/src/embedded/common/source/nearby_message_stream.h
-third_party/nearby/src/fastpair/common/account_key_filter.cc
-third_party/nearby/src/fastpair/common/account_key_filter.h
-third_party/nearby/src/fastpair/common/account_key_filter_test.cc
-third_party/nearby/src/fastpair/common/battery_notification.h
-third_party/nearby/src/fastpair/common/battery_notification_test.cc
-third_party/nearby/src/fastpair/common/fast_pair_prefs_test.cc
-third_party/nearby/src/fastpair/common/non_discoverable_advertisement.h
-third_party/nearby/src/fastpair/crypto/fast_pair_decryption.cc
-third_party/nearby/src/fastpair/crypto/fast_pair_decryption_test.cc
-third_party/nearby/src/fastpair/crypto/fast_pair_encryption_test.cc
-third_party/nearby/src/fastpair/crypto/fast_pair_key_pair_test.cc
-third_party/nearby/src/fastpair/dataparser/fast_pair_data_parser.cc
-third_party/nearby/src/fastpair/dataparser/fast_pair_data_parser_test.cc
-third_party/nearby/src/fastpair/fast_pair_seeker.h
-third_party/nearby/src/fastpair/handshake/fast_pair_handshake.h
-third_party/nearby/src/fastpair/internal/test/fast_pair_fake_http_client_test.cc
-third_party/nearby/src/fastpair/message_stream/medium_test.cc
-third_party/nearby/src/fastpair/repository/fast_pair_repository_impl_test.cc
-third_party/nearby/src/fastpair/retroactive/retroactive_test.cc
-third_party/nearby/src/fastpair/rust/demo/local/525296.json
-third_party/nearby/src/fastpair/rust/demo/local/706908.json
-third_party/nearby/src/fastpair/rust/demo/windows/runner/win32_window.cpp
-third_party/nearby/src/fastpair/scanning/fastpair/fast_pair_discoverable_scanner.h
-third_party/nearby/src/fastpair/scanning/fastpair/fast_pair_non_discoverable_scanner.h
-third_party/nearby/src/fastpair/server_access/fast_pair_client_impl.cc
-third_party/nearby/src/fastpair/server_access/fast_pair_client_impl_test.cc
 third_party/nearby/src/internal/crypto_cros/hmac_unittest.cc
 third_party/nearby/src/internal/crypto_cros/rsa_private_key_unittest.cc
 third_party/nearby/src/internal/crypto_cros/secure_util.h
@@ -12174,6 +12161,7 @@ third_party/perfetto/src/trace_processor/importers/proto/statsd_module.cc
 third_party/perfetto/src/trace_processor/importers/proto/system_probes_parser.cc
 third_party/perfetto/src/trace_processor/metrics/sql/android/unsymbolized_frames.sql
 third_party/perfetto/src/trace_processor/metrics/sql/chrome/rail_modes.sql
+third_party/perfetto/src/trace_processor/perfetto_sql/stdlib/android/battery/doze.sql
 third_party/perfetto/src/trace_processor/perfetto_sql/stdlib/android/startup/time_to_display.sql
 third_party/perfetto/src/trace_processor/perfetto_sql/stdlib/chrome/page_loads.sql
 third_party/perfetto/src/trace_processor/perfetto_sql/stdlib/export/to_firefox_profile.sql
@@ -12211,12 +12199,6 @@ third_party/perfetto/ui/src/frontend/sidebar.ts
 third_party/perfetto/ui/src/frontend/trace_url_handler.ts
 third_party/perfetto/ui/src/frontend/viewer_page/wasd_navigation_handler.ts
 third_party/perfetto/ui/src/open_perfetto_trace/index.html
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/adb.ts
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/chrome_proxy_record_controller.ts
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/record_page.ts
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/recordingV2/recording_interfaces_v2.ts
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/recordingV2/recording_page_controller.ts
-third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTrace/recordingV2/recording_utils.ts
 third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTraceV2/adb/adb_msg.ts
 third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTraceV2/pages/android.ts
 third_party/perfetto/ui/src/plugins/dev.perfetto.RecordTraceV2/pages/record_page.ts
@@ -13003,6 +12985,7 @@ third_party/rust/PRESUBMIT.py
 third_party/rust/adler2/v2/BUILD.gn
 third_party/rust/aho_corasick/v1/BUILD.gn
 third_party/rust/anyhow/v1/BUILD.gn
+third_party/rust/autocfg/v1/BUILD.gn
 third_party/rust/bstr/v1/BUILD.gn
 third_party/rust/bytemuck/v1/BUILD.gn
 third_party/rust/bytemuck_derive/v1/BUILD.gn
@@ -13011,6 +12994,9 @@ third_party/rust/cxx/v1/BUILD.gn
 third_party/rust/cxxbridge_cmd/v1/BUILD.gn
 third_party/rust/cxxbridge_flags/v1/BUILD.gn
 third_party/rust/cxxbridge_macro/v1/BUILD.gn
+third_party/rust/diplomat/v0_9/BUILD.gn
+third_party/rust/diplomat_core/v0_9/BUILD.gn
+third_party/rust/diplomat_runtime/v0_9/BUILD.gn
 third_party/rust/foldhash/v0_1/BUILD.gn
 third_party/rust/heck/v0_4/BUILD.gn
 third_party/rust/itoa/v1/BUILD.gn
@@ -13036,6 +13022,8 @@ third_party/rust/serde/v1/BUILD.gn
 third_party/rust/serde_derive/v1/BUILD.gn
 third_party/rust/serde_json/v1/BUILD.gn
 third_party/rust/serde_json_lenient/v0_2/BUILD.gn
+third_party/rust/stable_deref_trait/v1/BUILD.gn
+third_party/rust/strck/v1/BUILD.gn
 third_party/rust/strum/v0_25/BUILD.gn
 third_party/rust/strum_macros/v0_25/BUILD.gn
 third_party/rust/syn/v2/BUILD.gn
@@ -13045,8 +13033,13 @@ third_party/rust/unicode_ident/v1/BUILD.gn
 third_party/rust/unicode_linebreak/v0_1/BUILD.gn
 third_party/rust/unicode_width/v0_1/BUILD.gn
 third_party/rust/winapi_util/v0_1/BUILD.gn
+third_party/rust/yoke/v0_7/BUILD.gn
+third_party/rust/yoke_derive/v0_7/BUILD.gn
 third_party/rust/zerocopy/v0_7/BUILD.gn
 third_party/rust/zerocopy_derive/v0_7/BUILD.gn
+third_party/rust/zerofrom/v0_1/BUILD.gn
+third_party/rust/zerofrom_derive/v0_1/BUILD.gn
+third_party/rust/zerovec_derive/v0_11/BUILD.gn
 third_party/s2cellid/src/s2/_fpcontractoff.h
 third_party/s2cellid/src/s2/r1interval.h
 third_party/s2cellid/src/s2/r2.h
@@ -13319,7 +13312,7 @@ third_party/skia/tools/viewer/ClockSlide.cpp
 third_party/skia/tools/viewer/MotionMarkSlide.cpp
 third_party/skia/tools/viewer/PathSlide.cpp
 third_party/skia/tools/viewer/StringArtSlide.cpp
-third_party/smhasher/src/PMurHash.c
+third_party/smhasher/src/src/PMurHash.c
 third_party/snappy/linux/snappy-stubs-public.h
 third_party/snappy/mac/snappy-stubs-public.h
 third_party/snappy/src/snappy-test.h
@@ -13672,6 +13665,7 @@ third_party/tflite/src/tensorflow/core/platform/cloud/testdata/application_defau
 third_party/tflite/src/tensorflow/core/platform/cloud/testdata/service_account_credentials.json
 third_party/tflite/src/tensorflow/core/platform/error_payloads.h
 third_party/tflite/src/tensorflow/core/profiler/convert/hlo_proto_to_graph_view.cc
+third_party/tflite/src/tensorflow/core/profiler/convert/oss/tpu_input_pipeline_analysis_constants.cc
 third_party/tflite/src/tensorflow/core/tpu/tpu_compile_interface.h
 third_party/tflite/src/tensorflow/core/tpu/tpu_embedding_errors.h
 third_party/tflite/src/tensorflow/core/util/ctc/ctc_beam_search.h
@@ -13844,12 +13838,10 @@ third_party/tflite/src/tensorflow/tools/android/test/jni/rgb2yuv.cc
 third_party/tflite/src/tensorflow/tools/compatibility/tf_upgrade_v2_safety_test.py
 third_party/tflite/src/tensorflow/tools/pip_package/THIRD_PARTY_NOTICES.txt
 third_party/tflite/src/tensorflow/tools/pip_package/setup.py
-third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/file_system.cc
-third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/status.cc
+third_party/tflite/src/third_party/xla/xla/backends/gpu/codegen/emitters/transpose.h
 third_party/tflite/src/third_party/xla/xla/pjrt/c/pjrt_c_api.h
 third_party/tflite/src/third_party/xla/xla/pjrt/pjrt_api.cc
 third_party/tflite/src/third_party/xla/xla/python/weakref_lru_cache.cc
-third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/transpose_mlir.h
 third_party/tflite/src/third_party/xla/xla/service/hlo_graph_dumper.cc
 third_party/tflite/src/third_party/xla/xla/service/hlo_verifier.cc
 third_party/tflite/src/third_party/xla/xla/tsl/distributed_runtime/coordination/coordination_service_error_util.h
@@ -13868,10 +13860,14 @@ third_party/tflite/src/third_party/xla/xla/tsl/platform/cloud/http_request.h
 third_party/tflite/src/third_party/xla/xla/tsl/platform/cloud/oauth_client_test.cc
 third_party/tflite/src/third_party/xla/xla/tsl/platform/cloud/testdata/application_default_credentials.json
 third_party/tflite/src/third_party/xla/xla/tsl/platform/cloud/testdata/service_account_credentials.json
+third_party/tflite/src/third_party/xla/xla/tsl/platform/file_system.cc
+third_party/tflite/src/third_party/xla/xla/tsl/platform/status.cc
 third_party/tflite/src/third_party/xla/xla/tsl/platform/windows/env.cc
 third_party/tflite/src/third_party/xla/xla/tsl/platform/windows/stacktrace.cc
 third_party/tflite/src/third_party/xla/xla/tsl/platform/windows/stacktrace_handler.cc
 third_party/tflite_support/src/tensorflow_lite_support/c/task/processor/category.h
+third_party/unrar/src/threadmisc.cpp
+third_party/unrar/src/threadpool.cpp
 third_party/updater/chrome_mac_universal/3pp/fetch.py
 third_party/updater/chrome_mac_universal_prod/3pp/fetch.py
 third_party/updater/chrome_win_arm64/3pp/fetch.py
@@ -13906,9 +13902,11 @@ third_party/vulkan-tools/src/scripts/gn/gn.py
 third_party/vulkan-tools/src/scripts/mock_icd_generator.py
 third_party/vulkan-tools/src/scripts/vulkan_tools_helper_file_generator.py
 third_party/vulkan-utility-libraries/src/scripts/gn/gn.py
+third_party/vulkan-validation-layers/src/layers/external/inplace_function.h
 third_party/vulkan-validation-layers/src/layers/external/xxhash.h
-third_party/vulkan-validation-layers/src/layers/gpu/debug_printf/debug_printf.cpp
+third_party/vulkan-validation-layers/src/layers/gpuav/debug_printf/debug_printf.cpp
 third_party/vulkan-validation-layers/src/scripts/android.py
+third_party/vulkan-validation-layers/src/scripts/gn/export_targets.py
 third_party/vulkan-validation-layers/src/scripts/gn/gn.py
 third_party/wayland-protocols/gtk/.gitlab-ci/pages/fonts.css
 third_party/wayland-protocols/gtk/.gitlab-ci/pages/index.html
@@ -14051,6 +14049,7 @@ third_party/webrtc/pc/peer_connection_end_to_end_unittest.cc
 third_party/webrtc/pc/peer_connection_factory_unittest.cc
 third_party/webrtc/pc/peer_connection_field_trial_tests.cc
 third_party/webrtc/pc/peer_connection_ice_unittest.cc
+third_party/webrtc/pc/peer_connection_integrationtest.cc
 third_party/webrtc/pc/peer_connection_interface_unittest.cc
 third_party/webrtc/pc/scenario_tests/goog_cc_test.cc
 third_party/webrtc/pc/sdp_offer_answer.cc
@@ -14125,7 +14124,6 @@ third_party/webxr_test_pages/webxr-samples/explainer.html
 third_party/webxr_test_pages/webxr-samples/gamepad.html
 third_party/webxr_test_pages/webxr-samples/index.html
 third_party/webxr_test_pages/webxr-samples/index.published.html
-third_party/webxr_test_pages/webxr-samples/js/third-party/dat.gui/dat.gui.min.js
 third_party/webxr_test_pages/webxr-samples/js/webxr-button.js
 third_party/webxr_test_pages/webxr-samples/js/webxr-polyfill.js
 third_party/webxr_test_pages/webxr-samples/js/webxr-polyfill.min.js
@@ -14501,6 +14499,8 @@ tools/metrics/histograms/metadata/compositing/histograms.xml
 tools/metrics/histograms/metadata/content/enums.xml
 tools/metrics/histograms/metadata/content/histograms.xml
 tools/metrics/histograms/metadata/content_extraction/histograms.xml
+tools/metrics/histograms/metadata/contextual_cueing/enums.xml
+tools/metrics/histograms/metadata/contextual_cueing/histograms.xml
 tools/metrics/histograms/metadata/cookie/enums.xml
 tools/metrics/histograms/metadata/cookie/histograms.xml
 tools/metrics/histograms/metadata/cras/enums.xml
@@ -14541,6 +14541,7 @@ tools/metrics/histograms/metadata/families/enums.xml
 tools/metrics/histograms/metadata/families/histograms.xml
 tools/metrics/histograms/metadata/fastpair/enums.xml
 tools/metrics/histograms/metadata/fastpair/histograms.xml
+tools/metrics/histograms/metadata/favicons/histograms.xml
 tools/metrics/histograms/metadata/feature_engagement/histograms.xml
 tools/metrics/histograms/metadata/file/enums.xml
 tools/metrics/histograms/metadata/file/histograms.xml
@@ -14551,6 +14552,8 @@ tools/metrics/histograms/metadata/game_mode/histograms.xml
 tools/metrics/histograms/metadata/gcm/histograms.xml
 tools/metrics/histograms/metadata/geolocation/enums.xml
 tools/metrics/histograms/metadata/geolocation/histograms.xml
+tools/metrics/histograms/metadata/glic/enums.xml
+tools/metrics/histograms/metadata/glic/histograms.xml
 tools/metrics/histograms/metadata/google/enums.xml
 tools/metrics/histograms/metadata/google/histograms.xml
 tools/metrics/histograms/metadata/gpu/enums.xml
@@ -14668,6 +14671,7 @@ tools/metrics/histograms/metadata/search/enums.xml
 tools/metrics/histograms/metadata/search/histograms.xml
 tools/metrics/histograms/metadata/security/enums.xml
 tools/metrics/histograms/metadata/security/histograms.xml
+tools/metrics/histograms/metadata/segmentation_platform/enums.xml
 tools/metrics/histograms/metadata/segmentation_platform/histograms.xml
 tools/metrics/histograms/metadata/sensitive_content/enums.xml
 tools/metrics/histograms/metadata/sensitive_content/histograms.xml
@@ -14684,6 +14688,7 @@ tools/metrics/histograms/metadata/shortcuts/histograms.xml
 tools/metrics/histograms/metadata/signin/enums.xml
 tools/metrics/histograms/metadata/signin/histograms.xml
 tools/metrics/histograms/metadata/simple/histograms.xml
+tools/metrics/histograms/metadata/sql/enums.xml
 tools/metrics/histograms/metadata/sql/histograms.xml
 tools/metrics/histograms/metadata/stability/enums.xml
 tools/metrics/histograms/metadata/stability/histograms.xml
@@ -14707,6 +14712,7 @@ tools/metrics/histograms/metadata/translate/enums.xml
 tools/metrics/histograms/metadata/translate/histograms.xml
 tools/metrics/histograms/metadata/trusted_vault/enums.xml
 tools/metrics/histograms/metadata/trusted_vault/histograms.xml
+tools/metrics/histograms/metadata/ui/enums.xml
 tools/metrics/histograms/metadata/ui/histograms.xml
 tools/metrics/histograms/metadata/ukm/enums.xml
 tools/metrics/histograms/metadata/ukm/histograms.xml
@@ -14747,8 +14753,11 @@ tools/metrics/histograms/pretty_print_test.py
 tools/metrics/histograms/split_enums.py
 tools/metrics/histograms/split_xml.py
 tools/metrics/histograms/test_data/components/histograms.xml
+tools/metrics/histograms/test_data/example_valid_enums.xml
+tools/metrics/histograms/test_data/example_valid_histograms.xml
 tools/metrics/histograms/test_data/histograms.xml
-tools/metrics/histograms/test_data/tokens/histograms.xml
+tools/metrics/histograms/test_data/no_allowlist_entries_histograms.xml
+tools/metrics/histograms/test_data/tokens/token_errors_histograms.xml
 tools/metrics/histograms/test_data/ukm.xml
 tools/metrics/md2xml.py
 tools/metrics/structured/PRESUBMIT.py
@@ -14943,7 +14952,6 @@ tools/typescript/PRESUBMIT.py
 tools/typescript/definitions/command_line_private.d.ts
 tools/typescript/definitions/pending.d.ts
 tools/typescript/definitions/system_display.d.ts
-tools/ubsan/ignorelist.txt
 tools/usb_gadget/gadget.py
 tools/usb_gadget/msos20_descriptors.py
 tools/utr/builders.py
@@ -15090,7 +15098,7 @@ ui/gl/gl_display.cc
 ui/gl/gl_surface_egl.cc
 ui/gl/gl_surface_presentation_helper.cc
 ui/gl/hdr_metadata_helper_win.cc
-ui/gl/vsync_thread_win.cc
+ui/gl/vsync_thread_win_dxgi.cc
 ui/gtk/printing/print_dialog_gtk.cc
 ui/latency/latency_info.h
 ui/native_theme/native_theme_win.cc
@@ -15243,9 +15251,6 @@ v8/third_party/inspector_protocol/crdtp/json.cc
 v8/third_party/inspector_protocol/roll.py
 v8/third_party/siphash/halfsiphash.cc
 v8/third_party/siphash/halfsiphash.h
-v8/third_party/test262-harness/src/templates/runner.bestPractice.html
-v8/third_party/test262-harness/src/templates/runner.intl402.html
-v8/third_party/test262-harness/src/templates/runner.test262.html
 v8/third_party/utf8-decoder/utf8-decoder.h
 v8/tools/builtins-pgo/download_profiles.py
 v8/tools/builtins-pgo/profiles/meta.json
diff --git a/patches/core/bromite/disable-fetching-field-trials.patch b/patches/core/bromite/disable-fetching-field-trials.patch
index ddff2f0835..9a24e42978 100644
--- a/patches/core/bromite/disable-fetching-field-trials.patch
+++ b/patches/core/bromite/disable-fetching-field-trials.patch
@@ -51,7 +51,7 @@ Subject: Disable fetching of all field trials
      /**
 --- a/components/variations/service/variations_service.cc
 +++ b/components/variations/service/variations_service.cc
-@@ -221,17 +221,7 @@ bool GetInstanceManipulations(const net:
+@@ -222,17 +222,7 @@ bool GetInstanceManipulations(const net:
  // Variations seed fetching is only enabled in official Chrome builds, if a URL
  // is specified on the command line, and for testing.
  bool IsFetchingEnabled() {
diff --git a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
index d69a20111c..74aeb1cc3e 100644
--- a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
+++ b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2231,7 +2231,6 @@ static_library("browser") {
+@@ -2266,7 +2266,6 @@ static_library("browser") {
      "//components/reporting/util:task_runner_context",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -8,7 +8,7 @@
      "//components/safe_browsing/content/browser:safe_browsing_service",
      "//components/safe_browsing/content/browser/notification_content_detection",
      "//components/safe_browsing/content/browser/password_protection",
-@@ -3581,8 +3580,6 @@ static_library("browser") {
+@@ -3618,8 +3617,6 @@ static_library("browser") {
        "download/download_commands.cc",
        "download/download_crx_util.cc",
        "download/download_crx_util.h",
@@ -17,134 +17,9 @@
        "download/download_dir_policy_handler.cc",
        "download/download_dir_policy_handler.h",
        "download/download_dir_util.cc",
---- a/chrome/browser/browser_process.h
-+++ b/chrome/browser/browser_process.h
-@@ -66,10 +66,6 @@ class NetworkQualityTracker;
- class SharedURLLoaderFactory;
- }
- 
--namespace safe_browsing {
--class SafeBrowsingService;
--}
--
- namespace signin {
- class ActivePrimaryAccountsMetricsRecorder;
- }
-@@ -233,9 +229,6 @@ class BrowserProcess {
-   // on this platform (or this is a unit test).
-   virtual StatusTray* status_tray() = 0;
- 
--  // Returns the SafeBrowsing service.
--  virtual safe_browsing::SafeBrowsingService* safe_browsing_service() = 0;
--
-   // Returns the service providing versioned storage for rules used by the Safe
-   // Browsing subresource filter.
-   virtual subresource_filter::RulesetService*
---- a/chrome/browser/browser_process_impl.cc
-+++ b/chrome/browser/browser_process_impl.cc
-@@ -77,7 +77,6 @@
- #include "chrome/browser/printing/print_job_manager.h"
- #include "chrome/browser/profiles/profile_manager.h"
- #include "chrome/browser/resource_coordinator/resource_coordinator_parts.h"
--#include "chrome/browser/safe_browsing/safe_browsing_service.h"
- #include "chrome/browser/shell_integration.h"
- #include "chrome/browser/site_isolation/prefs_observer.h"
- #include "chrome/browser/ssl/secure_origin_prefs_observer.h"
-@@ -476,8 +475,6 @@ void BrowserProcessImpl::StartTearDown()
- #endif
-   metrics_services_manager_.reset();
-   intranet_redirect_detector_.reset();
--  if (safe_browsing_service_.get())
--    safe_browsing_service()->ShutDown();
-   network_time_tracker_.reset();
- 
- #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS)
-@@ -1159,14 +1156,6 @@ StatusTray* BrowserProcessImpl::status_t
-   return status_tray_.get();
- }
- 
--safe_browsing::SafeBrowsingService*
--BrowserProcessImpl::safe_browsing_service() {
--  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
--  if (!created_safe_browsing_service_)
--    CreateSafeBrowsingService();
--  return safe_browsing_service_.get();
--}
--
- subresource_filter::RulesetService*
- BrowserProcessImpl::subresource_filter_ruleset_service() {
-   DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
-@@ -1468,26 +1457,6 @@ void BrowserProcessImpl::CreateBackgroun
- #endif
- }
- 
--void BrowserProcessImpl::CreateSafeBrowsingService() {
--  DCHECK(!safe_browsing_service_);
--  // Set this flag to true so that we don't retry indefinitely to
--  // create the service class if there was an error.
--  created_safe_browsing_service_ = true;
--
--  // The factory can be overridden in tests.
--  if (!safe_browsing::SafeBrowsingServiceInterface::HasFactory()) {
--    safe_browsing::SafeBrowsingServiceInterface::RegisterFactory(
--        safe_browsing::GetSafeBrowsingServiceFactory());
--  }
--
--  // TODO(crbug.com/41437292): Port consumers of the |safe_browsing_service_| to
--  // use the interface in components/safe_browsing, and remove this cast.
--  safe_browsing_service_ = static_cast<safe_browsing::SafeBrowsingService*>(
--      safe_browsing::SafeBrowsingServiceInterface::CreateSafeBrowsingService());
--  if (safe_browsing_service_)
--    safe_browsing_service_->Initialize();
--}
--
- void BrowserProcessImpl::CreateSubresourceFilterRulesetService() {
-   DCHECK(!subresource_filter_ruleset_service_);
-   created_subresource_filter_ruleset_service_ = true;
---- a/chrome/browser/browser_process_impl.h
-+++ b/chrome/browser/browser_process_impl.h
-@@ -199,7 +199,6 @@ class BrowserProcessImpl : public Browse
-       std::unique_ptr<BackgroundModeManager> manager) override;
- #endif
-   StatusTray* status_tray() override;
--  safe_browsing::SafeBrowsingService* safe_browsing_service() override;
-   subresource_filter::RulesetService* subresource_filter_ruleset_service()
-       override;
-   subresource_filter::RulesetService*
-@@ -368,9 +367,6 @@ class BrowserProcessImpl : public Browse
-   std::unique_ptr<BackgroundModeManager> background_mode_manager_;
- #endif
- 
--  bool created_safe_browsing_service_ = false;
--  scoped_refptr<safe_browsing::SafeBrowsingService> safe_browsing_service_;
--
-   bool created_subresource_filter_ruleset_service_ = false;
-   std::unique_ptr<subresource_filter::RulesetService>
-       subresource_filter_ruleset_service_;
---- a/chrome/browser/browsing_data/chrome_browsing_data_remover_delegate.cc
-+++ b/chrome/browser/browsing_data/chrome_browsing_data_remover_delegate.cc
-@@ -70,7 +70,6 @@
- #include "chrome/browser/profiles/keep_alive/scoped_profile_keep_alive.h"
- #include "chrome/browser/profiles/profile.h"
- #include "chrome/browser/reading_list/reading_list_model_factory.h"
--#include "chrome/browser/safe_browsing/safe_browsing_service.h"
- #include "chrome/browser/safe_browsing/verdict_cache_manager_factory.h"
- #include "chrome/browser/search_engine_choice/search_engine_choice_service_factory.h"
- #include "chrome/browser/search_engines/template_url_service_factory.h"
-@@ -660,10 +659,6 @@ void ChromeBrowsingDataRemoverDelegate::
-     base::RecordAction(UserMetricsAction("ClearBrowsingData_Cookies"));
- 
-     network::mojom::NetworkContext* safe_browsing_context = nullptr;
--    safe_browsing::SafeBrowsingService* sb_service =
--        g_browser_process->safe_browsing_service();
--    if (sb_service)
--      safe_browsing_context = sb_service->GetNetworkContext(profile_);
- 
-     // Cleared for DATA_TYPE_HISTORY, DATA_TYPE_COOKIES and DATA_TYPE_PASSWORDS.
-     browsing_data::RemoveFederatedSiteSettingsData(delete_begin_, delete_end_,
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5391,10 +5391,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5403,10 +5403,6 @@ ChromeContentBrowserClient::CreateThrott
    throttles.push_back(std::make_unique<PolicyBlocklistNavigationThrottle>(
        handle, handle->GetWebContents()->GetBrowserContext()));
  
@@ -155,7 +30,7 @@
    throttles.push_back(std::make_unique<SSLErrorNavigationThrottle>(
        handle,
        base::BindOnce(&HandleSSLErrorWrapper), base::BindOnce(&IsInHostedApp),
-@@ -5449,16 +5445,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5461,16 +5457,6 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -172,7 +47,7 @@
    if (base::FeatureList::IsEnabled(safe_browsing::kDelayedWarnings)) {
      throttles.push_back(
          std::make_unique<safe_browsing::DelayedWarningNavigationThrottle>(
-@@ -5754,8 +5740,6 @@ bool ChromeContentBrowserClient::IsPlugi
+@@ -5771,8 +5757,6 @@ bool ChromeContentBrowserClient::IsPlugi
  void ChromeContentBrowserClient::InitOnUIThread() {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
  
@@ -183,7 +58,7 @@
    base::PathService::Get(chrome::DIR_USER_DATA, &user_data_dir);
 --- a/chrome/browser/component_updater/file_type_policies_component_installer.cc
 +++ b/chrome/browser/component_updater/file_type_policies_component_installer.cc
-@@ -43,21 +43,6 @@ const uint8_t kFileTypePoliciesPublicKey
+@@ -38,21 +38,6 @@ const uint8_t kFileTypePoliciesPublicKey
  const char kFileTypePoliciesManifestName[] = "File Type Policies";
  
  void LoadFileTypesFromDisk(const base::FilePath& pb_path) {
@@ -221,7 +96,7 @@
    if (download_manager_) {
      download_manager_->AddObserver(this);
    }
-@@ -1058,17 +1051,6 @@ void ChromeDownloadManagerDelegate::Choo
+@@ -1074,17 +1067,6 @@ void ChromeDownloadManagerDelegate::Choo
  void ChromeDownloadManagerDelegate::SanitizeSavePackageResourceName(
      base::FilePath* filename,
      const GURL& source_url) {
@@ -494,51 +369,9 @@
  };
  
  class DownloadsShowFunction : public ExtensionFunction {
---- a/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_api.cc
-+++ b/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_api.cc
-@@ -53,39 +53,7 @@ SafeBrowsingPrivateGetReferrerChainFunct
-         base::StringPrintf("Could not find tab with id %d.", params->tab_id)));
-   }
- 
--  Profile* profile = Profile::FromBrowserContext(browser_context());
--  if (!SafeBrowsingNavigationObserverManager::IsEnabledAndReady(
--          profile->GetPrefs(), g_browser_process->safe_browsing_service()))
--    return RespondNow(NoArguments());
--
--  SafeBrowsingNavigationObserverManager* navigation_observer_manager =
--      safe_browsing::SafeBrowsingNavigationObserverManagerFactory::
--          GetForBrowserContext(profile);
--
--  safe_browsing::ReferrerChain referrer_chain;
--  SafeBrowsingNavigationObserverManager::AttributionResult result =
--      navigation_observer_manager->IdentifyReferrerChainByRenderFrameHost(
--          contents->GetPrimaryMainFrame(), kReferrerUserGestureLimit,
--          &referrer_chain);
--
--  // If the referrer chain is incomplete we'll append the most recent
--  // navigations to referrer chain for diagnostic purposes. This only happens if
--  // the user is not in incognito mode and has opted into extended reporting or
--  // Scout reporting. Otherwise, |CountOfRecentNavigationsToAppend| returns 0.
--  int recent_navigations_to_collect =
--      SafeBrowsingNavigationObserverManager::CountOfRecentNavigationsToAppend(
--          profile, profile->GetPrefs(), result);
--  if (recent_navigations_to_collect > 0) {
--    navigation_observer_manager->AppendRecentNavigations(
--        recent_navigations_to_collect, &referrer_chain);
--  }
--
-   std::vector<api::safe_browsing_private::ReferrerChainEntry> referrer_entries;
--  referrer_entries.reserve(referrer_chain.size());
--  for (const auto& entry : referrer_chain) {
--    referrer_entries.emplace_back(
--        safe_browsing_util::ReferrerToReferrerChainEntry(entry));
--  }
-   return RespondNow(ArgumentList(
-       api::safe_browsing_private::GetReferrerChain::Results::Create(
-           referrer_entries)));
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
-@@ -708,18 +708,6 @@ void WebstorePrivateBeginInstallWithMani
+@@ -713,18 +713,6 @@ void WebstorePrivateBeginInstallWithMani
  
  void WebstorePrivateBeginInstallWithManifest3Function::
      ReportFrictionAcceptedEvent() {
@@ -557,92 +390,9 @@
  }
  
  void WebstorePrivateBeginInstallWithManifest3Function::OnInstallPromptDone(
-@@ -1205,54 +1193,9 @@ WebstorePrivateGetReferrerChainFunction:
- 
- ExtensionFunction::ResponseAction
- WebstorePrivateGetReferrerChainFunction::Run() {
--  Profile* profile = Profile::FromBrowserContext(browser_context());
--  if (!SafeBrowsingNavigationObserverManager::IsEnabledAndReady(
--          profile->GetPrefs(), g_browser_process->safe_browsing_service()))
--    return RespondNow(ArgumentList(
--        api::webstore_private::GetReferrerChain::Results::Create("")));
--
--  content::RenderFrameHost* outermost_render_frame_host =
--      render_frame_host() ? render_frame_host()->GetOutermostMainFrame()
--                          : nullptr;
--
--  if (!outermost_render_frame_host) {
--    return RespondNow(ErrorWithArguments(
--        api::webstore_private::GetReferrerChain::Results::Create(""),
--        kWebstoreUserCancelledError));
--  }
--
--  SafeBrowsingNavigationObserverManager* navigation_observer_manager =
--      safe_browsing::SafeBrowsingNavigationObserverManagerFactory::
--          GetForBrowserContext(profile);
--
--  safe_browsing::ReferrerChain referrer_chain;
--  SafeBrowsingNavigationObserverManager::AttributionResult result =
--      navigation_observer_manager->IdentifyReferrerChainByRenderFrameHost(
--          outermost_render_frame_host, kExtensionReferrerUserGestureLimit,
--          &referrer_chain);
--
--  // If the referrer chain is incomplete we'll append the most recent
--  // navigations to referrer chain for diagnostic purposes. This only happens if
--  // the user is not in incognito mode and has opted into extended reporting or
--  // Scout reporting. Otherwise, |CountOfRecentNavigationsToAppend| returns 0.
--  int recent_navigations_to_collect =
--      SafeBrowsingNavigationObserverManager::CountOfRecentNavigationsToAppend(
--          profile, profile->GetPrefs(), result);
--  if (recent_navigations_to_collect > 0) {
--    navigation_observer_manager->AppendRecentNavigations(
--        recent_navigations_to_collect, &referrer_chain);
--  }
--
--  safe_browsing::ExtensionWebStoreInstallRequest request;
--  request.mutable_referrer_chain()->Swap(&referrer_chain);
--  request.mutable_referrer_chain_options()->set_recent_navigations_to_collect(
--      recent_navigations_to_collect);
--
--  // Base64 encode the request to avoid issues with base::Value rejecting
--  // strings which are not valid UTF8.
-   return RespondNow(
-       ArgumentList(api::webstore_private::GetReferrerChain::Results::Create(
--          base::Base64Encode(request.SerializeAsString()))));
-+          "")));
- }
- 
- WebstorePrivateGetExtensionStatusFunction::
 --- a/chrome/browser/extensions/blocklist_state_fetcher.cc
 +++ b/chrome/browser/extensions/blocklist_state_fetcher.cc
-@@ -38,24 +38,8 @@ BlocklistStateFetcher::~BlocklistStateFe
- void BlocklistStateFetcher::Request(const std::string& id,
-                                     RequestCallback callback) {
-   DCHECK_CURRENTLY_ON(BrowserThread::UI);
--  if (!safe_browsing_config_) {
--    if (g_browser_process && g_browser_process->safe_browsing_service()) {
--      SetSafeBrowsingConfig(
--          g_browser_process->safe_browsing_service()->GetV4ProtocolConfig());
--    } else {
--      base::SingleThreadTaskRunner::GetCurrentDefault()->PostTask(
--          FROM_HERE, base::BindOnce(std::move(callback), BLOCKLISTED_UNKNOWN));
--      return;
--    }
--  }
--
--  bool request_already_sent = base::Contains(callbacks_, id);
--  callbacks_.insert(std::make_pair(id, std::move(callback)));
--  if (request_already_sent) {
--    return;
--  }
--
--  SendRequest(id);
-+  base::SingleThreadTaskRunner::GetCurrentDefault()->PostTask(
-+      FROM_HERE, base::BindOnce(std::move(callback), BLOCKLISTED_UNKNOWN));
- }
- 
- void BlocklistStateFetcher::SendRequest(const std::string& id) {
-@@ -66,8 +50,7 @@ void BlocklistStateFetcher::SendRequest(
+@@ -75,8 +75,7 @@ void BlocklistStateFetcher::SendRequest(
    std::string request_str;
    request.SerializeToString(&request_str);
  
@@ -652,7 +402,7 @@
    net::NetworkTrafficAnnotationTag traffic_annotation =
        net::DefineNetworkTrafficAnnotation("extension_blacklist", R"(
          semantics {
-@@ -122,12 +105,6 @@ void BlocklistStateFetcher::SendRequest(
+@@ -131,12 +130,6 @@ void BlocklistStateFetcher::SendRequest(
                       base::Unretained(this), fetcher));
  }
  
@@ -676,57 +426,9 @@
   protected:
    void OnURLLoaderComplete(network::SimpleURLLoader* url_loader,
                             std::unique_ptr<std::string> response_body);
-@@ -56,7 +54,6 @@ class BlocklistStateFetcher {
- 
-   void SendRequest(const std::string& id);
- 
--  std::unique_ptr<safe_browsing::V4ProtocolConfig> safe_browsing_config_;
-   scoped_refptr<network::SharedURLLoaderFactory> url_loader_factory_;
- 
-   // SimpleURLLoader -> (owned loader, extension id).
---- a/chrome/browser/profiles/profile_impl.cc
-+++ b/chrome/browser/profiles/profile_impl.cc
-@@ -96,7 +96,6 @@
- #include "chrome/browser/push_messaging/push_messaging_service_impl.h"
- #include "chrome/browser/reading_list/reading_list_model_factory.h"
- #include "chrome/browser/reduce_accept_language/reduce_accept_language_factory.h"
--#include "chrome/browser/safe_browsing/safe_browsing_service.h"
- #include "chrome/browser/sessions/exit_type_service.h"
- #include "chrome/browser/sharing/sharing_service_factory.h"
- #include "chrome/browser/signin/identity_manager_factory.h"
-@@ -634,17 +633,6 @@ void ProfileImpl::LoadPrefsForNormalStar
- 
-   mojo::PendingRemote<prefs::mojom::TrackedPreferenceValidationDelegate>
-       pref_validation_delegate;
--  scoped_refptr<safe_browsing::SafeBrowsingService> safe_browsing_service(
--      g_browser_process->safe_browsing_service());
--  if (safe_browsing_service.get()) {
--    auto pref_validation_delegate_impl =
--        safe_browsing_service->CreatePreferenceValidationDelegate(this);
--    if (pref_validation_delegate_impl) {
--      mojo::MakeSelfOwnedReceiver(
--          std::move(pref_validation_delegate_impl),
--          pref_validation_delegate.InitWithNewPipeAndPassReceiver());
--    }
--  }
- 
-   prefs_ = CreateProfilePrefService(
-       pref_registry_, CreateExtensionPrefStore(this, false),
---- a/chrome/browser/profiles/profiles_state.cc
-+++ b/chrome/browser/profiles/profiles_state.cc
-@@ -290,9 +290,6 @@ void RemoveBrowsingDataForProfile(const
-   // The BrowsingDataRemover relies on many objects that aren't created in unit
-   // tests. Previously this code would depend on content::ResourceDispatcherHost
-   // but that's gone, so do a similar hack for now.
--  if (!g_browser_process->safe_browsing_service())
--    return;
--
-   Profile* profile =
-       g_browser_process->profile_manager()->GetProfileByPath(profile_path);
-   if (!profile)
 --- a/chrome/browser/safe_browsing/BUILD.gn
 +++ b/chrome/browser/safe_browsing/BUILD.gn
-@@ -7,6 +7,7 @@ import("//components/safe_browsing/build
+@@ -8,6 +8,7 @@ import("//components/safe_browsing/build
  import("//extensions/buildflags/buildflags.gni")
  
  static_library("safe_browsing") {
@@ -734,7 +436,7 @@
    sources = [
      "chrome_controller_client.cc",
      "chrome_controller_client.h",
-@@ -77,6 +78,7 @@ static_library("safe_browsing") {
+@@ -78,6 +79,7 @@ static_library("safe_browsing") {
      "//mojo/public/cpp/system",
      "//services/preferences/public/cpp",
    ]
@@ -742,7 +444,7 @@
  
    if (is_android) {
      deps += [
-@@ -547,6 +549,7 @@ static_library("advanced_protection") {
+@@ -549,6 +551,7 @@ static_library("advanced_protection") {
  }
  
  source_set("metrics_collector") {
@@ -750,7 +452,7 @@
    sources = [
      "safe_browsing_metrics_collector_factory.cc",
      "safe_browsing_metrics_collector_factory.h",
-@@ -566,6 +569,7 @@ source_set("metrics_collector") {
+@@ -568,6 +571,7 @@ source_set("metrics_collector") {
      "//components/safe_browsing/core/common:safe_browsing_prefs",
      "//content/public/browser",
    ]
@@ -758,104 +460,9 @@
  }
  
  source_set("test_support") {
---- a/chrome/browser/ssl/chrome_security_state_tab_helper.cc
-+++ b/chrome/browser/ssl/chrome_security_state_tab_helper.cc
-@@ -179,92 +179,5 @@ bool ChromeSecurityStateTabHelper::UsedP
- 
- security_state::MaliciousContentStatus
- ChromeSecurityStateTabHelper::GetMaliciousContentStatus() const {
--  using enum safe_browsing::SBThreatType;
--
--  content::NavigationEntry* entry =
--      web_contents()->GetController().GetVisibleEntry();
--  if (!entry) {
--    return security_state::MALICIOUS_CONTENT_STATUS_NONE;
--  }
--  safe_browsing::SafeBrowsingService* sb_service =
--      g_browser_process->safe_browsing_service();
--  if (!sb_service) {
--    return security_state::MALICIOUS_CONTENT_STATUS_NONE;
--  }
--  scoped_refptr<SafeBrowsingUIManager> sb_ui_manager = sb_service->ui_manager();
--  safe_browsing::SBThreatType threat_type;
--  if (sb_ui_manager->IsUrlAllowlistedOrPendingForWebContents(
--          entry->GetURL(), entry, web_contents(), false, &threat_type)) {
--    switch (threat_type) {
--      case SB_THREAT_TYPE_UNUSED:
--      case SB_THREAT_TYPE_SAFE:
--      case SB_THREAT_TYPE_URL_PHISHING:
--      case SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING:
--        return security_state::MALICIOUS_CONTENT_STATUS_SOCIAL_ENGINEERING;
--      case SB_THREAT_TYPE_URL_MALWARE:
--        return security_state::MALICIOUS_CONTENT_STATUS_MALWARE;
--      case SB_THREAT_TYPE_URL_UNWANTED:
--        return security_state::MALICIOUS_CONTENT_STATUS_UNWANTED_SOFTWARE;
--      case SB_THREAT_TYPE_SAVED_PASSWORD_REUSE:
--#if BUILDFLAG(FULL_SAFE_BROWSING)
--        return security_state::MALICIOUS_CONTENT_STATUS_SAVED_PASSWORD_REUSE;
--#endif
--      case SB_THREAT_TYPE_SIGNED_IN_SYNC_PASSWORD_REUSE:
--#if BUILDFLAG(FULL_SAFE_BROWSING)
--        if (safe_browsing::ChromePasswordProtectionService::
--                ShouldShowPasswordReusePageInfoBubble(
--                    web_contents(), PasswordType::PRIMARY_ACCOUNT_PASSWORD)) {
--          return security_state::
--              MALICIOUS_CONTENT_STATUS_SIGNED_IN_SYNC_PASSWORD_REUSE;
--        }
--#endif
--        [[fallthrough]];
--      case SB_THREAT_TYPE_SIGNED_IN_NON_SYNC_PASSWORD_REUSE:
--#if BUILDFLAG(FULL_SAFE_BROWSING)
--        if (safe_browsing::ChromePasswordProtectionService::
--                ShouldShowPasswordReusePageInfoBubble(
--                    web_contents(), PasswordType::OTHER_GAIA_PASSWORD)) {
--          return security_state::
--              MALICIOUS_CONTENT_STATUS_SIGNED_IN_NON_SYNC_PASSWORD_REUSE;
--        }
--#endif
--        [[fallthrough]];
--      case SB_THREAT_TYPE_ENTERPRISE_PASSWORD_REUSE:
--#if BUILDFLAG(FULL_SAFE_BROWSING)
--        if (safe_browsing::ChromePasswordProtectionService::
--                ShouldShowPasswordReusePageInfoBubble(
--                    web_contents(), PasswordType::ENTERPRISE_PASSWORD)) {
--          return security_state::
--              MALICIOUS_CONTENT_STATUS_ENTERPRISE_PASSWORD_REUSE;
--        }
--#endif
--        // If user has already changed password or FULL_SAFE_BROWSING isn't
--        // enabled, returns the regular social engineering content status.
--        return security_state::MALICIOUS_CONTENT_STATUS_SOCIAL_ENGINEERING;
--      case SB_THREAT_TYPE_BILLING:
--        return security_state::MALICIOUS_CONTENT_STATUS_BILLING;
--      case SB_THREAT_TYPE_MANAGED_POLICY_BLOCK:
--        return security_state::MALICIOUS_CONTENT_STATUS_MANAGED_POLICY_BLOCK;
--      case SB_THREAT_TYPE_MANAGED_POLICY_WARN:
--        return security_state::MALICIOUS_CONTENT_STATUS_MANAGED_POLICY_WARN;
--      case DEPRECATED_SB_THREAT_TYPE_URL_PASSWORD_PROTECTION_PHISHING:
--      case DEPRECATED_SB_THREAT_TYPE_URL_CLIENT_SIDE_MALWARE:
--      case SB_THREAT_TYPE_URL_BINARY_MALWARE:
--      case SB_THREAT_TYPE_EXTENSION:
--      case SB_THREAT_TYPE_API_ABUSE:
--      case SB_THREAT_TYPE_SUBRESOURCE_FILTER:
--      case SB_THREAT_TYPE_CSD_ALLOWLIST:
--      case SB_THREAT_TYPE_AD_SAMPLE:
--      case SB_THREAT_TYPE_BLOCKED_AD_POPUP:
--      case SB_THREAT_TYPE_BLOCKED_AD_REDIRECT:
--      case SB_THREAT_TYPE_SUSPICIOUS_SITE:
--      case SB_THREAT_TYPE_APK_DOWNLOAD:
--      case SB_THREAT_TYPE_HIGH_CONFIDENCE_ALLOWLIST:
--        // These threat types are not currently associated with
--        // interstitials, and thus resources with these threat types are
--        // not ever whitelisted or pending whitelisting.
--        NOTREACHED();
--    }
--  }
-   return security_state::MALICIOUS_CONTENT_STATUS_NONE;
- }
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -493,37 +493,8 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -486,35 +486,8 @@ void TabHelpers::AttachTabHelpers(WebCon
    //     See https://crbug.com/910288.
    resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
        web_contents);
@@ -873,9 +480,7 @@
 -        web_contents,
 -        safe_browsing::TailoredSecurityServiceFactory::GetForProfile(profile));
 -  }
--  if (base::FeatureList::IsEnabled(
--          safe_browsing::kSafeBrowsingAsyncRealTimeCheck) &&
--      g_browser_process->safe_browsing_service()) {
+-  if (g_browser_process->safe_browsing_service()) {
 -    safe_browsing::AsyncCheckTracker::CreateForWebContents(
 -        web_contents, g_browser_process->safe_browsing_service()->ui_manager(),
 -        safe_browsing::AsyncCheckTracker::
@@ -895,10 +500,10 @@
    if (site_engagement::SiteEngagementService::IsEnabled()) {
 --- a/chrome/browser/ui/views/download/BUILD.gn
 +++ b/chrome/browser/ui/views/download/BUILD.gn
-@@ -24,7 +24,6 @@ source_set("download") {
-     "bubble/download_bubble_started_animation_views.h",
-     "bubble/download_dialog_view.cc",
+@@ -27,7 +27,6 @@ source_set("download") {
      "bubble/download_dialog_view.h",
+     "bubble/download_toolbar_ui_controller.cc",
+     "bubble/download_toolbar_ui_controller.h",
 -    "download_danger_prompt_views.cc",
      "download_in_progress_dialog_view.cc",
      "download_in_progress_dialog_view.h",
@@ -913,7 +518,7 @@
  #include "chrome/browser/download/download_history.h"
  #include "chrome/browser/download/download_item_model.h"
  #include "chrome/browser/download/download_item_warning_data.h"
-@@ -687,12 +686,6 @@ void DownloadsDOMHandler::RemoveDownload
+@@ -536,12 +535,6 @@ void DownloadsDOMHandler::RemoveDownload
    IdSet ids;
  
    for (download::DownloadItem* download : to_remove) {
@@ -936,205 +541,9 @@
  #include "chrome/browser/download/download_warning_desktop_hats_utils.h"
  #include "chrome/browser/ui/webui/downloads/downloads.mojom-forward.h"
  #include "chrome/browser/ui/webui/downloads/downloads_list_tracker.h"
---- a/chrome/browser/ui/webui/interstitials/interstitial_ui.cc
-+++ b/chrome/browser/ui/webui/interstitials/interstitial_ui.cc
-@@ -292,65 +292,6 @@ CreateHttpsOnlyModePage(content::WebCont
-       /*use_new_interstitial=*/IsNewHttpsFirstModeInterstitialEnabled());
- }
- 
--std::unique_ptr<security_interstitials::SecurityInterstitialPage>
--CreateSafeBrowsingBlockingPage(content::WebContents* web_contents) {
--  safe_browsing::SBThreatType threat_type =
--      safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
--  GURL request_url("http://example.com");
--  std::string url_param;
--  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "url",
--                                 &url_param)) {
--    if (GURL(url_param).is_valid()) {
--      request_url = GURL(url_param);
--    }
--  }
--  std::string type_param;
--  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "type",
--                                 &type_param)) {
--    if (type_param == "malware") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
--    } else if (type_param == "phishing") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_PHISHING;
--    } else if (type_param == "unwanted") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_UNWANTED;
--    } else if (type_param == "clientside_phishing") {
--      threat_type =
--          safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING;
--    } else if (type_param == "billing") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_BILLING;
--    }
--  }
--  auto* primary_main_frame = web_contents->GetPrimaryMainFrame();
--  const content::GlobalRenderFrameHostId primary_main_frame_id =
--      primary_main_frame->GetGlobalId();
--  safe_browsing::SafeBrowsingBlockingPage::UnsafeResource resource;
--  resource.url = request_url;
--  resource.threat_type = threat_type;
--  resource.rfh_locator = UnsafeResourceLocator::CreateForRenderFrameToken(
--      primary_main_frame_id.child_id,
--      primary_main_frame->GetFrameToken().value());
--  resource.threat_source =
--      g_browser_process->safe_browsing_service()
--          ->database_manager()
--          ->GetBrowseUrlThreatSource(
--              safe_browsing::CheckBrowseUrlType::kHashDatabase);
--
--  // Normally safebrowsing interstitial types which block the main page load
--  // (SB_THREAT_TYPE_URL_MALWARE, SB_THREAT_TYPE_URL_PHISHING, and
--  // SB_THREAT_TYPE_URL_UNWANTED on main-frame loads) would expect there to be a
--  // pending navigation when the SafeBrowsingBlockingPage is created. This demo
--  // creates a SafeBrowsingBlockingPage but does not actually show a real
--  // interstitial. Instead it extracts the html and displays it manually, so the
--  // parts which depend on the NavigationEntry are not hit.
--  auto* ui_manager =
--      g_browser_process->safe_browsing_service()->ui_manager().get();
--  return base::WrapUnique<security_interstitials::SecurityInterstitialPage>(
--      ui_manager->CreateBlockingPage(
--          web_contents, request_url, {resource},
--          /*forward_extension_event=*/false,
--          /*blocked_page_shown_timestamp=*/std::nullopt));
--}
--
- std::unique_ptr<EnterpriseBlockPage> CreateEnterpriseBlockPage(
-     content::WebContents* web_contents) {
-   const GURL kRequestUrl("https://enterprise-block.example.net");
-@@ -370,36 +311,6 @@ std::unique_ptr<ManagedProfileRequiredPa
-                                                                kRequestUrl));
- }
- 
--std::unique_ptr<EnterpriseWarnPage> CreateEnterpriseWarnPage(
--    content::WebContents* web_contents) {
--  const GURL kRequestUrl("https://enterprise-warn.example.net");
--
--  auto* ui_manager =
--      g_browser_process->safe_browsing_service()->ui_manager().get();
--
--  auto* primary_main_frame = web_contents->GetPrimaryMainFrame();
--  const content::GlobalRenderFrameHostId primary_main_frame_id =
--      primary_main_frame->GetGlobalId();
--  safe_browsing::SafeBrowsingBlockingPage::UnsafeResource resource;
--  resource.url = kRequestUrl;
--  resource.threat_type =
--      safe_browsing::SBThreatType::SB_THREAT_TYPE_MANAGED_POLICY_WARN;
--  resource.rfh_locator = UnsafeResourceLocator::CreateForRenderFrameToken(
--      primary_main_frame_id.child_id,
--      primary_main_frame->GetFrameToken().value());
--  resource.threat_source =
--      g_browser_process->safe_browsing_service()
--          ->database_manager()
--          ->GetBrowseUrlThreatSource(
--              safe_browsing::CheckBrowseUrlType::kHashDatabase);
--
--  return std::make_unique<EnterpriseWarnPage>(
--      ui_manager, web_contents, kRequestUrl,
--      safe_browsing::SafeBrowsingBlockingPage::UnsafeResourceList({resource}),
--      std::make_unique<EnterpriseWarnControllerClient>(web_contents,
--                                                       kRequestUrl));
--}
--
- #if BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_WIN)
- std::unique_ptr<SupervisedUserVerificationPageForYouTube>
- CreateSupervisedUserVerificationPageForYouTube(
-@@ -436,63 +347,6 @@ CreateSupervisedUserVerificationPageForB
- }
- #endif
- 
--std::unique_ptr<TestSafeBrowsingBlockingPageQuiet>
--CreateSafeBrowsingQuietBlockingPage(content::WebContents* web_contents) {
--  safe_browsing::SBThreatType threat_type =
--      safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
--  GURL request_url("http://example.com");
--  std::string url_param;
--  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "url",
--                                 &url_param)) {
--    if (GURL(url_param).is_valid()) {
--      request_url = GURL(url_param);
--    }
--  }
--  std::string type_param;
--  bool is_giant_webview = false;
--  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "type",
--                                 &type_param)) {
--    if (type_param == "malware") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
--    } else if (type_param == "phishing") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_PHISHING;
--    } else if (type_param == "unwanted") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_UNWANTED;
--    } else if (type_param == "billing") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_BILLING;
--    } else if (type_param == "giant") {
--      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
--      is_giant_webview = true;
--    }
--  }
--  auto* primary_main_frame = web_contents->GetPrimaryMainFrame();
--  const content::GlobalRenderFrameHostId primary_main_frame_id =
--      primary_main_frame->GetGlobalId();
--  safe_browsing::SafeBrowsingBlockingPage::UnsafeResource resource;
--  resource.url = request_url;
--  resource.threat_type = threat_type;
--  resource.rfh_locator = UnsafeResourceLocator::CreateForRenderFrameToken(
--      primary_main_frame_id.child_id,
--      primary_main_frame->GetFrameToken().value());
--  resource.threat_source =
--      g_browser_process->safe_browsing_service()
--          ->database_manager()
--          ->GetBrowseUrlThreatSource(
--              safe_browsing::CheckBrowseUrlType::kHashDatabase);
--
--  // Normally safebrowsing interstitial types which block the main page load
--  // (SB_THREAT_TYPE_URL_MALWARE, SB_THREAT_TYPE_URL_PHISHING, and
--  // SB_THREAT_TYPE_URL_UNWANTED on main-frame loads) would expect there to be a
--  // pending navigation when the SafeBrowsingBlockingPage is created. This demo
--  // creates a SafeBrowsingBlockingPage but does not actually show a real
--  // interstitial. Instead it extracts the html and displays it manually, so the
--  // parts which depend on the NavigationEntry are not hit.
--  return base::WrapUnique<TestSafeBrowsingBlockingPageQuiet>(
--      TestSafeBrowsingBlockingPageQuiet::CreateBlockingPage(
--          g_browser_process->safe_browsing_service()->ui_manager().get(),
--          web_contents, request_url, resource, is_giant_webview));
--}
--
- #if BUILDFLAG(ENABLE_CAPTIVE_PORTAL_DETECTION)
- std::unique_ptr<CaptivePortalBlockingPage> CreateCaptivePortalBlockingPage(
-     content::WebContents* web_contents) {
-@@ -601,12 +455,8 @@ void InterstitialHTMLSource::StartDataRe
-     interstitial_delegate = CreateMITMSoftwareBlockingPage(web_contents);
-   } else if (path_without_query == "/blocked-interception") {
-     interstitial_delegate = CreateBlockedInterceptionBlockingPage(web_contents);
--  } else if (path_without_query == "/safebrowsing") {
--    interstitial_delegate = CreateSafeBrowsingBlockingPage(web_contents);
-   } else if (path_without_query == "/enterprise-block") {
-     interstitial_delegate = CreateEnterpriseBlockPage(web_contents);
--  } else if (path_without_query == "/enterprise-warn") {
--    interstitial_delegate = CreateEnterpriseWarnPage(web_contents);
-   } else if (path_without_query == "/clock") {
-     interstitial_delegate = CreateBadClockBlockingPage(web_contents);
-   } else if (path_without_query == "/lookalike") {
-@@ -638,12 +488,7 @@ void InterstitialHTMLSource::StartDataRe
- #endif
-   }
- 
--  if (path_without_query == "/quietsafebrowsing") {
--    std::unique_ptr<TestSafeBrowsingBlockingPageQuiet> blocking_page =
--        CreateSafeBrowsingQuietBlockingPage(web_contents);
--    html = blocking_page->GetHTML();
--    interstitial_delegate = std::move(blocking_page);
--  } else if (path_without_query == "/supervised-user-ask-parent") {
-+  if (path_without_query == "/supervised-user-ask-parent") {
-     html = GetSupervisedUserInterstitialHTML(path);
-   } else if (interstitial_delegate.get()) {
-     html = interstitial_delegate.get()->GetHTMLContents();
 --- a/chrome/renderer/chrome_content_renderer_client.cc
 +++ b/chrome/renderer/chrome_content_renderer_client.cc
-@@ -110,7 +110,6 @@
+@@ -113,7 +113,6 @@
  #include "components/pdf/common/pdf_util.h"
  #include "components/permissions/features.h"
  #include "components/safe_browsing/buildflags.h"
@@ -1142,7 +551,7 @@
  #include "components/sampling_profiler/process_type.h"
  #include "components/sampling_profiler/thread_profiler.h"
  #include "components/security_interstitials/content/renderer/security_interstitial_page_controller_delegate_impl.h"
-@@ -477,12 +476,8 @@ void ChromeContentRendererClient::Render
+@@ -484,12 +483,8 @@ void ChromeContentRendererClient::Render
      thread->AddObserver(fingerprinting_protection_ruleset_dealer_.get());
    }
  
diff --git a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
index 91dd255c62..c8614e2e5c 100644
--- a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
+++ b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
@@ -1,6 +1,6 @@
 --- a/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
 +++ b/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
-@@ -874,93 +874,6 @@ std::tuple<GURL, std::string> AutofillCr
+@@ -868,93 +868,6 @@ std::tuple<GURL, std::string> AutofillCr
  }
  
  bool AutofillCrowdsourcingManager::StartRequest(FormRequestData request_data) {
diff --git a/patches/core/inox-patchset/0005-disable-default-extensions.patch b/patches/core/inox-patchset/0005-disable-default-extensions.patch
index 39c88c2d46..24f88af5ef 100644
--- a/patches/core/inox-patchset/0005-disable-default-extensions.patch
+++ b/patches/core/inox-patchset/0005-disable-default-extensions.patch
@@ -10,7 +10,7 @@
        extension_misc::kAssessmentAssistantExtensionId,
 --- a/chrome/browser/extensions/component_loader.cc
 +++ b/chrome/browser/extensions/component_loader.cc
-@@ -414,11 +414,6 @@ void ComponentLoader::AddWebStoreApp() {
+@@ -410,11 +410,6 @@ void ComponentLoader::AddWebStoreApp() {
      return;
    }
  #endif
@@ -24,7 +24,7 @@
  #if BUILDFLAG(IS_CHROMEOS)
 --- a/chrome/browser/extensions/external_component_loader.cc
 +++ b/chrome/browser/extensions/external_component_loader.cc
-@@ -34,9 +34,6 @@ ExternalComponentLoader::~ExternalCompon
+@@ -37,9 +37,6 @@ ExternalComponentLoader::~ExternalCompon
  
  void ExternalComponentLoader::StartLoading() {
    auto prefs = base::Value::Dict();
@@ -36,7 +36,7 @@
    {
 --- a/chrome/browser/extensions/webstore_installer.cc
 +++ b/chrome/browser/extensions/webstore_installer.cc
-@@ -519,20 +519,6 @@ void WebstoreInstaller::DownloadNextPend
+@@ -520,20 +520,6 @@ void WebstoreInstaller::DownloadNextPend
  
  void WebstoreInstaller::DownloadCrx(const extensions::ExtensionId& extension_id,
                                      InstallSource source) {
@@ -57,7 +57,7 @@
  }
  
  // http://crbug.com/165634
-@@ -678,25 +664,6 @@ void WebstoreInstaller::UpdateDownloadPr
+@@ -679,25 +665,6 @@ void WebstoreInstaller::UpdateDownloadPr
  void WebstoreInstaller::StartCrxInstaller(const DownloadItem& download) {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
    DCHECK(!crx_installer_.get());
diff --git a/patches/core/inox-patchset/0015-disable-update-pings.patch b/patches/core/inox-patchset/0015-disable-update-pings.patch
index c6d23fc3bb..6100ffca27 100644
--- a/patches/core/inox-patchset/0015-disable-update-pings.patch
+++ b/patches/core/inox-patchset/0015-disable-update-pings.patch
@@ -1,6 +1,6 @@
 --- a/chrome/updater/configurator.cc
 +++ b/chrome/updater/configurator.cc
-@@ -113,7 +113,7 @@ base::TimeDelta Configurator::UpdateDela
+@@ -114,7 +114,7 @@ base::TimeDelta Configurator::UpdateDela
  
  std::vector<GURL> Configurator::UpdateUrl() const {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
diff --git a/patches/core/inox-patchset/0021-disable-rlz.patch b/patches/core/inox-patchset/0021-disable-rlz.patch
index 972eb305f4..bfb138a3bb 100644
--- a/patches/core/inox-patchset/0021-disable-rlz.patch
+++ b/patches/core/inox-patchset/0021-disable-rlz.patch
@@ -2,7 +2,7 @@
 
 --- a/BUILD.gn
 +++ b/BUILD.gn
-@@ -476,14 +476,6 @@ group("gn_all") {
+@@ -477,14 +477,6 @@ group("gn_all") {
        deps += [ "//chromeos:chromeos_unittests" ]
      }
  
diff --git a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
index 399834ee0e..3f8d583eff 100644
--- a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
+++ b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
@@ -112,7 +112,7 @@ by default.
      scoped_refptr<base::SequencedTaskRunner> task_runner)
 --- a/chrome/browser/media/webrtc/webrtc_log_uploader.cc
 +++ b/chrome/browser/media/webrtc/webrtc_log_uploader.cc
-@@ -533,7 +533,7 @@ void WebRtcLogUploader::UploadCompressed
+@@ -538,7 +538,7 @@ void WebRtcLogUploader::UploadCompressed
            }
          })");
  
@@ -178,21 +178,21 @@ by default.
                base::ToLowerASCII(bdict_file));
 --- a/chrome/browser/ui/dialogs/outdated_upgrade_bubble.cc
 +++ b/chrome/browser/ui/dialogs/outdated_upgrade_bubble.cc
-@@ -44,7 +44,7 @@ const char* kUpdateBrowserRedirectUrl =
- #else
-     // The URL to be used to re-install Chrome when auto-update failed for
-     // too long.
--    "https://www.google.com/chrome";
-+    "trk:242:https://www.google.com/chrome";
- #endif
+@@ -33,7 +33,7 @@
+ namespace {
+ 
+ // The URL to be used to re-install Chrome when auto-update failed for too long.
+-const char* kUpdateBrowserRedirectUrl = "https://www.google.com/chrome";
++const char* kUpdateBrowserRedirectUrl = "trk:242:https://www.google.com/chrome";
  
  bool g_upgrade_bubble_is_showing = false;
+ 
 --- a/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
 +++ b/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
 @@ -72,17 +72,17 @@ namespace {
  // The URL for the the Learn More page shown on incognito new tab.
  const char kLearnMoreIncognitoUrl[] =
- #if BUILDFLAG(IS_CHROMEOS_ASH)
+ #if BUILDFLAG(IS_CHROMEOS)
 -    "https://support.google.com/chromebook/?p=incognito";
 +    "trk:246:https://support.google.com/chromebook/?p=incognito";
  #else
@@ -202,7 +202,7 @@ by default.
  
  // The URL for the Learn More page shown on guest session new tab.
  const char kLearnMoreGuestSessionUrl[] =
- #if BUILDFLAG(IS_CHROMEOS_ASH)
+ #if BUILDFLAG(IS_CHROMEOS)
 -    "https://support.google.com/chromebook/?p=chromebook_guest";
 +    "trk:248:https://support.google.com/chromebook/?p=chromebook_guest";
  #else
@@ -274,7 +274,7 @@ by default.
  
 --- a/components/google/core/common/google_util.cc
 +++ b/components/google/core/common/google_util.cc
-@@ -151,7 +151,7 @@ bool IsGoogleSearchSubdomainUrl(const GU
+@@ -147,7 +147,7 @@ bool IsGoogleSearchSubdomainUrl(const GU
  
  // Global functions -----------------------------------------------------------
  
@@ -405,7 +405,7 @@ by default.
    GURL url(base::WideToUTF16(args[0]));
 --- a/extensions/common/extension_urls.cc
 +++ b/extensions/common/extension_urls.cc
-@@ -38,10 +38,10 @@ const GURL* g_item_snippet_url_for_test_
+@@ -39,10 +39,10 @@ const GURL* g_item_snippet_url_for_test_
  
  }  // namespace
  
diff --git a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
index 43f85cd1d5..9ebd611bd2 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
@@ -56,7 +56,7 @@ the URL so we get notified if this happens again in the future).
  IncidentReportingService::IncidentReportingService(
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -383,7 +383,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
+@@ -379,7 +379,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
  }
  
  void SafeBrowsingServiceImpl::RegisterAllDelayedAnalysis() {
diff --git a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
index 6614c92cce..187f709c6f 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
@@ -13,7 +13,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
 
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -310,6 +310,10 @@ void ClientSideDetectionService::StartCl
+@@ -314,6 +314,10 @@ void ClientSideDetectionService::StartCl
      return;
    }
  
@@ -24,7 +24,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
    std::string request_data;
    request->SerializeToString(&request_data);
  
-@@ -392,6 +396,7 @@ void ClientSideDetectionService::StartCl
+@@ -396,6 +400,7 @@ void ClientSideDetectionService::StartCl
        base::BindOnce(&WebUIInfoSingleton::AddToClientPhishingRequestsSent,
                       base::Unretained(WebUIInfoSingleton::GetInstance()),
                       std::move(request), access_token));
diff --git a/patches/core/ungoogled-chromium/block-requests.patch b/patches/core/ungoogled-chromium/block-requests.patch
index fefc15d460..8ed56c6473 100644
--- a/patches/core/ungoogled-chromium/block-requests.patch
+++ b/patches/core/ungoogled-chromium/block-requests.patch
@@ -8,7 +8,7 @@
 # Dev tools attempts to download css data
 --- a/chrome/browser/new_tab_page/one_google_bar/one_google_bar_loader_impl.cc
 +++ b/chrome/browser/new_tab_page/one_google_bar/one_google_bar_loader_impl.cc
-@@ -290,6 +290,7 @@ OneGoogleBarLoaderImpl::OneGoogleBarLoad
+@@ -301,6 +301,7 @@ OneGoogleBarLoaderImpl::OneGoogleBarLoad
  OneGoogleBarLoaderImpl::~OneGoogleBarLoaderImpl() = default;
  
  void OneGoogleBarLoaderImpl::Load(OneGoogleCallback callback) {
@@ -18,7 +18,7 @@
    // Note: If there is an ongoing request, abandon it. It's possible that
 --- a/chrome/browser/new_tab_page/promos/promo_service.cc
 +++ b/chrome/browser/new_tab_page/promos/promo_service.cc
-@@ -170,6 +170,7 @@ PromoService::PromoService(
+@@ -175,6 +175,7 @@ PromoService::PromoService(
  PromoService::~PromoService() = default;
  
  void PromoService::Refresh() {
diff --git a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
index 671d0cc9aa..6bfdf57656 100644
--- a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
+++ b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
@@ -35,7 +35,7 @@
  
 --- a/components/omnibox/browser/autocomplete_input.cc
 +++ b/components/omnibox/browser/autocomplete_input.cc
-@@ -568,7 +568,8 @@ void AutocompleteInput::ParseForEmphasiz
+@@ -582,7 +582,8 @@ void AutocompleteInput::ParseForEmphasiz
    // For the view-source and blob schemes, we should emphasize the host of the
    // URL qualified by the view-source or blob prefix.
    if ((base::EqualsCaseInsensitiveASCII(scheme_str, kViewSourceScheme) ||
@@ -70,7 +70,7 @@
    // other origins, so we should not treat them as web safe. Remove callers of
 --- a/net/BUILD.gn
 +++ b/net/BUILD.gn
-@@ -1065,6 +1065,8 @@ component("net") {
+@@ -1071,6 +1071,8 @@ component("net") {
      "url_request/referrer_policy.h",
      "url_request/static_http_user_agent_settings.cc",
      "url_request/static_http_user_agent_settings.h",
diff --git a/patches/core/ungoogled-chromium/disable-crash-reporter.patch b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
index a281731fdc..aa948ac64b 100644
--- a/patches/core/ungoogled-chromium/disable-crash-reporter.patch
+++ b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -2702,24 +2702,6 @@ void ChromeContentBrowserClient::AppendE
+@@ -2700,24 +2700,6 @@ void ChromeContentBrowserClient::AppendE
      command_line->AppendSwitchASCII(switches::kMetricsClientID,
                                      client_info->client_id);
    }
@@ -29,7 +29,7 @@
    if (logging::DialogsAreSuppressed())
 --- a/components/crash/core/app/crashpad.cc
 +++ b/components/crash/core/app/crashpad.cc
-@@ -68,6 +68,12 @@ void InitializeDatabasePath(const base::
+@@ -72,6 +72,12 @@ void InitializeDatabasePath(const base::
  }
  
  bool InitializeCrashpadImpl(bool initial_client,
diff --git a/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch b/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
index 01078ce0b8..6ab6485ab3 100644
--- a/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
+++ b/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
@@ -2,7 +2,7 @@
 
 --- a/components/dom_distiller/content/browser/dom_distiller_viewer_source.cc
 +++ b/components/dom_distiller/content/browser/dom_distiller_viewer_source.cc
-@@ -292,7 +292,7 @@ bool DomDistillerViewerSource::ShouldSer
+@@ -297,7 +297,7 @@ bool DomDistillerViewerSource::ShouldSer
  std::string DomDistillerViewerSource::GetContentSecurityPolicy(
      network::mojom::CSPDirectiveName directive) {
    if (directive == network::mojom::CSPDirectiveName::StyleSrc) {
@@ -35,16 +35,20 @@
    document.head.appendChild(e);
 --- a/third_party/crashpad/crashpad/doc/support/crashpad_doxygen.css
 +++ b/third_party/crashpad/crashpad/doc/support/crashpad_doxygen.css
-@@ -12,8 +12,7 @@
+@@ -12,11 +12,11 @@
   * See the License for the specific language governing permissions and
   * limitations under the License. */
  
--@import "https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&subset=latin,cyrillic-ext,greek-ext,cyrillic,greek,vietnamese,latin-ext";
--@import "https://fonts.googleapis.com/css?family=Source+Code+Pro";
+-@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');
+-@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap');
 +@import "chrome://resources/css/roboto.css";
  
- body,
- table,
+ :root {
+   --font-family-normal: 'Noto Sans',
++    'Roboto',
+     'Lucida Grande',
+     'Lucida Sans Unicode',
+     Helvetica,
 --- a/tools/md_browser/base.css
 +++ b/tools/md_browser/base.css
 @@ -16,8 +16,7 @@
diff --git a/patches/core/ungoogled-chromium/disable-gcm.patch b/patches/core/ungoogled-chromium/disable-gcm.patch
index 04efd3c0f1..a449671f7d 100644
--- a/patches/core/ungoogled-chromium/disable-gcm.patch
+++ b/patches/core/ungoogled-chromium/disable-gcm.patch
@@ -2,7 +2,7 @@
 
 --- a/components/gcm_driver/gcm_client_impl.cc
 +++ b/components/gcm_driver/gcm_client_impl.cc
-@@ -449,6 +449,7 @@ void GCMClientImpl::StartGCM() {
+@@ -432,6 +432,7 @@ void GCMClientImpl::StartGCM() {
  
  void GCMClientImpl::InitializeMCSClient() {
    DCHECK(network_connection_tracker_);
@@ -10,7 +10,7 @@
    std::vector<GURL> endpoints;
    endpoints.push_back(gservices_settings_.GetMCSMainEndpoint());
    GURL fallback_endpoint = gservices_settings_.GetMCSFallbackEndpoint();
-@@ -653,28 +654,6 @@ void GCMClientImpl::RemoveHeartbeatInter
+@@ -611,23 +612,6 @@ void GCMClientImpl::RemoveHeartbeatInter
  
  void GCMClientImpl::StartCheckin() {
    DCHECK(io_task_runner_->RunsTasksInCurrentSequence());
@@ -22,24 +22,19 @@
 -  checkin_proto::ChromeBuildProto chrome_build_proto;
 -  ToCheckinProtoVersion(chrome_build_info_, &chrome_build_proto);
 -
--  std::map<std::string, std::string> empty_account_tokens;
--
 -  CheckinRequest::RequestInfo request_info(
 -      device_checkin_info_.android_id, device_checkin_info_.secret,
--      empty_account_tokens, gservices_settings_.digest(), chrome_build_proto);
+-      gservices_settings_.digest(), chrome_build_proto);
 -  checkin_request_ = std::make_unique<CheckinRequest>(
 -      gservices_settings_.GetCheckinURL(), request_info, GetGCMBackoffPolicy(),
 -      base::BindOnce(&GCMClientImpl::OnCheckinCompleted,
 -                     weak_ptr_factory_.GetWeakPtr()),
 -      url_loader_factory_, io_task_runner_, &recorder_);
--  // Taking a snapshot of the accounts count here, as there might be an asynch
--  // update of the account tokens while checkin is in progress.
--  device_checkin_info_.SnapshotCheckinAccounts();
 -  checkin_request_->Start();
  }
  
  void GCMClientImpl::OnCheckinCompleted(
-@@ -731,24 +710,6 @@ void GCMClientImpl::SetGServicesSettings
+@@ -684,24 +668,6 @@ void GCMClientImpl::SetGServicesSettings
  
  void GCMClientImpl::SchedulePeriodicCheckin() {
    DCHECK(io_task_runner_->RunsTasksInCurrentSequence());
diff --git a/patches/core/ungoogled-chromium/disable-google-host-detection.patch b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
index e3f1f86a85..5e42597547 100644
--- a/patches/core/ungoogled-chromium/disable-google-host-detection.patch
+++ b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
@@ -197,7 +197,7 @@
  #if BUILDFLAG(ENABLE_BOUND_SESSION_CREDENTIALS)
 --- a/components/google/core/common/google_util.cc
 +++ b/components/google/core/common/google_util.cc
-@@ -36,117 +36,6 @@ namespace google_util {
+@@ -32,117 +32,6 @@ namespace google_util {
  
  namespace {
  
@@ -315,7 +315,7 @@
  }  // namespace
  
  // Global functions -----------------------------------------------------------
-@@ -154,13 +43,6 @@ bool IsGoogleSearchSubdomainUrl(const GU
+@@ -150,13 +39,6 @@ bool IsGoogleSearchSubdomainUrl(const GU
  const char kGoogleHomepageURL[] = "trk:113:https://www.google.com/";
  
  bool HasGoogleSearchQueryParam(std::string_view str) {
@@ -329,7 +329,7 @@
    return false;
  }
  
-@@ -171,170 +53,53 @@ std::string GetGoogleLocale(const std::s
+@@ -167,170 +49,53 @@ std::string GetGoogleLocale(const std::s
  
  GURL AppendGoogleLocaleParam(const GURL& url,
                               const std::string& application_locale) {
@@ -475,7 +475,7 @@
 -
 -  // Some domains don't have international TLD extensions, so testing for them
 -  // is very straightforward.
--  static const char* kSuffixesToSetHeadersFor[] = {
+-  static auto kSuffixesToSetHeadersFor = std::to_array<const char*>({
 -      ".android.com",
 -      ".doubleclick.com",
 -      ".doubleclick.net",
@@ -489,7 +489,7 @@
 -      ".litepages.googlezip.net",
 -      ".youtubekids.com",
 -      ".ytimg.com",
--  };
+-  });
 -  const std::string host = url.host();
 -  for (auto* i : kSuffixesToSetHeadersFor) {
 -    if (base::EndsWith(host, i, base::CompareCase::INSENSITIVE_ASCII)) {
@@ -498,9 +498,9 @@
 -  }
 -
 -  // Exact hostnames in lowercase to set headers for.
--  static const char* kHostsToSetHeadersFor[] = {
+-  static auto kHostsToSetHeadersFor = std::to_array<const char*>({
 -      "googleweblight.com",
--  };
+-  });
 -  for (auto* i : kHostsToSetHeadersFor) {
 -    if (base::EqualsCaseInsensitiveASCII(host, i)) {
 -      return true;
@@ -565,15 +565,14 @@
  bool IsProbablyGoogleSearchUrl(const GURL& url) {
 --- a/components/search_engines/template_url.cc
 +++ b/components/search_engines/template_url.cc
-@@ -609,11 +609,7 @@ std::u16string TemplateURLRef::SearchTer
+@@ -614,10 +614,7 @@ std::u16string TemplateURLRef::SearchTer
  bool TemplateURLRef::HasGoogleBaseURLs(
      const SearchTermsData& search_terms_data) const {
    ParseIfNecessary(search_terms_data);
--  return base::ranges::any_of(
--      replacements_, [](const Replacement& replacement) {
--        return replacement.type == GOOGLE_BASE_URL ||
--               replacement.type == GOOGLE_BASE_SUGGEST_URL;
--      });
+-  return std::ranges::any_of(replacements_, [](const Replacement& replacement) {
+-    return replacement.type == GOOGLE_BASE_URL ||
+-           replacement.type == GOOGLE_BASE_SUGGEST_URL;
+-  });
 +  return false;
  }
  
@@ -682,7 +681,7 @@
  }  // namespace variations
 --- a/content/browser/preloading/prefetch/prefetch_container.cc
 +++ b/content/browser/preloading/prefetch/prefetch_container.cc
-@@ -988,7 +988,7 @@ void PrefetchContainer::AddRedirectHop(c
+@@ -986,7 +986,7 @@ void PrefetchContainer::AddRedirectHop(c
    // some which are added by throttles). These aren't yet supported for
    // prefetch, including browsing topics and client hints.
    net::HttpRequestHeaders updated_headers;
diff --git a/patches/core/ungoogled-chromium/disable-mei-preload.patch b/patches/core/ungoogled-chromium/disable-mei-preload.patch
index eed8f9f0ba..9f9164af09 100644
--- a/patches/core/ungoogled-chromium/disable-mei-preload.patch
+++ b/patches/core/ungoogled-chromium/disable-mei-preload.patch
@@ -7,15 +7,15 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -372,7 +372,6 @@ if (!is_android && !is_mac) {
-       }
+@@ -368,7 +368,6 @@ if (!is_android && !is_mac) {
+     }
  
-       data_deps += [
--        "//chrome/browser/resources/media/mei_preload:component",
-         "//chrome/browser/web_applications/isolated_web_apps/key_distribution/preload:component",
-         "//third_party/widevine/cdm",
-       ]
-@@ -1212,7 +1211,6 @@ if (is_win) {
+     data_deps += [
+-      "//chrome/browser/resources/media/mei_preload:component",
+       "//chrome/browser/web_applications/isolated_web_apps/key_distribution/preload:component",
+       "//third_party/widevine/cdm",
+     ]
+@@ -1198,7 +1197,6 @@ if (is_win) {
        ":optimization_guide_library",
        ":swiftshader_binaries",
        ":widevine_cdm_library",
@@ -25,7 +25,7 @@
  
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -90,11 +90,6 @@ group("resources") {
+@@ -87,11 +87,6 @@ group("resources") {
      public_deps += [ "accessibility:reading_mode_gdocs_extension_resources" ]
    }
  
diff --git a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
index fcce77d3ee..c2034018d3 100644
--- a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
+++ b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
@@ -1,14 +1,46 @@
---- a/components/attribution_reporting/features.cc
-+++ b/components/attribution_reporting/features.cc
-@@ -11,7 +11,7 @@ namespace attribution_reporting::feature
- // Controls whether the Conversion Measurement API infrastructure is enabled.
- BASE_FEATURE(kConversionMeasurement,
-              "ConversionMeasurement",
--             base::FEATURE_ENABLED_BY_DEFAULT);
-+             base::FEATURE_DISABLED_BY_DEFAULT);
- 
- BASE_FEATURE(kAttributionAggregatableNamedBudgets,
-              "AttributionAggregatableNamedBudgets",
+--- a/components/browsing_data/content/browsing_data_model.cc
++++ b/components/browsing_data/content/browsing_data_model.cc
+@@ -1002,12 +1002,6 @@ void BrowsingDataModel::PopulateFromDisk
+       base::FeatureList::IsEnabled(blink::features::kSharedStorageAPI);
+   bool is_shared_dictionary_enabled = base::FeatureList::IsEnabled(
+       network::features::kCompressionDictionaryTransportBackend);
+-  bool is_interest_group_enabled =
+-      base::FeatureList::IsEnabled(blink::features::kInterestGroupStorage);
+-  bool is_attribution_reporting_enabled = base::FeatureList::IsEnabled(
+-      attribution_reporting::features::kConversionMeasurement);
+-  bool is_private_aggregation_enabled =
+-      base::FeatureList::IsEnabled(blink::features::kPrivateAggregationApi);
+ 
+   base::RepeatingClosure completion =
+       base::BindRepeating([](const base::OnceClosure&) {},
+@@ -1044,27 +1038,7 @@ void BrowsingDataModel::PopulateFromDisk
+         base::BindOnce(&OnSharedDictionaryUsageLoaded, this, completion));
+   }
+ 
+-  // Interest Groups
+-  if (is_interest_group_enabled) {
+-    content::InterestGroupManager* manager =
+-        storage_partition_->GetInterestGroupManager();
+-    if (manager) {
+-      manager->GetAllInterestGroupDataKeys(
+-          base::BindOnce(&OnInterestGroupsLoaded, this, completion));
+-    }
+-  }
+-
+-  // Attribution Reporting
+-  if (is_attribution_reporting_enabled) {
+-    storage_partition_->GetAttributionDataModel()->GetAllDataKeys(
+-        base::BindOnce(&OnAttributionReportingLoaded, this, completion));
+-  }
+ 
+-  // Private Aggregation
+-  if (is_private_aggregation_enabled) {
+-    storage_partition_->GetPrivateAggregationDataModel()->GetAllDataKeys(
+-        base::BindOnce(&OnPrivateAggregationLoaded, this, completion));
+-  }
+ 
+ #if BUILDFLAG(ENABLE_LIBRARY_CDMS)
+   storage_partition_->GetCdmStorageDataModel()->GetUsagePerAllStorageKeys(
 --- a/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
 +++ b/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
 @@ -131,7 +131,7 @@ std::set<browsing_topics::Topic> GetTopi
@@ -20,7 +52,7 @@
  }
  
  // static
-@@ -851,7 +851,7 @@ void PrivacySandboxSettingsImpl::SetTopi
+@@ -850,7 +850,7 @@ void PrivacySandboxSettingsImpl::SetTopi
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxRestricted() const {
@@ -29,7 +61,7 @@
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxCurrentlyUnrestricted() const {
-@@ -937,11 +937,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
+@@ -936,11 +936,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
      return Status::kIncognitoProfile;
    }
  
@@ -41,3 +73,223 @@
  }
  
  PrivacySandboxSettingsImpl::Status
+--- a/content/browser/attribution_reporting/attribution_suitable_context.cc
++++ b/content/browser/attribution_reporting/attribution_suitable_context.cc
+@@ -44,67 +44,7 @@ std::optional<AttributionSuitableContext
+ // static
+ std::optional<AttributionSuitableContext> AttributionSuitableContext::Create(
+     RenderFrameHostImpl* initiator_frame) {
+-  if (!initiator_frame) {
+     return std::nullopt;
+-  }
+-
+-  if (!base::FeatureList::IsEnabled(
+-          attribution_reporting::features::kConversionMeasurement)) {
+-    return std::nullopt;
+-  }
+-
+-  if (!initiator_frame->IsFeatureEnabled(
+-          network::mojom::PermissionsPolicyFeature::kAttributionReporting)) {
+-    return std::nullopt;
+-  }
+-  RenderFrameHostImpl* initiator_root_frame =
+-      initiator_frame->GetOutermostMainFrame();
+-  CHECK(initiator_root_frame);
+-
+-  // We need a suitable origin here because we need to be able to eventually
+-  // store it as either the source or destination origin. Using
+-  // `is_web_secure_context` only would allow opaque origins to pass through,
+-  // but they cannot be handled by the storage layer.
+-  std::optional<attribution_reporting::SuitableOrigin>
+-      initiator_root_frame_origin = SuitableOrigin::Create(
+-          initiator_root_frame->GetLastCommittedOrigin());
+-  if (!initiator_root_frame_origin.has_value()) {
+-    return std::nullopt;
+-  }
+-  // If the `initiator_frame` is a subframe, it's origin's security isn't
+-  // covered by the SuitableOrigin check above, we therefore validate that it's
+-  // origin is secure using `is_web_secure_context`.
+-  if (initiator_frame != initiator_root_frame &&
+-      !initiator_frame->policy_container_host()
+-           ->policies()
+-           .is_web_secure_context) {
+-    return std::nullopt;
+-  }
+-
+-  auto* web_contents = WebContents::FromRenderFrameHost(initiator_frame);
+-  if (!web_contents) {
+-    return std::nullopt;
+-  }
+-  auto* manager = AttributionManager::FromWebContents(web_contents);
+-  CHECK(manager);
+-
+-  auto* attribution_host = AttributionHost::FromWebContents(web_contents);
+-  CHECK(attribution_host);
+-
+-  AttributionDataHostManager* data_host_manager = manager->GetDataHostManager();
+-  CHECK(data_host_manager);
+-
+-  return AttributionSuitableContext(
+-      /*context_origin=*/std::move(initiator_root_frame_origin.value()),
+-      initiator_frame->IsNestedWithinFencedFrame(),
+-      initiator_root_frame->GetGlobalId(), initiator_frame->navigation_id(),
+-      attribution_host->GetMostRecentNavigationInputEvent(),
+-      AttributionOsLevelManager::GetAttributionReportingOsRegistrars(
+-          web_contents),
+-      !url_matcher::util::GetGoogleAmpViewerEmbeddedURL(
+-           initiator_root_frame->GetLastCommittedURL())
+-           .is_empty(),
+-      data_host_manager->AsWeakPtr());
+ }
+ 
+ // static
+--- a/content/browser/interest_group/ad_auction_service_impl.cc
++++ b/content/browser/interest_group/ad_auction_service_impl.cc
+@@ -217,11 +217,6 @@ AdAuctionServiceImpl::BiddingAndAuctionD
+ void AdAuctionServiceImpl::CreateMojoService(
+     RenderFrameHost* render_frame_host,
+     mojo::PendingReceiver<blink::mojom::AdAuctionService> receiver) {
+-  CHECK(render_frame_host);
+-
+-  // The object is bound to the lifetime of `render_frame_host` and the mojo
+-  // connection. See DocumentService for details.
+-  new AdAuctionServiceImpl(*render_frame_host, std::move(receiver));
+ }
+ 
+ void AdAuctionServiceImpl::JoinInterestGroup(
+--- a/content/browser/storage_partition_impl.cc
++++ b/content/browser/storage_partition_impl.cc
+@@ -1482,38 +1482,7 @@ void StoragePartitionImpl::Initialize(
+ 
+   bucket_manager_ = std::make_unique<BucketManager>(this);
+ 
+-  if (base::FeatureList::IsEnabled(
+-          attribution_reporting::features::kConversionMeasurement)) {
+-    // The Conversion Measurement API is not available in Incognito mode, but
+-    // this is enforced by the `AttributionManagerImpl` itself for better error
+-    // reporting and metrics.
+-    attribution_manager_ = std::make_unique<AttributionManagerImpl>(
+-        this, path, special_storage_policy_);
+-  }
+ 
+-  if (base::FeatureList::IsEnabled(blink::features::kInterestGroupStorage)) {
+-    // Auction worklets on non-Android use dedicated processes; on Android due
+-    // to high cost of process launch they try to reuse renderers.
+-    interest_group_manager_ = std::make_unique<InterestGroupManagerImpl>(
+-        path, is_in_memory(),
+-#if BUILDFLAG(IS_ANDROID)
+-        InterestGroupManagerImpl::ProcessMode::kInRenderer,
+-#else
+-        InterestGroupManagerImpl::ProcessMode::kDedicated,
+-#endif
+-        GetURLLoaderFactoryForBrowserProcess(),
+-        base::BindRepeating(&BrowserContext::GetKAnonymityServiceDelegate,
+-                            // This use of Unretained is safe since the browser
+-                            // context owns this storage partition.
+-                            base::Unretained(browser_context_)));
+-  }
+-
+-  // The Topics API is not available in Incognito mode.
+-  if (!is_in_memory() &&
+-      base::FeatureList::IsEnabled(blink::features::kBrowsingTopics)) {
+-    browsing_topics_site_data_manager_ =
+-        std::make_unique<BrowsingTopicsSiteDataManagerImpl>(path);
+-  }
+ 
+   GeneratedCodeCacheSettings settings =
+       GetContentClient()->browser()->GetGeneratedCodeCacheSettings(
+@@ -1542,8 +1511,6 @@ void StoragePartitionImpl::Initialize(
+ 
+   font_access_manager_ = FontAccessManager::Create();
+ 
+-  aggregation_service_ =
+-      std::make_unique<AggregationServiceImpl>(is_in_memory(), path, this);
+ 
+ #if BUILDFLAG(ENABLE_LIBRARY_CDMS)
+   if (is_in_memory()) {
+@@ -1567,11 +1534,6 @@ void StoragePartitionImpl::Initialize(
+         std::make_unique<SharedStorageHeaderObserver>(this);
+   }
+ 
+-  if (base::FeatureList::IsEnabled(blink::features::kPrivateAggregationApi)) {
+-    private_aggregation_manager_ =
+-        std::make_unique<PrivateAggregationManagerImpl>(is_in_memory(), path,
+-                                                        this);
+-  }
+ }
+ 
+ void StoragePartitionImpl::OnStorageServiceDisconnected() {
+--- a/content/browser/web_contents/web_contents_impl.cc
++++ b/content/browser/web_contents/web_contents_impl.cc
+@@ -3857,12 +3857,6 @@ void WebContentsImpl::Init(const WebCont
+   DateTimeChooser::CreateDateTimeChooser(this);
+ #endif
+ 
+-  // AttributionHost must be created after `view_->CreateView()` is called as it
+-  // may invoke `WebContentsAndroid::AddObserver()`.
+-  if (base::FeatureList::IsEnabled(
+-          attribution_reporting::features::kConversionMeasurement)) {
+-    AttributionHost::CreateForWebContents(this);
+-  }
+ 
+   RedirectChainDetector::CreateForWebContents(this);
+   BtmWebContentsObserver::MaybeCreateForWebContents(this);
+--- a/content/services/auction_worklet/private_aggregation_bindings.cc
++++ b/content/services/auction_worklet/private_aggregation_bindings.cc
+@@ -402,56 +402,6 @@ PrivateAggregationBindings::~PrivateAggr
+ 
+ void PrivateAggregationBindings::AttachToContext(
+     v8::Local<v8::Context> context) {
+-  if (!base::FeatureList::IsEnabled(blink::features::kPrivateAggregationApi) ||
+-      !blink::features::kPrivateAggregationApiEnabledInProtectedAudience
+-           .Get()) {
+-    return;
+-  }
+-
+-  v8::Local<v8::External> v8_this =
+-      v8::External::New(v8_helper_->isolate(), this);
+-
+-  v8::Local<v8::Object> private_aggregation =
+-      v8::Object::New(v8_helper_->isolate());
+-
+-  v8::Local<v8::Function> send_histogram_report_function =
+-      v8::Function::New(
+-          context, &PrivateAggregationBindings::ContributeToHistogram, v8_this)
+-          .ToLocalChecked();
+-  private_aggregation
+-      ->Set(context,
+-            v8_helper_->CreateStringFromLiteral("contributeToHistogram"),
+-            send_histogram_report_function)
+-      .Check();
+-
+-  if (blink::features::kPrivateAggregationApiProtectedAudienceExtensionsEnabled
+-          .Get()) {
+-    v8::Local<v8::Function> report_contribution_for_event_function =
+-        v8::Function::New(
+-            context, &PrivateAggregationBindings::ContributeToHistogramOnEvent,
+-            v8_this)
+-            .ToLocalChecked();
+-    private_aggregation
+-        ->Set(
+-            context,
+-            v8_helper_->CreateStringFromLiteral("contributeToHistogramOnEvent"),
+-            report_contribution_for_event_function)
+-        .Check();
+-  }
+-
+-  v8::Local<v8::Function> enable_debug_mode_function =
+-      v8::Function::New(context, &PrivateAggregationBindings::EnableDebugMode,
+-                        v8_this)
+-          .ToLocalChecked();
+-  private_aggregation
+-      ->Set(context, v8_helper_->CreateStringFromLiteral("enableDebugMode"),
+-            enable_debug_mode_function)
+-      .Check();
+-
+-  context->Global()
+-      ->Set(context, v8_helper_->CreateStringFromLiteral("privateAggregation"),
+-            private_aggregation)
+-      .Check();
+ }
+ 
+ void PrivateAggregationBindings::Reset() {
diff --git a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
index c8b5c63f33..a8f5308fa5 100644
--- a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
+++ b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/media/webrtc/webrtc_log_uploader.cc
 +++ b/chrome/browser/media/webrtc/webrtc_log_uploader.cc
-@@ -184,31 +184,13 @@ void WebRtcLogUploader::OnLoggingStopped
+@@ -186,31 +186,13 @@ void WebRtcLogUploader::OnLoggingStopped
    DCHECK(meta_data.get());
    DCHECK(!upload_done_data.paths.directory.empty());
  
@@ -35,7 +35,7 @@
    } else {
      main_task_runner_->PostTask(
          FROM_HERE,
-@@ -225,28 +207,7 @@ void WebRtcLogUploader::PrepareMultipart
+@@ -227,28 +209,7 @@ void WebRtcLogUploader::PrepareMultipart
    DCHECK(!compressed_log.empty());
    DCHECK(meta_data.get());
  
@@ -65,7 +65,7 @@
  }
  
  void WebRtcLogUploader::UploadStoredLog(
-@@ -313,48 +274,6 @@ void WebRtcLogUploader::LoggingStoppedDo
+@@ -315,48 +276,6 @@ void WebRtcLogUploader::LoggingStoppedDo
    DCHECK(log_buffer.get());
    DCHECK(!log_paths.directory.empty());
  
@@ -116,7 +116,7 @@
  
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -114,7 +114,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -113,7 +113,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterStringPref(prefs::kWebRTCUDPPortRange, std::string());
    registry->RegisterBooleanPref(prefs::kWebRtcEventLogCollectionAllowed, false);
    registry->RegisterListPref(prefs::kWebRtcLocalIpsAllowedUrls);
diff --git a/patches/core/ungoogled-chromium/disable-webstore-urls.patch b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
index 308883ec12..4b990b805e 100644
--- a/patches/core/ungoogled-chromium/disable-webstore-urls.patch
+++ b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
 +++ b/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
-@@ -677,12 +677,6 @@ std::vector<url::Origin> ChromeContentBr
+@@ -680,12 +680,6 @@ std::vector<url::Origin> ChromeContentBr
      GetOriginsRequiringDedicatedProcess() {
    std::vector<url::Origin> list;
  
@@ -17,7 +17,7 @@
  
 --- a/chrome/browser/extensions/chrome_content_verifier_delegate.cc
 +++ b/chrome/browser/extensions/chrome_content_verifier_delegate.cc
-@@ -305,17 +305,7 @@ bool ChromeContentVerifierDelegate::IsFr
+@@ -300,17 +300,7 @@ bool ChromeContentVerifierDelegate::IsFr
    // between which extensions are considered in-store.
    // See https://crbug.com/766806 for details.
    if (!InstallVerifier::IsFromStore(extension, context_)) {
@@ -177,7 +177,7 @@
        fetch->oauth2_attempt_count++;
 --- a/extensions/common/extension_urls.cc
 +++ b/extensions/common/extension_urls.cc
-@@ -67,8 +67,6 @@ GURL AppendUtmSource(const GURL& url, st
+@@ -68,8 +68,6 @@ GURL AppendUtmSource(const GURL& url, st
  
  GURL GetWebstoreExtensionsCategoryURL() {
    GURL base_url = GetNewWebstoreLaunchURL();
diff --git a/patches/core/ungoogled-chromium/extensions-manifestv2.patch b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
index f78525b1bf..10ddb83682 100644
--- a/patches/core/ungoogled-chromium/extensions-manifestv2.patch
+++ b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/extensions/api/developer_private/extension_info_generator.cc
 +++ b/chrome/browser/extensions/api/developer_private/extension_info_generator.cc
-@@ -575,17 +575,6 @@ void ExtensionInfoGenerator::CreateExten
+@@ -599,17 +599,6 @@ void ExtensionInfoGenerator::CreateExten
      info->controlled_info.emplace();
      info->controlled_info->text =
          l10n_util::GetStringUTF8(IDS_EXTENSIONS_INSTALL_LOCATION_ENTERPRISE);
@@ -20,7 +20,7 @@
    bool is_enabled = state == developer::ExtensionState::kEnabled;
 --- a/chrome/browser/extensions/extension_management.cc
 +++ b/chrome/browser/extensions/extension_management.cc
-@@ -310,31 +310,7 @@ bool ExtensionManagement::IsAllowedManif
+@@ -318,31 +318,7 @@ bool ExtensionManagement::IsAllowedManif
      int manifest_version,
      const std::string& extension_id,
      Manifest::Type manifest_type) {
@@ -52,7 +52,7 @@
  }
  
  bool ExtensionManagement::IsAllowedManifestVersion(const Extension* extension) {
-@@ -355,26 +331,8 @@ bool ExtensionManagement::IsExemptFromMV
+@@ -363,26 +339,8 @@ bool ExtensionManagement::IsExemptFromMV
      return false;
    }
  
@@ -81,7 +81,7 @@
  bool ExtensionManagement::IsAllowedByUnpublishedAvailabilityPolicy(
 --- a/chrome/browser/extensions/manifest_v2_experiment_manager.cc
 +++ b/chrome/browser/extensions/manifest_v2_experiment_manager.cc
-@@ -144,22 +144,6 @@ bool ManifestV2ExperimentManagerFactory:
+@@ -145,22 +145,6 @@ bool ManifestV2ExperimentManagerFactory:
  
  // Determines the current stage of the MV2 deprecation experiments.
  MV2ExperimentStage CalculateCurrentExperimentStage() {
@@ -104,7 +104,7 @@
    return MV2ExperimentStage::kNone;
  }
  
-@@ -199,19 +183,7 @@ PrefMap GetGlobalNoticeAcknowledgedPrefF
+@@ -200,19 +184,7 @@ PrefMap GetGlobalNoticeAcknowledgedPrefF
  // Returns true if legacy extensions should be disabled, looking at both
  // experiment stage and global state.
  bool ShouldDisableLegacyExtensions(MV2ExperimentStage stage) {
@@ -126,12 +126,12 @@
  // Returns true if the given `stage` is one in which extension enablement should
 --- a/chrome/browser/ui/webui/extensions/extensions_ui.cc
 +++ b/chrome/browser/ui/webui/extensions/extensions_ui.cc
-@@ -462,7 +462,7 @@ content::WebUIDataSource* CreateAndAddEx
-       base::FeatureList::IsEnabled(
+@@ -467,7 +467,7 @@ content::WebUIDataSource* CreateAndAddEx
            extensions_features::kExtensionsMenuAccessControlWithPermittedSites));
-   source->AddBoolean("safetyHubShowReviewPanel",
--                     base::FeatureList::IsEnabled(features::kSafetyHub));
-+                     false);
+   source->AddBoolean(
+       "safetyHubThreeDotDetails",
+-      base::FeatureList::IsEnabled(features::kSafetyHubThreeDotDetails));
++      false);
  
    // MV2 deprecation.
    auto* mv2_experiment_manager = ManifestV2ExperimentManager::Get(profile);
diff --git a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
index f45f88eea0..325aadc1ed 100644
--- a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
+++ b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
@@ -3,15 +3,15 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -374,7 +374,6 @@ if (!is_android && !is_mac) {
-       data_deps += [
-         "//chrome/browser/resources/media/mei_preload:component",
-         "//chrome/browser/web_applications/isolated_web_apps/key_distribution/preload:component",
--        "//components/privacy_sandbox/privacy_sandbox_attestations/preload:component",
-         "//third_party/widevine/cdm",
-       ]
-       if (invoker.collect_inputs_only) {
-@@ -943,8 +942,6 @@ if (is_win) {
+@@ -370,7 +370,6 @@ if (!is_android && !is_mac) {
+     data_deps += [
+       "//chrome/browser/resources/media/mei_preload:component",
+       "//chrome/browser/web_applications/isolated_web_apps/key_distribution/preload:component",
+-      "//components/privacy_sandbox/privacy_sandbox_attestations/preload:component",
+       "//third_party/widevine/cdm",
+     ]
+ 
+@@ -929,8 +928,6 @@ if (is_win) {
  
    bundle_data("chrome_framework_resources") {
      sources = [
@@ -20,7 +20,7 @@
        # This image is used to badge the lock icon in the
        # authentication dialogs, such as those used for installation
        # from disk image and Keystone promotion (if so enabled).  It
-@@ -1217,7 +1214,6 @@ if (is_win) {
+@@ -1203,7 +1200,6 @@ if (is_win) {
        ":widevine_cdm_library",
        "//chrome/browser/resources/media/mei_preload:component_bundle",
        "//chrome/browser/web_applications/isolated_web_apps/key_distribution/preload:component_bundle",
@@ -30,7 +30,7 @@
      if (is_chrome_branded) {
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -727,10 +727,6 @@ static_library("browser") {
+@@ -746,10 +746,6 @@ static_library("browser") {
      "navigation_predictor/navigation_predictor_metrics_document_data.h",
      "navigation_predictor/navigation_predictor_preconnect_client.cc",
      "navigation_predictor/navigation_predictor_preconnect_client.h",
@@ -41,7 +41,7 @@
      "net/cert_verifier_service_time_updater.cc",
      "net/cert_verifier_service_time_updater.h",
      "net/chrome_mojo_proxy_resolver_factory.cc",
-@@ -3450,10 +3446,6 @@ static_library("browser") {
+@@ -3482,10 +3478,6 @@ static_library("browser") {
    } else {
      #!is_android
      sources += [
@@ -52,7 +52,7 @@
        "accessibility/caption_bubble_context_browser.h",
        "accessibility/embedded_a11y_extension_loader.cc",
        "accessibility/embedded_a11y_extension_loader.h",
-@@ -4180,10 +4172,6 @@ static_library("browser") {
+@@ -4225,10 +4217,6 @@ static_library("browser") {
        "//chrome/browser/new_tab_page/chrome_colors",
        "//chrome/browser/policy:path_parser",
        "//chrome/browser/resources:component_extension_resources",
@@ -63,7 +63,7 @@
        "//chrome/browser/search/background",
        "//chrome/browser/smart_card",
        "//chrome/browser/themes",
-@@ -4314,9 +4302,6 @@ static_library("browser") {
+@@ -4354,9 +4342,6 @@ static_library("browser") {
        "//components/webauthn/core/browser:passkey_model",
        "//services/device/public/cpp/bluetooth",
        "//services/device/public/cpp/hid",
@@ -73,25 +73,25 @@
        "//third_party/crashpad/crashpad/client:common",
        "//third_party/zxcvbn-cpp",
        "//ui/views",
-@@ -4411,8 +4396,6 @@ static_library("browser") {
-     #!is_android
-     if (!is_chromeos) {
+@@ -4453,8 +4438,6 @@ static_library("browser") {
        sources += [
+         "accessibility/soda_installer_impl.cc",
+         "accessibility/soda_installer_impl.h",
 -        "component_updater/screen_ai_component_installer.cc",
 -        "component_updater/screen_ai_component_installer.h",
+         "device_identity/device_oauth2_token_store_desktop.cc",
+         "device_identity/device_oauth2_token_store_desktop.h",
          "device_notifications/device_status_icon_renderer.cc",
-         "device_notifications/device_status_icon_renderer.h",
-         "external_protocol/auto_launch_protocols_policy_handler.cc",
-@@ -4429,8 +4412,6 @@ static_library("browser") {
-         "policy/chrome_browser_cloud_management_register_watcher.h",
-         "policy/file_selection_dialogs_policy_handler.cc",
-         "policy/file_selection_dialogs_policy_handler.h",
+@@ -4493,8 +4476,6 @@ static_library("browser") {
+         "profiles/profile_activity_metrics_recorder.h",
+         "profiles/profile_list_desktop.cc",
+         "profiles/profile_list_desktop.h",
 -        "screen_ai/screen_ai_downloader_non_chromeos.cc",
 -        "screen_ai/screen_ai_downloader_non_chromeos.h",
-         "usb/usb_status_icon.cc",
-         "usb/usb_status_icon.h",
-       ]
-@@ -5157,7 +5138,6 @@ static_library("browser") {
+         "signin/force_signin_verifier.cc",
+         "signin/force_signin_verifier.h",
+         "signin/signin_manager.cc",
+@@ -5294,7 +5275,6 @@ static_library("browser") {
        "//chrome/browser/policy:system_features_disable_list",
        "//chrome/browser/push_notification:push_notification",
        "//chrome/browser/resources:app_icon_resources",
@@ -99,15 +99,15 @@
        "//chrome/browser/support_tool/ash",
        "//chrome/browser/ui/ash/accelerator",
        "//chrome/browser/ui/ash/accessibility",
-@@ -5375,7 +5355,6 @@ static_library("browser") {
-       "//components/webapk:proto",
+@@ -5552,7 +5532,6 @@ static_library("browser") {
        "//device/vr/public/mojom:isolated_xr_service",
        "//remoting/host/chromeos:features",
+       "//services/device/public/cpp/geolocation",
 -      "//services/screen_ai/public/cpp:metrics",
        "//third_party/nearby:rpc_resources_proto",
        "//third_party/nearby:wire_format_proto",
        "//ui/chromeos",
-@@ -7995,12 +7974,6 @@ static_library("browser") {
+@@ -7778,12 +7757,6 @@ static_library("browser") {
    }
  
    if (enable_pdf) {
@@ -122,7 +122,7 @@
        "//chrome/browser/pdf:pdf_pref_names",
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -243,12 +243,10 @@
+@@ -249,12 +249,10 @@
  #if BUILDFLAG(IS_CHROMEOS)
  #include "chrome/browser/chromeos/extensions/telemetry/chromeos_telemetry_extensions_browser_api_provider.h"
  #include "chrome/browser/hid/hid_pinned_notification.h"
@@ -135,7 +135,7 @@
  #include "chrome/browser/usb/usb_status_icon.h"
  #include "components/enterprise/browser/controller/chrome_browser_cloud_management_controller.h"
  #endif
-@@ -1320,9 +1318,6 @@ void BrowserProcessImpl::PreMainMessageL
+@@ -1351,9 +1349,6 @@ void BrowserProcessImpl::PreMainMessageL
    soda_installer_impl_ = std::make_unique<speech::SodaInstallerImplChromeOS>();
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
  
@@ -147,7 +147,7 @@
    bool result = base::PathService::Get(chrome::DIR_USER_DATA, &user_data_dir);
 --- a/chrome/browser/browser_process_impl.h
 +++ b/chrome/browser/browser_process_impl.h
-@@ -92,9 +92,6 @@ namespace speech {
+@@ -93,9 +93,6 @@ namespace speech {
  class SodaInstaller;
  }  // namespace speech
  
@@ -157,7 +157,7 @@
  
  // Real implementation of BrowserProcess that creates and returns the services.
  class BrowserProcessImpl : public BrowserProcess,
-@@ -425,9 +422,6 @@ class BrowserProcessImpl : public Browse
+@@ -437,9 +434,6 @@ class BrowserProcessImpl : public Browse
    // to ensure that SodaInstallerImpl gets destructed first.
    std::unique_ptr<speech::SodaInstaller> soda_installer_impl_;
  
@@ -169,16 +169,16 @@
    std::unique_ptr<BrowserProcessPlatformPart> platform_part_;
 --- a/chrome/browser/chrome_browser_interface_binders.cc
 +++ b/chrome/browser/chrome_browser_interface_binders.cc
-@@ -221,8 +221,6 @@
+@@ -127,8 +127,6 @@
  
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
      BUILDFLAG(IS_CHROMEOS)
 -#include "chrome/browser/screen_ai/screen_ai_service_router.h"
 -#include "chrome/browser/screen_ai/screen_ai_service_router_factory.h"
  #include "chrome/browser/ui/web_applications/sub_apps_service_impl.h"
- #include "chrome/browser/ui/webui/discards/discards.mojom.h"
- #include "chrome/browser/ui/webui/discards/discards_ui.h"
-@@ -735,27 +733,6 @@ void BindMediaFoundationPreferences(
+ #include "chrome/browser/ui/webui/connectors_internals/connectors_internals.mojom.h"
+ #include "chrome/browser/ui/webui/connectors_internals/connectors_internals_ui.h"
+@@ -692,27 +690,6 @@ void BindMediaFoundationPreferences(
  }
  #endif  // BUILDFLAG(IS_WIN)
  
@@ -206,17 +206,15 @@
  
  void PopulateChromeFrameBinders(
      mojo::BinderMapWithContext<content::RenderFrameHost*>* map,
-@@ -893,13 +870,6 @@ void PopulateChromeFrameBinders(
+@@ -843,11 +820,6 @@ void PopulateChromeFrameBinders(
          base::BindRepeating(&web_app::SubAppsServiceImpl::CreateIfAllowed));
    }
  
 -  map->Add<screen_ai::mojom::ScreenAIAnnotator>(
 -      base::BindRepeating(&BindScreenAIAnnotator));
 -
--  if (features::IsReadAnythingWithScreen2xEnabled()) {
--    map->Add<screen_ai::mojom::Screen2xMainContentExtractor>(
--        base::BindRepeating(&BindScreen2xMainContentExtractor));
--  }
+-  map->Add<screen_ai::mojom::Screen2xMainContentExtractor>(
+-      base::BindRepeating(&BindScreen2xMainContentExtractor));
  #endif
  
  #if BUILDFLAG(IS_WIN)
@@ -231,7 +229,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
  
  #if !BUILDFLAG(IS_ANDROID)
-@@ -227,9 +225,6 @@ void RegisterComponentsForUpdate() {
+@@ -234,9 +232,6 @@ void RegisterComponentsForUpdate() {
  
    RegisterAutofillStatesComponent(cus, g_browser_process->local_state());
  
@@ -243,7 +241,7 @@
  
 --- a/chrome/browser/navigation_predictor/navigation_predictor.cc
 +++ b/chrome/browser/navigation_predictor/navigation_predictor.cc
-@@ -18,8 +18,6 @@
+@@ -17,8 +17,6 @@
  #include "base/time/default_tick_clock.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -252,7 +250,7 @@
  #include "chrome/browser/preloading/preloading_prefs.h"
  #include "chrome/browser/profiles/profile.h"
  #include "components/no_state_prefetch/browser/no_state_prefetch_manager.h"
-@@ -106,10 +104,6 @@ base::TimeDelta MLModelExecutionTimerSta
+@@ -105,10 +103,6 @@ base::TimeDelta MLModelExecutionTimerSta
        blink::features::kPreloadingModelTimerStartDelay.Get());
  }
  
@@ -263,7 +261,7 @@
  
  base::TimeDelta MLModelMaxHoverTime() {
    return blink::features::kPreloadingModelMaxHoverTime.Get();
-@@ -416,80 +410,6 @@ void NavigationPredictor::ProcessPointer
+@@ -415,80 +409,6 @@ void NavigationPredictor::ProcessPointer
  }
  
  void NavigationPredictor::OnMLModelExecutionTimerFired() {
@@ -354,9 +352,33 @@
        {"thumbnailPageAriaLabel", IDS_PDF_THUMBNAIL_PAGE_ARIA_LABEL},
        {"tooltipAttachments", IDS_PDF_TOOLTIP_ATTACHMENTS},
        {"tooltipDocumentOutline", IDS_PDF_TOOLTIP_DOCUMENT_OUTLINE},
+--- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
++++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
+@@ -262,21 +262,6 @@ void PredictionBasedPermissionUiSelector
+     if (inner_text.size() > kPageContentMaxLength) {
+       inner_text.resize(kPageContentMaxLength);
+     }
+-    if (PredictionModelHandlerProvider* prediction_model_handler_provider =
+-            PredictionModelHandlerProviderFactory::GetForBrowserContext(
+-                profile_)) {
+-      if (GenAiModelHandler* gen_ai_model_handler =
+-              prediction_model_handler_provider->GetGenAiModelHandler()) {
+-        VLOG(1) << "[PermissionsAIv1] Inquire model.";
+-        gen_ai_model_handler->InquireGenAiOnDeviceModel(
+-            std::move(inner_text), request_type,
+-            base::BindRepeating(&PredictionBasedPermissionUiSelector::
+-                                    GenAIModelExecutionCallback,
+-                                weak_ptr_factory_.GetWeakPtr(),
+-                                std::move(features), request_type));
+-        return;
+-      }
+-    }
+     VLOG(1) << "[PermissionsAIv1] On device genAI model session unavailable";
+   } else {
+     VLOG(1) << "[PermissionsAIv1] The page's contnet too short or empty";
 --- a/chrome/browser/prefs/BUILD.gn
 +++ b/chrome/browser/prefs/BUILD.gn
-@@ -263,7 +263,6 @@ source_set("impl") {
+@@ -265,7 +265,6 @@ source_set("impl") {
    } else {
      deps += [
        "//chrome/browser/promos:utils",
@@ -366,7 +388,7 @@
        "//chrome/browser/search_engines",
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -1961,9 +1961,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1891,9 +1891,6 @@ void RegisterLocalState(PrefRegistrySimp
    DeviceOAuth2TokenStoreDesktop::RegisterPrefs(registry);
  #endif
  
@@ -378,7 +400,7 @@
    PlatformAuthPolicyObserver::RegisterPrefs(registry);
 --- a/chrome/browser/profiles/BUILD.gn
 +++ b/chrome/browser/profiles/BUILD.gn
-@@ -300,7 +300,6 @@ source_set("profiles_extra_parts_impl")
+@@ -302,7 +302,6 @@ source_set("profiles_extra_parts_impl")
        "//chrome/browser/feedback",
        "//chrome/browser/hid",
        "//chrome/browser/media/router/discovery/access_code:access_code_sink_service",
@@ -388,7 +410,7 @@
        "//chrome/browser/search_engine_choice",
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -103,7 +103,6 @@
+@@ -107,7 +107,6 @@
  #include "chrome/browser/media_galleries/media_galleries_preferences_factory.h"
  #include "chrome/browser/metrics/variations/google_groups_manager_factory.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -396,7 +418,7 @@
  #include "chrome/browser/net/dns_probe_service_factory.h"
  #include "chrome/browser/net/profile_network_context_service_factory.h"
  #if BUILDFLAG(CHROME_ROOT_STORE_CERT_MANAGEMENT_UI)
-@@ -503,7 +502,6 @@
+@@ -508,7 +507,6 @@
  #include "chrome/browser/new_tab_page/promos/promo_service_factory.h"
  #include "chrome/browser/payments/payment_request_display_manager_factory.h"
  #include "chrome/browser/privacy_sandbox/privacy_sandbox_survey_desktop_controller_factory.h"
@@ -404,7 +426,7 @@
  #include "chrome/browser/search/background/ntp_background_service_factory.h"
  #include "chrome/browser/search/background/ntp_custom_background_service_factory.h"
  #include "chrome/browser/serial/serial_chooser_context_factory.h"
-@@ -995,7 +993,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1007,7 +1005,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if BUILDFLAG(CHROME_ROOT_STORE_CERT_MANAGEMENT_UI)
    net::ServerCertificateDatabaseServiceFactory::GetInstance();
  #endif  // BUILDFLAG(CHROME_ROOT_STORE_CERT_MANAGEMENT_UI)
@@ -412,7 +434,7 @@
  #if BUILDFLAG(IS_CHROMEOS)
    NearbySharingServiceFactory::GetInstance();
    if (base::FeatureList::IsEnabled(ash::features::kNearbyPresence)) {
-@@ -1047,9 +1044,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1059,9 +1056,6 @@ void ChromeBrowserMainExtraPartsProfiles
    OneTimePermissionsTrackerFactory::GetInstance();
  #endif
    OpenerHeuristicServiceFactory::GetInstance();
@@ -422,7 +444,21 @@
    OptimizationGuideKeyedServiceFactory::GetInstance();
    OriginKeyedPermissionActionServiceFactory::GetInstance();
    OriginTrialsFactory::GetInstance();
-@@ -1200,13 +1194,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1125,13 +1119,6 @@ void ChromeBrowserMainExtraPartsProfiles
+   policy::UserPolicySigninServiceFactory::GetInstance();
+ #endif
+   PolicyBlocklistFactory::GetInstance();
+-  if (base::FeatureList::IsEnabled(
+-          permissions::features::kPermissionOnDeviceNotificationPredictions) ||
+-      base::FeatureList::IsEnabled(
+-          permissions::features::kPermissionOnDeviceGeolocationPredictions) ||
+-      base::FeatureList::IsEnabled(permissions::features::kPermissionsAIv1)) {
+-    PredictionModelHandlerProviderFactory::GetInstance();
+-  }
+   PredictionServiceFactory::GetInstance();
+   predictors::AutocompleteActionPredictorFactory::GetInstance();
+   predictors::LoadingPredictorFactory::GetInstance();
+@@ -1213,13 +1200,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #else
    SafetyHubMenuNotificationServiceFactory::GetInstance();
    SafetyHubHatsServiceFactory::GetInstance();
@@ -438,7 +474,7 @@
    if (ash::features::IsScannerEnabled()) {
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
-@@ -829,24 +829,6 @@ void ProfileImpl::DoFinalInit(CreateMode
+@@ -846,24 +846,6 @@ void ProfileImpl::DoFinalInit(CreateMode
    // The password settings service needs to start listening to settings
    // changes from Google Mobile Services, as early as possible.
    PasswordManagerSettingsServiceFactory::GetForProfile(this);
@@ -465,7 +501,7 @@
    // The announcement notification  service might not be available for some
 --- a/chrome/browser/profiles/profile_manager.cc
 +++ b/chrome/browser/profiles/profile_manager.cc
-@@ -49,7 +49,6 @@
+@@ -51,7 +51,6 @@
  #include "chrome/browser/extensions/chrome_content_browser_client_extensions_part.h"
  #include "chrome/browser/lifetime/application_lifetime.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -473,19 +509,19 @@
  #include "chrome/browser/prefs/incognito_mode_prefs.h"
  #include "chrome/browser/profiles/delete_profile_helper.h"
  #include "chrome/browser/profiles/keep_alive/profile_keep_alive_types.h"
-@@ -1493,9 +1492,6 @@ void ProfileManager::DoFinalInitForServi
+@@ -1497,9 +1496,6 @@ void ProfileManager::DoFinalInitForServi
    // Ensure NavigationPredictorKeyedService is started.
    NavigationPredictorKeyedServiceFactory::GetForProfile(profile);
  
 -  // Ensure PreloadingModelKeyedService is started.
 -  PreloadingModelKeyedServiceFactory::GetForProfile(profile);
 -
-   IdentityManagerFactory::GetForProfile(profile)->OnNetworkInitialized();
-   AccountReconcilorFactory::GetForProfile(profile);
- #if BUILDFLAG(IS_ANDROID)
+ #if BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_WIN)
+   contextual_cueing::ContextualCueingServiceFactory::GetForProfile(profile);
+ #endif
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -93,7 +93,6 @@ group("resources") {
+@@ -90,7 +90,6 @@ group("resources") {
    if (is_mac) {
      public_deps += [
        "//chrome/browser/resources/media/mei_preload:component",
@@ -508,7 +544,7 @@
  ${this.showErrorDialog ? html`<viewer-error-dialog id="error-dialog">
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -1681,8 +1681,6 @@ static_library("ui") {
+@@ -1705,8 +1705,6 @@ static_library("ui") {
        "//chrome/browser/reading_list",
        "//chrome/browser/safe_browsing",
        "//chrome/browser/safe_browsing:advanced_protection",
@@ -517,7 +553,7 @@
        "//chrome/browser/smart_card:smart_card",
        "//chrome/browser/tab_group_sync:utils",
        "//chrome/browser/themes",
-@@ -2361,7 +2359,6 @@ static_library("ui") {
+@@ -2376,7 +2374,6 @@ static_library("ui") {
        "//chrome/browser/policy:onc",
        "//chrome/browser/policy:system_features_disable_list",
        "//chrome/browser/push_notification:push_notification",
@@ -545,7 +581,7 @@
      "//chrome/common",
 --- a/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.cc
 +++ b/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.cc
-@@ -103,10 +103,4 @@ void ChromePDFDocumentHelperClient::SetP
+@@ -97,10 +97,4 @@ void ChromePDFDocumentHelperClient::SetP
  
  void ChromePDFDocumentHelperClient::OnSearchifyStarted(
      content::WebContents* contents) {
@@ -558,7 +594,7 @@
  }
 --- a/chrome/browser/ui/webui/settings/accessibility_main_handler.cc
 +++ b/chrome/browser/ui/webui/settings/accessibility_main_handler.cc
-@@ -36,11 +36,6 @@ void AccessibilityMainHandler::RegisterM
+@@ -35,11 +35,6 @@ void AccessibilityMainHandler::RegisterM
        base::BindRepeating(
            &AccessibilityMainHandler::HandleCheckAccessibilityImageLabels,
            base::Unretained(this)));
@@ -570,9 +606,9 @@
  }
  
  void AccessibilityMainHandler::OnJavascriptAllowed() {
-@@ -51,11 +46,6 @@ void AccessibilityMainHandler::OnJavascr
+@@ -50,11 +45,6 @@ void AccessibilityMainHandler::OnJavascr
            base::Unretained(this)));
- #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
+ #endif  // BUILDFLAG(IS_CHROMEOS)
  
 -  if (features::IsMainNodeAnnotationsEnabled()) {
 -    CHECK(!component_ready_observer_.IsObserving());
@@ -582,9 +618,9 @@
  }
  
  void AccessibilityMainHandler::OnJavascriptDisallowed() {
-@@ -63,35 +53,6 @@ void AccessibilityMainHandler::OnJavascr
+@@ -62,35 +52,6 @@ void AccessibilityMainHandler::OnJavascr
    accessibility_subscription_ = {};
- #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
+ #endif  // BUILDFLAG(IS_CHROMEOS)
  
 -  if (features::IsMainNodeAnnotationsEnabled()) {
 -    component_ready_observer_.Reset();
@@ -620,7 +656,7 @@
  void AccessibilityMainHandler::HandleGetScreenReaderState(
 --- a/chrome/browser/ui/webui/settings/accessibility_main_handler.h
 +++ b/chrome/browser/ui/webui/settings/accessibility_main_handler.h
-@@ -20,8 +20,7 @@ namespace settings {
+@@ -19,8 +19,7 @@ namespace settings {
  // Settings handler for the main accessibility settings page,
  // chrome://settings/accessibility.
  class AccessibilityMainHandler
@@ -630,7 +666,7 @@
   public:
    AccessibilityMainHandler();
    ~AccessibilityMainHandler() override;
-@@ -33,9 +32,6 @@ class AccessibilityMainHandler
+@@ -32,9 +31,6 @@ class AccessibilityMainHandler
    void OnJavascriptAllowed() override;
    void OnJavascriptDisallowed() override;
  
@@ -640,9 +676,9 @@
  
   private:
    void HandleGetScreenReaderState(const base::Value::List& args);
-@@ -52,9 +48,6 @@ class AccessibilityMainHandler
+@@ -51,9 +47,6 @@ class AccessibilityMainHandler
    base::CallbackListSubscription accessibility_subscription_;
- #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
+ #endif  // BUILDFLAG(IS_CHROMEOS)
  
 -  base::ScopedObservation<screen_ai::ScreenAIInstallState,
 -                          screen_ai::ScreenAIInstallState::Observer>
@@ -661,19 +697,17 @@
  #include "chrome/browser/speech/extension_api/tts_engine_extension_api.h"
  #include "chrome/browser/translate/chrome_translate_client.h"
  #include "chrome/browser/ui/browser.h"
-@@ -364,26 +362,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
+@@ -364,24 +362,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
    prefs_lang = language::ExtractBaseLanguage(prefs_lang);
    SetDefaultLanguageCode(prefs_lang);
  
 -  if (use_screen_ai_service_) {
--    if (features::IsReadAnythingWithScreen2xEnabled()) {
--      screen_ai::ScreenAIServiceRouterFactory::GetForBrowserContext(profile_)
--          ->GetServiceStateAsync(
--              screen_ai::ScreenAIServiceRouter::Service::kMainContentExtraction,
--              base::BindOnce(&ReadAnythingUntrustedPageHandler::
--                                 OnScreenAIServiceInitialized,
--                             weak_factory_.GetWeakPtr()));
--    }
+-    screen_ai::ScreenAIServiceRouterFactory::GetForBrowserContext(profile_)
+-        ->GetServiceStateAsync(
+-            screen_ai::ScreenAIServiceRouter::Service::kMainContentExtraction,
+-            base::BindOnce(
+-                &ReadAnythingUntrustedPageHandler::OnScreenAIServiceInitialized,
+-                weak_factory_.GetWeakPtr()));
 -#if BUILDFLAG(ENABLE_PDF)
 -    // PDF searchify feature adds OCR text to images while loading the PDF, so
 -    // warming up the OCR service is not needed.
@@ -688,7 +722,7 @@
  
    // Enable accessibility for the top level render frame and all descendants.
    // This causes AXTreeSerializer to reset and send accessibility events of
-@@ -808,12 +786,6 @@ void ReadAnythingUntrustedPageHandler::S
+@@ -804,12 +784,6 @@ void ReadAnythingUntrustedPageHandler::S
            weak_factory_.GetSafeRef(), inner_contents[0], kReadAnythingAXMode);
      }
    }
@@ -703,7 +737,7 @@
  
 --- a/chrome/renderer/BUILD.gn
 +++ b/chrome/renderer/BUILD.gn
-@@ -377,18 +377,6 @@ static_library("renderer") {
+@@ -370,18 +370,6 @@ static_library("renderer") {
      ]
    } else {
      sources += [
@@ -722,7 +756,7 @@
        "media/chrome_speech_recognition_client.cc",
        "media/chrome_speech_recognition_client.h",
        "searchbox/searchbox.cc",
-@@ -402,7 +390,6 @@ static_library("renderer") {
+@@ -395,7 +383,6 @@ static_library("renderer") {
        "//components/crx_file",
        "//components/trusted_vault",
        "//services/screen_ai/buildflags",
@@ -764,7 +798,7 @@
  void ChromeRenderFrameObserver::DidMeaningfulLayout(
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -2019,9 +2019,6 @@ if (!is_android) {
+@@ -2079,9 +2079,6 @@ if (!is_android) {
        "//chrome/browser/resource_coordinator:tab_manager_features",
        "//chrome/browser/safe_browsing:advanced_protection",
        "//chrome/browser/safe_browsing:verdict_cache_manager_factory",
@@ -774,15 +808,7 @@
        "//chrome/browser/search",
        "//chrome/browser/search_engines",
        "//chrome/browser/segmentation_platform:test_utils",
-@@ -2060,7 +2057,6 @@ if (!is_android) {
-       "//chrome/browser/ui/omnibox",
-       "//chrome/browser/ui/page_action:icon_type",
-       "//chrome/browser/ui/page_info",
--      "//chrome/browser/ui/pdf",
-       "//chrome/browser/ui/permission_bubble:browser_tests",
-       "//chrome/browser/ui/prefs:browser_tests",
-       "//chrome/browser/ui/promos:utils",
-@@ -2422,9 +2418,6 @@ if (!is_android) {
+@@ -2485,9 +2482,6 @@ if (!is_android) {
        "//services/network/public/proto:sct_audit_report_proto",
        "//services/preferences/public/cpp",
        "//services/preferences/public/cpp/tracked",
@@ -792,7 +818,7 @@
        "//services/service_manager/public/cpp",
        "//services/strings",
        "//services/test/echo/public/mojom",
-@@ -7911,7 +7904,6 @@ test("unit_tests") {
+@@ -8020,7 +8014,6 @@ test("unit_tests") {
  
      # Non-android deps for "unit_tests" target.
      deps += [
@@ -800,7 +826,7 @@
        "//chrome:packed_resources_integrity_header",
        "//chrome/browser/apps:icon_standardizer",
        "//chrome/browser/apps/app_service",
-@@ -8060,7 +8052,6 @@ test("unit_tests") {
+@@ -8166,7 +8159,6 @@ test("unit_tests") {
        "//services/device/public/cpp/bluetooth",
        "//services/metrics/public/cpp:ukm_builders",
        "//services/network:test_support",
@@ -808,17 +834,17 @@
        "//services/video_effects/test:test_support",
        "//third_party/crashpad/crashpad/util",
        "//third_party/libaddressinput",
-@@ -8495,7 +8486,6 @@ test("unit_tests") {
+@@ -8585,7 +8577,6 @@ test("unit_tests") {
        "//chrome/browser/nearby_sharing/contacts:unit_tests",
        "//chrome/browser/nearby_sharing/local_device_data:unit_tests",
        "//chrome/browser/policy:unit_tests",
 -      "//chrome/browser/screen_ai:unit_tests",
+       "//chrome/browser/smart_card:unit_tests",
        "//chrome/browser/support_tool/ash:unit_tests",
        "//chrome/browser/ui/ash:unit_tests",
-       "//chrome/browser/ui/views/crostini:unit_tests",
 --- a/chrome/test/chromedriver/BUILD.gn
 +++ b/chrome/test/chromedriver/BUILD.gn
-@@ -406,7 +406,7 @@ source_set("lib") {
+@@ -409,7 +409,7 @@ source_set("lib") {
    }
  }
  
@@ -892,7 +918,7 @@
    AutocompleteInput input(text, page_classification, *scheme_classifier_);
 --- a/components/pdf/renderer/pdf_accessibility_tree.cc
 +++ b/components/pdf/renderer/pdf_accessibility_tree.cc
-@@ -536,20 +536,6 @@ void PdfAccessibilityTree::SetAccessibil
+@@ -535,20 +535,6 @@ void PdfAccessibilityTree::SetAccessibil
                       std::move(chars), std::move(page_objects)));
  }
  
@@ -915,15 +941,15 @@
      const chrome_pdf::AccessibilityPageInfo& page_info,
 --- a/components/pdf/renderer/pdf_accessibility_tree_builder.cc
 +++ b/components/pdf/renderer/pdf_accessibility_tree_builder.cc
-@@ -9,7 +9,6 @@
- 
+@@ -11,7 +11,6 @@
+ #include "base/containers/fixed_flat_map.h"
  #include "base/i18n/break_iterator.h"
  #include "base/strings/utf_string_conversion_utils.h"
 -#include "components/pdf/renderer/pdf_ocr_helper.h"
  #include "components/strings/grit/components_strings.h"
  #include "pdf/accessibility_structs.h"
  #include "pdf/pdf_features.h"
-@@ -910,8 +909,6 @@ ui::AXNodeData* PdfAccessibilityTreeBuil
+@@ -994,8 +993,6 @@ ui::AXNodeData* PdfAccessibilityTreeBuil
    wrapper_node->relative_bounds.bounds = gfx::RectF(position, gfx::SizeF(1, 1));
  
    ui::AXNodeData* text_node = CreateStaticTextNode();
@@ -934,7 +960,7 @@
    return wrapper_node;
 --- a/components/pdf/renderer/pdf_view_web_plugin_client.cc
 +++ b/components/pdf/renderer/pdf_view_web_plugin_client.cc
-@@ -204,34 +204,6 @@ PdfViewWebPluginClient::CreateAssociated
+@@ -203,34 +203,6 @@ PdfViewWebPluginClient::CreateAssociated
    return GetFrame()->CreateAssociatedURLLoader(options);
  }
  
@@ -1018,7 +1044,7 @@
  fuzzer_test("update_client_protocol_serializer_fuzzer") {
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -803,10 +803,6 @@ if (is_apple) {
+@@ -804,10 +804,6 @@ if (is_apple) {
        deps = [ "//third_party/icu:icudata" ]
      }
  
@@ -1041,7 +1067,7 @@
    for (uint32_t i = 0; i < char_count; ++i) {
 --- a/pdf/pdf_view_web_plugin.cc
 +++ b/pdf/pdf_view_web_plugin.cc
-@@ -1297,11 +1297,6 @@ void PdfViewWebPlugin::DocumentLoadCompl
+@@ -1299,11 +1299,6 @@ void PdfViewWebPlugin::DocumentLoadCompl
    if (accessibility_state_ == AccessibilityState::kPending)
      LoadAccessibility();
  
@@ -1053,7 +1079,7 @@
  
    if (!full_frame_)
      return;
-@@ -2243,7 +2238,7 @@ void PdfViewWebPlugin::EnableAccessibili
+@@ -2284,7 +2279,7 @@ void PdfViewWebPlugin::EnableAccessibili
  
  SkBitmap PdfViewWebPlugin::GetImageForOcr(int32_t page_index,
                                            int32_t page_object_index) {
@@ -1062,7 +1088,7 @@
  }
  
  void PdfViewWebPlugin::HandleAccessibilityAction(
-@@ -2780,19 +2775,6 @@ void PdfViewWebPlugin::PrepareAndSetAcce
+@@ -2834,19 +2829,6 @@ void PdfViewWebPlugin::PrepareAndSetAcce
      return;
    }
  
@@ -1084,7 +1110,7 @@
  
 --- a/pdf/pdfium/pdfium_engine.cc
 +++ b/pdf/pdfium/pdfium_engine.cc
-@@ -2659,7 +2659,7 @@ void PDFiumEngine::HandleLongPress(const
+@@ -2686,7 +2686,7 @@ void PDFiumEngine::HandleLongPress(const
  
  SkBitmap PDFiumEngine::GetImageForOcr(int page_index, int image_index) {
    DCHECK(PageIndexInBounds(page_index));
@@ -1135,7 +1161,7 @@
  group("devtools_all_files") {
 --- a/third_party/devtools-frontend/src/front_end/BUILD.gn
 +++ b/third_party/devtools-frontend/src/front_end/BUILD.gn
-@@ -193,7 +193,6 @@ group("unittests") {
+@@ -196,7 +196,6 @@ group("unittests") {
      "panels/timeline:unittests",
      "panels/timeline/components:unittests",
      "panels/timeline/components/insights:unittests",
diff --git a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
index 30639a8454..e4cfb53ef4 100644
--- a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
+++ b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -580,8 +580,6 @@ static_library("browser") {
+@@ -599,8 +599,6 @@ static_library("browser") {
      "infobars/simple_alert_infobar_creator.h",
      "interstitials/chrome_settings_page_helper.cc",
      "interstitials/chrome_settings_page_helper.h",
@@ -11,7 +11,7 @@
      "invalidation/profile_invalidation_provider_factory.cc",
      "invalidation/profile_invalidation_provider_factory.h",
      "k_anonymity_service/k_anonymity_service_client.cc",
-@@ -2228,7 +2226,6 @@ static_library("browser") {
+@@ -2263,7 +2261,6 @@ static_library("browser") {
      "//components/resources",
      "//components/safe_browsing/content/browser",
      "//components/safe_browsing/content/browser:safe_browsing_service",
@@ -19,7 +19,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/core/browser",
-@@ -3779,10 +3776,6 @@ static_library("browser") {
+@@ -3823,10 +3820,6 @@ static_library("browser") {
        "new_tab_page/modules/modules_switches.h",
        "new_tab_page/modules/new_tab_page_modules.cc",
        "new_tab_page/modules/new_tab_page_modules.h",
@@ -30,7 +30,18 @@
        "new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.cc",
        "new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.h",
        "new_tab_page/modules/v2/calendar/calendar_fake_data_helper.cc",
-@@ -6734,8 +6727,6 @@ static_library("browser") {
+@@ -6509,19 +6502,14 @@ static_library("browser") {
+     deps += [ "//components/enterprise/idle" ]
+   }
+ 
+-  if (enterprise_cloud_content_analysis || is_android ||
+-      safe_browsing_mode == 1) {
+     sources += [
+       "enterprise/connectors/common.cc",
+       "enterprise/connectors/common.h",
+     ]
+     deps += [ "//components/enterprise/connectors/core" ]
+-  }
  
    if (enterprise_cloud_content_analysis) {
      sources += [
@@ -39,7 +50,7 @@
        "enterprise/connectors/analysis/content_analysis_delegate_base.h",
        "enterprise/connectors/analysis/content_analysis_dialog.cc",
        "enterprise/connectors/analysis/content_analysis_dialog.h",
-@@ -6743,8 +6734,6 @@ static_library("browser") {
+@@ -6529,8 +6517,6 @@ static_library("browser") {
        "enterprise/connectors/analysis/content_analysis_downloads_delegate.h",
        "enterprise/connectors/analysis/files_request_handler.cc",
        "enterprise/connectors/analysis/files_request_handler.h",
@@ -48,7 +59,7 @@
        "enterprise/connectors/analysis/request_handler_base.cc",
        "enterprise/connectors/analysis/request_handler_base.h",
        "enterprise/connectors/reporting/browser_crash_event_router.cc",
-@@ -7331,12 +7320,6 @@ static_library("browser") {
+@@ -7114,12 +7100,6 @@ static_library("browser") {
      }
    }
  
@@ -61,7 +72,7 @@
  
    if (enable_captive_portal_detection) {
      sources += [
-@@ -8317,9 +8300,14 @@ static_library("browser") {
+@@ -8084,9 +8064,14 @@ static_library("browser") {
        "//components/safe_browsing/content/browser:safe_browsing_blocking_page",
        "//components/safe_browsing/content/browser/download:download_stats",
        "//components/safe_browsing/content/common:file_type_policies",
@@ -77,7 +88,7 @@
  
    if (build_with_tflite_lib) {
      sources += [
-@@ -8624,7 +8612,6 @@ static_library("browser_generated_files"
+@@ -8391,7 +8376,6 @@ static_library("browser_generated_files"
        "//chrome/browser/new_tab_page/chrome_colors:generate_chrome_colors_info",
        "//chrome/browser/new_tab_page/chrome_colors:generate_colors_info",
        "//chrome/browser/new_tab_page/modules/file_suggestion:mojo_bindings",
@@ -85,7 +96,7 @@
        "//chrome/browser/new_tab_page/modules/v2/authentication:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/calendar:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption:mojo_bindings",
-@@ -9120,8 +9107,6 @@ static_library("test_support") {
+@@ -8873,8 +8857,6 @@ static_library("test_support") {
      "//components/reporting/util:status",
      "//components/reporting/util:status_macros",
      "//components/reporting/util:task_runner_context",
@@ -96,7 +107,7 @@
      "//components/security_interstitials/content:security_interstitial_page",
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5427,11 +5427,13 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5439,11 +5439,13 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -110,7 +121,7 @@
  
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    MaybeAddThrottle(browser_switcher::BrowserSwitcherNavigationThrottle::
-@@ -7199,26 +7201,7 @@ ChromeContentBrowserClient::GetSafeBrows
+@@ -7217,26 +7219,7 @@ ChromeContentBrowserClient::GetSafeBrows
      const std::vector<std::string>& allowlist_domains) {
    DCHECK_CURRENTLY_ON(content::BrowserThread::UI);
  
@@ -138,7 +149,7 @@
  }
  
  safe_browsing::RealTimeUrlLookupServiceBase*
-@@ -7226,19 +7209,6 @@ ChromeContentBrowserClient::GetUrlLookup
+@@ -7244,19 +7227,6 @@ ChromeContentBrowserClient::GetUrlLookup
      content::BrowserContext* browser_context,
      bool is_enterprise_lookup_enabled,
      bool is_consumer_lookup_enabled) {
@@ -158,14 +169,14 @@
    return nullptr;
  }
  
-@@ -7250,34 +7220,7 @@ ChromeContentBrowserClient::GetAsyncChec
+@@ -7268,30 +7238,7 @@ ChromeContentBrowserClient::GetAsyncChec
      safe_browsing::hash_realtime_utils::HashRealTimeSelection
          hash_realtime_selection,
      content::FrameTreeNodeId frame_tree_node_id) {
 -  content::WebContents* contents = wc_getter.Run();
 -  if (!contents || !safe_browsing_service_ ||
 -      !safe_browsing_service_->ui_manager()) {
--    return nullptr;
+     return nullptr;
 -  }
 -  if (is_enterprise_lookup_enabled) {
 -    // No async checks for enterprise real-time checks. URL filtering rules
@@ -175,17 +186,13 @@
 -  if (!is_consumer_lookup_enabled &&
 -      hash_realtime_selection ==
 -          safe_browsing::hash_realtime_utils::HashRealTimeSelection::kNone) {
-     return nullptr;
+-    return nullptr;
 -  }
 -  if (prerender::ChromeNoStatePrefetchContentsDelegate::FromWebContents(
 -          contents) ||
 -      contents->IsPrerenderedFrame(frame_tree_node_id)) {
 -    return nullptr;
 -  }
--  if (!base::FeatureList::IsEnabled(
--          safe_browsing::kSafeBrowsingAsyncRealTimeCheck)) {
--    return nullptr;
--  }
 -  return safe_browsing::AsyncCheckTracker::GetOrCreateForWebContents(
 -      contents, safe_browsing_service_->ui_manager().get(),
 -      safe_browsing::AsyncCheckTracker::
@@ -235,13 +242,6 @@
        break;
      case DownloadCommands::RETRY:
        RetryDownload(model.get(), command);
-@@ -434,6 +422,4 @@ DownloadBubbleUIController::GetWeakPtr()
- }
- 
- void DownloadBubbleUIController::SetDeepScanNoticeSeen() {
--  profile_->GetPrefs()->SetBoolean(
--      prefs::kSafeBrowsingAutomaticDeepScanningIPHSeen, true);
- }
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
 @@ -163,7 +163,6 @@ using content::DownloadManager;
@@ -268,61 +268,7 @@
  
    return should_open;
  }
-@@ -754,32 +744,6 @@ bool ChromeDownloadManagerDelegate::IsDo
-     DownloadItem* item,
-     base::OnceClosure internal_complete_callback) {
-   DCHECK_CURRENTLY_ON(BrowserThread::UI);
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
--  if (item->GetDangerType() == download::DOWNLOAD_DANGER_TYPE_USER_VALIDATED) {
--    // For obfuscated files, deobfuscate after validation.
--    enterprise_obfuscation::DownloadObfuscationData* obfuscation_data =
--        static_cast<enterprise_obfuscation::DownloadObfuscationData*>(
--            item->GetUserData(
--                enterprise_obfuscation::DownloadObfuscationData::kUserDataKey));
--
--    if (obfuscation_data && obfuscation_data->is_obfuscated) {
--      base::ThreadPool::PostTaskAndReplyWithResult(
--          FROM_HERE, {base::MayBlock(), base::TaskPriority::USER_VISIBLE},
--          base::BindOnce(&enterprise_obfuscation::DeobfuscateFileInPlace,
--                         item->GetFullPath()),
--          base::BindOnce(
--              &ChromeDownloadManagerDelegate::OnDeobfuscationComplete,
--              weak_ptr_factory_.GetWeakPtr(),
--              std::move(internal_complete_callback)));
--
--      // Ensure that deobfuscation is ran only once.
--      // TODO(crbug.com/367259664): Move to `OnDeobfuscationComplete` after
--      // adding better error handling.
--      obfuscation_data->is_obfuscated = false;
--      return false;
--    }
--  }
--#endif
- 
- #if BUILDFLAG(FULL_SAFE_BROWSING)
-   // If this is a chrome triggered download, return true;
-@@ -855,20 +819,6 @@ bool ChromeDownloadManagerDelegate::IsDo
-   return true;
- }
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
--void ChromeDownloadManagerDelegate::OnDeobfuscationComplete(
--    base::OnceClosure callback,
--    base::expected<void, enterprise_obfuscation::Error> deobfuscation_result) {
--  if (!deobfuscation_result.has_value()) {
--    // TODO(crbug.com/367259664): Add better error handling for deobfuscation.
--    DVLOG(1) << "Failed to deobfuscate download file.";
--  }
--
--  if (callback) {
--    std::move(callback).Run();
--  }
--}
--#endif
- 
- void ChromeDownloadManagerDelegate::ShouldCompleteDownloadInternal(
-     uint32_t download_id,
-@@ -1775,7 +1725,6 @@ void ChromeDownloadManagerDelegate::OnDo
+@@ -1791,7 +1781,6 @@ void ChromeDownloadManagerDelegate::OnDo
      DownloadItemModel model(item);
      model.DetermineAndSetShouldPreferOpeningInBrowser(
          target_info.target_path, target_info.is_filetype_handled_safely);
@@ -330,7 +276,7 @@
    }
    if (ShouldBlockFile(item, target_info.danger_type)) {
      MaybeReportDangerousDownloadBlocked(
-@@ -1856,49 +1805,20 @@ bool ChromeDownloadManagerDelegate::IsOp
+@@ -1872,49 +1861,20 @@ bool ChromeDownloadManagerDelegate::IsOp
  bool ChromeDownloadManagerDelegate::ShouldBlockFile(
      download::DownloadItem* item,
      download::DownloadDangerType danger_type) const {
@@ -384,23 +330,7 @@
      default:
        LOG(ERROR) << "Invalid download restriction value: "
                   << static_cast<int>(download_restriction);
-@@ -1917,7 +1837,6 @@ void ChromeDownloadManagerDelegate::Mayb
-     service->MaybeSendDangerousDownloadOpenedReport(download,
-                                                     show_download_in_folder);
-   }
--#endif
-   if (!download->GetAutoOpened()) {
-     download::DownloadContent download_content =
-         download::DownloadContentFromMimeType(download->GetMimeType(), false);
-@@ -1925,6 +1844,7 @@ void ChromeDownloadManagerDelegate::Mayb
-         download->GetDangerType(), download_content, base::Time::Now(),
-         download->GetEndTime(), show_download_in_folder);
-   }
-+#endif
- }
- 
- void ChromeDownloadManagerDelegate::MaybeSendDangerousDownloadCanceledReport(
-@@ -2048,8 +1968,7 @@ void ChromeDownloadManagerDelegate::Chec
+@@ -2057,8 +2017,7 @@ void ChromeDownloadManagerDelegate::Chec
    DCHECK(download_item);
    DCHECK(download_item->IsSavePackageDownload());
  
@@ -410,21 +340,6 @@
    std::optional<enterprise_connectors::AnalysisSettings> settings =
        safe_browsing::DeepScanningRequest::ShouldUploadBinary(download_item);
  
---- a/chrome/browser/download/chrome_download_manager_delegate.h
-+++ b/chrome/browser/download/chrome_download_manager_delegate.h
-@@ -304,12 +304,6 @@ class ChromeDownloadManagerDelegate
-   void ShouldCompleteDownloadInternal(uint32_t download_id,
-                                       base::OnceClosure user_complete_callback);
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
--  // Called when obfuscated download files are deobfuscated.
--  void OnDeobfuscationComplete(
--      base::OnceClosure callback,
--      base::expected<void, enterprise_obfuscation::Error> deobfuscation_result);
--#endif
- 
-   // Sets the next download id based on download database records, and runs all
-   // cached id callbacks.
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
 @@ -920,30 +920,6 @@ void DownloadItemModel::ExecuteCommand(D
@@ -524,30 +439,6 @@
  }
  
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -91,23 +85,5 @@ void SendSafeBrowsingDownloadReport(
- 
- bool ShouldShowDeepScanPromptNotice(Profile* profile,
-                                     download::DownloadDangerType danger_type) {
--  if (danger_type != download::DOWNLOAD_DANGER_TYPE_PROMPT_FOR_SCANNING) {
-     return false;
--  }
--
--  if (!safe_browsing::IsEnhancedProtectionEnabled(*profile->GetPrefs())) {
--    return false;
--  }
--
--  if (!base::FeatureList::IsEnabled(
--          safe_browsing::kDeepScanningPromptRemoval)) {
--    return false;
--  }
--
--  if (profile->GetPrefs()->GetBoolean(
--          prefs::kSafeBrowsingAutomaticDeepScanPerformed)) {
--    return false;
--  }
--
--  return true;
- }
 --- a/chrome/browser/download/download_warning_desktop_hats_utils.cc
 +++ b/chrome/browser/download/download_warning_desktop_hats_utils.cc
 @@ -33,7 +33,6 @@
@@ -689,7 +580,7 @@
  #include "chrome/grit/generated_resources.h"
  #include "components/enterprise/buildflags/buildflags.h"
  #include "components/enterprise/common/files_scan_data.h"
-@@ -1151,16 +1149,6 @@ void ContentAnalysisDelegate::AckAllRequ
+@@ -1152,16 +1150,6 @@ void ContentAnalysisDelegate::AckAllRequ
  void ContentAnalysisDelegate::FinishLargeDataRequestEarly(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      safe_browsing::BinaryUploadService::Result result) {
@@ -719,7 +610,7 @@
  std::u16string ContentAnalysisDownloadsDelegate::GetBypassJustificationLabel()
 --- a/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
-@@ -175,52 +175,12 @@ void FilesRequestHandler::FileRequestCal
+@@ -176,52 +176,12 @@ void FilesRequestHandler::FileRequestCal
  }
  
  bool FilesRequestHandler::UploadDataImpl() {
@@ -772,7 +663,7 @@
  void FilesRequestHandler::OnGotFileInfo(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      size_t index,
-@@ -269,15 +229,6 @@ void FilesRequestHandler::OnGotFileInfo(
+@@ -270,15 +230,6 @@ void FilesRequestHandler::OnGotFileInfo(
  void FilesRequestHandler::FinishRequestEarly(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      safe_browsing::BinaryUploadService::Result result) {
@@ -801,97 +692,38 @@
    // Called when the file info for `path` has been fetched. Also begins the
    // upload process.
    void OnGotFileInfo(
---- a/chrome/browser/enterprise/connectors/common.cc
-+++ b/chrome/browser/enterprise/connectors/common.cc
-@@ -342,7 +342,7 @@ void ShowDownloadReviewDialog(const std:
- bool IsResumableUpload(const BinaryUploadService::Request& request) {
-   // Currently resumable upload doesn't support paste or LBUS. If one day we do,
-   // we should update the logic here as well.
--  return !safe_browsing::IsConsumerScanRequest(request) &&
-+  return
-          request.cloud_or_local_settings().is_cloud_analysis() &&
-          request.content_analysis_request().analysis_connector() !=
-              enterprise_connectors::AnalysisConnector::BULK_DATA_ENTRY;
-@@ -394,57 +394,6 @@ void ReportDataMaskingEvent(
-     content::BrowserContext* browser_context,
-     extensions::api::enterprise_reporting_private::DataMaskingEvent
-         data_masking_event) {
--  CHECK(browser_context);
--
--  auto* reporting_client =
--      enterprise_connectors::RealtimeReportingClientFactory::GetForProfile(
--          browser_context);
--  std::optional<enterprise_connectors::ReportingSettings> settings =
--      reporting_client->GetReportingSettings();
--  if (!settings.has_value() ||
--      !base::Contains(settings->enabled_event_names,
--                      enterprise_connectors::kKeySensitiveDataEvent)) {
--    return;
--  }
--
--  base::Value::Dict event;
--  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyUrl,
--            data_masking_event.url);
--  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyTabUrl,
--            std::move(data_masking_event.url));
--  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyEventResult,
--            EventResultToString(data_masking_event.event_result));
--
--  base::Value::List triggered_rule_info;
--  triggered_rule_info.reserve(data_masking_event.triggered_rule_info.size());
--  for (auto& rule : data_masking_event.triggered_rule_info) {
--    base::Value::Dict triggered_rule;
--    triggered_rule.Set(
--        extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleId,
--        std::move(rule.rule_id));
--    triggered_rule.Set(
--        extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleName,
--        std::move(rule.rule_name));
--
--    base::Value::List matched_detectors;
--    for (auto& detector : rule.matched_detectors) {
--      base::Value::Dict detector_value;
--      detector_value.Set(kKeyDetectorId, std::move(detector.detector_id));
--      detector_value.Set(kKeyDisplayName, std::move(detector.display_name));
--      detector_value.Set(kKeyDetectorType,
--                         DetectorTypeToString(detector.detector_type));
--      matched_detectors.Append(std::move(detector_value));
--    }
--    triggered_rule.Set(kKeyMatchedDetectors, std::move(matched_detectors));
--
--    triggered_rule_info.Append(std::move(triggered_rule));
--  }
--  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleInfo,
--            std::move(triggered_rule_info));
--
--  reporting_client->ReportRealtimeEvent(
--      enterprise_connectors::kKeySensitiveDataEvent,
--      std::move(settings.value()), std::move(event));
- }
- #endif  // BUILDFLAG(ENABLE_EXTENSIONS)
- 
 --- a/chrome/browser/enterprise/connectors/connectors_manager.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_manager.cc
-@@ -316,16 +316,7 @@ std::vector<const AnalysisConfig*> Conne
+@@ -316,26 +316,7 @@ std::vector<const AnalysisConfig*> Conne
  }
  
- DataRegion ConnectorsManager::GetDataRegion() const {
+ DataRegion ConnectorsManager::GetDataRegion(AnalysisConnector connector) const {
 -#if BUILDFLAG(IS_ANDROID)
    return DataRegion::NO_PREFERENCE;
 -#else
--  bool apply_data_region =
--      prefs()->HasPrefPath(prefs::kChromeDataRegionSetting) &&
--      base::FeatureList::IsEnabled(safe_browsing::kDlpRegionalizedEndpoints);
--  return apply_data_region ? ChromeDataRegionSettingToEnum(prefs()->GetInteger(
--                                 prefs::kChromeDataRegionSetting))
--                           : DataRegion::NO_PREFERENCE;
+-  // Connector's policy scope determines the DRZ policy scope to use.
+-  policy::PolicyScope scope = static_cast<policy::PolicyScope>(
+-      prefs()->GetInteger(AnalysisConnectorScopePref(connector)));
+-
+-  const PrefService* pref_service =
+-      (scope == policy::PolicyScope::POLICY_SCOPE_MACHINE)
+-          ? g_browser_process->local_state()
+-          : prefs();
+-
+-  if (!pref_service ||
+-      !pref_service->HasPrefPath(prefs::kChromeDataRegionSetting)) {
+-    return DataRegion::NO_PREFERENCE;
+-  }
+-
+-  return ChromeDataRegionSettingToEnum(
+-      pref_service->GetInteger(prefs::kChromeDataRegionSetting));
 -#endif
  }
  
  void ConnectorsManager::StartObservingPrefs(PrefService* pref_service) {
 --- a/chrome/browser/enterprise/connectors/connectors_service.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_service.cc
-@@ -426,22 +426,7 @@ std::string ConnectorsService::GetManage
+@@ -424,22 +424,7 @@ std::string ConnectorsService::GetManage
  }
  
  std::string ConnectorsService::GetRealTimeUrlCheckIdentifier() const {
@@ -1002,7 +834,7 @@
 -  ReportCopyOrPaste(
 -      source, destination, metadata, verdict,
 -      extensions::SafeBrowsingPrivateEventRouter::kTriggerWebContentUpload,
--      safe_browsing::EventResult::BYPASSED);
+-      enterprise_connectors::EventResult::BYPASSED);
  }
  
  void ReportingService::ReportCopy(const content::ClipboardEndpoint& source,
@@ -1021,14 +853,14 @@
 -  ReportCopyOrPaste(
 -      source, /*destination=*/std::nullopt, metadata, verdict,
 -      extensions::SafeBrowsingPrivateEventRouter::kTriggerClipboardCopy,
--      safe_browsing::EventResult::BYPASSED);
+-      enterprise_connectors::EventResult::BYPASSED);
  }
  
  void ReportingService::ReportCopyOrPaste(
 @@ -206,45 +190,6 @@ void ReportingService::ReportCopyOrPaste
      const Verdict& verdict,
      const std::string& trigger,
-     safe_browsing::EventResult event_result) {
+     enterprise_connectors::EventResult event_result) {
 -  auto* router =
 -      extensions::SafeBrowsingPrivateEventRouterFactory::GetForProfile(
 -          &profile_.get());
@@ -1079,49 +911,6 @@
  }
  
  ReportingServiceFactory::~ReportingServiceFactory() = default;
---- a/chrome/browser/enterprise/data_protection/data_protection_clipboard_utils.cc
-+++ b/chrome/browser/enterprise/data_protection/data_protection_clipboard_utils.cc
-@@ -161,40 +161,7 @@ void PasteIfAllowedByContentAnalysis(
-     return;
-   }
- 
--  Profile* profile = Profile::FromBrowserContext(destination.browser_context());
--  if (!profile) {
-     std::move(callback).Run(std::move(clipboard_paste_data));
--    return;
--  }
--
--  bool is_files =
--      metadata.format_type == ui::ClipboardFormatType::FilenamesType();
--  enterprise_connectors::AnalysisConnector connector =
--      is_files ? enterprise_connectors::AnalysisConnector::FILE_ATTACHED
--               : enterprise_connectors::AnalysisConnector::BULK_DATA_ENTRY;
--  enterprise_connectors::ContentAnalysisDelegate::Data dialog_data;
--
--  if (!enterprise_connectors::ContentAnalysisDelegate::IsEnabled(
--          profile, GetUrlFromEndpoint(destination), &dialog_data, connector)) {
--    std::move(callback).Run(std::move(clipboard_paste_data));
--    return;
--  }
--
--  dialog_data.reason =
--      enterprise_connectors::ContentAnalysisRequest::CLIPBOARD_PASTE;
--  dialog_data.clipboard_source =
--      data_controls::ReportingService::GetClipboardSource(
--          source, destination,
--          enterprise_connectors::kOnBulkDataEntryScopePref);
--
--  if (is_files) {
--    dialog_data.paths = std::move(clipboard_paste_data.file_paths);
--    HandleFileData(web_contents, std::move(dialog_data), std::move(callback));
--  } else {
--    dialog_data.AddClipboardData(clipboard_paste_data);
--    HandleStringData(web_contents, std::move(clipboard_paste_data),
--                     std::move(dialog_data), std::move(callback));
--  }
- }
- #endif  // BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
- 
 --- a/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 +++ b/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 @@ -68,12 +68,6 @@ void RunPendingNavigationCallback(
@@ -1201,28 +990,6 @@
  }
  
  // static
---- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
-+++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -259,7 +259,6 @@ void ContextInfoFetcher::Fetch(ContextIn
-       GetAnalysisConnectorProviders(enterprise_connectors::BULK_DATA_ENTRY);
-   info.on_print_providers =
-       GetAnalysisConnectorProviders(enterprise_connectors::PRINT);
--  info.realtime_url_check_mode = GetRealtimeUrlCheckMode();
-   info.on_security_event_providers = GetOnSecurityEventProviders();
-   info.browser_version = version_info::GetVersionNumber();
-   info.site_isolation_enabled =
-@@ -316,11 +315,6 @@ std::vector<std::string> ContextInfoFetc
-   return connectors_service_->GetAnalysisServiceProviderNames(connector);
- }
- 
--enterprise_connectors::EnterpriseRealTimeUrlCheckMode
--ContextInfoFetcher::GetRealtimeUrlCheckMode() {
--  return connectors_service_->GetAppliedRealTimeUrlCheck();
--}
--
- std::vector<std::string> ContextInfoFetcher::GetOnSecurityEventProviders() {
-   return connectors_service_->GetReportingServiceProviderNames();
- }
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.h
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.h
 @@ -6,6 +6,7 @@
@@ -1233,7 +1000,7 @@
  #include <vector>
  
  #include "base/functional/callback_forward.h"
-@@ -40,7 +41,6 @@ struct ContextInfo {
+@@ -41,7 +42,6 @@ struct ContextInfo {
    std::vector<std::string> on_bulk_data_entry_providers;
    std::vector<std::string> on_print_providers;
    std::vector<std::string> on_security_event_providers;
@@ -1241,15 +1008,6 @@
    std::string browser_version;
    safe_browsing::SafeBrowsingState safe_browsing_protection_level;
    bool site_isolation_enabled;
-@@ -91,8 +91,6 @@ class ContextInfoFetcher {
-   std::vector<std::string> GetAnalysisConnectorProviders(
-       enterprise_connectors::AnalysisConnector connector);
- 
--  enterprise_connectors::EnterpriseRealTimeUrlCheckMode
--  GetRealtimeUrlCheckMode();
- 
-   std::vector<std::string> GetOnSecurityEventProviders();
- 
 --- a/chrome/browser/enterprise/signals/signals_utils.cc
 +++ b/chrome/browser/enterprise/signals/signals_utils.cc
 @@ -33,24 +33,6 @@ bool IsURLBlocked(const GURL& url, Polic
@@ -1310,7 +1068,7 @@
  }  // namespace utils
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -272,10 +272,6 @@ source_set("extensions") {
+@@ -280,10 +280,6 @@ source_set("extensions") {
        "api/proxy/proxy_pref_transformer.h",
        "api/runtime/chrome_runtime_api_delegate.cc",
        "api/runtime/chrome_runtime_api_delegate.h",
@@ -1321,7 +1079,7 @@
        "api/sessions/session_id.cc",
        "api/sessions/session_id.h",
        "api/sessions/sessions_api.cc",
-@@ -571,8 +567,6 @@ source_set("extensions") {
+@@ -567,8 +563,6 @@ source_set("extensions") {
        "mv2_experiment_stage.h",
        "navigation_extension_enabler.cc",
        "navigation_extension_enabler.h",
@@ -1332,7 +1090,7 @@
        "pending_extension_info.cc",
 --- a/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
 +++ b/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
-@@ -118,7 +118,6 @@ void EnsureApiBrowserContextKeyedService
+@@ -114,7 +114,6 @@ void EnsureApiBrowserContextKeyedService
  #endif
    extensions::ProcessesAPI::GetFactoryInstance();
    extensions::ReadingListEventRouterFactory::GetInstance();
@@ -1395,7 +1153,7 @@
  CookiesSetFunction::CookiesSetFunction()
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -103,16 +103,8 @@ api::enterprise_reporting_private::Conte
+@@ -100,16 +100,8 @@ api::enterprise_reporting_private::Conte
    info.third_party_blocking_enabled = signals.third_party_blocking_enabled;
    info.os_firewall = ToInfoSettingValue(signals.os_firewall);
    info.system_dns_servers = std::move(signals.system_dns_servers);
@@ -1463,16 +1221,14 @@
  void Blocklist::GetMalwareIDs(const std::set<ExtensionId>& ids,
 --- a/chrome/browser/extensions/chrome_extensions_browser_client.cc
 +++ b/chrome/browser/extensions/chrome_extensions_browser_client.cc
-@@ -775,44 +775,17 @@ void ChromeExtensionsBrowserClient::Noti
+@@ -792,42 +792,17 @@ void ChromeExtensionsBrowserClient::Noti
      content::BrowserContext* context,
      const ExtensionId& extension_id,
      const std::string& code) const {
 -  auto* telemetry_service =
 -      safe_browsing::ExtensionTelemetryServiceFactory::GetForProfile(
 -          Profile::FromBrowserContext(context));
--  if (!telemetry_service || !telemetry_service->enabled() ||
--      !base::FeatureList::IsEnabled(
--          safe_browsing::kExtensionTelemetryTabsExecuteScriptSignal)) {
+-  if (!telemetry_service || !telemetry_service->enabled()) {
 -    return;
 -  }
 -
@@ -1509,7 +1265,7 @@
  }
  
  void ChromeExtensionsBrowserClient::
-@@ -821,54 +794,12 @@ void ChromeExtensionsBrowserClient::
+@@ -836,22 +811,6 @@ void ChromeExtensionsBrowserClient::
          const ExtensionId& extension_id,
          const GURL& request_url,
          const GURL& redirect_url) const {
@@ -1531,40 +1287,8 @@
 -  telemetry_service->AddSignal(std::move(signal));
  }
  
- void ChromeExtensionsBrowserClient::NotifyExtensionRemoteHostContacted(
-     content::BrowserContext* context,
-     const ExtensionId& extension_id,
-     const GURL& url) const {
--  // Collect only if new interception feature is disabled to avoid duplicates.
--  if (base::FeatureList::IsEnabled(
--          safe_browsing::
--              kExtensionTelemetryInterceptRemoteHostsContactedInRenderer)) {
--    return;
--  }
--
--  safe_browsing::RemoteHostInfo::ProtocolType protocol =
--      safe_browsing::RemoteHostInfo::UNSPECIFIED;
--  if (url.SchemeIsHTTPOrHTTPS()) {
--    protocol = safe_browsing::RemoteHostInfo::HTTP_HTTPS;
--  } else if (url.SchemeIsWSOrWSS()) {
--    protocol = safe_browsing::RemoteHostInfo::WEBSOCKET;
--  } else {
--    return;
--  }
--  auto* telemetry_service =
--      safe_browsing::ExtensionTelemetryServiceFactory::GetForProfile(
--          Profile::FromBrowserContext(context));
--  if (!telemetry_service || !telemetry_service->enabled()) {
--    return;
--  }
--  auto remote_host_signal =
--      std::make_unique<safe_browsing::RemoteHostContactedSignal>(extension_id,
--                                                                 url, protocol);
--  telemetry_service->AddSignal(std::move(remote_host_signal));
- }
- 
  // static
-@@ -1037,7 +968,6 @@ void ChromeExtensionsBrowserClient::GetW
+@@ -1020,7 +979,6 @@ void ChromeExtensionsBrowserClient::GetW
  
  void ChromeExtensionsBrowserClient::CreatePasswordReuseDetectionManager(
      content::WebContents* web_contents) const {
@@ -1574,7 +1298,7 @@
  media_device_salt::MediaDeviceSaltService*
 --- a/chrome/browser/extensions/extension_service.cc
 +++ b/chrome/browser/extensions/extension_service.cc
-@@ -54,7 +54,6 @@
+@@ -56,7 +56,6 @@
  #include "chrome/browser/extensions/installed_loader.h"
  #include "chrome/browser/extensions/manifest_v2_experiment_manager.h"
  #include "chrome/browser/extensions/mv2_experiment_stage.h"
@@ -1582,23 +1306,7 @@
  #include "chrome/browser/extensions/pending_extension_manager.h"
  #include "chrome/browser/extensions/permissions/permissions_updater.h"
  #include "chrome/browser/extensions/profile_util.h"
-@@ -228,7 +227,6 @@ void ExtensionService::BlocklistExtensio
-   blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(
-       extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
-       extension_prefs_);
--  OnBlocklistStateAdded(extension_id);
- }
- 
- void ExtensionService::GreylistExtensionForTest(
-@@ -236,7 +234,6 @@ void ExtensionService::GreylistExtension
-     const BitMapBlocklistState& state) {
-   blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(extension_id, state,
-                                                           extension_prefs_);
--  OnGreylistStateAdded(extension_id, state);
- }
- 
- bool ExtensionService::OnExternalExtensionUpdateUrlFound(
-@@ -404,9 +401,6 @@ ExtensionService::ExtensionService(
+@@ -407,9 +406,6 @@ ExtensionService::ExtensionService(
        safe_browsing_verdict_handler_(extension_prefs,
                                       ExtensionRegistry::Get(profile),
                                       this),
@@ -1608,7 +1316,7 @@
        extension_telemetry_service_verdict_handler_(
            extension_prefs,
            ExtensionRegistry::Get(profile),
-@@ -931,17 +925,6 @@ bool ExtensionService::IsExtensionEnable
+@@ -838,17 +834,6 @@ bool ExtensionService::IsExtensionEnable
    return extension_registrar_.IsExtensionEnabled(extension_id);
  }
  
@@ -1626,99 +1334,9 @@
  void ExtensionService::PerformActionBasedOnExtensionTelemetryServiceVerdicts(
      const Blocklist::BlocklistStateMap& blocklist_state_map) {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
-@@ -951,89 +934,6 @@ void ExtensionService::PerformActionBase
-   error_controller_->ShowErrorIfNeeded();
- }
- 
--void ExtensionService::OnGreylistStateRemoved(const std::string& extension_id) {
--  bool is_on_sb_list = (blocklist_prefs::GetSafeBrowsingExtensionBlocklistState(
--                            extension_id, extension_prefs_) !=
--                        BitMapBlocklistState::NOT_BLOCKLISTED);
--  bool is_on_omaha_list =
--      blocklist_prefs::HasAnyOmahaGreylistState(extension_id, extension_prefs_);
--  if (is_on_sb_list || is_on_omaha_list) {
--    return;
--  }
--  // Clear all acknowledged states so the extension will still get disabled if
--  // it is added to the greylist again.
--  blocklist_prefs::ClearAcknowledgedGreylistStates(extension_id,
--                                                   extension_prefs_);
--  RemoveDisableReasonAndMaybeEnable(extension_id,
--                                    disable_reason::DISABLE_GREYLIST);
--}
--
--void ExtensionService::OnGreylistStateAdded(const std::string& extension_id,
--                                            BitMapBlocklistState new_state) {
--#if DCHECK_IS_ON()
--  bool has_new_state_on_sb_list =
--      (blocklist_prefs::GetSafeBrowsingExtensionBlocklistState(
--           extension_id, extension_prefs_) == new_state);
--  bool has_new_state_on_omaha_list = blocklist_prefs::HasOmahaBlocklistState(
--      extension_id, new_state, extension_prefs_);
--  DCHECK(has_new_state_on_sb_list || has_new_state_on_omaha_list);
--#endif
--  if (blocklist_prefs::HasAcknowledgedBlocklistState(extension_id, new_state,
--                                                     extension_prefs_)) {
--    // If the extension is already acknowledged, don't disable it again
--    // because it can be already re-enabled by the user. This could happen if
--    // the extension is added to the SafeBrowsing blocklist, and then
--    // subsequently marked by Omaha. In this case, we don't want to disable the
--    // extension twice.
--    return;
--  }
--
--  // Set the current greylist states to acknowledge immediately because the
--  // extension is disabled silently. Clear the other acknowledged state because
--  // when the state changes to another greylist state in the future, we'd like
--  // to disable the extension again.
--  blocklist_prefs::UpdateCurrentGreylistStatesAsAcknowledged(extension_id,
--                                                             extension_prefs_);
--  DisableExtension(extension_id, disable_reason::DISABLE_GREYLIST);
--}
--
--void ExtensionService::OnBlocklistStateRemoved(
--    const std::string& extension_id) {
--  if (blocklist_prefs::IsExtensionBlocklisted(extension_id, extension_prefs_)) {
--    return;
--  }
--
--  // Clear acknowledged state.
--  blocklist_prefs::RemoveAcknowledgedBlocklistState(
--      extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
--      extension_prefs_);
--
--  scoped_refptr<const Extension> extension =
--      registry_->blocklisted_extensions().GetByID(extension_id);
--  DCHECK(extension);
--  registry_->RemoveBlocklisted(extension_id);
--  AddExtension(extension.get());
--}
--
--void ExtensionService::OnBlocklistStateAdded(const std::string& extension_id) {
--  DCHECK(
--      blocklist_prefs::IsExtensionBlocklisted(extension_id, extension_prefs_));
--  // The extension was already acknowledged by the user, it should already be in
--  // the unloaded state.
--  if (blocklist_prefs::HasAcknowledgedBlocklistState(
--          extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
--          extension_prefs_)) {
--    DCHECK(base::Contains(registry_->blocklisted_extensions().GetIDs(),
--                          extension_id));
--    return;
--  }
--
--  scoped_refptr<const Extension> extension =
--      registry_->GetInstalledExtension(extension_id);
--  registry_->AddBlocklisted(extension);
--  UnloadExtension(extension_id, UnloadedExtensionReason::BLOCKLIST);
--}
--
- void ExtensionService::RemoveDisableReasonAndMaybeEnable(
-     const std::string& extension_id,
-     disable_reason::DisableReason reason_to_remove) {
 --- a/chrome/browser/extensions/extension_service.h
 +++ b/chrome/browser/extensions/extension_service.h
-@@ -30,7 +30,6 @@
+@@ -31,7 +31,6 @@
  #include "chrome/browser/extensions/forced_extensions/force_installed_metrics.h"
  #include "chrome/browser/extensions/forced_extensions/force_installed_tracker.h"
  #include "chrome/browser/extensions/install_gate.h"
@@ -1726,37 +1344,7 @@
  #include "chrome/browser/extensions/pending_extension_manager.h"
  #include "chrome/browser/extensions/safe_browsing_verdict_handler.h"
  #include "chrome/browser/profiles/profile_manager_observer.h"
-@@ -277,40 +276,11 @@ class ExtensionService : public Extensio
-   // nothing.
-   void EnableExtension(const std::string& extension_id);
- 
--  // Takes Safe Browsing and Omaha blocklist states into account and decides
--  // whether to remove greylist disabled reason. Called when a greylisted
--  // state is removed from the Safe Browsing blocklist or Omaha blocklist. Also
--  // clears all acknowledged states if the greylist disabled reason is removed.
--  void OnGreylistStateRemoved(const std::string& extension_id);
--
--  // Takes acknowledged blocklist states into account and decides whether to
--  // disable the greylisted extension. Called when a new greylisted state is
--  // added to the Safe Browsing blocklist or Omaha blocklist.
--  void OnGreylistStateAdded(const std::string& extension_id,
--                            BitMapBlocklistState new_state);
--
--  // Takes Safe Browsing and Omaha malware blocklist states into account and
--  // decides whether to remove the extension from the blocklist and reload it.
--  // Called when a blocklisted extension is removed from the Safe Browsing
--  // malware blocklist or Omaha malware blocklist. Also clears the acknowledged
--  // state if the extension is reloaded.
--  void OnBlocklistStateRemoved(const std::string& extension_id);
--
--  // Takes acknowledged malware blocklist state into account and decides whether
--  // to add the extension to the blocklist and unload it. Called when the
--  // extension is added to the Safe Browsing malware blocklist or the Omaha
--  // malware blocklist.
--  void OnBlocklistStateAdded(const std::string& extension_id);
--
-   // Removes the disable reason and enable the extension if there are no disable
-   // reasons left and is not blocked for another reason.
+@@ -308,10 +307,6 @@ class ExtensionService : public Extensio
    void RemoveDisableReasonAndMaybeEnable(const std::string& extension_id,
                                           disable_reason::DisableReason reason);
  
@@ -1767,7 +1355,7 @@
    // Performs action based on verdicts received from the Extension Telemetry
    // server. Currently, these verdicts are limited to off-store extensions.
    void PerformActionBasedOnExtensionTelemetryServiceVerdicts(
-@@ -673,8 +643,6 @@ class ExtensionService : public Extensio
+@@ -695,8 +690,6 @@ class ExtensionService : public Extensio
  
    SafeBrowsingVerdictHandler safe_browsing_verdict_handler_;
  
@@ -1838,48 +1426,6 @@
      UMA_HISTOGRAM_ENUMERATION("Extensions.Greylist.Disabled",
                                extension->location());
    }
---- a/chrome/browser/external_protocol/external_protocol_handler.cc
-+++ b/chrome/browser/external_protocol/external_protocol_handler.cc
-@@ -172,8 +172,6 @@ void LaunchUrlWithoutSecurityCheckWithDe
-     return;
-   }
- 
--  g_browser_process->safe_browsing_service()->ReportExternalAppRedirect(
--      web_contents, url.scheme(), url.possibly_invalid_spec());
- 
-   // |web_contents| is only passed in to find browser context. Do not assume
-   // that the external protocol request came from the main frame.
---- a/chrome/browser/file_select_helper.cc
-+++ b/chrome/browser/file_select_helper.cc
-@@ -368,7 +368,7 @@ void FileSelectHelper::PerformContentAna
-   if (AbortIfWebContentsDestroyed())
-     return;
- 
--#if BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
-+#if false
-   enterprise_connectors::ContentAnalysisDelegate::Data data;
-   if (enterprise_connectors::ContentAnalysisDelegate::IsEnabled(
-           profile_, web_contents_->GetLastCommittedURL(), &data,
-@@ -398,7 +398,7 @@ void FileSelectHelper::PerformContentAna
- #endif  // BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
- }
- 
--#if BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
-+#if false
- void FileSelectHelper::ContentAnalysisCompletionCallback(
-     std::vector<blink::mojom::FileChooserFileInfoPtr> list,
-     const enterprise_connectors::ContentAnalysisDelegate::Data& data,
---- a/chrome/browser/file_select_helper.h
-+++ b/chrome/browser/file_select_helper.h
-@@ -232,7 +232,7 @@ class FileSelectHelper : public base::Re
-   void PerformContentAnalysisIfNeeded(
-       std::vector<blink::mojom::FileChooserFileInfoPtr> list);
- 
--#if BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
-+#if false
-   // Callback used to receive the results of a content analysis scan.
-   void ContentAnalysisCompletionCallback(
-       std::vector<blink::mojom::FileChooserFileInfoPtr> list,
 --- a/chrome/browser/file_system_access/chrome_file_system_access_permission_context.cc
 +++ b/chrome/browser/file_system_access/chrome_file_system_access_permission_context.cc
 @@ -42,7 +42,6 @@
@@ -2002,15 +1548,6 @@
  }
  
  void ChromeFileSystemAccessPermissionContext::ConfirmSensitiveEntryAccess(
-@@ -1743,7 +1653,7 @@ void ChromeFileSystemAccessPermissionCon
-     std::vector<content::PathInfo> entries,
-     content::GlobalRenderFrameHostId frame_id,
-     EntriesAllowedByEnterprisePolicyCallback callback) {
--#if BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
-+#if false
-   // Get WebContents pointer in order to perform enterprise content analysis.
-   content::WebContents* web_contents = nullptr;
-   if (!entries.empty()) {
 @@ -1852,29 +1762,6 @@ void ChromeFileSystemAccessPermissionCon
        std::move(callback));
  }
@@ -2123,13 +1660,33 @@
  #if BUILDFLAG(ENABLE_EXTENSIONS_CORE)
      AddNotificationHandler(
          NotificationHandler::Type::EXTENSION,
+--- a/chrome/browser/notifications/persistent_notification_handler.cc
++++ b/chrome/browser/notifications/persistent_notification_handler.cc
+@@ -212,16 +212,6 @@ void PersistentNotificationHandler::Disa
+   NotificationPermissionContext::UpdatePermission(profile, origin,
+                                                   CONTENT_SETTING_BLOCK);
+ #endif
+-  // Remove `origin` from user allowlisted sites when user unsubscribes.
+-  auto* hcsm = HostContentSettingsMapFactory::GetForProfile(profile);
+-  if (hcsm && origin.is_valid()) {
+-    hcsm->SetWebsiteSettingCustomScope(
+-        ContentSettingsPattern::FromURLNoWildcard(origin),
+-        ContentSettingsPattern::Wildcard(),
+-        ContentSettingsType::ARE_SUSPICIOUS_NOTIFICATIONS_ALLOWLISTED_BY_USER,
+-        base::Value(base::Value::Dict().Set(
+-            safe_browsing::kIsAllowlistedByUserKey, false)));
+-  }
+ }
+ 
+ void PersistentNotificationHandler::OpenSettings(Profile* profile,
 --- a/chrome/browser/notifications/platform_notification_service_impl.cc
 +++ b/chrome/browser/notifications/platform_notification_service_impl.cc
-@@ -299,38 +299,6 @@ void PlatformNotificationServiceImpl::Di
+@@ -300,40 +300,6 @@ void PlatformNotificationServiceImpl::Di
    auto metadata = std::make_unique<PersistentNotificationMetadata>();
    metadata->service_worker_scope = service_worker_scope;
  
 -  if (safe_browsing::IsSafeBrowsingEnabled(*profile_->GetPrefs()) &&
+-      !safe_browsing::IsURLAllowlistedByPolicy(origin, *profile_->GetPrefs()) &&
 -      base::FeatureList::IsEnabled(
 -          safe_browsing::kOnDeviceNotificationContentDetectionModel)) {
 -    auto* notification_content_service = safe_browsing::
@@ -2140,6 +1697,7 @@
 -              safe_browsing::kShowWarningsForSuspiciousNotifications);
 -      notification_content_service->MaybeCheckNotificationContentDetectionModel(
 -          notification_data, origin,
+-          AreSuspiciousNotificationsAllowlistedByUser(origin),
 -          is_show_warnings_for_suspicious_notifications_enabled
 -              ? base::BindOnce(&PlatformNotificationServiceImpl::
 -                                   UpdatePersistentMetadataThenDisplay,
@@ -2166,7 +1724,7 @@
        NotificationHandler::Type::WEB_PERSISTENT, notification,
 --- a/chrome/browser/password_manager/chrome_password_manager_client.cc
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.cc
-@@ -42,7 +42,6 @@
+@@ -41,7 +41,6 @@
  #include "chrome/browser/password_manager/profile_password_store_factory.h"
  #include "chrome/browser/profiles/profile.h"
  #include "chrome/browser/profiles/profile_manager.h"
@@ -2174,7 +1732,7 @@
  #include "chrome/browser/safe_browsing/user_interaction_observer.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
  #include "chrome/browser/sync/sync_service_factory.h"
-@@ -1128,6 +1127,7 @@ autofill::LanguageCode ChromePasswordMan
+@@ -1131,6 +1130,7 @@ autofill::LanguageCode ChromePasswordMan
    return autofill::LanguageCode();
  }
  
@@ -2182,7 +1740,7 @@
  safe_browsing::PasswordProtectionService*
  ChromePasswordManagerClient::GetPasswordProtectionService() const {
    return safe_browsing::ChromePasswordProtectionService::
-@@ -1147,6 +1147,7 @@ void ChromePasswordManagerClient::CheckS
+@@ -1150,6 +1150,7 @@ void ChromePasswordManagerClient::CheckS
    }
  }
  #endif  // defined(ON_FOCUS_PING_ENABLED)
@@ -2190,7 +1748,7 @@
  
  #if BUILDFLAG(ENABLE_EXTENSIONS)
  void ChromePasswordManagerClient::MaybeReportEnterpriseLoginEvent(
-@@ -1154,30 +1155,10 @@ void ChromePasswordManagerClient::MaybeR
+@@ -1157,30 +1158,10 @@ void ChromePasswordManagerClient::MaybeR
      bool is_federated,
      const url::SchemeHostPort& federated_origin,
      const std::u16string& login_user_name) const {
@@ -2221,7 +1779,7 @@
  }
  #endif  // BUILDFLAG(ENABLE_EXTENSIONS)
  
-@@ -1990,6 +1971,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1973,6 +1954,7 @@ bool ChromePasswordManagerClient::IsPass
      is_enabled = false;
    }
  
@@ -2229,7 +1787,7 @@
    // SafeBrowsing Delayed Warnings experiment can delay some SafeBrowsing
    // warnings until user interaction. If the current page has a delayed warning,
    // it'll have a user interaction observer attached. Disable password
-@@ -2000,6 +1982,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1983,6 +1965,7 @@ bool ChromePasswordManagerClient::IsPass
      observer->OnPasswordSaveOrAutofillDenied();
      is_enabled = false;
    }
@@ -2239,7 +1797,7 @@
    if (log_manager && log_manager->IsLoggingActive()) {
 --- a/chrome/browser/password_manager/chrome_password_manager_client.h
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.h
-@@ -252,15 +252,9 @@ class ChromePasswordManagerClient
+@@ -246,15 +246,9 @@ class ChromePasswordManagerClient
    autofill::LogManager* GetCurrentLogManager() override;
    void AnnotateNavigationEntry(bool has_password_field) override;
    autofill::LanguageCode GetPageLanguage() const override;
@@ -2255,25 +1813,6 @@
  
    // Reporting these events is only supported when extensions are enabled.
  #if BUILDFLAG(ENABLE_EXTENSIONS)
---- a/chrome/browser/permissions/chrome_permissions_client.cc
-+++ b/chrome/browser/permissions/chrome_permissions_client.cc
-@@ -438,16 +438,6 @@ void ChromePermissionsClient::OnPromptRe
-       PermissionRevocationRequest::ExemptOriginFromFutureRevocations(profile,
-                                                                      origin);
-     }
--    if (action == permissions::PermissionAction::GRANTED) {
--      if (g_browser_process->safe_browsing_service()) {
--        g_browser_process->safe_browsing_service()
--            ->MaybeSendNotificationsAcceptedReport(
--                web_contents->GetPrimaryMainFrame(), profile,
--                web_contents->GetLastCommittedURL(),
--                web_contents->GetController().GetLastCommittedEntry()->GetURL(),
--                origin, prompt_display_duration);
--      }
--    }
-   }
- 
-   auto content_setting_type = RequestTypeToContentSettingsType(request_type);
 --- a/chrome/browser/permissions/contextual_notification_permission_ui_selector.cc
 +++ b/chrome/browser/permissions/contextual_notification_permission_ui_selector.cc
 @@ -16,7 +16,6 @@
@@ -2284,7 +1823,7 @@
  #include "chrome/common/chrome_features.h"
  #include "components/permissions/permission_request.h"
  #include "components/permissions/request_type.h"
-@@ -151,9 +150,6 @@ void ContextualNotificationPermissionUiS
+@@ -152,9 +151,6 @@ void ContextualNotificationPermissionUiS
  }
  
  void ContextualNotificationPermissionUiSelector::Cancel() {
@@ -2294,7 +1833,7 @@
  }
  
  bool ContextualNotificationPermissionUiSelector::IsPermissionRequestSupported(
-@@ -179,24 +175,14 @@ void ContextualNotificationPermissionUiS
+@@ -180,24 +176,14 @@ void ContextualNotificationPermissionUiS
    std::optional<Decision> decision =
        GetDecisionBasedOnSiteReputation(reputation);
  
@@ -2326,31 +1865,7 @@
  void ContextualNotificationPermissionUiSelector::OnSafeBrowsingVerdictReceived(
 --- a/chrome/browser/permissions/permission_revocation_request.cc
 +++ b/chrome/browser/permissions/permission_revocation_request.cc
-@@ -135,23 +135,7 @@ void PermissionRevocationRequest::CheckA
-   DCHECK(profile_);
-   DCHECK(callback_);
- 
--  if (!safe_browsing::IsSafeBrowsingEnabled(*profile_->GetPrefs()) ||
--      IsOriginExemptedFromFutureRevocations(profile_, origin_)){
-     NotifyCallback(Outcome::PERMISSION_NOT_REVOKED);
--    return;
--  }
--
--  CrowdDenyPreloadData* crowd_deny = CrowdDenyPreloadData::GetInstance();
--  permissions::PermissionUmaUtil::RecordCrowdDenyVersionAtAbuseCheckTime(
--      crowd_deny->version_on_disk());
--
--  if (!crowd_deny->IsReadyToUse())
--    crowd_deny_request_start_time_ = base::TimeTicks::Now();
--
--  crowd_deny->GetReputationDataForSiteAsync(
--      url::Origin::Create(origin_),
--      base::BindOnce(&PermissionRevocationRequest::OnSiteReputationReady,
--                     weak_factory_.GetWeakPtr()));
- }
- 
- void PermissionRevocationRequest::OnSiteReputationReady(
-@@ -161,32 +145,6 @@ void PermissionRevocationRequest::OnSite
+@@ -172,32 +172,6 @@ void PermissionRevocationRequest::OnSite
          base::TimeTicks::Now() - crowd_deny_request_start_time_.value();
    }
  
@@ -2385,7 +1900,7 @@
  
 --- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
 +++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -351,51 +351,5 @@ bool PredictionBasedPermissionUiSelector
+@@ -454,55 +454,5 @@ bool PredictionBasedPermissionUiSelector
  
  PredictionSource PredictionBasedPermissionUiSelector::GetPredictionTypeToUse(
      permissions::RequestType request_type) {
@@ -2408,105 +1923,39 @@
 -    return PredictionSource::USE_NONE;
 -  }
 -
--  bool is_tflite_available = false;
--#if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
--  is_tflite_available = true;
--#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
--
--  bool is_on_device_enabled = false;
--
--  if (request_type == permissions::RequestType::kNotifications) {
--    is_on_device_enabled = base::FeatureList::IsEnabled(
--        permissions::features::kPermissionOnDeviceNotificationPredictions);
--  } else if (request_type == permissions::RequestType::kGeolocation) {
--    is_on_device_enabled = base::FeatureList::IsEnabled(
--        permissions::features::kPermissionOnDeviceGeolocationPredictions);
--  }
+-  bool use_server_side = false;
+-  if (is_msbb_enabled) {
 -#if BUILDFLAG(IS_ANDROID)
--  if (is_msbb_enabled &&
--      base::FeatureList::IsEnabled(
--          permissions::features::kPermissionDedicatedCpssSettingAndroid)) {
+-    use_server_side = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionDedicatedCpssSettingAndroid);
 -#else
--  if (is_msbb_enabled && base::FeatureList::IsEnabled(
--                             permissions::features::kPermissionPredictionsV2)) {
--#endif
--    return PredictionSource::USE_SERVER_SIDE;
--  } else if (is_tflite_available && is_on_device_enabled) {
--    return PredictionSource::USE_ONDEVICE;
--  } else {
-     return PredictionSource::USE_NONE;
+-    use_server_side = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionPredictionsV2);
+-#endif  // BUILDFLAG(IS_ANDROID)
 -  }
- }
---- a/chrome/browser/picture_in_picture/auto_picture_in_picture_tab_helper.cc
-+++ b/chrome/browser/picture_in_picture/auto_picture_in_picture_tab_helper.cc
-@@ -211,7 +211,6 @@ void AutoPictureInPictureTabHelper::Mayb
-     return;
-   }
- 
--  ScheduleUrlSafetyCheck();
- }
- 
- void AutoPictureInPictureTabHelper::StopAndResetAsyncTasks() {
-@@ -221,9 +220,7 @@ void AutoPictureInPictureTabHelper::Stop
-   }
- 
-   async_tasks_weak_factory_.InvalidateWeakPtrs();
--  safe_browsing_checker_client_.reset();
- 
--  has_safe_url_ = false;
- }
- 
- void AutoPictureInPictureTabHelper::MaybeExitAutoPictureInPicture() {
-@@ -309,7 +306,7 @@ bool AutoPictureInPictureTabHelper::Meet
-   }
- 
-   return has_audio_focus_ && is_playing_ && WasRecentlyAudible() &&
--         has_safe_url_ && MeetsMediaEngagementConditions();
-+         MeetsMediaEngagementConditions();
- }
- 
- bool AutoPictureInPictureTabHelper::IsUsingCameraOrMicrophone() const {
-@@ -362,40 +359,6 @@ ContentSetting AutoPictureInPictureTabHe
-   return setting;
- }
- 
--void AutoPictureInPictureTabHelper::OnUrlSafetyResult(bool has_safe_url) {
--  has_safe_url_ = has_safe_url;
--
--  if (!has_safe_url_) {
--    return;
+-  if (use_server_side) {
+-    if (base::FeatureList::IsEnabled(permissions::features::kPermissionsAIv1)) {
+-      return PredictionSource::USE_ONDEVICE_GENAI_AND_SERVER_SIDE;
+-    }
+-    return PredictionSource::USE_SERVER_SIDE;
 -  }
 -
--  MaybeEnterAutoPictureInPicture();
--}
--
--void AutoPictureInPictureTabHelper::ScheduleUrlSafetyCheck() {
--  CHECK(!is_in_picture_in_picture_);
--  CHECK(g_browser_process);
--  CHECK(g_browser_process->safe_browsing_service());
--
--  std::optional<content::RenderFrameHost*> rfh = GetPrimaryMainRoutedFrame();
--  if (!rfh) {
--    return;
+-#if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
+-  bool use_ondevice_tflite = false;
+-  if (request_type == permissions::RequestType::kNotifications) {
+-    use_ondevice_tflite = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionOnDeviceNotificationPredictions);
+-  } else if (request_type == permissions::RequestType::kGeolocation) {
+-    use_ondevice_tflite = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionOnDeviceGeolocationPredictions);
 -  }
--
--  if (!safe_browsing_checker_client_) {
--    // Create the AutoPiP safe browsing checker client, which will be used for
--    // determining URL safety.
--    safe_browsing_checker_client_ = std::make_unique<
--        AutoPictureInPictureSafeBrowsingCheckerClient>(
--        g_browser_process->safe_browsing_service()->database_manager().get(),
--        kSafeBrowsingCheckDelay,
--        base::BindRepeating(&AutoPictureInPictureTabHelper::OnUrlSafetyResult,
--                            async_tasks_weak_factory_.GetWeakPtr()));
+-  if (use_ondevice_tflite) {
+-    return PredictionSource::USE_ONDEVICE_TFLITE;
 -  }
+-#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
 -
--  safe_browsing_checker_client_->CheckUrlSafety(
--      rfh.value()->GetLastCommittedURL());
--}
- 
- void AutoPictureInPictureTabHelper::EnsureAutoPipSettingHelper() {
-   if (!auto_pip_setting_helper_) {
+   return PredictionSource::USE_NONE;
+ }
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 @@ -121,6 +121,7 @@
@@ -2517,7 +1966,7 @@
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
  #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
  #include "components/safe_browsing/core/common/safe_browsing_prefs.h"
-@@ -2408,8 +2409,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2460,8 +2461,6 @@ std::unique_ptr<ConfigurationPolicyHandl
    handlers->AddHandler(
        std::make_unique<bookmarks::ManagedBookmarksPolicyHandler>(
            chrome_schema));
@@ -2526,7 +1975,7 @@
    handlers->AddHandler(std::make_unique<syncer::SyncPolicyHandler>());
    handlers->AddHandler(
        std::make_unique<URLBlocklistPolicyHandler>(key::kURLBlocklist));
-@@ -2526,20 +2525,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2578,20 +2577,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            SimpleSchemaValidatingPolicyHandler::RECOMMENDED_ALLOWED,
            SimpleSchemaValidatingPolicyHandler::MANDATORY_ALLOWED));
  
@@ -2549,131 +1998,25 @@
  
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -276,7 +276,6 @@
- #include "chrome/browser/metrics/tab_stats/tab_stats_tracker.h"
+@@ -280,7 +280,6 @@
  #include "chrome/browser/nearby_sharing/common/nearby_share_prefs.h"
  #include "chrome/browser/new_tab_page/modules/file_suggestion/drive_service.h"
+ #include "chrome/browser/new_tab_page/modules/file_suggestion/microsoft_files_page_handler.h"
 -#include "chrome/browser/new_tab_page/modules/safe_browsing/safe_browsing_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/calendar/google_calendar_page_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/calendar/outlook_calendar_page_handler.h"
-@@ -2198,7 +2197,6 @@ void RegisterProfilePrefs(user_prefs::Pr
-   MicrosoftAuthPageHandler::RegisterProfilePrefs(registry);
+@@ -2130,7 +2129,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+   MicrosoftFilesPageHandler::RegisterProfilePrefs(registry);
    NewTabPageHandler::RegisterProfilePrefs(registry);
    NewTabPageUI::RegisterProfilePrefs(registry);
 -  ntp::SafeBrowsingHandler::RegisterProfilePrefs(registry);
    ntp_tiles::CustomLinksManagerImpl::RegisterProfilePrefs(registry);
    OutlookCalendarPageHandler::RegisterProfilePrefs(registry);
    PinnedTabCodec::RegisterProfilePrefs(registry);
---- a/chrome/browser/printing/print_view_manager.cc
-+++ b/chrome/browser/printing/print_view_manager.cc
-@@ -380,7 +380,7 @@ void PrintViewManager::ShowScriptedPrint
-   DCHECK(print_preview_rfh_);
-   if (GetCurrentTargetFrame() != print_preview_rfh_)
-     return;
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   set_analyzing_content(/*analyzing=*/true);
- #endif
-   RejectPrintPreviewRequestIfRestricted(
-@@ -394,7 +394,7 @@ void PrintViewManager::OnScriptedPrintPr
-     bool source_is_modifiable,
-     content::GlobalRenderFrameHostId rfh_id,
-     bool should_proceed) {
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   set_analyzing_content(/*analyzing=*/false);
- #endif
-   if (!should_proceed) {
-@@ -427,7 +427,7 @@ void PrintViewManager::OnScriptedPrintPr
- 
- void PrintViewManager::RequestPrintPreview(
-     mojom::RequestPrintPreviewParamsPtr params) {
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   set_analyzing_content(/*analyzing=*/true);
- #endif
-   RejectPrintPreviewRequestIfRestricted(
-@@ -441,7 +441,7 @@ void PrintViewManager::OnRequestPrintPre
-     mojom::RequestPrintPreviewParamsPtr params,
-     content::GlobalRenderFrameHostId rfh_id,
-     bool should_proceed) {
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   set_analyzing_content(/*analyzing=*/false);
- #endif
-   if (!should_proceed) {
---- a/chrome/browser/printing/print_view_manager_base.cc
-+++ b/chrome/browser/printing/print_view_manager_base.cc
-@@ -437,7 +437,7 @@ void PrintViewManagerBase::StartLocalPri
-     PrinterHandler::PrintCallback callback) {
-   DCHECK_CURRENTLY_ON(content::BrowserThread::UI);
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   // Populating `content_analysis_before_printing_document_` if needed should be
-   // done first in this function's workflow, this way other code can check if
-   // content analysis is going to happen and delay starting `print_job_` to
-@@ -829,7 +829,7 @@ void PrintViewManagerBase::ScriptedPrint
-     return;
-   }
- #endif
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   std::optional<enterprise_connectors::ContentAnalysisDelegate::Data>
-       scanning_data = enterprise_data_protection::GetPrintAnalysisData(
-           web_contents(), enterprise_data_protection::PrintScanningContext::
-@@ -1327,7 +1327,7 @@ void PrintViewManagerBase::CompleteScrip
-                      std::move(callback_wrapper)));
- }
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
- void PrintViewManagerBase::CompletePrintDocumentAfterContentAnalysis(
-     scoped_refptr<base::RefCountedMemory> print_data,
-     const gfx::Size& page_size,
-@@ -1350,17 +1350,6 @@ void PrintViewManagerBase::ContentAnalys
-     const gfx::Size& page_size,
-     const gfx::Rect& content_area,
-     const gfx::Point& offsets) {
--  scanning_data.printer_name =
--      base::UTF16ToUTF8(print_job_->document()->settings().device_name());
--
--  auto on_verdict = base::BindOnce(
--      &PrintViewManagerBase::CompletePrintDocumentAfterContentAnalysis,
--      weak_ptr_factory_.GetWeakPtr(), print_data, page_size, content_area,
--      offsets);
--
--  enterprise_data_protection::PrintIfAllowedByPolicy(
--      print_data, web_contents()->GetOutermostWebContents(),
--      std::move(scanning_data), std::move(on_verdict));
- }
- 
- void PrintViewManagerBase::set_analyzing_content(bool analyzing) {
---- a/chrome/browser/printing/print_view_manager_base.h
-+++ b/chrome/browser/printing/print_view_manager_base.h
-@@ -229,7 +229,7 @@ class PrintViewManagerBase : public Prin
-                                      mojom::ScriptedPrintParamsPtr params,
-                                      ScriptedPrintCallback callback);
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   // Helper method bound to `content_analysis_before_printing_document_` when
-   // content analysis should happen right before the document is to be printed.
-   // This method is virtual for testing purposes.
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -840,9 +840,6 @@ void ChromeBrowserMainExtraPartsProfiles
-   enterprise_connectors::ExtensionInstallEventRouterFactory::GetInstance();
-   enterprise_connectors::ExtensionTelemetryEventRouterFactory::GetInstance();
- #endif
--#if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
--  enterprise_connectors::LocalBinaryUploadServiceFactory::GetInstance();
--#endif
- #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
-     BUILDFLAG(IS_ANDROID)
-   enterprise_idle::IdleServiceFactory::GetInstance();
-@@ -1166,26 +1163,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1172,26 +1172,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if !BUILDFLAG(IS_ANDROID)
    ResetReportUploaderFactory::GetInstance();
  #endif
@@ -2702,7 +2045,7 @@
    if (base::FeatureList::IsEnabled(features::kSafetyHub)) {
 --- a/chrome/browser/safe_browsing/BUILD.gn
 +++ b/chrome/browser/safe_browsing/BUILD.gn
-@@ -94,13 +94,6 @@ static_library("safe_browsing") {
+@@ -95,13 +95,6 @@ static_library("safe_browsing") {
      allow_circular_includes_from += [ "//chrome/browser/ash/file_manager" ]
    }
  
@@ -2803,27 +2146,6 @@
  }
  
  scoped_refptr<network::SharedURLLoaderFactory>
---- a/chrome/browser/site_protection/site_protection_metrics_observer.cc
-+++ b/chrome/browser/site_protection/site_protection_metrics_observer.cc
-@@ -200,18 +200,6 @@ void SiteProtectionMetricsObserver::OnKn
-         SiteFamiliarityHistoryHeuristicName::kNoVisitsToAnySiteMoreThanADayAgo;
-   }
- 
--  if (g_browser_process->safe_browsing_service()) {
--    if (auto database_manager =
--            g_browser_process->safe_browsing_service()->database_manager()) {
--      GURL last_committed_url = metrics_data->last_committed_url;
--      database_manager->CheckUrlForHighConfidenceAllowlist(
--          last_committed_url,
--          base::BindOnce(&SiteProtectionMetricsObserver::
--                             OnGotHighConfidenceAllowlistResult,
--                         weak_factory_.GetWeakPtr(), std::move(metrics_data)));
--      return;
--    }
--  }
- 
-   OnGotHighConfidenceAllowlistResult(
-       std::move(metrics_data),
 --- a/chrome/browser/ssl/chrome_security_blocking_page_factory.cc
 +++ b/chrome/browser/ssl/chrome_security_blocking_page_factory.cc
 @@ -126,15 +126,6 @@ CreateSettingsPageHelper() {
@@ -2875,61 +2197,20 @@
    auto page = std::make_unique<BlockedInterceptionBlockingPage>(
        web_contents, cert_error, request_url,
        /*can_show_enhanced_protection_message=*/true, ssl_info,
---- a/chrome/browser/ssl/sct_reporting_service_factory.cc
-+++ b/chrome/browser/ssl/sct_reporting_service_factory.cc
-@@ -41,15 +41,7 @@ SCTReportingServiceFactory::~SCTReportin
- std::unique_ptr<KeyedService>
- SCTReportingServiceFactory::BuildServiceInstanceForBrowserContext(
-     content::BrowserContext* profile) const {
--  safe_browsing::SafeBrowsingService* safe_browsing_service =
--      g_browser_process->safe_browsing_service();
--  // In unit tests the safe browsing service can be null, if this happens,
--  // return null instead of crashing.
--  if (!safe_browsing_service)
--    return nullptr;
--
--  return std::make_unique<SCTReportingService>(safe_browsing_service,
--                                               static_cast<Profile*>(profile));
-+  return nullptr;
- }
- 
- // Force this to be created during BrowserContext creation, since we can't
 --- a/chrome/browser/ssl/ssl_error_controller_client.cc
 +++ b/chrome/browser/ssl/ssl_error_controller_client.cc
-@@ -92,8 +92,6 @@ void SSLErrorControllerClient::GoBack()
- }
+@@ -93,8 +93,6 @@ void SSLErrorControllerClient::GoBack()
  
  void SSLErrorControllerClient::Proceed() {
--  MaybeTriggerSecurityInterstitialProceededEvent(web_contents_, request_url_,
+   content::WebContents* const web_contents = this->web_contents();
+-  MaybeTriggerSecurityInterstitialProceededEvent(web_contents, request_url_,
 -                                                 "SSL_ERROR", cert_error_);
  #if BUILDFLAG(ENABLE_EXTENSIONS)
    // Hosted Apps should not be allowed to run if there is a problem with their
    // certificate. So, when users click proceed on an interstitial, move the tab
---- a/chrome/browser/subresource_filter/chrome_content_subresource_filter_web_contents_helper_factory.cc
-+++ b/chrome/browser/subresource_filter/chrome_content_subresource_filter_web_contents_helper_factory.cc
-@@ -6,7 +6,6 @@
- 
- #include "chrome/browser/browser_process.h"
- #include "chrome/browser/profiles/profile.h"
--#include "chrome/browser/safe_browsing/safe_browsing_service.h"
- #include "chrome/browser/subresource_filter/subresource_filter_profile_context_factory.h"
- #include "components/safe_browsing/core/browser/db/database_manager.h"
- #include "components/subresource_filter/content/browser/content_subresource_filter_web_contents_helper.h"
-@@ -18,10 +17,7 @@ namespace {
- // available. Otherwise returns nullptr.
- const scoped_refptr<safe_browsing::SafeBrowsingDatabaseManager>
- GetDatabaseManagerFromSafeBrowsingService() {
--  safe_browsing::SafeBrowsingService* safe_browsing_service =
--      g_browser_process->safe_browsing_service();
--  return safe_browsing_service ? safe_browsing_service->database_manager()
--                               : nullptr;
-+  return nullptr;
- }
- 
- }  // namespace
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -576,7 +576,6 @@ static_library("ui") {
+@@ -571,7 +571,6 @@ static_library("ui") {
      "//components/renderer_context_menu",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -2937,7 +2218,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/core/browser/db:database_manager",
-@@ -4515,8 +4514,6 @@ static_library("ui") {
+@@ -4554,8 +4553,6 @@ static_library("ui") {
        "views/safe_browsing/prompt_for_scanning_modal_dialog.h",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.cc",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.h",
@@ -2948,50 +2229,19 @@
        "views/select_audio_output/select_audio_output_views.cc",
 --- a/chrome/browser/ui/download/download_bubble_row_view_info.cc
 +++ b/chrome/browser/ui/download/download_bubble_row_view_info.cc
-@@ -10,7 +10,6 @@
- #include "chrome/browser/enterprise/connectors/common.h"
+@@ -9,11 +9,11 @@
+ #include "chrome/browser/download/download_ui_safe_browsing_util.h"
  #include "chrome/browser/safe_browsing/advanced_protection_status_manager.h"
  #include "chrome/browser/safe_browsing/advanced_protection_status_manager_factory.h"
 -#include "chrome/browser/safe_browsing/download_protection/download_protection_service.h"
  #include "chrome/browser/ui/color/chrome_color_id.h"
  #include "chrome/browser/ui/download/download_item_mode.h"
  #include "chrome/grit/generated_resources.h"
-@@ -365,6 +364,5 @@ void DownloadBubbleRowViewInfo::Reset()
- }
- 
- bool DownloadBubbleRowViewInfo::ShouldShowDeepScanNotice() const {
--  return ShouldShowDeepScanPromptNotice(model_->profile(),
--                                        model_->GetDangerType());
-+  return false;
- }
---- a/chrome/browser/ui/exclusive_access/fullscreen_controller.cc
-+++ b/chrome/browser/ui/exclusive_access/fullscreen_controller.cc
-@@ -113,25 +113,6 @@ void RecordWebsiteStateAtApiRequest(hist
- void CheckUrlForAllowlistAndRecordMetric(
-     const GURL& url,
-     history::HistoryLastVisitResult result) {
--  auto* safe_browsing_service_internal =
--      reinterpret_cast<safe_browsing::SafeBrowsingServiceInterface*>(
--          g_browser_process->safe_browsing_service());
--  if (!safe_browsing_service_internal ||
--      !safe_browsing_service_internal->database_manager()) {
--    RecordWebsiteStateAtApiRequest(result, std::nullopt);
--    return;
--  }
--  safe_browsing_service_internal->database_manager()
--      ->CheckUrlForHighConfidenceAllowlist(
--          url,
--          base::BindOnce(
--              [](history::HistoryLastVisitResult result, bool on_allowlist,
--                 std::optional<safe_browsing::SafeBrowsingDatabaseManager::
--                                   HighConfidenceAllowlistCheckLoggingDetails>
--                     logging_details) {
--                RecordWebsiteStateAtApiRequest(result, on_allowlist);
--              },
--              result));
- }
- 
- }  // namespace
+ #include "components/download/public/common/download_danger_type.h"
++#include "components/enterprise/buildflags/buildflags.h"
+ #include "components/prefs/pref_service.h"
+ #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/proto/csd.pb.h"
 --- a/chrome/browser/ui/javascript_dialogs/javascript_tab_modal_dialog_manager_delegate_desktop.cc
 +++ b/chrome/browser/ui/javascript_dialogs/javascript_tab_modal_dialog_manager_delegate_desktop.cc
 @@ -17,6 +17,7 @@
@@ -3020,7 +2270,7 @@
  void JavaScriptTabModalDialogManagerDelegateDesktop::DidCloseDialog() {
 --- a/chrome/browser/ui/safety_hub/unused_site_permissions_service.cc
 +++ b/chrome/browser/ui/safety_hub/unused_site_permissions_service.cc
-@@ -52,7 +52,6 @@
+@@ -51,7 +51,6 @@
  #include "components/prefs/pref_change_registrar.h"
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -3028,17 +2278,21 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "ui/base/l10n/l10n_util.h"
-@@ -358,21 +357,6 @@ UnusedSitePermissionsService::UnusedSite
-                             base::Unretained(this)));
-   }
+@@ -369,25 +368,6 @@ UnusedSitePermissionsService::UnusedSite
+                           base::Unretained(this)));
+ #endif  // BUILDFLAG(IS_ANDROID)
  
 -  if (base::FeatureList::IsEnabled(
 -          safe_browsing::kSafetyHubAbusiveNotificationRevocation)) {
 -    abusive_notification_manager_ =
 -        std::make_unique<AbusiveNotificationPermissionsManager>(
+-#if BUILDFLAG(SAFE_BROWSING_AVAILABLE)
 -            g_browser_process->safe_browsing_service()
 -                ? g_browser_process->safe_browsing_service()->database_manager()
 -                : nullptr,
+-#else
+-            nullptr,
+-#endif
 -            hcsm());
 -
 -    pref_change_registrar_->Add(
@@ -3050,7 +2304,7 @@
  
    bool migration_completed = pref_change_registrar_->prefs()->GetBoolean(
        safety_hub_prefs::kUnusedSitePermissionsRevocationMigrationCompleted);
-@@ -1026,9 +1010,7 @@ bool UnusedSitePermissionsService::IsUnu
+@@ -1041,9 +1021,7 @@ bool UnusedSitePermissionsService::IsUnu
  
  bool UnusedSitePermissionsService::
      IsAbusiveNotificationAutoRevocationEnabled() {
@@ -3073,7 +2327,7 @@
  
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -373,7 +373,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -366,7 +366,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    if (!autofill_client_provider.uses_platform_autofill()) {
      ChromePasswordManagerClient::CreateForWebContents(web_contents);
    }
@@ -3083,15 +2337,15 @@
    ChromeRLZTrackerWebContentsObserver::CreateForWebContentsIfNeeded(
 --- a/chrome/browser/ui/toasts/toast_service.cc
 +++ b/chrome/browser/ui/toasts/toast_service.cc
-@@ -31,7 +31,6 @@
+@@ -33,7 +33,6 @@
  #include "components/plus_addresses/features.h"
  #include "components/plus_addresses/grit/plus_addresses_strings.h"
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/saved_tab_groups/public/features.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/vector_icons/vector_icons.h"
- #include "ui/menus/simple_menu_model.h"
-@@ -138,55 +137,4 @@ void ToastService::RegisterToasts(
+@@ -141,57 +140,6 @@ void ToastService::RegisterToasts(
              .Build());
    }
  
@@ -3146,7 +2400,9 @@
 -            .AddCloseButton()
 -            .Build());
 -  }
- }
+ 
+   if (tab_groups::IsTabGroupsSaveV2Enabled()) {
+     // Current tab has been removed from the group.
 --- a/chrome/browser/ui/views/download/bubble/download_bubble_contents_view.cc
 +++ b/chrome/browser/ui/views/download/bubble/download_bubble_contents_view.cc
 @@ -13,7 +13,6 @@
@@ -3248,7 +2504,7 @@
  bool DownloadBubbleContentsView::IsEncryptedArchive(const ContentId& id) {
 --- a/chrome/browser/ui/views/download/download_item_view.cc
 +++ b/chrome/browser/ui/views/download/download_item_view.cc
-@@ -38,7 +38,6 @@
+@@ -37,7 +37,6 @@
  #include "chrome/browser/icon_manager.h"
  #include "chrome/browser/safe_browsing/advanced_protection_status_manager.h"
  #include "chrome/browser/safe_browsing/advanced_protection_status_manager_factory.h"
@@ -3256,7 +2512,7 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/color/chrome_color_id.h"
-@@ -830,9 +829,7 @@ void DownloadItemView::UpdateLabels() {
+@@ -831,9 +830,7 @@ void DownloadItemView::UpdateLabels() {
    deep_scanning_label_->SetVisible(mode_ ==
                                     download::DownloadItemMode::kDeepScanning);
    if (deep_scanning_label_->GetVisible()) {
@@ -3267,23 +2523,7 @@
                         ? IDS_PROMPT_DEEP_SCANNING_DOWNLOAD
                         : IDS_PROMPT_DEEP_SCANNING_APP_DOWNLOAD;
      const std::u16string filename = ElidedFilename(*deep_scanning_label_);
-@@ -858,11 +855,15 @@ void DownloadItemView::UpdateButtons() {
-   }
- 
-   const bool allow_open_during_deep_scan =
-+#if BUILDFLAG(FULL_SAFE_BROWSING)
-       (mode_ == download::DownloadItemMode::kDeepScanning) &&
-       !enterprise_connectors::ConnectorsServiceFactory::GetForBrowserContext(
-            model_->profile())
-            ->DelayUntilVerdict(
-                enterprise_connectors::AnalysisConnector::FILE_DOWNLOADED);
-+#else
-+      false;
-+#endif // BUILDFLAG(FULL_SAFE_BROWSING)
-   open_button_->SetEnabled((mode_ == download::DownloadItemMode::kNormal) ||
-                            prompt_to_scan || allow_open_during_deep_scan);
- 
-@@ -1299,7 +1300,9 @@ void DownloadItemView::ShowContextMenuIm
+@@ -1312,7 +1309,9 @@ void DownloadItemView::ShowContextMenuIm
  }
  
  void DownloadItemView::OpenDownloadDuringAsyncScanning() {
@@ -3338,7 +2578,7 @@
  std::unique_ptr<RenderViewContextMenuBase>
 --- a/chrome/browser/ui/webui/BUILD.gn
 +++ b/chrome/browser/ui/webui/BUILD.gn
-@@ -33,7 +33,6 @@ source_set("configs") {
+@@ -34,7 +34,6 @@ source_set("configs") {
      ":webui",
      "//chrome/browser/optimization_guide:optimization_guide",
      "//chrome/browser/ui",
@@ -3348,18 +2588,18 @@
      "//components/security_interstitials/content:security_interstitial_page",
 --- a/chrome/browser/ui/webui/chrome_web_ui_configs.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_configs.cc
-@@ -244,8 +244,6 @@ void RegisterChromeWebUIConfigs() {
+@@ -238,8 +238,6 @@ void RegisterChromeWebUIConfigs() {
    map.AddWebUIConfig(
        std::make_unique<
            security_interstitials::KnownInterceptionDisclosureUIConfig>());
 -  map.AddWebUIConfig(
 -      std::make_unique<safe_browsing::ChromeSafeBrowsingUIConfig>());
+   map.AddWebUIConfig(std::make_unique<SavedTabGroupsUnsupportedUIConfig>());
    map.AddWebUIConfig(std::make_unique<SegmentationInternalsUIConfig>());
    map.AddWebUIConfig(std::make_unique<SignInInternalsUIConfig>());
-   map.AddWebUIConfig(std::make_unique<SiteEngagementUIConfig>());
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -183,10 +183,6 @@ void MaybeReportBypassAction(download::D
+@@ -154,10 +154,6 @@ void MaybeReportBypassAction(download::D
    if (action != WarningAction::PROCEED && action != WarningAction::DISCARD) {
      return;
    }
@@ -3370,7 +2610,7 @@
  }
  
  // Triggers a Trust and Safety sentiment survey (if enabled). Should be called
-@@ -195,21 +191,6 @@ void MaybeReportBypassAction(download::D
+@@ -166,21 +162,6 @@ void MaybeReportBypassAction(download::D
  void MaybeTriggerTrustSafetySurvey(download::DownloadItem* file,
                                     WarningSurface surface,
                                     WarningAction action) {
@@ -3392,137 +2632,7 @@
  }
  
  void RecordDownloadsPageValidatedHistogram(download::DownloadItem* item) {
-@@ -361,46 +342,10 @@ void DownloadsDOMHandler::RecordOpenBypa
- 
- void DownloadsDOMHandler::RecordOpenBypassWarningInterstitial(
-     const std::string& id) {
--  CHECK(base::FeatureList::IsEnabled(
--      safe_browsing::kDangerousDownloadInterstitial));
--  CountDownloadsDOMEvents(DOWNLOADS_DOM_EVENT_OPEN_BYPASS_WARNING_PROMPT);
--  download::DownloadItem* file = GetDownloadByStringId(id);
--  if (!CanLogWarningMetrics(file)) {
--    return;
--  }
--
--  interstitial_open_time_ = base::TimeTicks::Now();
--
--  RecordDangerousDownloadInterstitialActionHistogram(
--      DangerousDownloadInterstitialAction::kOpenInterstitial);
--
--  RecordDownloadDangerPromptHistogram("Shown", *file);
--
--  MaybeReportBypassAction(file, WarningSurface::DOWNLOADS_PAGE,
--                          WarningAction::KEEP);
- }
- 
- void DownloadsDOMHandler::RecordOpenSurveyOnDangerousInterstitial(
-     const std::string& id) {
--  CHECK(base::FeatureList::IsEnabled(
--      safe_browsing::kDangerousDownloadInterstitial));
--  CountDownloadsDOMEvents(
--      DOWNLOADS_DOM_EVENT_OPEN_SURVEY_ON_DANGEROUS_INTERSTITIAL);
--  download::DownloadItem* file = GetDownloadByStringId(id);
--  if (!CanLogWarningMetrics(file)) {
--    return;
--  }
--
--  DCHECK(interstitial_open_time_.has_value())
--      << "Dangerous download interstitial survey should only open after the "
--         "download interstitial is opened.";
--  interstitial_survey_open_time_ = base::TimeTicks::Now();
--
--  RecordDangerousDownloadInterstitialInteractionHistogram(
--      DangerousDownloadInterstitialInteraction::kOpenSurvey,
--      (*interstitial_survey_open_time_) - (*interstitial_open_time_));
--  RecordDangerousDownloadInterstitialActionHistogram(
--      DangerousDownloadInterstitialAction::kOpenSurvey);
- }
- 
- void DownloadsDOMHandler::SaveDangerousFromDialogRequiringGesture(
-@@ -435,54 +380,6 @@ void DownloadsDOMHandler::SaveDangerousF
- void DownloadsDOMHandler::SaveDangerousFromInterstitialNeedGesture(
-     const std::string& id,
-     downloads::mojom::DangerousDownloadInterstitialSurveyOptions response) {
--  CHECK(base::FeatureList::IsEnabled(
--      safe_browsing::kDangerousDownloadInterstitial));
--  if (!GetWebUIWebContents()->HasRecentInteraction()) {
--    LOG(ERROR) << "SaveDangerousFromInterstitialNeedGesture received without "
--                  "recent user interaction";
--    return;
--  }
--
--  CountDownloadsDOMEvents(DOWNLOADS_DOM_EVENT_SAVE_DANGEROUS_FROM_PROMPT);
--  download::DownloadItem* file = GetDownloadByStringId(id);
--  if (!CanLogWarningMetrics(file)) {
--    return;
--  }
--
--  DCHECK(interstitial_open_time_.has_value())
--      << "Saving from the dangerous download interstitial should only happen "
--         "if the interstitial is opened.";
--  DCHECK(interstitial_survey_open_time_.has_value())
--      << "Saving from the dangerous download interstitial should only happen "
--         "after the interstitial survey is opened.";
--
--  base::TimeTicks save_time = base::TimeTicks::Now();
--  RecordDangerousDownloadInterstitialInteractionHistogram(
--      DangerousDownloadInterstitialInteraction::kCompleteSurvey,
--      save_time - (*interstitial_survey_open_time_));
--  RecordDangerousDownloadInterstitialInteractionHistogram(
--      DangerousDownloadInterstitialInteraction::kSaveDangerous,
--      save_time - (*interstitial_open_time_));
--
--  RecordDangerousDownloadInterstitialActionHistogram(
--      DangerousDownloadInterstitialAction::kSaveDangerous);
--
--  base::UmaHistogramEnumeration(
--      "Download.DangerousDownloadInterstitial.SurveyResponse", response);
--
--  RecordDownloadDangerPromptHistogram("Proceed", *file);
--
--  MaybeReportBypassAction(file, WarningSurface::DOWNLOAD_PROMPT,
--                          WarningAction::PROCEED);
--  MaybeTriggerDownloadWarningHatsSurvey(
--      file, DownloadWarningHatsType::kDownloadsPageBypass);
--  MaybeTriggerTrustSafetySurvey(file, WarningSurface::DOWNLOAD_PROMPT,
--                                WarningAction::PROCEED);
--
--  RecordDownloadsPageValidatedHistogram(file);
--
--  // `file` is potentially deleted.
--  file->ValidateDangerousDownload();
- }
- 
- void DownloadsDOMHandler::RecordCancelBypassWarningDialog(
-@@ -499,27 +396,6 @@ void DownloadsDOMHandler::RecordCancelBy
- 
- void DownloadsDOMHandler::RecordCancelBypassWarningInterstitial(
-     const std::string& id) {
--  CHECK(base::FeatureList::IsEnabled(
--      safe_browsing::kDangerousDownloadInterstitial));
--  CountDownloadsDOMEvents(DOWNLOADS_DOM_EVENT_CANCEL_BYPASS_WARNING_PROMPT);
--  download::DownloadItem* file = GetDownloadByStringId(id);
--  if (!CanLogWarningMetrics(file)) {
--    return;
--  }
--
--  DCHECK(interstitial_open_time_.has_value())
--      << "Dangerous download interstitial should only be cancelled after the "
--         "download interstitial is opened.";
--
--  RecordDangerousDownloadInterstitialInteractionHistogram(
--      DangerousDownloadInterstitialInteraction::kCancelInterstitial,
--      base::TimeTicks::Now() - (*interstitial_open_time_));
--
--  RecordDangerousDownloadInterstitialActionHistogram(
--      DangerousDownloadInterstitialAction::kCancelInterstitial);
--
--  MaybeReportBypassAction(file, WarningSurface::DOWNLOAD_PROMPT,
--                          WarningAction::CANCEL);
- }
- 
- void DownloadsDOMHandler::DiscardDangerous(const std::string& id) {
-@@ -745,18 +621,6 @@ void DownloadsDOMHandler::DeepScan(const
+@@ -594,18 +575,6 @@ void DownloadsDOMHandler::DeepScan(const
      return;
    }
  
@@ -3541,7 +2651,7 @@
    DownloadItemModel model(download);
    DownloadCommands commands(model.GetWeakPtr());
    commands.ExecuteCommand(DownloadCommands::DEEP_SCAN);
-@@ -792,12 +656,6 @@ void DownloadsDOMHandler::ReviewDangerou
+@@ -641,12 +610,6 @@ void DownloadsDOMHandler::ReviewDangerou
      return;
    }
  
@@ -3554,44 +2664,6 @@
  }
  
  #if BUILDFLAG(GOOGLE_CHROME_BRANDING)
---- a/chrome/browser/ui/webui/management/management_ui_handler.cc
-+++ b/chrome/browser/ui/webui/management/management_ui_handler.cc
-@@ -272,10 +272,7 @@ void ManagementUIHandler::AddReportingIn
-           enterprise_reporting::kCloudProfileReportingEnabled);
- 
-   const bool real_time_url_check_connector_enabled =
--      enterprise_connectors::ConnectorsServiceFactory::GetForBrowserContext(
--          Profile::FromWebUI(web_ui()))
--          ->GetAppliedRealTimeUrlCheck() !=
--      enterprise_connectors::REAL_TIME_CHECK_DISABLED;
-+      false;
- 
-   if (cloud_legacy_tech_report_enabled) {
-     Profile::FromWebUI(web_ui())->GetPrefs()->GetList(
-@@ -453,12 +450,6 @@ base::Value::Dict ManagementUIHandler::G
-                                   &info);
-   }
- 
--  if (connectors_service->GetAppliedRealTimeUrlCheck() !=
--      enterprise_connectors::REAL_TIME_CHECK_DISABLED) {
--    AddThreatProtectionPermission(kManagementOnPageVisitedEvent,
--                                  kManagementOnPageVisitedVisibleData, &info);
--  }
--
-   if (connectors_service->GetReportingSettings().has_value() &&
-       connectors_service->GetReportingSettings()->enabled_opt_in_events.count(
-           enterprise_connectors::kExtensionTelemetryEvent) > 0) {
---- a/chrome/browser/ui/webui/print_preview/print_preview_handler.cc
-+++ b/chrome/browser/ui/webui/print_preview/print_preview_handler.cc
-@@ -755,7 +755,7 @@ void PrintPreviewHandler::HandleDoPrint(
-   }
-   ReportUserActionHistogram(user_action);
- 
--#if BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
-+#if false
-   std::string device_name = *settings.FindString(kSettingDeviceName);
- 
-   using enterprise_data_protection::PrintScanningContext;
 --- a/chrome/browser/ui/webui/settings/hats_handler.cc
 +++ b/chrome/browser/ui/webui/settings/hats_handler.cc
 @@ -64,60 +64,6 @@ void HatsHandler::RegisterMessages() {
@@ -3773,7 +2845,7 @@
  }
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -2275,9 +2275,6 @@ if (!is_android) {
+@@ -2340,9 +2340,6 @@ if (!is_android) {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser",
@@ -3783,7 +2855,7 @@
        "//components/safe_browsing/content/browser:safe_browsing_service",
        "//components/safe_browsing/content/browser/password_protection",
        "//components/safe_browsing/content/browser/password_protection:test_support",
-@@ -6584,9 +6581,6 @@ test("unit_tests") {
+@@ -6671,9 +6668,6 @@ test("unit_tests") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser",
@@ -3793,6 +2865,22 @@
      "//components/safe_browsing/content/browser/notification_content_detection",
      "//components/safe_browsing/content/browser/notification_content_detection:test_utils",
      "//components/safe_browsing/content/browser/password_protection",
+--- a/components/enterprise/buildflags/buildflags.gni
++++ b/components/enterprise/buildflags/buildflags.gni
+@@ -10,11 +10,11 @@ declare_args() {
+   # Indicates support for content analysis against a cloud agent for Enterprise
+   # Connector policies.
+   enterprise_cloud_content_analysis =
+-      is_win || is_mac || is_linux || is_chromeos
++      false
+ 
+   # Indicates support for content analysis against a cloud agent for Enterprise
+   # Connector policies.
+-  enterprise_local_content_analysis = is_win || is_mac || is_linux
++  enterprise_local_content_analysis = false
+ 
+   # Indicates support for Data Control rules.
+   enterprise_data_controls =
 --- a/components/enterprise/connectors/core/reporting_service_settings.cc
 +++ b/components/enterprise/connectors/core/reporting_service_settings.cc
 @@ -44,16 +44,6 @@ ReportingServiceSettings::ReportingServi
@@ -3814,7 +2902,7 @@
    const base::Value::List* enabled_opt_in_events_value =
 --- a/components/password_manager/content/browser/content_password_manager_driver.cc
 +++ b/components/password_manager/content/browser/content_password_manager_driver.cc
-@@ -653,7 +653,7 @@ void ContentPasswordManagerDriver::Check
+@@ -651,7 +651,7 @@ void ContentPasswordManagerDriver::Check
    if (!password_manager::bad_message::CheckFrameNotPrerendering(
            render_frame_host_))
      return;
@@ -3841,7 +2929,7 @@
  }  // namespace password_manager
 --- a/components/password_manager/core/browser/password_manager_client.h
 +++ b/components/password_manager/core/browser/password_manager_client.h
-@@ -426,9 +426,6 @@ class PasswordManagerClient {
+@@ -416,9 +416,6 @@ class PasswordManagerClient {
    // Returns the current best guess as to the page's display language.
    virtual autofill::LanguageCode GetPageLanguage() const;
  
@@ -3851,7 +2939,7 @@
  
    // Maybe triggers a hats survey that measures the user's perception of
    // Autofill for passwords. When triggering happens, the survey dialog will be
-@@ -440,13 +437,6 @@ class PasswordManagerClient {
+@@ -430,13 +427,6 @@ class PasswordManagerClient {
    virtual void TriggerUserPerceptionOfPasswordManagerSurvey(
        const std::string& filling_assistance);
  
@@ -4089,7 +3177,7 @@
    raw_ptr<signin::IdentityManager> identity_manager_;
 --- a/components/safe_browsing/core/browser/verdict_cache_manager.cc
 +++ b/components/safe_browsing/core/browser/verdict_cache_manager.cc
-@@ -438,16 +438,6 @@ VerdictCacheManager::VerdictCacheManager
+@@ -447,16 +447,6 @@ VerdictCacheManager::VerdictCacheManager
    // pref_service can be null in tests.
    if (pref_service) {
      pref_change_registrar_.Init(pref_service);
@@ -4152,7 +3240,7 @@
  void SSLBlockingPageBase::PopulateEnhancedProtectionMessage(
 --- a/components/sync_preferences/common_syncable_prefs_database.cc
 +++ b/components/sync_preferences/common_syncable_prefs_database.cc
-@@ -314,9 +314,6 @@ constexpr auto kCommonSyncablePrefsAllow
+@@ -315,9 +315,6 @@ constexpr auto kCommonSyncablePrefsAllow
          {plus_addresses::prefs::kLastPlusAddressFillingTime,
           {syncable_prefs_ids::kLastPlusAddressFillingTime, syncer::PREFERENCES,
            PrefSensitivity::kNone, MergeBehavior::kNone}},
@@ -4318,6 +3406,112 @@
    bool IsFileTypeDangerous(const base::FilePath& path,
                             const url::Origin& origin) override;
  
+--- a/extensions/browser/extension_registrar.cc
++++ b/extensions/browser/extension_registrar.cc
+@@ -669,103 +669,27 @@ void ExtensionRegistrar::UnblockAllExten
+ 
+ void ExtensionRegistrar::OnBlocklistStateRemoved(
+     const std::string& extension_id) {
+-  if (blocklist_prefs::IsExtensionBlocklisted(extension_id, extension_prefs_)) {
+-    return;
+-  }
+-
+-  // Clear acknowledged state.
+-  blocklist_prefs::RemoveAcknowledgedBlocklistState(
+-      extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
+-      extension_prefs_);
+-
+-  scoped_refptr<const Extension> extension =
+-      registry_->blocklisted_extensions().GetByID(extension_id);
+-  DCHECK(extension);
+-  registry_->RemoveBlocklisted(extension_id);
+-  AddExtension(extension.get());
+ }
+ 
+ void ExtensionRegistrar::OnBlocklistStateAdded(
+     const std::string& extension_id) {
+-  DCHECK(
+-      blocklist_prefs::IsExtensionBlocklisted(extension_id, extension_prefs_));
+-  // The extension was already acknowledged by the user, it should already be in
+-  // the unloaded state.
+-  if (blocklist_prefs::HasAcknowledgedBlocklistState(
+-          extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
+-          extension_prefs_)) {
+-    DCHECK(base::Contains(registry_->blocklisted_extensions().GetIDs(),
+-                          extension_id));
+-    return;
+-  }
+-
+-  scoped_refptr<const Extension> extension =
+-      registry_->GetInstalledExtension(extension_id);
+-  registry_->AddBlocklisted(extension);
+-  RemoveExtension(extension_id, UnloadedExtensionReason::BLOCKLIST);
+ }
+ 
+ void ExtensionRegistrar::OnGreylistStateRemoved(
+     const std::string& extension_id) {
+-  bool is_on_sb_list = (blocklist_prefs::GetSafeBrowsingExtensionBlocklistState(
+-                            extension_id, extension_prefs_) !=
+-                        BitMapBlocklistState::NOT_BLOCKLISTED);
+-  bool is_on_omaha_list =
+-      blocklist_prefs::HasAnyOmahaGreylistState(extension_id, extension_prefs_);
+-  if (is_on_sb_list || is_on_omaha_list) {
+-    return;
+-  }
+-  // Clear all acknowledged states so the extension will still get disabled if
+-  // it is added to the greylist again.
+-  blocklist_prefs::ClearAcknowledgedGreylistStates(extension_id,
+-                                                   extension_prefs_);
+-  RemoveDisableReasonAndMaybeEnable(extension_id,
+-                                    disable_reason::DISABLE_GREYLIST);
+ }
+ 
+ void ExtensionRegistrar::OnGreylistStateAdded(const std::string& extension_id,
+                                               BitMapBlocklistState new_state) {
+-#if DCHECK_IS_ON()
+-  bool has_new_state_on_sb_list =
+-      (blocklist_prefs::GetSafeBrowsingExtensionBlocklistState(
+-           extension_id, extension_prefs_) == new_state);
+-  bool has_new_state_on_omaha_list = blocklist_prefs::HasOmahaBlocklistState(
+-      extension_id, new_state, extension_prefs_);
+-  DCHECK(has_new_state_on_sb_list || has_new_state_on_omaha_list);
+-#endif
+-  if (blocklist_prefs::HasAcknowledgedBlocklistState(extension_id, new_state,
+-                                                     extension_prefs_)) {
+-    // If the extension is already acknowledged, don't disable it again
+-    // because it can be already re-enabled by the user. This could happen if
+-    // the extension is added to the SafeBrowsing blocklist, and then
+-    // subsequently marked by Omaha. In this case, we don't want to disable the
+-    // extension twice.
+-    return;
+-  }
+-
+-  // Set the current greylist states to acknowledge immediately because the
+-  // extension is disabled silently. Clear the other acknowledged state because
+-  // when the state changes to another greylist state in the future, we'd like
+-  // to disable the extension again.
+-  blocklist_prefs::UpdateCurrentGreylistStatesAsAcknowledged(extension_id,
+-                                                             extension_prefs_);
+-  DisableExtension(extension_id, disable_reason::DISABLE_GREYLIST);
+ }
+ 
+ void ExtensionRegistrar::BlocklistExtensionForTest(
+     const std::string& extension_id) {
+-  blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(
+-      extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
+-      extension_prefs_);
+-  OnBlocklistStateAdded(extension_id);
+ }
+ 
+ void ExtensionRegistrar::GreylistExtensionForTest(
+     const std::string& extension_id,
+     const BitMapBlocklistState& state) {
+-  blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(extension_id, state,
+-                                                          extension_prefs_);
+-  OnGreylistStateAdded(extension_id, state);
+ }
+ 
+ void ExtensionRegistrar::OnUnpackedExtensionReloadFailed(
 --- a/extensions/browser/updater/update_service.cc
 +++ b/extensions/browser/updater/update_service.cc
 @@ -132,13 +132,6 @@ void UpdateService::OnCrxStateChange(Upd
diff --git a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
index 5a87d6a018..11e3c5591f 100644
--- a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
+++ b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
@@ -14,7 +14,7 @@
  #include "content/public/test/browser_test.h"
 @@ -301,15 +300,6 @@ IN_PROC_BROWSER_TEST_F(DeviceIDTest, PRE
    SignInOnline(FakeGaiaMixin::kFakeUserEmail, FakeGaiaMixin::kFakeUserPassword,
-                kRefreshToken1, GaiaId(FakeGaiaMixin::kFakeUserGaiaId));
+                kRefreshToken1, FakeGaiaMixin::kFakeUserGaiaId);
  
 -  // Simulate user that has device ID saved only in preferences (pre-M44).
 -  PrefService* prefs =
@@ -30,7 +30,7 @@
    user_manager::KnownUser known_user(g_browser_process->local_state());
 @@ -338,13 +328,6 @@ IN_PROC_BROWSER_TEST_F(DeviceIDTest, PRE
    SignInOnline(FakeGaiaMixin::kFakeUserEmail, FakeGaiaMixin::kFakeUserPassword,
-                kRefreshToken1, GaiaId(FakeGaiaMixin::kFakeUserGaiaId));
+                kRefreshToken1, FakeGaiaMixin::kFakeUserGaiaId);
  
 -  PrefService* prefs =
 -      ProfileHelper::Get()
@@ -95,7 +95,7 @@
  }
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -311,7 +311,6 @@
+@@ -312,7 +312,6 @@
  #include "components/safe_browsing/core/browser/url_checker_delegate.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
@@ -105,7 +105,7 @@
  #include "components/security_interstitials/content/ssl_error_handler.h"
 --- a/chrome/browser/download/download_browsertest.cc
 +++ b/chrome/browser/download/download_browsertest.cc
-@@ -104,7 +104,6 @@
+@@ -109,7 +109,6 @@
  #include "components/safe_browsing/content/common/file_type_policies_test_util.h"
  #include "components/safe_browsing/content/common/proto/download_file_types.pb.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -180,7 +180,7 @@
  #include "chrome/browser/browser_process.h"
 --- a/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
-@@ -46,7 +46,6 @@
+@@ -47,7 +47,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/content/browser/web_ui/safe_browsing_ui.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -247,7 +247,7 @@
        Profile::FromBrowserContext(
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -271,12 +271,6 @@ void ContextInfoFetcher::Fetch(ContextIn
+@@ -277,12 +277,6 @@ void ContextInfoFetcher::Fetch(ContextIn
    info.third_party_blocking_enabled =
        utils::GetThirdPartyBlockingEnabled(g_browser_process->local_state());
  
@@ -262,15 +262,15 @@
    base::ThreadPool::CreateCOMSTATaskRunner({base::MayBlock()})
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.h
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.h
-@@ -14,7 +14,6 @@
- #include "build/build_config.h"
+@@ -15,7 +15,6 @@
  #include "chrome/browser/enterprise/signals/signals_common.h"
+ #include "components/enterprise/buildflags/buildflags.h"
  #include "components/enterprise/connectors/core/common.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  
  namespace content {
  class BrowserContext;
-@@ -42,11 +41,8 @@ struct ContextInfo {
+@@ -43,11 +42,8 @@ struct ContextInfo {
    std::vector<std::string> on_print_providers;
    std::vector<std::string> on_security_event_providers;
    std::string browser_version;
@@ -313,7 +313,7 @@
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
  #include "content/public/browser/storage_partition.h"
  #include "content/public/browser/web_contents.h"
-@@ -409,8 +408,7 @@ void OidcAuthenticationSigninInterceptor
+@@ -426,8 +425,7 @@ void OidcAuthenticationSigninInterceptor
  
    // TODO(b/355270189): The interaction between OIDC profiles and BrowserSignin
    // policy should be finalized, this check only prevents Chrome from crashing.
@@ -321,7 +321,7 @@
 -      !profile_->GetPrefs()->GetBoolean(prefs::kSigninAllowedOnNextStartup)) {
 +  if (dasher_based_) {
      LOG_POLICY(ERROR, OIDC_ENROLLMENT)
-         << "Google-synced OIDC profile can't be created because browser sign "
+         << "Google-synced OIDC profile can't be created because browser sign"
             "in is disabled.";
 --- a/chrome/browser/enterprise/signin/oidc_managed_profile_creation_delegate.cc
 +++ b/chrome/browser/enterprise/signin/oidc_managed_profile_creation_delegate.cc
@@ -362,7 +362,7 @@
  void TokenManagedProfileCreationDelegate::OnManagedProfileInitialized(
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -109,44 +109,10 @@ api::enterprise_reporting_private::Conte
+@@ -106,44 +106,10 @@ api::enterprise_reporting_private::Conte
    info.built_in_dns_client_enabled = signals.built_in_dns_client_enabled;
    info.enterprise_profile_id = signals.enterprise_profile_id;
  
@@ -438,7 +438,7 @@
  std::string_view GetOAuth2MintTokenFlowVersion() {
 --- a/chrome/browser/extensions/api/preference/preference_api.cc
 +++ b/chrome/browser/extensions/api/preference/preference_api.cc
-@@ -24,7 +24,6 @@
+@@ -23,7 +23,6 @@
  #include "components/autofill/core/common/autofill_prefs.h"
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
@@ -446,7 +446,7 @@
  #include "extensions/browser/api/content_settings/content_settings_service.h"
  #include "extensions/browser/extension_function_registry.h"
  #include "extensions/browser/extension_pref_value_map.h"
-@@ -442,17 +441,6 @@ ExtensionFunction::ResponseAction SetPre
+@@ -437,17 +436,6 @@ ExtensionFunction::ResponseAction SetPre
          base::Value(browser_pref_value->GetBool()));
    }
  
@@ -464,7 +464,7 @@
  
    prefs_helper->SetExtensionControlledPref(extension_id(), browser_pref, scope,
                                             browser_pref_value->Clone());
-@@ -502,16 +490,6 @@ ExtensionFunction::ResponseAction ClearP
+@@ -497,16 +485,6 @@ ExtensionFunction::ResponseAction ClearP
    prefs_helper->RemoveExtensionControlledPref(extension_id(), browser_pref,
                                                scope);
  
@@ -517,7 +517,7 @@
                     blink::kWebRTCIPHandlingDefaultPublicInterfaceOnly);
 --- a/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_event_router.cc
 +++ b/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_event_router.cc
-@@ -41,7 +41,6 @@
+@@ -40,7 +40,6 @@
  #include "components/policy/core/common/cloud/user_cloud_policy_manager.h"
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/content/browser/web_ui/safe_browsing_ui.h"
@@ -641,7 +641,7 @@
  }  // namespace extensions
 --- a/chrome/browser/extensions/extension_service.cc
 +++ b/chrome/browser/extensions/extension_service.cc
-@@ -77,7 +77,6 @@
+@@ -79,7 +79,6 @@
  #include "components/crx_file/id_util.h"
  #include "components/favicon_base/favicon_url_parser.h"
  #include "components/policy/core/common/policy_pref_names.h"
@@ -649,7 +649,7 @@
  #include "components/supervised_user/core/browser/supervised_user_preferences.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/render_process_host.h"
-@@ -545,10 +544,7 @@ void ExtensionService::Init() {
+@@ -550,10 +549,7 @@ void ExtensionService::Init() {
  
    LoadExtensionsFromCommandLineFlag(::switches::kDisableExtensionsExcept);
    if (load_command_line_extensions) {
@@ -671,7 +671,7 @@
  #include "content/public/browser/browser_thread.h"
  #include "content/public/common/url_constants.h"
  #include "extensions/browser/allowlist_state.h"
-@@ -1137,19 +1136,6 @@ void InstalledLoader::RecordExtensionsMe
+@@ -1139,19 +1138,6 @@ void InstalledLoader::RecordExtensionsMe
      base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabled2",
                                  disabled_not_allowlisted_count);
    }
@@ -715,7 +715,7 @@
      {"spellingServiceEnabled", spellcheck::prefs::kSpellCheckUseSpellingService,
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -72,7 +72,6 @@
+@@ -71,7 +71,6 @@
  #include "components/prefs/pref_registry_simple.h"
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
@@ -723,7 +723,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/first_party_sets_handler.h"
-@@ -1441,15 +1440,8 @@ void ProfileNetworkContextService::Confi
+@@ -1411,15 +1410,8 @@ void ProfileNetworkContextService::Confi
  
    network_context_params->enable_certificate_reporting = true;
  
@@ -739,45 +739,40 @@
  
    network_context_params->ct_policy = GetCTPolicy();
  
---- a/chrome/browser/notifications/metrics/notification_metrics_logger.cc
-+++ b/chrome/browser/notifications/metrics/notification_metrics_logger.cc
-@@ -9,7 +9,6 @@
- #include "base/metrics/user_metrics_action.h"
- #include "chrome/browser/notifications/metrics/notification_metrics_logger_factory.h"
- #include "chrome/browser/profiles/profile.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "content/public/common/persistent_notification_status.h"
- #include "third_party/blink/public/mojom/notifications/notification.mojom.h"
- 
-@@ -53,7 +52,6 @@ void NotificationMetricsLogger::LogPersi
-     const blink::PlatformNotificationData& notification_data,
-     const GURL& origin) {
-   // This method should only be called for ESB users.
--  DCHECK(safe_browsing::IsEnhancedProtectionEnabled(*profile->GetPrefs()));
-   base::UmaHistogramCounts1000("Notifications.Persistent.Origin.SizeInBytes",
-                                origin.spec().size());
-   base::UmaHistogramCounts1000("Notifications.Persistent.Title.SizeInBytes",
 --- a/chrome/browser/notifications/platform_notification_service_impl.cc
 +++ b/chrome/browser/notifications/platform_notification_service_impl.cc
-@@ -41,7 +41,6 @@
- #include "components/prefs/pref_registry_simple.h"
+@@ -42,7 +42,6 @@
  #include "components/prefs/pref_service.h"
+ #include "components/safe_browsing/content/browser/notification_content_detection/notification_content_detection_constants.h"
  #include "components/safe_browsing/content/browser/notification_content_detection/notification_content_detection_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/platform_notification_context.h"
  #include "content/public/browser/storage_partition.h"
-@@ -731,10 +730,6 @@ void PlatformNotificationServiceImpl::Lo
-     const GURL& notification_origin) {
-   NotificationMetricsLoggerFactory::GetForBrowserContext(profile_)
-       ->LogPersistentNotificationShown();
--  if (safe_browsing::IsEnhancedProtectionEnabled(*profile_->GetPrefs())) {
--    NotificationMetricsLoggerFactory::GetForBrowserContext(profile_)
--        ->LogPersistentNotificationSize(profile_, notification_data, origin);
--  }
+@@ -744,23 +743,5 @@ void PlatformNotificationServiceImpl::Lo
  
-   auto* service =
-       NotificationsEngagementServiceFactory::GetForProfile(profile_);
+ bool PlatformNotificationServiceImpl::
+     AreSuspiciousNotificationsAllowlistedByUser(const GURL& origin) {
+-  auto* hcsm = HostContentSettingsMapFactory::GetForProfile(profile_);
+-  if (!hcsm || !origin.is_valid()) {
+     return false;
+-  }
+-  content_settings::SettingInfo info;
+-  base::Value stored_value(hcsm->GetWebsiteSetting(
+-      origin, origin,
+-      ContentSettingsType::ARE_SUSPICIOUS_NOTIFICATIONS_ALLOWLISTED_BY_USER,
+-      &info));
+-  if (stored_value.is_none()) {
+-    return false;
+-  }
+-  if (!stored_value.is_dict() || !stored_value.GetDict().contains(
+-                                     safe_browsing::kIsAllowlistedByUserKey)) {
+-    return false;
+-  }
+-  return stored_value.GetDict()
+-      .FindBool(safe_browsing::kIsAllowlistedByUserKey)
+-      .value_or(false);
+ }
 --- a/chrome/browser/password_manager/generated_password_leak_detection_pref.cc
 +++ b/chrome/browser/password_manager/generated_password_leak_detection_pref.cc
 @@ -15,7 +15,6 @@
@@ -823,18 +818,18 @@
  #include "components/safe_browsing/core/browser/db/database_manager.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  
- namespace {
- constexpr char kExcludedKey[] = "exempted";
+ #if BUILDFLAG(SAFE_BROWSING_AVAILABLE)
+ #include "chrome/browser/safe_browsing/safe_browsing_service.h"
 --- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
 +++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -27,7 +27,6 @@
+@@ -32,7 +32,6 @@
  #include "components/permissions/prediction_service/prediction_service_messages.pb.h"
  #include "components/permissions/request_type.h"
  #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/unified_consent/pref_names.h"
- 
- #if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
+ #include "content/public/browser/web_contents.h"
+ #include "mojo/public/cpp/bindings/callback_helpers.h"
 --- a/chrome/browser/policy/browser_signin_policy_handler.cc
 +++ b/chrome/browser/policy/browser_signin_policy_handler.cc
 @@ -15,7 +15,6 @@
@@ -915,7 +910,7 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/sync/base/pref_names.h"
  #include "components/sync/service/sync_policy_handler.h"
-@@ -316,9 +313,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -320,9 +317,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kForcePermissionPolicyUnloadDefaultEnabled,
      policy_prefs::kForcePermissionPolicyUnloadDefaultEnabled,
      base::Value::Type::BOOLEAN},
@@ -925,7 +920,7 @@
    { key::kDomainReliabilityAllowed,
      domain_reliability::prefs::kDomainReliabilityAllowedByPolicy,
      base::Value::Type::BOOLEAN },
-@@ -352,15 +346,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -356,15 +350,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kOopPrintDriversAllowedByPolicy,
      base::Value::Type::BOOLEAN },
  #endif
@@ -941,7 +936,7 @@
    { key::kSavingBrowserHistoryDisabled,
      prefs::kSavingBrowserHistoryDisabled,
      base::Value::Type::BOOLEAN },
-@@ -475,9 +460,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -485,9 +470,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdsSettingForIntrusiveAdsSites,
      prefs::kManagedDefaultAdsSetting,
      base::Value::Type::INTEGER },
@@ -951,7 +946,7 @@
    { key::kAllowCrossOriginAuthPrompt,
      prefs::kAllowCrossOriginAuthPrompt,
      base::Value::Type::BOOLEAN },
-@@ -700,15 +682,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -719,15 +701,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kPasswordDismissCompromisedAlertEnabled,
      password_manager::prefs::kPasswordDismissCompromisedAlertEnabled,
      base::Value::Type::BOOLEAN },
@@ -967,7 +962,7 @@
  #if BUILDFLAG(ENABLE_PDF)
    { key::kPdfLocalFileAccessAllowedForDomains,
      prefs::kPdfLocalFileAccessAllowedForDomains,
-@@ -880,9 +853,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -902,9 +875,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdditionalDnsQueryTypesEnabled,
      prefs::kAdditionalDnsQueryTypesEnabled,
      base::Value::Type::BOOLEAN },
@@ -977,7 +972,7 @@
    { key::kForceGoogleSafeSearch,
      policy_prefs::kForceGoogleSafeSearch,
      base::Value::Type::BOOLEAN },
-@@ -944,9 +914,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -966,9 +936,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRequireOnlineRevocationChecksForLocalAnchors,
      prefs::kCertRevocationCheckingRequiredLocalAnchors,
      base::Value::Type::BOOLEAN },
@@ -987,7 +982,7 @@
  #endif  // #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX)
          // || BUILDFLAG(IS_WIN)  || BUILDFLAG(IS_MAC)
  #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_WIN)
-@@ -1883,9 +1850,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1905,9 +1872,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kUnmanagedDeviceSignalsConsentFlowEnabled,
      device_signals::prefs::kUnmanagedDeviceSignalsConsentFlowEnabled,
      base::Value::Type::BOOLEAN },
@@ -997,7 +992,7 @@
    { key::kLiveTranslateEnabled,
      prefs::kLiveTranslateEnabled,
      base::Value::Type::BOOLEAN },
-@@ -1947,9 +1911,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1969,9 +1933,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kImportDialogAutofillFormData,
      base::Value::Type::BOOLEAN },
  
@@ -1007,7 +1002,7 @@
    { key::kHardwareAccelerationModeEnabled,
      prefs::kHardwareAccelerationModeEnabled,
      base::Value::Type::BOOLEAN },
-@@ -2220,9 +2181,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -2242,9 +2203,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kGoogleSearchSidePanelEnabled,
      prefs::kGoogleSearchSidePanelEnabled,
      base::Value::Type::BOOLEAN },
@@ -1017,7 +1012,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
    { key::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
      policy_prefs::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
-@@ -2703,21 +2661,7 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2761,21 +2719,7 @@ std::unique_ptr<ConfigurationPolicyHandl
            key::kBrowserContextAwareAccessSignalsAllowlist,
            enterprise_connectors::kBrowserContextAwareAccessSignalsAllowlistPref,
            chrome_schema));
@@ -1039,7 +1034,7 @@
    handlers->AddHandler(std::make_unique<IntRangePolicyHandler>(
        key::kProfileReauthPrompt, enterprise_signin::prefs::kProfileReauthPrompt,
        static_cast<int>(enterprise_signin::ProfileReauthPrompt::kDoNotPrompt),
-@@ -2784,24 +2728,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2836,24 +2780,6 @@ std::unique_ptr<ConfigurationPolicyHandl
  #else   // BUILDFLAG(IS_CHROMEOS)
    std::vector<std::unique_ptr<ConfigurationPolicyHandler>>
        signin_legacy_policies;
@@ -1066,7 +1061,7 @@
        std::make_unique<BrowserSigninPolicyHandler>(chrome_schema)));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -163,7 +163,6 @@
+@@ -164,7 +164,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/proxy_config/pref_proxy_config_tracker_impl.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
@@ -1074,7 +1069,7 @@
  #include "components/saved_tab_groups/public/pref_names.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/search_engines/template_url_prepopulate_data.h"
-@@ -172,7 +171,6 @@
+@@ -173,7 +172,6 @@
  #include "components/segmentation_platform/embedder/default_model/device_switcher_result_dispatcher.h"
  #include "components/segmentation_platform/public/segmentation_platform_service.h"
  #include "components/sessions/core/session_id_generator.h"
@@ -1082,7 +1077,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
-@@ -1741,7 +1739,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1674,7 +1672,6 @@ void RegisterLocalState(PrefRegistrySimp
    PushMessagingServiceImpl::RegisterPrefs(registry);
  #endif
    RegisterScreenshotPrefs(registry);
@@ -1090,7 +1085,7 @@
    search_engines::SearchEngineChoiceService::RegisterLocalStatePrefs(registry);
    secure_origin_allowlist::RegisterPrefs(registry);
    segmentation_platform::SegmentationPlatformService::RegisterLocalStatePrefs(
-@@ -2087,8 +2084,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -2018,8 +2015,6 @@ void RegisterProfilePrefs(user_prefs::Pr
  #if BUILDFLAG(IS_CHROMEOS_ASH)
    settings::ResetSettingsHandler::RegisterProfilePrefs(registry);
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
@@ -1109,7 +1104,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_switches.h"
  #include "components/sync/base/pref_names.h"
  #include "content/public/common/content_switches.h"
-@@ -77,8 +76,6 @@ const CommandLinePrefStore::BooleanSwitc
+@@ -78,8 +77,6 @@ const CommandLinePrefStore::BooleanSwitc
          {switches::kAllowCrossOriginAuthPrompt,
           prefs::kAllowCrossOriginAuthPrompt, true},
          {switches::kDisablePrintPreview, prefs::kPrintPreviewDisabled, true},
@@ -1120,7 +1115,7 @@
           ash::prefs::kEnableTouchpadThreeFingerClick, true},
 --- a/chrome/browser/prefs/chrome_pref_service_factory.cc
 +++ b/chrome/browser/prefs/chrome_pref_service_factory.cc
-@@ -60,10 +60,8 @@
+@@ -57,10 +57,8 @@
  #include "components/prefs/pref_store.h"
  #include "components/prefs/pref_value_store.h"
  #include "components/prefs/wrap_with_prefix_pref_store.h"
@@ -1131,7 +1126,7 @@
  #include "components/supervised_user/core/browser/supervised_user_pref_store.h"
  #include "components/sync/base/data_type.h"
  #include "components/sync/base/features.h"
-@@ -135,9 +133,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -132,9 +130,6 @@ const auto kTrackedPrefs = std::to_array
      {5, extensions::pref_names::kExtensions, EnforcementLevel::NO_ENFORCEMENT,
       PrefTrackingStrategy::SPLIT, ValueType::IMPERSONAL},
  #endif
@@ -1141,7 +1136,7 @@
      {7, prefs::kSearchProviderOverrides, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #if !BUILDFLAG(IS_ANDROID)
-@@ -161,10 +156,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -158,10 +153,6 @@ const auto kTrackedPrefs = std::to_array
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
      // kSyncRemainingRollbackTries is deprecated and will be removed a few
      // releases after M50.
@@ -1152,7 +1147,7 @@
      {29, prefs::kMediaStorageIdSalt, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #if BUILDFLAG(IS_WIN) && BUILDFLAG(GOOGLE_CHROME_BRANDING)
-@@ -176,9 +167,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -173,9 +164,6 @@ const auto kTrackedPrefs = std::to_array
      {32, prefs::kMediaCdmOriginData, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #endif  // BUILDFLAG(IS_WIN)
@@ -1208,8 +1203,8 @@
  #include "components/signin/public/base/consent_level.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_prefs.h"
+ #include "components/signin/public/identity_manager/account_capabilities_test_mutator.h"
  #include "components/signin/public/identity_manager/account_info.h"
- #include "components/signin/public/identity_manager/signin_constants.h"
 --- a/chrome/browser/profiles/profile_attributes_entry.cc
 +++ b/chrome/browser/profiles/profile_attributes_entry.cc
 @@ -27,7 +27,6 @@
@@ -1220,7 +1215,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "google_apis/gaia/gaia_id.h"
-@@ -507,7 +506,7 @@ bool ProfileAttributesEntry::IsUsingDefa
+@@ -517,7 +516,7 @@ bool ProfileAttributesEntry::IsUsingDefa
  }
  
  bool ProfileAttributesEntry::IsSignedInWithCredentialProvider() const {
@@ -1229,7 +1224,7 @@
  }
  
  bool ProfileAttributesEntry::IsDasherlessManagement() const {
-@@ -712,7 +711,6 @@ void ProfileAttributesEntry::SetLastDown
+@@ -735,7 +734,6 @@ void ProfileAttributesEntry::SetLastDown
  }
  
  void ProfileAttributesEntry::SetSignedInWithCredentialProvider(bool value) {
@@ -1239,7 +1234,7 @@
  void ProfileAttributesEntry::SetDasherlessManagement(bool value) {
 --- a/chrome/browser/profiles/profile_attributes_storage.cc
 +++ b/chrome/browser/profiles/profile_attributes_storage.cc
-@@ -46,7 +46,6 @@
+@@ -41,7 +41,6 @@
  #include "components/prefs/scoped_user_pref_update.h"
  #include "components/profile_metrics/state.h"
  #include "components/signin/public/base/persistent_repeating_timer.h"
@@ -1247,7 +1242,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "content/public/browser/browser_task_traits.h"
-@@ -394,9 +393,7 @@ void ProfileAttributesStorage::AddProfil
+@@ -390,9 +389,7 @@ void ProfileAttributesStorage::AddProfil
                     params.profile_name,
                     /*include_check_for_legacy_profile_name*/ false))
            // Assume newly created profiles use a default avatar.
@@ -1268,7 +1263,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_isolation/site_isolation_policy.h"
  #include "components/spellcheck/spellcheck_buildflags.h"
-@@ -1101,7 +1100,6 @@ void ProfileImpl::OnLocaleReady(CreateMo
+@@ -1111,7 +1110,6 @@ void ProfileImpl::OnLocaleReady(CreateMo
    CHECK(!AccountPasswordStoreFactory::HasStore(this),
          base::NotFatalUntil::M133);
    CHECK(!ReadingListModelFactory::HasModel(this), base::NotFatalUntil::M133);
@@ -1278,7 +1273,7 @@
    // On Android StartupData creates proto database provider for the profile
 --- a/chrome/browser/profiles/profile_manager.cc
 +++ b/chrome/browser/profiles/profile_manager.cc
-@@ -91,7 +91,6 @@
+@@ -94,7 +94,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -1286,7 +1281,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
  #include "components/supervised_user/core/browser/child_account_service.h"
-@@ -1900,8 +1899,7 @@ void ProfileManager::AddProfileToStorage
+@@ -1908,8 +1907,7 @@ void ProfileManager::AddProfileToStorage
        entry->SetAuthInfo(account_info.gaia, username,
                           is_consented_primary_account);
  
@@ -1296,7 +1291,7 @@
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS)
        // Sign out if force-sign-in policy is enabled and profile is not signed
-@@ -1950,14 +1948,13 @@ void ProfileManager::AddProfileToStorage
+@@ -1958,14 +1956,13 @@ void ProfileManager::AddProfileToStorage
  
    init_params.is_ephemeral = IsForceEphemeralProfilesEnabled(profile);
    init_params.is_signed_in_with_credential_provider =
@@ -1324,7 +1319,7 @@
  #include "content/public/browser/browser_thread.h"
 --- a/chrome/browser/profiles/profiles_state.cc
 +++ b/chrome/browser/profiles/profiles_state.cc
-@@ -47,7 +47,6 @@
+@@ -45,7 +45,6 @@
  #include <algorithm>
  #include "chrome/browser/profiles/gaia_info_update_service.h"
  #include "chrome/browser/profiles/gaia_info_update_service_factory.h"
@@ -1356,7 +1351,7 @@
  
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -79,155 +79,6 @@
+@@ -75,155 +75,6 @@
          pointer-events: auto;
        }
      </style>
@@ -1512,7 +1507,7 @@
      <template is="dom-if" if="[[enableHttpsFirstModeNewSettings_]]" restamp>
        <div id="secureConnectionsSection">
          <h2 class="cr-title-text">$i18n{secureConnectionsSectionTitle}</h2>
-@@ -396,11 +247,3 @@
+@@ -392,11 +243,3 @@
          on-click="onAdvancedProtectionProgramLinkClick_"
          external>
      </cr-link-row>
@@ -1526,7 +1521,7 @@
 -    </template>
 --- a/chrome/browser/resources/settings/privacy_page/security_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.ts
-@@ -322,17 +322,6 @@ export class SettingsSecurityPageElement
+@@ -321,17 +321,6 @@ export class SettingsSecurityPageElement
      super.ready();
  
      CrSettingsPrefs.initialized.then(() => {
@@ -1544,7 +1539,7 @@
        // The HTTPS-First Mode generated pref should never be set to
        // ENABLED_BALANCED if the feature flag is not enabled.
        if (!loadTimeData.getBoolean('enableHttpsFirstModeNewSettings')) {
-@@ -342,10 +331,6 @@ export class SettingsSecurityPageElement
+@@ -341,10 +330,6 @@ export class SettingsSecurityPageElement
        }
      });
  
@@ -1555,7 +1550,7 @@
      // Initialize the last focus time on page load.
      this.lastFocusTime_ = HatsBrowserProxyImpl.getInstance().now();
    }
-@@ -465,8 +450,7 @@ export class SettingsSecurityPageElement
+@@ -464,8 +449,7 @@ export class SettingsSecurityPageElement
    }
  
    private getDisabledExtendedSafeBrowsing_(): boolean {
@@ -1715,7 +1710,7 @@
  }
  
  RequestOutcome ChromePasswordProtectionService::GetPingNotSentReason(
-@@ -1822,23 +1781,6 @@ MaybeCreateCommitDeferringCondition(
+@@ -1808,23 +1767,6 @@ MaybeCreateCommitDeferringCondition(
               : nullptr;
  }
  
@@ -1790,7 +1785,7 @@
  #include "content/public/browser/browser_context.h"
 --- a/chrome/browser/safe_browsing/download_protection/check_client_download_request_base.cc
 +++ b/chrome/browser/safe_browsing/download_protection/check_client_download_request_base.cc
-@@ -26,7 +26,6 @@
+@@ -27,7 +27,6 @@
  #include "components/safe_browsing/content/common/file_type_policies.h"
  #include "components/safe_browsing/core/browser/sync/sync_utils.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2029,7 +2024,7 @@
  #include "components/security_interstitials/content/security_interstitial_tab_helper.h"
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -207,7 +207,6 @@ bool SafeBrowsingServiceImpl::IsUserElig
+@@ -199,7 +199,6 @@ bool SafeBrowsingServiceImpl::IsUserElig
  
  SafeBrowsingServiceImpl::SafeBrowsingServiceImpl()
      : services_delegate_(ServicesDelegate::Create(this)),
@@ -2037,7 +2032,7 @@
        shutdown_(false),
        enabled_(false),
        enabled_by_prefs_(false) {}
-@@ -344,9 +343,6 @@ TriggerManager* SafeBrowsingServiceImpl:
+@@ -340,9 +339,6 @@ TriggerManager* SafeBrowsingServiceImpl:
  
  PasswordProtectionService*
  SafeBrowsingServiceImpl::GetPasswordProtectionService(Profile* profile) const {
@@ -2047,7 +2042,7 @@
    return nullptr;
  }
  
-@@ -447,9 +443,6 @@ void SafeBrowsingServiceImpl::OnProfileA
+@@ -443,9 +439,6 @@ void SafeBrowsingServiceImpl::OnProfileA
    std::unique_ptr<PrefChangeRegistrar> registrar =
        std::make_unique<PrefChangeRegistrar>();
    registrar->Init(pref_service);
@@ -2057,7 +2052,7 @@
    // ClientSideDetectionService will need to be refresh the models
    // renderers have if extended-reporting changes.
    registrar->Add(prefs::kSafeBrowsingScoutReportingEnabled,
-@@ -489,14 +482,6 @@ void SafeBrowsingServiceImpl::OnProfileA
+@@ -485,14 +478,6 @@ void SafeBrowsingServiceImpl::OnProfileA
                            NoCachedPopulationReason::kChangeMbbPref));
    user_population_prefs_[pref_service] = std::move(user_population_registrar);
  
@@ -2072,7 +2067,7 @@
  
    // Record the current enhanced protection pref state for regular profiles only
    if (profiles::IsRegularUserProfile(profile)) {
-@@ -657,18 +642,6 @@ void SafeBrowsingServiceImpl::RefreshSta
+@@ -604,18 +589,6 @@ void SafeBrowsingServiceImpl::RefreshSta
  
    // Check if any profile requires the service to be active.
    enabled_by_prefs_ = false;
@@ -2093,7 +2088,7 @@
      Start();
 --- a/chrome/browser/safe_browsing/safe_browsing_service.h
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.h
-@@ -30,7 +30,6 @@
+@@ -31,7 +31,6 @@
  #include "components/safe_browsing/core/browser/db/util.h"
  #include "components/safe_browsing/core/browser/ping_manager.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -2101,7 +2096,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "services/network/public/mojom/network_context.mojom-forward.h"
-@@ -104,15 +103,6 @@ class SafeBrowsingServiceImpl : public S
+@@ -105,15 +104,6 @@ class SafeBrowsingServiceImpl : public S
    // Called on the main thread to let us know that the io_thread is going away.
    void ShutDown();
  
@@ -2117,7 +2112,7 @@
    // Get current enabled status. Must be called on IO thread.
    bool enabled() const {
      DCHECK_CURRENTLY_ON(content::BrowserThread::IO);
-@@ -373,10 +363,6 @@ class SafeBrowsingServiceImpl : public S
+@@ -379,10 +369,6 @@ class SafeBrowsingServiceImpl : public S
  
    std::unique_ptr<ProxyConfigMonitor> proxy_config_monitor_;
  
@@ -2165,7 +2160,7 @@
  #include "content/public/browser/download_item_utils.h"
 --- a/chrome/browser/safe_browsing/url_checker_delegate_impl.cc
 +++ b/chrome/browser/safe_browsing/url_checker_delegate_impl.cc
-@@ -22,7 +22,6 @@
+@@ -23,7 +23,6 @@
  #include "components/safe_browsing/core/browser/db/database_manager.h"
  #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2244,7 +2239,7 @@
  #include "testing/gtest/include/gtest/gtest.h"
 --- a/chrome/browser/signin/accounts_policy_manager.cc
 +++ b/chrome/browser/signin/accounts_policy_manager.cc
-@@ -20,7 +20,6 @@
+@@ -21,7 +21,6 @@
  #include "chrome/grit/generated_resources.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2252,7 +2247,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/identity_utils.h"
-@@ -196,26 +195,12 @@ void AccountsPolicyManager::Initialize()
+@@ -197,26 +196,12 @@ void AccountsPolicyManager::Initialize()
    EnsurePrimaryAccountAllowedForProfile(
        profile_, signin_metrics::ProfileSignout::kSigninNotAllowedOnProfileInit);
  
@@ -2279,7 +2274,7 @@
    if (identity_manager->AreRefreshTokensLoaded()) {
      OnRefreshTokensLoaded();
    }
-@@ -227,7 +212,6 @@ void AccountsPolicyManager::Shutdown() {
+@@ -228,7 +213,6 @@ void AccountsPolicyManager::Shutdown() {
    profile_pref_change_registrar_.RemoveAll();
  #endif  // BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    local_state_pref_registrar_.RemoveAll();
@@ -2287,7 +2282,7 @@
  }
  
  void AccountsPolicyManager::OnGoogleServicesUsernamePatternChanged() {
-@@ -254,11 +238,6 @@ void AccountsPolicyManager::EnsurePrimar
+@@ -255,11 +239,6 @@ void AccountsPolicyManager::EnsurePrimar
  
    CoreAccountInfo primary_account =
        identity_manager->GetPrimaryAccountInfo(signin::ConsentLevel::kSync);
@@ -2356,7 +2351,7 @@
  bool SigninManagerAndroid::IsSigninAllowedByPolicy(JNIEnv* env) const {
 --- a/chrome/browser/signin/android/signin_manager_android.h
 +++ b/chrome/browser/signin/android/signin_manager_android.h
-@@ -142,9 +142,6 @@ class SigninManagerAndroid : public Keye
+@@ -141,9 +141,6 @@ class SigninManagerAndroid : public Keye
  
    const raw_ptr<Profile> profile_ = nullptr;
  
@@ -2470,7 +2465,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_capabilities.h"
-@@ -468,16 +467,8 @@ void DiceWebSigninInterceptor::RegisterP
+@@ -471,16 +470,8 @@ void DiceWebSigninInterceptor::RegisterP
    registry->RegisterBooleanPref(prefs::kSigninInterceptionEnabled, true);
    registry->RegisterStringPref(prefs::kManagedAccountsSigninRestriction,
                                 std::string());
@@ -2487,7 +2482,7 @@
  }
  
  std::optional<SigninInterceptionHeuristicOutcome>
-@@ -1505,16 +1496,6 @@ void DiceWebSigninInterceptor::
+@@ -1514,16 +1505,6 @@ void DiceWebSigninInterceptor::
            g_browser_process->browser_policy_connector(),
            g_browser_process->system_network_context_manager()
                ->GetSharedURLLoaderFactory());
@@ -2554,7 +2549,7 @@
    UpdateUnconsentedPrimaryAccount();
    identity_manager_observation_.Observe(&identity_manager_.get());
  }
-@@ -215,16 +210,6 @@ CoreAccountInfo SigninManager::ComputeUn
+@@ -211,16 +206,6 @@ CoreAccountInfo SigninManager::ComputeUn
          signin::ConsentLevel::kSync);
    }
  
@@ -2635,7 +2630,7 @@
  
 --- a/chrome/browser/signin/signin_ui_util.cc
 +++ b/chrome/browser/signin/signin_ui_util.cc
-@@ -41,7 +41,6 @@
+@@ -42,7 +42,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2689,7 +2684,7 @@
  }
  
  void CookiesMover::OnCookiesReceived(
-@@ -242,16 +222,7 @@ bool ProfileSeparationAllowsKeepingUnman
+@@ -240,16 +220,7 @@ bool ProfileSeparationAllowsKeepingUnman
  bool IsAccountExemptedFromEnterpriseProfileSeparation(
      Profile* profile,
      const std::string& email) {
@@ -2787,7 +2782,7 @@
  
 --- a/chrome/browser/ssl/ssl_browsertest.cc
 +++ b/chrome/browser/ssl/ssl_browsertest.cc
-@@ -94,7 +94,6 @@
+@@ -99,7 +99,6 @@
  #include "components/policy/policy_constants.h"
  #include "components/prefs/testing_pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2807,7 +2802,7 @@
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
 --- a/chrome/browser/ui/autofill/payments/save_card_bubble_controller_impl.cc
 +++ b/chrome/browser/ui/autofill/payments/save_card_bubble_controller_impl.cc
-@@ -45,7 +45,6 @@
+@@ -46,7 +46,6 @@
  #include "components/autofill/core/common/autofill_features.h"
  #include "components/autofill/core/common/autofill_payments_features.h"
  #include "components/signin/public/base/signin_buildflags.h"
@@ -2827,7 +2822,7 @@
  #include "content/public/browser/navigation_controller.h"
 --- a/chrome/browser/ui/browser_command_controller_unittest.cc
 +++ b/chrome/browser/ui/browser_command_controller_unittest.cc
-@@ -35,7 +35,6 @@
+@@ -34,7 +34,6 @@
  #include "components/input/native_web_keyboard_event.h"
  #include "components/performance_manager/public/features.h"
  #include "components/policy/core/common/policy_pref_names.h"
@@ -2837,7 +2832,7 @@
  #include "ui/events/keycodes/dom/dom_code.h"
 --- a/chrome/browser/ui/chrome_pages.cc
 +++ b/chrome/browser/ui/chrome_pages.cc
-@@ -84,7 +84,6 @@
+@@ -81,7 +81,6 @@
  #if !BUILDFLAG(IS_ANDROID)
  #include "base/metrics/histogram_functions.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
@@ -3029,7 +3024,7 @@
    }
 --- a/chrome/browser/ui/signin/signin_view_controller.cc
 +++ b/chrome/browser/ui/signin/signin_view_controller.cc
-@@ -31,7 +31,6 @@
+@@ -30,7 +30,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3037,7 +3032,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
-@@ -323,15 +322,6 @@ void SigninViewController::SignoutOrReau
+@@ -289,15 +288,6 @@ void SigninViewController::SignoutOrReau
            &SigninViewController::SignoutOrReauthWithPromptWithUnsyncedDataTypes,
            weak_ptr_factory_.GetWeakPtr(), reauth_access_point,
            profile_signout_source, token_signout_source);
@@ -3053,7 +3048,7 @@
    // Dice users don't see the prompt, pass empty datatypes.
    std::move(signout_prompt_with_datatypes).Run(syncer::DataTypeSet());
  }
-@@ -717,9 +707,7 @@ void SigninViewController::SignoutOrReau
+@@ -644,9 +634,7 @@ void SigninViewController::SignoutOrReau
    bool sign_out_immediately = unsynced_datatypes.empty() && needs_reauth;
  
    // Do not show the dialog to users with implicit signin.
@@ -3109,7 +3104,7 @@
  void SetFirstRunFinished(FirstRunService::FinishedReason reason) {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -109,7 +109,6 @@
+@@ -108,7 +108,6 @@
  #include "components/profile_metrics/browser_profile_type.h"
  #include "components/saved_tab_groups/public/features.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3117,7 +3112,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
-@@ -605,51 +604,7 @@ int ProfileSubMenuModel::GetAndIncrement
+@@ -604,51 +603,7 @@ int ProfileSubMenuModel::GetAndIncrement
  }
  
  bool ProfileSubMenuModel::BuildSyncSection() {
@@ -3171,7 +3166,7 @@
  void ProfileSubMenuModel::BuildGuestProfileRow(Profile* profile) {
 --- a/chrome/browser/ui/views/download/bubble/download_toolbar_button_view.cc
 +++ b/chrome/browser/ui/views/download/bubble/download_toolbar_button_view.cc
-@@ -44,7 +44,6 @@
+@@ -45,7 +45,6 @@
  #include "components/feature_engagement/public/feature_constants.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
@@ -3179,6 +3174,16 @@
  #include "components/user_education/common/user_education_class_properties.h"
  #include "content/public/browser/browser_thread.h"
  #include "ui/base/l10n/l10n_util.h"
+--- a/chrome/browser/ui/views/download/bubble/download_toolbar_ui_controller.cc
++++ b/chrome/browser/ui/views/download/bubble/download_toolbar_ui_controller.cc
+@@ -43,7 +43,6 @@
+ #include "components/feature_engagement/public/feature_constants.h"
+ #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
+-#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "content/public/browser/browser_thread.h"
+ #include "ui/base/l10n/l10n_util.h"
+ #include "ui/base/metadata/metadata_impl_macros.h"
 --- a/chrome/browser/ui/views/page_info/page_info_bubble_view_sync_browsertest.cc
 +++ b/chrome/browser/ui/views/page_info/page_info_bubble_view_sync_browsertest.cc
 @@ -18,7 +18,6 @@
@@ -3199,7 +3204,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -1666,18 +1665,6 @@ void AvatarToolbarButtonDelegate::OnErro
+@@ -1628,18 +1627,6 @@ void AvatarToolbarButtonDelegate::OnErro
      const CoreAccountInfo& account_info,
      const GoogleServiceAuthError& error,
      signin_metrics::SourceForRefreshTokenOperation token_operation_source) {
@@ -3217,10 +3222,10 @@
 -  }
  }
  
- void AvatarToolbarButtonDelegate::PaintIcon(
+ // static
 --- a/chrome/browser/ui/views/profiles/profile_menu_view.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view.cc
-@@ -70,7 +70,6 @@
+@@ -71,7 +71,6 @@
  #include "components/signin/core/browser/signin_error_controller.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3228,7 +3233,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
-@@ -745,135 +744,6 @@ void ProfileMenuView::BuildAutofillButto
+@@ -754,135 +753,6 @@ void ProfileMenuView::BuildAutofillButto
  }
  
  void ProfileMenuView::BuildSyncInfo() {
@@ -3291,7 +3296,7 @@
 -  bool show_sync_badge = false;
 -  bool show_account_card = false;
 -  signin_metrics::AccessPoint access_point =
--      signin_metrics::AccessPoint::ACCESS_POINT_AVATAR_BUBBLE_SIGN_IN;
+-      signin_metrics::AccessPoint::kAvatarBubbleSignIn;
 -
 -  signin_metrics::PromoAction promo_action =
 -      signin_metrics::PromoAction::PROMO_ACTION_NO_SIGNIN_PROMO;
@@ -3319,8 +3324,8 @@
 -             !account_info_for_promos.IsEmpty()) {
 -    // Web-only signed-in state.
 -    account_info = account_info_for_promos;
--    access_point = signin_metrics::AccessPoint::
--        ACCESS_POINT_AVATAR_BUBBLE_SIGN_IN_WITH_SYNC_PROMO;
+-    access_point =
+-        signin_metrics::AccessPoint::kAvatarBubbleSignInWithSyncPromo;
 -    description = l10n_util::GetStringUTF16(
 -        switches::IsExplicitBrowserSigninUIOnDesktopEnabled()
 -            ? IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION
@@ -3336,8 +3341,8 @@
 -  } else {
 -    // Not signed in state.
 -    if (switches::IsExplicitBrowserSigninUIOnDesktopEnabled()) {
--      access_point = signin_metrics::AccessPoint::
--          ACCESS_POINT_AVATAR_BUBBLE_SIGN_IN_WITH_SYNC_PROMO;
+-      access_point =
+-          signin_metrics::AccessPoint::kAvatarBubbleSignInWithSyncPromo;
 -      description =
 -          l10n_util::GetStringUTF16(IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION);
 -      button_text =
@@ -3364,14 +3369,14 @@
  }
  
  ProfileMenuViewBase::IdentitySectionParams
-@@ -951,15 +821,6 @@ ProfileMenuView::GetIdentitySectionParam
-       signin_metrics::AccessPoint::ACCESS_POINT_AVATAR_BUBBLE_SIGN_IN;
+@@ -969,15 +839,6 @@ ProfileMenuView::GetIdentitySectionParam
+       signin_metrics::AccessPoint::kAvatarBubbleSignIn;
    switch (signin_util::GetSignedInState(identity_manager)) {
      case signin_util::SignedInState::kSignedOut:
 -      if (profile->GetPrefs()->GetBoolean(prefs::kSigninAllowed)) {
 -        button_type = ActionableItem::kSigninButton;
--        access_point = signin_metrics::AccessPoint::
--            ACCESS_POINT_AVATAR_BUBBLE_SIGN_IN_WITH_SYNC_PROMO;
+-        access_point =
+-            signin_metrics::AccessPoint::kAvatarBubbleSignInWithSyncPromo;
 -        params.subtitle = l10n_util::GetStringUTF16(
 -            IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION);
 -        params.button_text =
@@ -3379,8 +3384,8 @@
 -      }
        break;
      case signin_util::SignedInState::kWebOnlySignedIn: {
-       access_point = signin_metrics::AccessPoint::
-@@ -1080,9 +941,6 @@ void ProfileMenuView::MaybeBuildChromeAc
+       access_point =
+@@ -1098,9 +959,6 @@ void ProfileMenuView::MaybeBuildChromeAc
    int message_id = IDS_PROFILE_MENU_OPEN_ACCOUNT_SETTINGS;
    const gfx::VectorIcon* icon = &vector_icons::kSettingsChromeRefreshIcon;
    if (switches::IsImprovedSigninUIOnDesktopEnabled()) {
@@ -3457,7 +3462,7 @@
  
 --- a/chrome/browser/ui/views/sync/inline_login_ui_browsertest.cc
 +++ b/chrome/browser/ui/views/sync/inline_login_ui_browsertest.cc
-@@ -47,7 +47,6 @@
+@@ -48,7 +48,6 @@
  #include "components/keyed_service/content/browser_context_dependency_manager.h"
  #include "components/prefs/pref_service.h"
  #include "components/prefs/scoped_user_pref_update.h"
@@ -3539,10 +3544,10 @@
  // AppMenuView is a view that can contain label buttons.
 --- a/chrome/browser/ui/views/webid/fedcm_account_selection_view_desktop.cc
 +++ b/chrome/browser/ui/views/webid/fedcm_account_selection_view_desktop.cc
-@@ -790,8 +790,6 @@ void FedCmAccountSelectionView::OnChoose
+@@ -779,8 +779,6 @@ void FedCmAccountSelectionView::OnChoose
                           /*show_back_button=*/true,
                           /*is_choose_an_account=*/true);
-   UpdateDialogPositionIfModal();
+   UpdateDialogPosition();
 -  base::UmaHistogramBoolean("Blink.FedCm.ChooseAnAccountSelected.Desktop",
 -                            true);
  }
@@ -3604,16 +3609,16 @@
 --- a/chrome/browser/ui/webui/management/management_ui_handler.cc
 +++ b/chrome/browser/ui/webui/management/management_ui_handler.cc
 @@ -46,7 +46,6 @@
- #include "components/enterprise/browser/reporting/common_pref_names.h"
  #include "components/policy/core/common/cloud/user_cloud_policy_manager.h"
  #include "components/policy/core/common/management/management_service.h"
+ #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/supervised_user/core/common/pref_names.h"
  #include "content/public/browser/web_contents.h"
 --- a/chrome/browser/ui/webui/policy/policy_ui_handler.cc
 +++ b/chrome/browser/ui/webui/policy/policy_ui_handler.cc
-@@ -83,7 +83,6 @@
+@@ -82,7 +82,6 @@
  #include "components/policy/proto/device_management_backend.pb.h"
  #include "components/prefs/pref_change_registrar.h"
  #include "components/prefs/pref_service.h"
@@ -3621,7 +3626,7 @@
  #include "components/strings/grit/components_strings.h"
  #include "content/public/browser/browser_task_traits.h"
  #include "content/public/browser/browser_thread.h"
-@@ -361,15 +360,6 @@ void PolicyUIHandler::HandleSetLocalTest
+@@ -360,15 +359,6 @@ void PolicyUIHandler::HandleSetLocalTest
  
    CHECK(local_test_provider);
  
@@ -3637,7 +3642,7 @@
    Profile::FromWebUI(web_ui())
        ->GetProfilePolicyConnector()
        ->UseLocalTestPolicyProvider();
-@@ -383,13 +373,6 @@ void PolicyUIHandler::HandleRevertLocalT
+@@ -382,13 +372,6 @@ void PolicyUIHandler::HandleRevertLocalT
    if (!PolicyUI::ShouldLoadTestPage(Profile::FromWebUI(web_ui()))) {
      return;
    }
@@ -3695,7 +3700,7 @@
  #include "components/user_prefs/user_prefs.h"
 --- a/chrome/browser/ui/webui/settings/people_handler.cc
 +++ b/chrome/browser/ui/webui/settings/people_handler.cc
-@@ -56,7 +56,6 @@
+@@ -55,7 +55,6 @@
  #include "components/signin/core/browser/signin_error_controller.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3703,7 +3708,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -405,10 +404,6 @@ void PeopleHandler::OnJavascriptAllowed(
+@@ -404,10 +403,6 @@ void PeopleHandler::OnJavascriptAllowed(
    PrefService* prefs = profile_->GetPrefs();
    profile_pref_registrar_ = std::make_unique<PrefChangeRegistrar>();
    profile_pref_registrar_->Init(prefs);
@@ -3726,7 +3731,7 @@
  #include "components/site_engagement/content/site_engagement_service.h"
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -85,7 +85,6 @@
+@@ -84,7 +84,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
@@ -3734,7 +3739,7 @@
  #include "components/saved_tab_groups/public/features.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/signin/public/base/signin_buildflags.h"
-@@ -3423,11 +3422,6 @@ void AddSiteSettingsStrings(content::Web
+@@ -3435,11 +3434,6 @@ void AddSiteSettingsStrings(content::Web
    html_source->AddLocalizedStrings(kSensorsLocalizedStrings);
  
    html_source->AddBoolean(
@@ -3748,7 +3753,7 @@
  
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
-@@ -104,7 +104,6 @@
+@@ -106,7 +106,6 @@
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_utils.h"
@@ -3756,7 +3761,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/features.h"
  #include "content/public/browser/url_data_source.h"
-@@ -309,9 +308,7 @@ SettingsUI::SettingsUI(content::WebUI* w
+@@ -308,9 +307,7 @@ SettingsUI::SettingsUI(content::WebUI* w
    }
  #endif  // BUILDFLAG(IS_WIN) && BUILDFLAG(GOOGLE_CHROME_BRANDING)
  
@@ -3764,12 +3769,12 @@
 -                                               profile->GetPrefs()->GetBoolean(
 -                                                   prefs::kSigninAllowed));
 +  html_source->AddBoolean("signinAllowed", false);
- 
-   html_source->AddBoolean(
-       "turnOffSyncAllowedForManagedProfiles",
+   ProfileAttributesEntry* entry =
+       g_browser_process->profile_manager()
+           ->GetProfileAttributesStorage()
 --- a/chrome/browser/ui/webui/signin/inline_login_handler.cc
 +++ b/chrome/browser/ui/webui/signin/inline_login_handler.cc
-@@ -28,7 +28,6 @@
+@@ -27,7 +27,6 @@
  #include "chrome/common/pref_names.h"
  #include "components/metrics/metrics_pref_names.h"
  #include "components/prefs/pref_service.h"
@@ -3777,7 +3782,7 @@
  #include "content/public/browser/storage_partition.h"
  #include "content/public/browser/web_contents.h"
  #include "content/public/browser/web_ui.h"
-@@ -139,8 +138,6 @@ void InlineLoginHandler::ContinueHandleI
+@@ -138,8 +137,6 @@ void InlineLoginHandler::ContinueHandleI
    std::string default_email;
    if (reason == signin_metrics::Reason::kSigninPrimaryAccount ||
        reason == signin_metrics::Reason::kForcedSigninPrimaryAccount) {
@@ -3806,7 +3811,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/signin_constants.h"
  #include "components/strings/grit/components_strings.h"
-@@ -486,23 +485,6 @@ base::Value::Dict ManagedUserProfileNoti
+@@ -485,23 +484,6 @@ base::Value::Dict ManagedUserProfileNoti
        dict.Set("email", base::UTF16ToUTF8(email_));
        dict.Set("accountName", account_info.full_name);
  
@@ -3840,7 +3845,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/strings/grit/components_strings.h"
  #include "content/public/browser/web_ui.h"
-@@ -292,8 +291,7 @@ void ManagedUserProfileNoticeUI::Initial
+@@ -287,8 +286,7 @@ void ManagedUserProfileNoticeUI::Initial
    // Change the text so that the "(Recommended)" label is not shown when the
    // admin has set merging data as the default option.
    bool profile_separation_data_migration_settings_optout =
@@ -3881,7 +3886,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/identity_utils.h"
  #include "google_apis/gaia/gaia_auth_util.h"
-@@ -26,107 +25,10 @@
+@@ -26,100 +25,10 @@
  SigninUIError CanOfferSignin(Profile* profile,
                               const GaiaId& gaia_id,
                               const std::string& email) {
@@ -3956,14 +3961,7 @@
 -                  switches::kBypassAccountAlreadyUsedByAnotherProfileCheck)) {
 -            continue;
 -          }
--          // For backward compatibility, need to check also the username of the
--          // profile, since the GAIA ID may not have been set yet in the
--          // ProfileAttributesStorage.  It will be set once the profile
--          // is opened.
--          GaiaId profile_gaia_id = entry->GetGAIAId();
--          std::string profile_email = base::UTF16ToUTF8(entry->GetUserName());
--          if (gaia_id == profile_gaia_id ||
--              gaia::AreEmailsSame(email, profile_email)) {
+-          if (gaia_id == entry->GetGAIAId()) {
 -            return SigninUIError::AccountAlreadyUsedByAnotherProfile(
 -                email, entry->GetPath());
 -          }
@@ -3992,7 +3990,7 @@
  }
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
-@@ -46,7 +46,6 @@
+@@ -47,7 +47,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/core/browser/account_reconcilor.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -4000,7 +3998,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
-@@ -276,8 +275,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
+@@ -266,8 +265,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
    // last authenticated account of the current profile, then Chrome will show a
    // confirmation dialog before starting sync.
    // TODO(skym): Warn for high risk upgrade scenario (https://crbug.com/572754).
@@ -4012,7 +4010,7 @@
        base::BindOnce(&TurnSyncOnHelper::OnMergeAccountConfirmation,
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
-@@ -38,7 +38,6 @@
+@@ -37,7 +37,6 @@
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/policy/core/browser/signin/user_cloud_signin_restriction_policy_fetcher.h"
  #include "components/policy/core/common/policy_utils.h"
@@ -4020,11 +4018,10 @@
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "third_party/skia/include/core/SkColor.h"
  
-@@ -232,28 +231,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
-     std::move(callback).Run(signin::SIGNIN_CHOICE_CANCEL);
+@@ -224,26 +223,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
      return;
    }
--#if !BUILDFLAG(IS_CHROMEOS_LACROS)
+ 
 -  if (prompt_for_new_profile) {
 -    account_level_signin_restriction_policy_fetcher_
 -        ->GetManagedAccountsSigninRestriction(
@@ -4045,13 +4042,12 @@
 -                : std::string());
 -    return;
 -  }
--#endif
-   DCHECK(!prompt_for_new_profile);
+ 
    browser_->signin_view_controller()->ShowModalManagedUserNoticeDialog(
        std::make_unique<signin::EnterpriseProfileCreationDialogParams>(
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
-@@ -57,7 +57,6 @@
+@@ -56,7 +56,6 @@
  #include "components/search_engines/template_url_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -4161,7 +4157,7 @@
              "value": ["searchSuggestEnabled", {"type":"boolean"}],
 --- a/components/autofill/core/browser/data_manager/addresses/address_data_manager.cc
 +++ b/components/autofill/core/browser/data_manager/addresses/address_data_manager.cc
-@@ -34,7 +34,6 @@
+@@ -31,7 +31,6 @@
  #include "components/autofill/core/common/autofill_prefs.h"
  #include "components/autofill/core/common/dense_set.h"
  #include "components/prefs/pref_service.h"
@@ -4169,7 +4165,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/data_type.h"
  #include "components/sync/base/features.h"
-@@ -312,13 +311,7 @@ void AddressDataManager::RemoveLocalProf
+@@ -311,13 +310,7 @@ void AddressDataManager::RemoveLocalProf
  }
  
  bool AddressDataManager::IsEligibleForAddressAccountStorage() const {
@@ -4183,14 +4179,11 @@
  }
  
  bool AddressDataManager::IsCountryEligibleForAccountStorage(
-@@ -603,38 +596,7 @@ bool AddressDataManager::IsAutofillUserS
+@@ -602,35 +595,7 @@ bool AddressDataManager::IsAutofillUserS
  }
  
  bool AddressDataManager::IsAutofillSyncToggleAvailable() const {
--  // These checks should be removed once the feature is fully launched.
--  if (!base::FeatureList::IsEnabled(
--          syncer::kSyncEnableContactInfoDataTypeInTransportMode) ||
--      !pref_service_->GetBoolean(::prefs::kExplicitBrowserSignin)) {
+-  if (!pref_service_->GetBoolean(::prefs::kExplicitBrowserSignin)) {
 -    return false;
 -  }
 -
@@ -4252,21 +4245,20 @@
  #include "components/strings/grit/components_strings.h"
  #include "components/sync/base/features.h"
  #include "components/sync/base/user_selectable_type.h"
-@@ -177,13 +176,6 @@ bool IsCreditCardUploadEnabled(
+@@ -175,12 +174,6 @@ bool IsCreditCardUploadEnabled(
+   // TODO(crbug.com/40066949): Simplify once IsSyncFeatureActive() is deleted
    // from the codebase.
-   bool addresses_in_transport_mode = base::FeatureList::IsEnabled(
-       syncer::kSyncEnableContactInfoDataTypeInTransportMode);
+   bool addresses_in_transport_mode = true;
 -#if BUILDFLAG(ENABLE_DICE_SUPPORT)
 -  // Dice users don't have addresses in transport mode until they went through
 -  // the explicit signin flow.
 -  addresses_in_transport_mode =
--      addresses_in_transport_mode &&
 -      pref_service.GetBoolean(::prefs::kExplicitBrowserSignin);
 -#endif
    bool syncing_or_addresses_in_transport_mode =
        sync_service->IsSyncFeatureActive() || addresses_in_transport_mode;
    if (syncing_or_addresses_in_transport_mode &&
-@@ -328,12 +320,6 @@ bool IsUserOptedInWalletSyncTransport(co
+@@ -325,12 +318,6 @@ bool IsUserOptedInWalletSyncTransport(co
    // On mobile, no specific opt-in is required.
    return true;
  #else
@@ -4292,7 +4284,7 @@
    public_deps = [
 --- a/components/feed/core/v2/feed_stream.cc
 +++ b/components/feed/core/v2/feed_stream.cc
-@@ -66,7 +66,6 @@
+@@ -65,7 +65,6 @@
  #include "components/feed/feed_feature_list.h"
  #include "components/offline_pages/task/closure_task.h"
  #include "components/prefs/pref_service.h"
@@ -4300,7 +4292,7 @@
  #include "google_apis/gaia/gaia_id.h"
  
  namespace feed {
-@@ -175,9 +174,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
+@@ -174,9 +173,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
    snippets_enabled_by_dse_.Init(prefs::kEnableSnippetsByDse, profile_prefs,
                                  preference_change_callback);
    has_stored_data_.Init(feed::prefs::kHasStoredData, profile_prefs);
@@ -4320,7 +4312,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "net/base/network_change_notifier.h"
-@@ -190,7 +189,7 @@ class FeedService::StreamDelegateImpl :
+@@ -183,7 +182,7 @@ class FeedService::StreamDelegateImpl :
    // Returns if signin is allowed on Android. Return true on other platform so
    // behavior is unchanged there.
    bool IsSigninAllowed() override {
@@ -4329,53 +4321,16 @@
    }
    void RegisterExperiments(const Experiments& experiments) override {
      service_delegate_->RegisterExperiments(experiments);
---- a/components/lookalikes/core/safety_tips_config.cc
-+++ b/components/lookalikes/core/safety_tips_config.cc
-@@ -5,6 +5,7 @@
- #include "components/lookalikes/core/safety_tips_config.h"
- 
- #include "base/no_destructor.h"
-+#include "base/notreached.h"
- #include "base/ranges/algorithm.h"
- #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
- #include "third_party/re2/src/re2/re2.h"
---- a/components/password_manager/core/browser/features/password_manager_features_util_common.cc
-+++ b/components/password_manager/core/browser/features/password_manager_features_util_common.cc
-@@ -8,7 +8,6 @@
- #include "components/password_manager/core/browser/features/password_manager_features_util.h"
+--- a/components/password_manager/core/browser/features/password_manager_features_util.cc
++++ b/components/password_manager/core/browser/features/password_manager_features_util.cc
+@@ -15,7 +15,6 @@
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/prefs/pref_service.h"
--#include "components/signin/public/base/signin_pref_names.h"
- #include "components/signin/public/base/signin_switches.h"
- #include "components/sync/base/features.h"
- #include "components/sync/service/sync_service.h"
---- a/components/password_manager/core/browser/features/password_manager_features_util_desktop.cc
-+++ b/components/password_manager/core/browser/features/password_manager_features_util_desktop.cc
-@@ -14,7 +14,6 @@
- #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/prefs/scoped_user_pref_update.h"
- #include "components/signin/public/base/gaia_id_hash.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
- #include "components/signin/public/identity_manager/account_info.h"
+ #include "components/sync/base/features.h"
  #include "components/sync/base/pref_names.h"
-@@ -326,15 +325,7 @@ bool ShouldShowAccountStorageSettingTogg
- }
- 
- bool AreAccountStorageOptInPromosAllowed() {
--  // Disallow promos when kExplicitBrowserSigninUIOnDesktop is on.
--  // - For users who went through explicit sign-in, account storage is enabled
--  //   by default. If they bothered to disable this feature, they should not be
--  //   spammed into re-enabling it.
--  // - Users who went through implicit sign-in will be migrated to explicit
--  //   sign-in in the future, at which point the above applies. In the meantime,
--  //   it's not worth keeping the promos UI. Most users in this group have seen
--  //   the promo by now and have accepted *if* they want the feature.
--  return !switches::IsExplicitBrowserSigninUIOnDesktopEnabled();
-+  return false;
- }
- 
- // Note: See also password_manager_features_util_common.cc for shared
 --- a/components/password_manager/core/browser/leak_detection/leak_detection_check_impl.cc
 +++ b/components/password_manager/core/browser/leak_detection/leak_detection_check_impl.cc
 @@ -21,7 +21,6 @@
@@ -4440,7 +4395,7 @@
  namespace password_manager {
 --- a/components/password_manager/core/browser/password_reuse_detector_impl.cc
 +++ b/components/password_manager/core/browser/password_reuse_detector_impl.cc
-@@ -21,7 +21,6 @@
+@@ -20,7 +20,6 @@
  #include "components/password_manager/core/browser/password_store/password_store_consumer.h"
  #include "components/password_manager/core/browser/password_store/psl_matching_helper.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -4448,7 +4403,7 @@
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "url/gurl.h"
  
-@@ -217,9 +216,7 @@ PasswordReuseDetectorImpl::CheckNonGaiaE
+@@ -216,9 +215,7 @@ PasswordReuseDetectorImpl::CheckNonGaiaE
    // Skips password reuse check if |domain| matches enterprise login URL or
    // enterprise change password URL.
    GURL page_url(domain);
@@ -4495,7 +4450,7 @@
  void PasswordReuseManagerImpl::RequestLoginsFromStores() {
 --- a/components/password_manager/core/browser/password_store/password_store.cc
 +++ b/components/password_manager/core/browser/password_store/password_store.cc
-@@ -37,7 +37,6 @@
+@@ -36,7 +36,6 @@
  #include "components/password_manager/core/common/password_manager_features.h"
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/prefs/pref_service.h"
@@ -4536,8 +4491,8 @@
  #include "google_apis/gaia/gaia_urls.h"
  
 @@ -731,7 +730,7 @@ StoreMetricsReporter::StoreMetricsReport
-   is_opted_in_account_storage_ =
-       features_util::IsOptedInForAccountStorage(prefs_, sync_service);
+   is_account_storage_enabled_ =
+       features_util::IsAccountStorageEnabled(prefs_, sync_service);
  
 -  is_safe_browsing_enabled_ = safe_browsing::IsSafeBrowsingEnabled(*prefs_);
 +  is_safe_browsing_enabled_ = false;
@@ -4674,7 +4629,7 @@
  #include "content/public/browser/browser_thread.h"
 --- a/components/safe_browsing/content/browser/triggers/trigger_throttler.cc
 +++ b/components/safe_browsing/content/browser/triggers/trigger_throttler.cc
-@@ -145,30 +145,6 @@ void TriggerThrottler::CleanupOldEvents(
+@@ -146,30 +146,6 @@ void TriggerThrottler::CleanupOldEvents(
  
  void TriggerThrottler::LoadTriggerEventsFromPref() {
    trigger_events_.clear();
@@ -4705,7 +4660,7 @@
  }
  
  void TriggerThrottler::WriteTriggerEventsToPref() {
-@@ -185,9 +161,6 @@ void TriggerThrottler::WriteTriggerEvent
+@@ -186,9 +162,6 @@ void TriggerThrottler::WriteTriggerEvent
      trigger_dict.Set(base::NumberToString(static_cast<int>(trigger_item.first)),
                       std::move(timestamps));
    }
@@ -4747,7 +4702,7 @@
  #include "components/security_interstitials/core/base_safe_browsing_error_ui.h"
 --- a/components/safe_browsing/content/browser/web_ui/safe_browsing_ui.cc
 +++ b/components/safe_browsing/content/browser/web_ui/safe_browsing_ui.cc
-@@ -37,7 +37,6 @@
+@@ -38,7 +38,6 @@
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
  #include "components/safe_browsing/core/common/proto/safebrowsingv5.pb.h"
@@ -4755,7 +4710,7 @@
  #include "content/public/browser/global_routing_id.h"
  #include "services/network/public/mojom/cookie_manager.mojom.h"
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -1527,20 +1526,7 @@ std::string SerializeHitReport(const Hit
+@@ -1530,20 +1529,7 @@ std::string SerializeHitReport(const Hit
    }
    hit_report_dict.Set("threat_source", threat_source);
    std::string extended_reporting_level;
@@ -4776,7 +4731,7 @@
    hit_report_dict.Set("extended_reporting_level", extended_reporting_level);
    hit_report_dict.Set("is_enhanced_protection",
                        hit_report.is_enhanced_protection);
-@@ -2390,18 +2376,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
+@@ -2401,18 +2387,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
    AllowJavascript();
    DCHECK(!args.empty());
    std::string callback_id = args[0].GetString();
@@ -5055,7 +5010,7 @@
    // policy.
 --- a/components/safe_browsing/core/browser/ping_manager.cc
 +++ b/components/safe_browsing/core/browser/ping_manager.cc
-@@ -497,7 +497,7 @@ GURL PingManager::SafeBrowsingHitUrl(
+@@ -499,7 +499,7 @@ GURL PingManager::SafeBrowsingHitUrl(
           hit_report->threat_type == SB_THREAT_TYPE_URL_BINARY_MALWARE ||
           hit_report->threat_type == SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING);
    std::string url =
@@ -5158,7 +5113,7 @@
  #include "net/base/ip_address.h"
 --- a/components/safe_browsing/core/browser/safe_browsing_metrics_collector.cc
 +++ b/components/safe_browsing/core/browser/safe_browsing_metrics_collector.cc
-@@ -14,13 +14,11 @@
+@@ -15,13 +15,11 @@
  #include "components/prefs/pref_service.h"
  #include "components/prefs/scoped_user_pref_update.h"
  #include "components/safe_browsing/core/browser/db/hit_report.h"
@@ -5172,7 +5127,7 @@
  
  const int kMetricsLoggingIntervalDay = 1;
  
-@@ -61,11 +59,6 @@ SafeBrowsingMetricsCollector::SafeBrowsi
+@@ -62,11 +60,6 @@ SafeBrowsingMetricsCollector::SafeBrowsi
      PrefService* pref_service)
      : pref_service_(pref_service) {
    pref_change_registrar_.Init(pref_service_);
@@ -5184,7 +5139,7 @@
  }
  
  void SafeBrowsingMetricsCollector::Shutdown() {
-@@ -73,16 +66,6 @@ void SafeBrowsingMetricsCollector::Shutd
+@@ -74,16 +67,6 @@ void SafeBrowsingMetricsCollector::Shutd
  }
  
  void SafeBrowsingMetricsCollector::StartLogging() {
@@ -5201,7 +5156,7 @@
  }
  
  void SafeBrowsingMetricsCollector::LogMetricsAndScheduleNextLogging() {
-@@ -91,77 +74,10 @@ void SafeBrowsingMetricsCollector::LogMe
+@@ -92,77 +75,10 @@ void SafeBrowsingMetricsCollector::LogMe
    MaybeLogDailyEsbProtegoPingSent();
    RemoveOldEventsFromPref();
  
@@ -5279,7 +5234,7 @@
  }
  
  void SafeBrowsingMetricsCollector::ScheduleNextLoggingAfterInterval(
-@@ -173,75 +89,16 @@ void SafeBrowsingMetricsCollector::Sched
+@@ -174,75 +90,16 @@ void SafeBrowsingMetricsCollector::Sched
  }
  
  void SafeBrowsingMetricsCollector::LogDailyOptInMetrics() {
@@ -5355,7 +5310,7 @@
  }
  
  void SafeBrowsingMetricsCollector::AddBypassEventToPref(
-@@ -284,15 +141,7 @@ std::optional<base::Time> SafeBrowsingMe
+@@ -285,15 +142,7 @@ std::optional<base::Time> SafeBrowsingMe
  std::optional<base::Time> SafeBrowsingMetricsCollector::GetLatestEventTimestamp(
      EventTypeFilter event_type_filter) {
    // Events are not logged when Safe Browsing is disabled.
@@ -5371,7 +5326,7 @@
  }
  
  std::optional<base::Time>
-@@ -304,45 +153,15 @@ SafeBrowsingMetricsCollector::GetLatestS
+@@ -305,45 +154,15 @@ SafeBrowsingMetricsCollector::GetLatestS
  void SafeBrowsingMetricsCollector::AddSafeBrowsingEventAndUserStateToPref(
      UserState user_state,
      EventType event_type) {
@@ -5418,7 +5373,7 @@
  }
  
  std::optional<SafeBrowsingMetricsCollector::Event>
-@@ -469,22 +288,6 @@ int SafeBrowsingMetricsCollector::GetEve
+@@ -470,22 +289,6 @@ int SafeBrowsingMetricsCollector::GetEve
    });
  }
  
@@ -5809,13 +5764,13 @@
  }
 --- a/components/security_interstitials/content/security_interstitial_controller_client.h
 +++ b/components/security_interstitials/content/security_interstitial_controller_client.h
-@@ -54,8 +54,6 @@ class SecurityInterstitialControllerClie
+@@ -55,8 +55,6 @@ class SecurityInterstitialControllerClie
    bool CanGoBackBeforeNavigation() override;
  
   protected:
 -  // security_interstitials::ControllerClient overrides.
 -  const std::string GetExtendedReportingPrefName() const override;
-   raw_ptr<content::WebContents> web_contents_;
+   content::WebContents* web_contents() { return &*web_contents_; }
  
   private:
 --- a/components/security_interstitials/content/security_interstitial_page.cc
@@ -6076,7 +6031,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -440,23 +439,6 @@ void SigninMetricsService::OnRefreshToke
+@@ -423,23 +422,6 @@ void SigninMetricsService::OnRefreshToke
  #if BUILDFLAG(ENABLE_DICE_SUPPORT)
  
  void SigninMetricsService::RecordExplicitSigninMigrationStatus() {
@@ -6379,7 +6334,7 @@
  #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
  #include "components/signin/public/identity_manager/set_accounts_in_cookie_result.h"
  #include "google_apis/credentials_mode.h"
-@@ -438,30 +437,7 @@ GaiaCookieManagerService::GaiaCookieMana
+@@ -434,28 +433,7 @@ GaiaCookieManagerService::GaiaCookieMana
        listAccountsUnexpectedServerResponseRetried_(false),
        external_cc_result_fetched_(false),
        list_accounts_stale_(true) {
@@ -6401,8 +6356,6 @@
 -        gaia_cookie_last_list_accounts_binary_data, &accounts_);
 -  }
 -  if (!parse_success) {
--    DLOG(WARNING) << "GaiaCookieManagerService::ListAccounts: Failed to "
--                     "parse list accounts data from pref.";
      accounts_.clear();
 -    return;
 -  }
@@ -6410,7 +6363,7 @@
  }
  
  GaiaCookieManagerService::~GaiaCookieManagerService() {
-@@ -472,10 +448,6 @@ GaiaCookieManagerService::~GaiaCookieMan
+@@ -466,10 +444,6 @@ GaiaCookieManagerService::~GaiaCookieMan
  
  // static
  void GaiaCookieManagerService::RegisterPrefs(PrefRegistrySimple* registry) {
@@ -6421,7 +6374,7 @@
  }
  
  void GaiaCookieManagerService::InitCookieListener() {
-@@ -710,10 +682,6 @@ void GaiaCookieManagerService::OnListAcc
+@@ -697,10 +671,6 @@ void GaiaCookieManagerService::OnListAcc
                             : gaia::ParseListAccountsData(data, &accounts_);
    if (!parse_success) {
      accounts_.clear();
@@ -6432,7 +6385,7 @@
      GoogleServiceAuthError error =
          GoogleServiceAuthError::FromUnexpectedServiceResponse(
              "Error parsing ListAccounts response");
-@@ -721,18 +689,6 @@ void GaiaCookieManagerService::OnListAcc
+@@ -708,18 +678,6 @@ void GaiaCookieManagerService::OnListAcc
      return;
    }
  
@@ -6463,7 +6416,7 @@
  #include "components/signin/public/identity_manager/identity_test_utils.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
-@@ -22,7 +22,6 @@
+@@ -27,7 +27,6 @@
  #include "components/signin/internal/identity_manager/profile_oauth2_token_service.h"
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -6491,7 +6444,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -209,156 +208,27 @@ PrimaryAccountManager::PrimaryAccountMan
+@@ -207,156 +206,27 @@ PrimaryAccountManager::PrimaryAccountMan
        account_tracker_service_(account_tracker_service) {
    DCHECK(client_);
    DCHECK(account_tracker_service_);
@@ -6648,7 +6601,7 @@
  }
  
  std::pair<CoreAccountInfo, PrimaryAccountManager::InitializeAccountInfoState>
-@@ -386,46 +256,10 @@ PrimaryAccountManager::GetOrRestorePrima
+@@ -384,46 +254,10 @@ PrimaryAccountManager::GetOrRestorePrima
                                kEmptyAccountInfo_RestoreFailedNotSyncConsented);
    }
  
@@ -6677,11 +6630,11 @@
 -  }
 -
 -  if (base::FeatureList::IsEnabled(kRestorePrimaryAccountInfo)) {
--    CHECK_EQ(account_id,
--             account_tracker_service_->SeedAccountInfo(
--                 last_syncing_gaia_id, last_syncing_email,
--                 signin_metrics::AccessPoint::
--                     ACCESS_POINT_RESTORE_PRIMARY_ACCOUNT_ON_PROFILE_LOAD));
+-    CHECK_EQ(
+-        account_id,
+-        account_tracker_service_->SeedAccountInfo(
+-            last_syncing_gaia_id, last_syncing_email,
+-            signin_metrics::AccessPoint::kRestorePrimaryAccountOnProfileLoad));
 -
 -    return std::make_pair(account_tracker_service_->GetAccountInfo(account_id),
 -                          InitializeAccountInfoState::
@@ -6695,7 +6648,7 @@
  }
  
  const PrimaryAccountManager::PrimaryAccount&
-@@ -516,10 +350,9 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -514,10 +348,9 @@ void PrimaryAccountManager::SetSyncPrima
  
  #if DCHECK_IS_ON()
    {
@@ -6708,7 +6661,7 @@
  
      DCHECK(pref_account_id.empty() || !consented_to_sync ||
             pref_account_id == account_info.account_id.ToString())
-@@ -534,10 +367,6 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -532,10 +365,6 @@ void PrimaryAccountManager::SetSyncPrima
    // Go ahead and update the last signed in account info here as well. Once a
    // user is signed in the corresponding preferences should match. Doing it here
    // as opposed to on signin allows us to catch the upgrade scenario.
@@ -6719,7 +6672,7 @@
  }
  
  void PrimaryAccountManager::SetPrimaryAccountInternal(
-@@ -549,22 +378,6 @@ void PrimaryAccountManager::SetPrimaryAc
+@@ -547,22 +376,6 @@ void PrimaryAccountManager::SetPrimaryAc
    // 'account_info' might be a reference to the contents of `primary_account_`.
    // Create a PrimaryAccount object before calling emplace to avoid crashes.
    primary_account_.emplace(PrimaryAccount(account_info, consented_to_sync));
@@ -6742,7 +6695,7 @@
  }
  
  void PrimaryAccountManager::RecordHadPreviousSyncAccount() const {
-@@ -574,7 +387,7 @@ void PrimaryAccountManager::RecordHadPre
+@@ -572,7 +385,7 @@ void PrimaryAccountManager::RecordHadPre
    }
  
    const std::string& last_gaia_id_with_sync_enabled =
@@ -6751,7 +6704,7 @@
    const bool existed_primary_account_with_sync =
        !last_gaia_id_with_sync_enabled.empty();
  
-@@ -725,38 +538,6 @@ PrimaryAccountChangeEvent::State Primary
+@@ -723,37 +536,6 @@ PrimaryAccountChangeEvent::State Primary
  void PrimaryAccountManager::ComputeExplicitBrowserSignin(
      const PrimaryAccountChangeEvent& event_details,
      ScopedPrefCommit& scoped_pref_commit) {
@@ -6769,9 +6722,8 @@
 -      signin_metrics::AccessPoint access_point =
 -          event_details.GetSetPrimaryAccountAccessPoint().value();
 -
--      if (access_point == signin_metrics::AccessPoint::ACCESS_POINT_UNKNOWN ||
--          access_point ==
--              signin_metrics::AccessPoint::ACCESS_POINT_WEB_SIGNIN) {
+-      if (access_point == signin_metrics::AccessPoint::kUnknown ||
+-          access_point == signin_metrics::AccessPoint::kWebSignin) {
 -        scoped_pref_commit.ClearPref(
 -            kExplicitBrowserSigninWithoutFeatureEnabled);
 -        if (switches::IsExplicitBrowserSigninUIOnDesktopEnabled()) {
@@ -6790,7 +6742,7 @@
  }
  
  void PrimaryAccountManager::FirePrimaryAccountChanged(
-@@ -838,7 +619,6 @@ void PrimaryAccountManager::OnSigninAllo
+@@ -835,7 +617,6 @@ void PrimaryAccountManager::OnSigninAllo
  bool PrimaryAccountManager::ShouldSigninAllowedPrefAffectPrimaryAccount(
      bool is_sync_consent) {
    return switches::IsExplicitBrowserSigninUIOnDesktopEnabled() &&
@@ -6829,7 +6781,7 @@
    }
 --- a/components/signin/internal/identity_manager/profile_oauth2_token_service.cc
 +++ b/components/signin/internal/identity_manager/profile_oauth2_token_service.cc
-@@ -16,7 +16,6 @@
+@@ -15,7 +15,6 @@
  #include "components/signin/internal/identity_manager/profile_oauth2_token_service_delegate.h"
  #include "components/signin/public/base/device_id_helper.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -6837,7 +6789,7 @@
  #include "google_apis/gaia/gaia_constants.h"
  #include "google_apis/gaia/google_service_auth_error.h"
  #include "google_apis/gaia/oauth2_access_token_consumer.h"
-@@ -110,8 +109,6 @@ bool ProfileOAuth2TokenService::HasRefre
+@@ -109,8 +108,6 @@ bool ProfileOAuth2TokenService::HasRefre
  // static
  void ProfileOAuth2TokenService::RegisterProfilePrefs(
      PrefRegistrySimple* registry) {
@@ -6979,7 +6931,7 @@
  
  namespace switches {
  
-@@ -55,11 +54,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
+@@ -60,11 +59,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsBoundSessionCredentialsEnabled(const PrefService* profile_prefs) {
@@ -6991,15 +6943,13 @@
    return base::FeatureList::IsEnabled(kEnableBoundSessionCredentials);
  }
  
-@@ -87,13 +81,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
+@@ -92,11 +86,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsChromeRefreshTokenBindingEnabled(const PrefService* profile_prefs) {
 -  // Enterprise policy takes precedence over the feature value.
--  // Do not allow force-enabling because the feature isn't complete yet.
--  if (profile_prefs->HasPrefPath(prefs::kBoundSessionCredentialsEnabled) &&
--      !profile_prefs->GetBoolean(prefs::kBoundSessionCredentialsEnabled)) {
--    return false;
+-  if (profile_prefs->HasPrefPath(prefs::kBoundSessionCredentialsEnabled)) {
+-    return profile_prefs->GetBoolean(prefs::kBoundSessionCredentialsEnabled);
 -  }
 -
    return base::FeatureList::IsEnabled(kEnableChromeRefreshTokenBinding);
@@ -7086,7 +7036,7 @@
      },
 --- a/components/sync/service/sync_prefs.cc
 +++ b/components/sync/service/sync_prefs.cc
-@@ -22,7 +22,6 @@
+@@ -23,7 +23,6 @@
  #include "components/prefs/scoped_user_pref_update.h"
  #include "components/saved_tab_groups/public/pref_names.h"
  #include "components/signin/public/base/gaia_id_hash.h"
@@ -7094,7 +7044,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/account_pref_utils.h"
  #include "components/sync/base/features.h"
-@@ -229,7 +228,7 @@ bool SyncPrefs::IsInitialSyncFeatureSetu
+@@ -230,7 +229,7 @@ bool SyncPrefs::IsInitialSyncFeatureSetu
  }
  
  bool SyncPrefs::IsExplicitBrowserSignin() const {
@@ -7103,7 +7053,7 @@
  }
  
  #if !BUILDFLAG(IS_CHROMEOS)
-@@ -281,16 +280,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
+@@ -282,16 +281,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
                   type == UserSelectableType::kAutofill) {
  #if BUILDFLAG(IS_ANDROID) || BUILDFLAG(IS_IOS)
          type_enabled = true;
@@ -7120,7 +7070,7 @@
  #endif
        } else if (type == UserSelectableType::kBookmarks ||
                   type == UserSelectableType::kReadingList) {
-@@ -306,9 +295,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
+@@ -307,9 +296,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
            type_enabled = false;
          }
        } else if (type == UserSelectableType::kExtensions) {
@@ -7181,7 +7131,7 @@
    kSyncedDefaultSearchProviderGUID = 49,
    kPrefForceTriggerTranslateCount = 50,
    // kPrefNeverPromptSitesDeprecated = 51, (deprecated)
-@@ -219,16 +216,9 @@ constexpr auto kCommonSyncablePrefsAllow
+@@ -220,16 +217,9 @@ constexpr auto kCommonSyncablePrefsAllow
          {payments::kCanMakePaymentEnabled,
           {syncable_prefs_ids::kCanMakePaymentEnabled, syncer::PREFERENCES,
            PrefSensitivity::kNone, MergeBehavior::kNone}},
@@ -7200,7 +7150,7 @@
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_IOS)
 --- a/content/browser/webid/federated_auth_request_impl.cc
 +++ b/content/browser/webid/federated_auth_request_impl.cc
-@@ -532,31 +532,6 @@ FederatedAuthRequestImpl::~FederatedAuth
+@@ -534,31 +534,6 @@ FederatedAuthRequestImpl::~FederatedAuth
  void FederatedAuthRequestImpl::Create(
      RenderFrameHost* host,
      mojo::PendingReceiver<blink::mojom::FederatedAuthRequest> receiver) {
diff --git a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
index 7dd958ebee..cc36f28abd 100644
--- a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
+++ b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
@@ -1,6 +1,6 @@
---- a/components/search_engines/prepopulated_engines.json
-+++ b/components/search_engines/prepopulated_engines.json
-@@ -156,27 +156,11 @@
+--- a/third_party/search_engines_data/resources/definitions/prepopulated_engines.json
++++ b/third_party/search_engines_data/resources/definitions/prepopulated_engines.json
+@@ -154,25 +154,11 @@
      // TODO(crbug.com/343792225): Identify a way to resolve this problem and implement
      // necessary changes.
      "google": {
@@ -13,10 +13,8 @@
 -      "image_translate_url": "{google:baseSearchByImageURL}upload?filtertype=tr&{imageTranslateSourceLocale}{imageTranslateTargetLocale}",
 -      "contextual_search_url": "{google:baseURL}_/contextualsearch?{google:contextualSearchVersion}{google:contextualSearchContextData}",
 -      "image_url_post_params": "encoded_image={google:imageThumbnail},image_url={google:imageURL},sbisrc={google:imageSearchSource},original_width={google:imageOriginalWidth},original_height={google:imageOriginalHeight},processed_image_dimensions={google:processedImageDimensions}",
--      "side_search_param": "sidesearch",
 -      "image_translate_source_language_param_key": "sourcelang",
 -      "image_translate_target_language_param_key": "targetlang",
--      "side_image_search_param": "sideimagesearch",
 -      "search_intent_params": ["si", "gs_ssp"],
 -      "alternate_urls": [
 -        "{google:baseURL}#q={searchTerms}",
diff --git a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
index 7099db1858..f8365104dd 100644
--- a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
+++ b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
@@ -1,7 +1,7 @@
 # Disables translation and removes the "Translate to" context menu when --translate-script-url flag is not set
 --- a/chrome/browser/renderer_context_menu/render_view_context_menu.cc
 +++ b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
-@@ -171,6 +171,7 @@
+@@ -175,6 +175,7 @@
  #include "components/supervised_user/core/browser/supervised_user_preferences.h"
  #include "components/supervised_user/core/browser/supervised_user_service.h"
  #include "components/supervised_user/core/browser/supervised_user_url_filter.h"
@@ -9,7 +9,7 @@
  #include "components/translate/core/browser/translate_download_manager.h"
  #include "components/translate/core/browser/translate_manager.h"
  #include "components/translate/core/browser/translate_prefs.h"
-@@ -2259,6 +2260,7 @@ void RenderViewContextMenu::AppendPageIt
+@@ -2208,6 +2209,7 @@ void RenderViewContextMenu::AppendPageIt
    }
  
    if (CanTranslate(/*menu_logging=*/true)) {
@@ -19,7 +19,7 @@
  }
 --- a/components/translate/core/browser/translate_language_list.cc
 +++ b/components/translate/core/browser/translate_language_list.cc
-@@ -11,6 +11,7 @@
+@@ -12,6 +12,7 @@
  #include <string_view>
  
  #include "base/check.h"
diff --git a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
index 844e239c62..09072f1314 100644
--- a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
+++ b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
@@ -9,7 +9,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2440,6 +2440,7 @@ static_library("browser") {
+@@ -2476,6 +2476,7 @@ static_library("browser") {
      "//third_party/libyuv",
      "//third_party/metrics_proto",
      "//third_party/re2",
@@ -44,7 +44,7 @@
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -282,6 +282,7 @@ source_set("browser") {
+@@ -284,6 +284,7 @@ source_set("browser") {
      "//third_party/re2",
      "//third_party/snappy",
      "//third_party/sqlite",
@@ -61,8 +61,8 @@
 +#include "components/ungoogled/ungoogled_switches.h"
  #include "components/viz/common/switches.h"
  #include "components/viz/host/gpu_client.h"
- #include "content/browser/bad_message.h"
-@@ -3353,6 +3354,8 @@ void RenderProcessHostImpl::PropagateBro
+ #include "components/viz/host/host_frame_sink_manager.h"
+@@ -3412,6 +3413,8 @@ void RenderProcessHostImpl::PropagateBro
        switches::kEnableWebGLImageChromium,
        switches::kEnableWebGPUDeveloperFeatures,
        switches::kFileUrlPathAlias,
@@ -91,7 +91,7 @@
  #include "ui/accessibility/accessibility_features.h"
  #include "ui/base/ui_base_features.h"
  #include "ui/events/blink/blink_features.h"
-@@ -491,6 +492,10 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -481,6 +482,10 @@ void SetRuntimeFeaturesFromCommandLine(c
         true},
        {wrf::EnableWebAudioBypassOutputBufferingOptOut,
         blink::switches::kWebAudioBypassOutputBufferingOptOut, true},
@@ -116,15 +116,15 @@
  
 --- a/third_party/blink/renderer/core/dom/document.cc
 +++ b/third_party/blink/renderer/core/dom/document.cc
-@@ -41,6 +41,7 @@
+@@ -42,6 +42,7 @@
  #include "base/metrics/histogram_functions.h"
  #include "base/not_fatal_until.h"
  #include "base/notreached.h"
 +#include "base/rand_util.h"
- #include "base/ranges/algorithm.h"
  #include "base/task/single_thread_task_runner.h"
  #include "base/time/time.h"
-@@ -863,6 +864,11 @@ Document::Document(const DocumentInit& i
+ #include "base/trace_event/trace_event.h"
+@@ -866,6 +867,11 @@ Document::Document(const DocumentInit& i
    TRACE_EVENT_WITH_FLOW0("blink", "Document::Document", TRACE_ID_LOCAL(this),
                           TRACE_EVENT_FLAG_FLOW_OUT);
    DCHECK(agent_);
@@ -136,7 +136,7 @@
    if (base::FeatureList::IsEnabled(features::kDelayAsyncScriptExecution) &&
        features::kDelayAsyncScriptExecutionDelayByDefaultParam.Get()) {
      script_runner_delayer_->Activate();
-@@ -982,6 +988,14 @@ const Position Document::PositionAdjuste
+@@ -992,6 +998,14 @@ const Position Document::PositionAdjuste
    return Position::BeforeNode(*shadow_host);
  }
  
@@ -150,10 +150,10 @@
 +
  SelectorQueryCache& Document::GetSelectorQueryCache() {
    if (!selector_query_cache_)
-     selector_query_cache_ = std::make_unique<SelectorQueryCache>();
+     selector_query_cache_ = MakeGarbageCollected<SelectorQueryCache>();
 --- a/third_party/blink/renderer/core/dom/document.h
 +++ b/third_party/blink/renderer/core/dom/document.h
-@@ -551,6 +551,10 @@ class CORE_EXPORT Document : public Cont
+@@ -550,6 +550,10 @@ class CORE_EXPORT Document : public Cont
      has_xml_declaration_ = has_xml_declaration ? 1 : 0;
    }
  
@@ -164,7 +164,7 @@
    V8VisibilityState visibilityState() const;
    String visibilityStateAsString() const;
    bool IsPageVisible() const;
-@@ -2632,6 +2636,9 @@ class CORE_EXPORT Document : public Cont
+@@ -2641,6 +2645,9 @@ class CORE_EXPORT Document : public Cont
  
    base::ElapsedTimer start_time_;
  
@@ -176,7 +176,7 @@
  
 --- a/third_party/blink/renderer/core/dom/element.cc
 +++ b/third_party/blink/renderer/core/dom/element.cc
-@@ -2659,6 +2659,11 @@ DOMRectList* Element::getClientRects() {
+@@ -2749,6 +2749,11 @@ DOMRectList* Element::getClientRects() {
    DCHECK(element_layout_object);
    GetDocument().AdjustQuadsForScrollAndAbsoluteZoom(quads,
                                                      *element_layout_object);
@@ -188,7 +188,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -2686,6 +2691,9 @@ gfx::RectF Element::GetBoundingClientRec
+@@ -2776,6 +2781,9 @@ gfx::RectF Element::GetBoundingClientRec
    DCHECK(element_layout_object);
    GetDocument().AdjustRectForScrollAndAbsoluteZoom(result,
                                                     *element_layout_object);
@@ -200,7 +200,7 @@
  
 --- a/third_party/blink/renderer/core/dom/range.cc
 +++ b/third_party/blink/renderer/core/dom/range.cc
-@@ -1617,6 +1617,12 @@ DOMRectList* Range::getClientRects() con
+@@ -1632,6 +1632,12 @@ DOMRectList* Range::getClientRects() con
    Vector<gfx::QuadF> quads;
    GetBorderAndTextQuads(quads);
  
@@ -213,7 +213,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -1624,7 +1630,11 @@ DOMRect* Range::getBoundingClientRect()
+@@ -1639,7 +1645,11 @@ DOMRect* Range::getBoundingClientRect()
    // TODO(crbug.com/1499981): This should be removed once synchronized scrolling
    // impact is understood.
    SyncScrollAttemptHeuristic::DidAccessScrollOffset();
@@ -266,7 +266,7 @@
                const TextDirection&,
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -223,6 +223,9 @@ class Isolate;
+@@ -227,6 +227,9 @@ class Isolate;
  class Value;
  }  // namespace v8
  
@@ -276,9 +276,9 @@
  namespace blink {
  
  class DOMMatrixInit;
-@@ -3718,8 +3721,22 @@ TextMetrics* BaseRenderingContext2D::mea
-   const CanvasRenderingContext2DState& state = GetState();
-   TextDirection direction = ToTextDirection(state.GetDirection(), canvas);
+@@ -3705,8 +3708,22 @@ TextMetrics* BaseRenderingContext2D::mea
+   TextDirection direction = ToTextDirection(
+       state.GetDirection(), GetCanvasRenderingContextHost(), computed_style);
  
 -  return MakeGarbageCollected<TextMetrics>(
 -      font, direction, state.GetTextBaseline(), state.GetTextAlign(), text);
@@ -303,7 +303,7 @@
  void BaseRenderingContext2D::SnapshotStateForFilter() {
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1771,6 +1771,7 @@ component("platform") {
+@@ -1762,6 +1762,7 @@ component("platform") {
      "//components/paint_preview/common",
      "//components/search_engines:search_engine_utils",
      "//components/translate/core/language_detection:language_detection",
@@ -338,8 +338,8 @@
  #include "third_party/blink/renderer/platform/wtf/vector.h"
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -2022,6 +2022,12 @@
-       depends_on: ["FindDecomposedInShortText"],
+@@ -2053,6 +2053,12 @@
+       status: "experimental",
      },
      {
 +      name: "FingerprintingClientRectsNoise",
diff --git a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
index f006cdc638..53c11538df 100644
--- a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
+++ b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
@@ -34,7 +34,7 @@ approach to change color components.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -3356,6 +3356,7 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3415,6 +3415,7 @@ void RenderProcessHostImpl::PropagateBro
        switches::kFileUrlPathAlias,
        switches::kFingerprintingClientRectsNoise,
        switches::kFingerprintingCanvasMeasureTextNoise,
@@ -44,7 +44,7 @@ approach to change color components.
        switches::kForceGpuMemAvailableMb,
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -496,6 +496,8 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -486,6 +486,8 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kFingerprintingClientRectsNoise, true},
        {wrf::EnableFingerprintingCanvasMeasureTextNoise,
         switches::kFingerprintingCanvasMeasureTextNoise, true},
@@ -65,7 +65,7 @@ approach to change color components.
  };
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -2969,6 +2969,9 @@ ImageData* BaseRenderingContext2D::getIm
+@@ -2973,6 +2973,9 @@ ImageData* BaseRenderingContext2D::getIm
            snapshot->PaintImageForCurrentFrame().GetSkImageInfo().bounds();
        DCHECK(!bounds.intersect(SkIRect::MakeXYWH(sx, sy, sw, sh)));
      }
@@ -77,7 +77,7 @@ approach to change color components.
    return image_data;
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1715,7 +1715,9 @@ component("platform") {
+@@ -1706,7 +1706,9 @@ component("platform") {
      "//third_party/blink/renderer:non_test_config",
    ]
  
@@ -314,7 +314,7 @@ approach to change color components.
    // Methods overridden by all sub-classes
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -2028,6 +2028,9 @@
+@@ -2059,6 +2059,9 @@
        name: "FingerprintingCanvasMeasureTextNoise",
      },
      {
diff --git a/patches/extra/bromite/flag-max-connections-per-host.patch b/patches/extra/bromite/flag-max-connections-per-host.patch
index f5b95e5f27..8497b803e7 100644
--- a/patches/extra/bromite/flag-max-connections-per-host.patch
+++ b/patches/extra/bromite/flag-max-connections-per-host.patch
@@ -17,7 +17,7 @@ with limited CPU/memory resources and it is disabled by default.
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2121,6 +2121,7 @@ static_library("browser") {
+@@ -2156,6 +2156,7 @@ static_library("browser") {
      "//components/net_log",
      "//components/network_hints/common:mojo_bindings",
      "//components/network_session_configurator/browser",
@@ -49,7 +49,7 @@ with limited CPU/memory resources and it is disabled by default.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -21,12 +21,14 @@
+@@ -26,6 +26,7 @@
  #include "base/functional/callback.h"
  #include "base/functional/callback_helpers.h"
  #include "base/location.h"
@@ -57,6 +57,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "base/memory/ptr_util.h"
  #include "base/metrics/histogram_functions.h"
  #include "base/metrics/histogram_macros.h"
+@@ -33,6 +34,7 @@
  #include "base/notreached.h"
  #include "base/path_service.h"
  #include "base/run_loop.h"
@@ -64,7 +65,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "base/synchronization/waitable_event.h"
  #include "base/task/sequenced_task_runner.h"
  #include "base/task/single_thread_task_runner.h"
-@@ -111,6 +113,7 @@
+@@ -117,6 +119,7 @@
  #include "components/metrics/metrics_service.h"
  #include "components/metrics_services_manager/metrics_services_manager.h"
  #include "components/metrics_services_manager/metrics_services_manager_client.h"
@@ -72,7 +73,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "components/network_time/network_time_tracker.h"
  #include "components/os_crypt/async/browser/os_crypt_async.h"
  #include "components/permissions/permissions_client.h"
-@@ -144,6 +147,7 @@
+@@ -150,6 +153,7 @@
  #include "extensions/common/constants.h"
  #include "media/media_buildflags.h"
  #include "mojo/public/cpp/bindings/pending_receiver.h"
@@ -80,7 +81,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "ppapi/buildflags/buildflags.h"
  #include "printing/buildflags/buildflags.h"
  #include "services/network/public/cpp/features.h"
-@@ -402,6 +406,18 @@ void BrowserProcessImpl::Init() {
+@@ -414,6 +418,18 @@ void BrowserProcessImpl::Init() {
    pref_change_registrar_.Add(metrics::prefs::kMetricsReportingEnabled,
                               base::BindRepeating(&ApplyMetricsReportingPolicy));
  
@@ -101,7 +102,7 @@ with limited CPU/memory resources and it is disabled by default.
  
 --- a/chrome/browser/flag_descriptions.cc
 +++ b/chrome/browser/flag_descriptions.cc
-@@ -2502,6 +2502,10 @@ const char kMantisFeatureKeyDescription[
+@@ -2507,6 +2507,10 @@ const char kMantisFeatureKeyDescription[
      "Feature key to use the Mantis feature on ChromeOS.";
  #endif  // BUILDFLAG(IS_CHROMEOS)
  
@@ -114,7 +115,7 @@ with limited CPU/memory resources and it is disabled by default.
  const char kMediaRouterCastAllowAllIPsDescription[] =
 --- a/chrome/browser/flag_descriptions.h
 +++ b/chrome/browser/flag_descriptions.h
-@@ -1434,6 +1434,9 @@ extern const char kMantisFeatureKeyName[
+@@ -1431,6 +1431,9 @@ extern const char kMantisFeatureKeyName[
  extern const char kMantisFeatureKeyDescription[];
  #endif  // IS_CHROMEOS
  
diff --git a/patches/extra/inox-patchset/0006-modify-default-prefs.patch b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
index e42d8d8dc0..0428dab215 100644
--- a/patches/extra/inox-patchset/0006-modify-default-prefs.patch
+++ b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
@@ -12,7 +12,7 @@
  void BackgroundModeManager::RegisterProfile(Profile* profile) {
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -1556,7 +1556,7 @@ void ChromeContentBrowserClient::Registe
+@@ -1546,7 +1546,7 @@ void ChromeContentBrowserClient::Registe
  void ChromeContentBrowserClient::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(prefs::kDisable3DAPIs, false);
@@ -23,7 +23,7 @@
    // used for mapping the command-line flags).
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -510,7 +510,7 @@ void ProfileNetworkContextService::Confi
+@@ -503,7 +503,7 @@ void ProfileNetworkContextService::Confi
  void ProfileNetworkContextService::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(embedder_support::kAlternateErrorPagesEnabled,
@@ -67,7 +67,7 @@
      </cr-dialog>
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -97,7 +97,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -96,7 +96,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterBooleanPref(prefs::kWebAppCreateInAppsMenu, true);
    registry->RegisterBooleanPref(prefs::kWebAppCreateInQuickLaunchBar, true);
    registry->RegisterBooleanPref(
@@ -98,7 +98,7 @@
        prefs::kAutofillPaymentCvcStorage, true,
 --- a/components/bookmarks/browser/bookmark_utils.cc
 +++ b/components/bookmarks/browser/bookmark_utils.cc
-@@ -421,7 +421,7 @@ bool DoesBookmarkContainWords(const std:
+@@ -462,7 +462,7 @@ bool DoesBookmarkContainWords(const std:
  
  void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -120,7 +120,7 @@
  
 --- a/components/password_manager/core/browser/password_manager.cc
 +++ b/components/password_manager/core/browser/password_manager.cc
-@@ -331,7 +331,7 @@ bool HasManuallyFilledFields(const Passw
+@@ -364,7 +364,7 @@ bool HasManuallyFilledFields(const Passw
  void PasswordManager::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -129,7 +129,7 @@
        user_prefs::PrefRegistrySyncable::SYNCABLE_PRIORITY_PREF);
  #if BUILDFLAG(IS_IOS)
    // Deprecated pref in profile prefs.
-@@ -339,7 +339,7 @@ void PasswordManager::RegisterProfilePre
+@@ -372,7 +372,7 @@ void PasswordManager::RegisterProfilePre
                                  false);
  #endif  // BUILDFLAG(IS_IOS)
    registry->RegisterBooleanPref(
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
index 8429928f19..f659602a63 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
@@ -7,8 +7,8 @@
 +#include "base/command_line.h"
  #include "base/observer_list.h"
  #include "build/build_config.h"
- #include "build/chromeos_buildflags.h"
-@@ -87,9 +88,12 @@ bool BookmarkTabHelper::ShouldShowBookma
+ #include "chrome/browser/bookmarks/bookmark_model_factory.h"
+@@ -86,9 +87,12 @@ bool BookmarkTabHelper::ShouldShowBookma
    const bool has_saved_tab_groups =
        tab_group_service && !tab_group_service->GetAllGroups().empty();
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
index 5c11888489..8881678733 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser.cc
 +++ b/chrome/browser/ui/browser.cc
-@@ -145,6 +145,7 @@
+@@ -143,6 +143,7 @@
  #include "chrome/browser/ui/unload_controller.h"
  #include "chrome/browser/ui/views/frame/browser_view.h"
  #include "chrome/browser/ui/views/frame/contents_web_view.h"
@@ -8,7 +8,7 @@
  #include "chrome/browser/ui/web_applications/app_browser_controller.h"
  #include "chrome/browser/ui/web_applications/web_app_launch_utils.h"
  #include "chrome/browser/ui/webui/signin/login_ui_service.h"
-@@ -580,6 +581,7 @@ Browser::Browser(const CreateParams& par
+@@ -578,6 +579,7 @@ Browser::Browser(const CreateParams& par
        omit_from_session_restore_(params.omit_from_session_restore),
        should_trigger_session_restore_(params.should_trigger_session_restore),
        cancel_download_confirmation_state_(NOT_PROMPTED),
@@ -16,7 +16,7 @@
        override_bounds_(params.initial_bounds),
        initial_show_state_(params.initial_show_state),
        initial_workspace_(params.initial_workspace),
-@@ -1041,20 +1043,22 @@ Browser::WarnBeforeClosingResult Browser
+@@ -1031,20 +1033,22 @@ Browser::WarnBeforeClosingResult Browser
      return WarnBeforeClosingResult::kOkToClose;
    }
  
@@ -52,7 +52,7 @@
    }
  
    DCHECK(!warn_before_closing_callback_)
-@@ -1092,6 +1096,7 @@ bool Browser::TryToCloseWindow(
+@@ -1082,6 +1086,7 @@ bool Browser::TryToCloseWindow(
  
  void Browser::ResetTryToCloseWindow() {
    cancel_download_confirmation_state_ = NOT_PROMPTED;
@@ -60,7 +60,7 @@
    unload_controller_.ResetTryToCloseWindow();
  }
  
-@@ -3278,6 +3283,58 @@ bool Browser::CanCloseWithInProgressDown
+@@ -3283,6 +3288,58 @@ bool Browser::CanCloseWithInProgressDown
    return false;
  }
  
@@ -119,7 +119,7 @@
  void Browser::InProgressDownloadResponse(bool cancel_downloads) {
    if (cancel_downloads) {
      cancel_download_confirmation_state_ = RESPONSE_RECEIVED;
-@@ -3303,6 +3360,22 @@ void Browser::InProgressDownloadResponse
+@@ -3308,6 +3365,22 @@ void Browser::InProgressDownloadResponse
  
    std::move(warn_before_closing_callback_)
        .Run(WarnBeforeClosingResult::kDoNotClose);
@@ -144,7 +144,7 @@
  void Browser::CookieMigrationNoticeResponse(bool proceed_closing) {
 --- a/chrome/browser/ui/browser.h
 +++ b/chrome/browser/ui/browser.h
-@@ -32,6 +32,7 @@
+@@ -31,6 +31,7 @@
  #include "chrome/browser/ui/browser_navigator_params.h"
  #include "chrome/browser/ui/browser_window/public/browser_window_interface.h"
  #include "chrome/browser/ui/chrome_web_modal_dialog_manager_delegate.h"
@@ -152,7 +152,7 @@
  #include "chrome/browser/ui/signin/signin_view_controller.h"
  #include "chrome/browser/ui/tabs/tab_strip_model.h"
  #include "chrome/browser/ui/tabs/tab_strip_model_observer.h"
-@@ -1185,12 +1186,17 @@ class Browser : public TabStripModelObse
+@@ -1184,12 +1185,17 @@ class Browser : public TabStripModelObse
    // Returns true if the window can close, false otherwise.
    bool CanCloseWithInProgressDownloads();
  
@@ -170,7 +170,7 @@
    // Called when the user has decided whether to proceed or not with the browser
    // closure, in case the cookie migration notice was shown. |proceed_closing|
    // is true if the browser can  be closed.
-@@ -1356,6 +1362,8 @@ class Browser : public TabStripModelObse
+@@ -1355,6 +1361,8 @@ class Browser : public TabStripModelObse
    // when the browser is closed with in-progress downloads.
    CancelDownloadConfirmationState cancel_download_confirmation_state_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
index ed2c2673f9..c98d1458d2 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -935,10 +935,14 @@ bool HandleNewTabPageLocationOverride(
+@@ -925,10 +925,14 @@ bool HandleNewTabPageLocationOverride(
  
    // Don't change the URL when incognito mode.
    if (profile->IsOffTheRecord())
@@ -28,7 +28,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/components/flags_ui/flags_state.cc
 +++ b/components/flags_ui/flags_state.cc
-@@ -226,6 +226,7 @@ std::string GetCombinedOriginListValue(c
+@@ -230,6 +230,7 @@ std::string GetCombinedOriginListValue(c
        command_line.GetSwitchValueASCII(command_line_switch);
    const std::string new_value =
        flags_storage.GetOriginListFlag(internal_entry_name);
@@ -36,7 +36,7 @@
    return CombineAndSanitizeOriginLists(existing_value, new_value);
  }
  
-@@ -464,6 +465,7 @@ void FlagsState::SetOriginListFlag(const
+@@ -474,6 +475,7 @@ void FlagsState::SetOriginListFlag(const
                                     const std::string& value,
                                     FlagsStorage* flags_storage) {
    const std::string new_value =
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
index bd793c11dc..1da359eb62 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -83,6 +83,7 @@ class FrameGrabHandle : public views::Vi
+@@ -81,6 +81,7 @@ class FrameGrabHandle : public views::Vi
      // Reserve some space for the frame to be grabbed by, even if the tabstrip
      // is full.
      // TODO(tbergquist): Define this relative to the NTB insets again.
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
index c465d80f9e..edbc4f4fdf 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
@@ -41,7 +41,7 @@
  #include "base/feature_list.h"
  #include "base/format_macros.h"
  #include "base/functional/bind.h"
-@@ -536,6 +537,15 @@ AutocompleteController::AutocompleteCont
+@@ -541,6 +542,15 @@ AutocompleteController::AutocompleteCont
        steady_state_omnibox_position_(
            metrics::OmniboxEventProto::UNKNOWN_POSITION) {
    provider_types &= ~OmniboxFieldTrial::GetDisabledProviderTypes();
@@ -59,7 +59,7 @@
    // so their async requests can be kicked off before waiting a few milliseconds
 --- a/components/omnibox/browser/history_url_provider.cc
 +++ b/components/omnibox/browser/history_url_provider.cc
-@@ -490,6 +490,9 @@ void HistoryURLProvider::Start(const Aut
+@@ -489,6 +489,9 @@ void HistoryURLProvider::Start(const Aut
    if (fixed_up_input.type() != metrics::OmniboxInputType::QUERY)
      matches_.push_back(what_you_typed_match);
  
@@ -79,7 +79,7 @@
  #include "base/feature_list.h"
  #include "base/functional/bind.h"
  #include "base/functional/callback.h"
-@@ -628,6 +629,9 @@ void SearchProvider::Run(bool query_is_p
+@@ -629,6 +630,9 @@ void SearchProvider::Run(bool query_is_p
  }
  
  void SearchProvider::DoHistoryQuery(bool minimal_changes) {
@@ -91,7 +91,7 @@
    if (minimal_changes)
 --- a/components/url_formatter/url_fixer.cc
 +++ b/components/url_formatter/url_fixer.cc
-@@ -14,6 +14,8 @@
+@@ -15,6 +15,8 @@
  #include <string_view>
  
  #include "base/check_op.h"
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
index ead2723fb3..f87bd35d59 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -495,7 +495,9 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -488,7 +488,9 @@ void TabHelpers::AttachTabHelpers(WebCon
    site_protection::SiteProtectionMetricsObserver::CreateForWebContents(
        web_contents);
    SafetyTipWebContentsObserver::CreateForWebContents(web_contents);
@@ -60,8 +60,8 @@
  #include "base/containers/contains.h"
  #include "base/containers/flat_map.h"
  #include "base/debug/crash_logging.h"
-@@ -209,6 +210,12 @@ std::unique_ptr<TemplateURL> UpdateExist
-                                        std::move(account_data));
+@@ -243,6 +244,12 @@ TemplateURLData UpdateTemplateURLDataIfP
+   return data;
  }
  
 +bool ShouldAutocollect() {
@@ -73,7 +73,7 @@
  }  // namespace
  
  // TemplateURLService::LessWithPrefix -----------------------------------------
-@@ -388,6 +395,7 @@ TemplateURLService::TemplateURLService(
+@@ -422,6 +429,7 @@ TemplateURLService::TemplateURLService(
      std::unique_ptr<TemplateURLServiceClient> client,
      const base::RepeatingClosure& dsp_change_callback)
      : prefs_(prefs),
@@ -81,7 +81,7 @@
        search_engine_choice_service_(search_engine_choice_service),
        search_terms_data_(std::move(search_terms_data)),
        web_data_service_(web_data_service),
-@@ -487,8 +495,8 @@ bool TemplateURLService::CanAddAutogener
+@@ -521,8 +529,8 @@ bool TemplateURLService::CanAddAutogener
    // that may interfere with search queries).  An easy heuristic for this is
    // whether the user has a TemplateURL that has been manually modified (e.g.,
    // renamed) connected to the same host.
@@ -92,7 +92,7 @@
  }
  
  bool TemplateURLService::IsPrepopulatedOrDefaultProviderByPolicy(
-@@ -2108,6 +2116,8 @@ SyncDataMap TemplateURLService::CreateGU
+@@ -2132,6 +2140,8 @@ SyncDataMap TemplateURLService::CreateGU
  }
  
  void TemplateURLService::Init() {
@@ -101,7 +101,7 @@
    if (client_) {
      client_->SetOwner(this);
    }
-@@ -2290,6 +2300,9 @@ void TemplateURLService::ChangeToLoadedS
+@@ -2314,6 +2324,9 @@ void TemplateURLService::ChangeToLoadedS
  
  bool TemplateURLService::CanAddAutogeneratedKeywordForHost(
      const std::string& host) const {
@@ -113,7 +113,7 @@
      return true;
 --- a/components/search_engines/template_url_service.h
 +++ b/components/search_engines/template_url_service.h
-@@ -911,6 +911,8 @@ class TemplateURLService final : public
+@@ -875,6 +875,8 @@ class TemplateURLService final : public
    raw_ref<search_engines::SearchEngineChoiceService>
        search_engine_choice_service_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
index d5e49e52d5..a2492ed3fe 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
@@ -8,11 +8,11 @@
  #include "base/debug/alias.h"
  #include "base/functional/bind.h"
  #include "base/i18n/rtl.h"
-@@ -709,6 +710,13 @@ void Tab::OnGestureEvent(ui::GestureEven
+@@ -708,6 +709,13 @@ void Tab::OnGestureEvent(ui::GestureEven
    event->SetHandled();
  }
  
-+std::u16string Tab::GetTooltipText(const gfx::Point& p) const {
++std::u16string Tab::GetRenderedTooltipText(const gfx::Point& p) const {
 +  if (base::CommandLine::ForCurrentProcess()->GetSwitchValueASCII("tab-hover-cards") == "tooltip")
 +    return GetTooltipText(data_.title, GetAlertStateToShow(data_.alert_state));
 +  // Tab hover cards replace tooltips for tabs.
@@ -28,7 +28,7 @@
    void OnMouseEntered(const ui::MouseEvent& event) override;
    void OnMouseExited(const ui::MouseEvent& event) override;
    void OnGestureEvent(ui::GestureEvent* event) override;
-+  std::u16string GetTooltipText(const gfx::Point& p) const override;
++  std::u16string GetRenderedTooltipText(const gfx::Point& p) const override;
    gfx::Size CalculatePreferredSize(
        const views::SizeBounds& available_size) const override;
    void PaintChildren(const views::PaintInfo& info) override;
@@ -42,7 +42,7 @@
  #include "base/check.h"
  #include "base/compiler_specific.h"
  #include "base/containers/adapters.h"
-@@ -1841,6 +1842,8 @@ void TabStrip::OnMouseEventInTab(views::
+@@ -1865,6 +1866,8 @@ void TabStrip::OnMouseEventInTab(views::
  }
  
  void TabStrip::UpdateHoverCard(Tab* tab, HoverCardUpdateType update_type) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
index 9ef61eb325..1e258bd54b 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -1450,7 +1450,8 @@ void BrowserCommandController::InitComma
+@@ -1427,7 +1427,8 @@ void BrowserCommandController::InitComma
    command_updater_.UpdateCommandEnabled(IDC_WINDOW_CLOSE_OTHER_TABS,
                                          normal_window);
  
@@ -17,10 +17,10 @@
  #include "chrome/browser/ui/views/frame/tab_strip_region_view.h"
  
 +#include "base/command_line.h"
- #include "base/feature_list.h"
  #include "base/functional/bind.h"
  #include "base/strings/utf_string_conversions.h"
-@@ -127,6 +128,7 @@ TabStripRegionView::TabStripRegionView(s
+ #include "base/task/single_thread_task_runner.h"
+@@ -125,6 +126,7 @@ TabStripRegionView::TabStripRegionView(s
    std::unique_ptr<TabStripComboButton> tab_strip_combo_button;
    std::unique_ptr<ProductSpecificationsButton> product_specifications_button;
    if (browser &&
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-change-http-accept-header.patch b/patches/extra/ungoogled-chromium/add-flag-to-change-http-accept-header.patch
index 9939ae0234..a614587684 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-change-http-accept-header.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-change-http-accept-header.patch
@@ -11,7 +11,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/components/flags_ui/flags_state.cc
 +++ b/components/flags_ui/flags_state.cc
-@@ -227,6 +227,7 @@ std::string GetCombinedOriginListValue(c
+@@ -231,6 +231,7 @@ std::string GetCombinedOriginListValue(c
    const std::string new_value =
        flags_storage.GetOriginListFlag(internal_entry_name);
    if (command_line_switch == "custom-ntp") return existing_value.empty() ? new_value : existing_value;
@@ -19,7 +19,7 @@
    return CombineAndSanitizeOriginLists(existing_value, new_value);
  }
  
-@@ -466,6 +467,7 @@ void FlagsState::SetOriginListFlag(const
+@@ -476,6 +477,7 @@ void FlagsState::SetOriginListFlag(const
                                     FlagsStorage* flags_storage) {
    const std::string new_value =
        internal_name == "custom-ntp" ? value :
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
index 5797336622..d6a2887740 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/browser_features.cc
 +++ b/chrome/browser/browser_features.cc
-@@ -352,4 +352,5 @@ BASE_FEATURE(kRemovalOfIWAsFromTabCaptur
+@@ -367,4 +367,5 @@ BASE_FEATURE(kRemovalOfIWAsFromTabCaptur
               "RemovalOfIWAsFromTabCapture",
               base::FEATURE_ENABLED_BY_DEFAULT);
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
index 218b12ee9f..dbb0beaf86 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
@@ -8,7 +8,7 @@
  #include "base/containers/adapters.h"
  #include "base/containers/flat_map.h"
  #include "base/containers/span.h"
-@@ -725,6 +726,10 @@ void TabStripModel::CloseAllTabsInGroup(
+@@ -723,6 +724,10 @@ void TabStripModel::CloseAllTabsInGroup(
  
  void TabStripModel::CloseWebContentsAt(int index, uint32_t close_types) {
    CHECK(ContainsIndex(index));
@@ -19,7 +19,7 @@
    CloseTabs({GetWebContentsAt(index)}, close_types);
  }
  
-@@ -1864,9 +1869,13 @@ TabStripModel::GetGroupsDestroyedFromRem
+@@ -1968,9 +1973,13 @@ TabStripModel::GetGroupsDestroyedFromRem
  void TabStripModel::ExecuteCloseTabsByIndices(
      base::RepeatingCallback<std::vector<int>()> get_indices_to_close,
      uint32_t close_types) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
index 0a43b0304e..45a6b96e9e 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
@@ -3,15 +3,15 @@
 
 --- a/chrome/browser/download/download_crx_util.cc
 +++ b/chrome/browser/download/download_crx_util.cc
-@@ -8,6 +8,7 @@
- 
+@@ -9,6 +9,7 @@
  #include <memory>
  
+ #include "base/auto_reset.h"
 +#include "base/command_line.h"
  #include "chrome/browser/extensions/crx_installer.h"
  #include "chrome/browser/extensions/extension_install_prompt.h"
  #include "chrome/browser/extensions/extension_management.h"
-@@ -102,6 +103,14 @@ scoped_refptr<extensions::CrxInstaller>
+@@ -103,6 +104,14 @@ scoped_refptr<extensions::CrxInstaller>
    return installer;
  }
  
@@ -26,7 +26,7 @@
  bool IsExtensionDownload(const DownloadItem& download_item) {
    if (download_item.GetTargetDisposition() ==
        DownloadItem::TARGET_DISPOSITION_PROMPT)
-@@ -110,7 +119,7 @@ bool IsExtensionDownload(const DownloadI
+@@ -111,7 +120,7 @@ bool IsExtensionDownload(const DownloadI
    if (download_item.GetMimeType() == extensions::Extension::kMimeType ||
        extensions::UserScript::IsURLUserScript(download_item.GetURL(),
                                                download_item.GetMimeType())) {
@@ -69,15 +69,7 @@
    // Don't prompt for file types that are marked for opening automatically.
 --- a/chrome/browser/extensions/extension_management.cc
 +++ b/chrome/browser/extensions/extension_management.cc
-@@ -8,6 +8,7 @@
- #include <string>
- #include <utility>
- 
-+#include "base/command_line.h"
- #include "base/containers/contains.h"
- #include "base/feature_list.h"
- #include "base/functional/bind.h"
-@@ -276,6 +277,13 @@ bool ExtensionManagement::IsInstallation
+@@ -284,6 +284,13 @@ bool ExtensionManagement::IsInstallation
  bool ExtensionManagement::IsOffstoreInstallAllowed(
      const GURL& url,
      const GURL& referrer_url) const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
index 84ac400749..afc3a80a9a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -1221,6 +1221,8 @@ WindowOpenDisposition NavigationPolicyTo
+@@ -1204,6 +1204,8 @@ WindowOpenDisposition NavigationPolicyTo
      case blink::kWebNavigationPolicyNewWindow:
        return WindowOpenDisposition::NEW_WINDOW;
      case blink::kWebNavigationPolicyNewPopup:
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
index 3778ca393a..646aa49771 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
@@ -8,7 +8,7 @@
  #include "base/feature_list.h"
  #include "base/functional/bind.h"
  #include "base/functional/callback_helpers.h"
-@@ -37,6 +38,7 @@
+@@ -36,6 +37,7 @@
  #include "chrome/browser/ui/views/side_panel/side_panel_ui.h"
  #include "chrome/browser/ui/views/toolbar/toolbar_action_hover_card_controller.h"
  #include "chrome/browser/ui/views/toolbar/toolbar_actions_bar_bubble_views.h"
@@ -16,7 +16,7 @@
  #include "chrome/common/pref_names.h"
  #include "chrome/grit/generated_resources.h"
  #include "components/feature_engagement/public/event_constants.h"
-@@ -544,6 +546,17 @@ void ExtensionsToolbarContainer::AnchorA
+@@ -543,6 +545,17 @@ void ExtensionsToolbarContainer::AnchorA
    widget->widget_delegate()->AsBubbleDialogDelegate()->SetAnchorView(
        anchor_view && anchor_view->GetVisible() ? anchor_view
                                                 : GetExtensionsButton());
@@ -34,7 +34,7 @@
    widget->Show();
  }
  
-@@ -943,6 +956,9 @@ void ExtensionsToolbarContainer::UpdateC
+@@ -942,6 +955,9 @@ void ExtensionsToolbarContainer::UpdateC
  }
  
  bool ExtensionsToolbarContainer::ShouldContainerBeVisible() const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
index ca6cdb9161..66fe5ace81 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -2033,6 +2033,10 @@ void BrowserView::ExitFullscreen() {
+@@ -2141,6 +2141,10 @@ void BrowserView::ExitFullscreen() {
  void BrowserView::UpdateExclusiveAccessBubble(
      const ExclusiveAccessBubbleParams& params,
      ExclusiveAccessBubbleHideCallback first_hide_callback) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
index 2e822ae97b..f150fd6179 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/tabs/tab.cc
 +++ b/chrome/browser/ui/views/tabs/tab.cc
-@@ -1145,7 +1145,11 @@ void Tab::UpdateIconVisibility() {
+@@ -1130,7 +1130,11 @@ void Tab::UpdateIconVisibility() {
      // Close button is shown on active tabs regardless of the size.
      showing_close_button_ = true;
  #endif  // BUILDFLAG(IS_CHROMEOS)
@@ -12,7 +12,7 @@
  
      showing_alert_indicator_ =
          has_alert_icon && alert_icon_width <= available_width;
-@@ -1174,6 +1178,8 @@ void Tab::UpdateIconVisibility() {
+@@ -1159,6 +1163,8 @@ void Tab::UpdateIconVisibility() {
          !controller_->IsLockedForOnTask() &&
  #endif
          large_enough_for_close_button;
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch b/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
index c7150d84f8..cac6ec9761 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
@@ -29,7 +29,7 @@
  #if BUILDFLAG(IS_ANDROID)
    return ShouldReduceUserAgentMinorVersion(user_agent_reduction) &&
           base::FeatureList::IsEnabled(
-@@ -492,6 +496,8 @@ blink::UserAgentMetadata GetUserAgentMet
+@@ -462,6 +466,8 @@ blink::UserAgentMetadata GetUserAgentMet
  
  blink::UserAgentMetadata GetUserAgentMetadata(const PrefService* pref_service,
                                                bool only_low_entropy_ch) {
@@ -37,7 +37,7 @@
 +    only_low_entropy_ch = true;
    blink::UserAgentMetadata metadata;
  
-   bool enable_updated_grease_by_policy = true;
+   // Low entropy client hints.
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
 @@ -21,6 +21,7 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
index 1c93419a41..e8b8daaa17 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/toolbar/toolbar_view.cc
 +++ b/chrome/browser/ui/views/toolbar/toolbar_view.cc
-@@ -495,6 +495,17 @@ void ToolbarView::Init() {
+@@ -498,6 +498,17 @@ void ToolbarView::Init() {
                                 browser_->profile()->IsGuestSession() ||
                                 browser_->profile()->IsRegularProfile();
  #endif
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch b/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
new file mode 100644
index 0000000000..8e540e9b87
--- /dev/null
+++ b/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
@@ -0,0 +1,54 @@
+# Return generic values for WebGLDebugRendererInfo to remove a potential data
+# leak while preventing potential website breakage
+
+--- a/chrome/browser/ungoogled_flag_entries.h
++++ b/chrome/browser/ungoogled_flag_entries.h
+@@ -136,4 +136,8 @@
+      "Remove Client Hints",
+      "Removes client hints (information sent to servers about your system, similar to a user agent). ungoogled-chromium flag.",
+      kOsAll, FEATURE_VALUE_TYPE(blink::features::kRemoveClientHints)},
++    {"spoof-webgl-info",
++     "Spoof WebGL Info",
++     "Return generic values for WebGLDebugRendererInfo to remove a potential data leak while preventing potential website breakage. ungoogled-chromium flag.",
++     kOsAll, FEATURE_VALUE_TYPE(blink::features::kSpoofWebGLInfo)},
+ #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
+--- a/third_party/blink/common/features.cc
++++ b/third_party/blink/common/features.cc
+@@ -23,6 +23,7 @@ namespace blink::features {
+ BASE_FEATURE(kDisableLinkDrag, "DisableLinkDrag", base::FEATURE_DISABLED_BY_DEFAULT);
+ BASE_FEATURE(kReducedSystemInfo, "ReducedSystemInfo", base::FEATURE_DISABLED_BY_DEFAULT);
+ BASE_FEATURE(kRemoveClientHints, "RemoveClientHints", base::FEATURE_DISABLED_BY_DEFAULT);
++BASE_FEATURE(kSpoofWebGLInfo, "SpoofWebGLInfo", base::FEATURE_DISABLED_BY_DEFAULT);
+ 
+ // -----------------------------------------------------------------------------
+ // Feature definitions and associated constants (feature params, et cetera)
+--- a/third_party/blink/public/common/features.h
++++ b/third_party/blink/public/common/features.h
+@@ -23,6 +23,7 @@ namespace features {
+ BLINK_COMMON_EXPORT BASE_DECLARE_FEATURE(kDisableLinkDrag);
+ BLINK_COMMON_EXPORT BASE_DECLARE_FEATURE(kReducedSystemInfo);
+ BLINK_COMMON_EXPORT BASE_DECLARE_FEATURE(kRemoveClientHints);
++BLINK_COMMON_EXPORT BASE_DECLARE_FEATURE(kSpoofWebGLInfo);
+ 
+ // -----------------------------------------------------------------------------
+ // Feature declarations and associated constants (feature params, et cetera)
+--- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
++++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
+@@ -3864,6 +3864,8 @@ ScriptValue WebGLRenderingContextBase::g
+               pname, IdentifiabilityBenignStringToken(
+                          String(ContextGL()->GetString(GL_RENDERER))));
+         }
++        if (base::FeatureList::IsEnabled(blink::features::kSpoofWebGLInfo))
++          return WebGLAny(script_state, String("ANGLE (Google, Vulkan 1.3.0 (SwiftShader Device (Subzero) (0x0000C0DE)), SwiftShader driver-5.0.0)"));
+         return WebGLAny(script_state,
+                         String(ContextGL()->GetString(GL_RENDERER)));
+       }
+@@ -3879,6 +3881,8 @@ ScriptValue WebGLRenderingContextBase::g
+               pname, IdentifiabilityBenignStringToken(
+                          String(ContextGL()->GetString(GL_VENDOR))));
+         }
++        if (base::FeatureList::IsEnabled(blink::features::kSpoofWebGLInfo))
++          return WebGLAny(script_state, String("Google Inc. (Google)"));
+         return WebGLAny(script_state,
+                         String(ContextGL()->GetString(GL_VENDOR)));
+       }
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
index 9463bc91cf..a17dd6e986 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4340,10 +4340,12 @@ const FeatureEntry::FeatureVariation kMe
+@@ -4408,10 +4408,12 @@ const FeatureEntry::FeatureVariation kTa
  #include "chrome/browser/ungoogled_flag_choices.h"
  #include "chrome/browser/bromite_flag_choices.h"
  #include "chrome/browser/ungoogled_platform_flag_choices.h"
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
index c2b53f6c93..a7c309269d 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
@@ -27,7 +27,7 @@
  #include "services/network/public/cpp/resource_request_body.h"
  #include "services/network/public/cpp/supports_loading_mode/supports_loading_mode_parser.h"
  #include "services/network/public/cpp/url_loader_completion_status.h"
-@@ -400,10 +401,10 @@ void AddAdditionalRequestHeaders(
+@@ -387,10 +388,10 @@ void AddAdditionalRequestHeaders(
        net::HttpRequestHeaders::kUserAgent,
        ComputeUserAgentValue(*headers, user_agent_override, browser_context));
  
@@ -44,7 +44,7 @@
    if (NeedsHTTPOrigin(headers, method)) {
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -132,6 +132,7 @@
+@@ -135,6 +135,7 @@
  #include "services/metrics/public/cpp/ukm_source_id.h"
  #include "services/network/public/cpp/features.h"
  #include "services/network/public/cpp/not_implemented_url_loader_factory.h"
@@ -52,7 +52,7 @@
  #include "services/network/public/cpp/weak_wrapper_shared_url_loader_factory.h"
  #include "services/network/public/mojom/fetch_api.mojom.h"
  #include "services/network/public/mojom/restricted_cookie_manager.mojom.h"
-@@ -4650,10 +4651,13 @@ void RenderFrameImpl::FinalizeRequestInt
+@@ -4636,10 +4637,13 @@ void RenderFrameImpl::FinalizeRequestInt
  
    request.SetHasUserGesture(frame_->HasTransientUserActivation());
  
@@ -128,7 +128,7 @@
  // ignore Accept-CH response headers for a site that is specified in the
 --- a/services/network/public/cpp/features.h
 +++ b/services/network/public/cpp/features.h
-@@ -18,6 +18,10 @@ class Origin;
+@@ -17,6 +17,10 @@ class Origin;
  }  // namespace url
  
  namespace network::features {
@@ -228,7 +228,7 @@
 +#endif  // SERVICES_NETWORK_PUBLIC_CPP_REFERRER_SANITIZER_H_
 --- a/third_party/blink/renderer/modules/service_worker/web_service_worker_fetch_context_impl.cc
 +++ b/third_party/blink/renderer/modules/service_worker/web_service_worker_fetch_context_impl.cc
-@@ -11,10 +11,12 @@
+@@ -12,10 +12,12 @@
  #include "base/task/single_thread_task_runner.h"
  #include "mojo/public/cpp/bindings/pending_remote.h"
  #include "net/cookies/site_for_cookies.h"
@@ -241,7 +241,7 @@
  #include "third_party/blink/public/platform/url_loader_throttle_provider.h"
  #include "third_party/blink/public/platform/web_url_request_extra_data.h"
  #include "third_party/blink/public/platform/websocket_handshake_throttle_provider.h"
-@@ -160,10 +162,13 @@ void WebServiceWorkerFetchContextImpl::F
+@@ -161,10 +163,13 @@ void WebServiceWorkerFetchContextImpl::F
  
    request.SetURLRequestExtraData(std::move(url_request_extra_data));
  
@@ -258,7 +258,7 @@
 +  request.SetReferrerPolicy(std::move(sanitized_referrer.second));
  }
  
- WebVector<std::unique_ptr<URLLoaderThrottle>>
+ std::vector<std::unique_ptr<URLLoaderThrottle>>
 --- a/third_party/blink/renderer/platform/loader/fetch/url_loader/dedicated_or_shared_worker_fetch_context_impl.cc
 +++ b/third_party/blink/renderer/platform/loader/fetch/url_loader/dedicated_or_shared_worker_fetch_context_impl.cc
 @@ -12,6 +12,7 @@
@@ -294,4 +294,4 @@
 +  request.SetReferrerPolicy(std::move(sanitized_referrer.second));
  }
  
- WebVector<std::unique_ptr<URLLoaderThrottle>>
+ std::vector<std::unique_ptr<URLLoaderThrottle>>
diff --git a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
index 7896c95b32..aa2be37b98 100644
--- a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
+++ b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
@@ -24,7 +24,7 @@
  BASE_FEATURE(kAvoidH2Reprioritization,
 --- a/net/base/features.h
 +++ b/net/base/features.h
-@@ -18,6 +18,8 @@
+@@ -20,6 +20,8 @@
  
  namespace net::features {
  
@@ -47,7 +47,7 @@
  // True if |hostname| ends with either ".local" or ".local.".
  bool ResemblesMulticastDNSName(std::string_view hostname) {
    return hostname.ends_with(".local") || hostname.ends_with(".local.");
-@@ -1426,33 +1421,10 @@ int HostResolverManager::StartIPv6Reacha
+@@ -1425,33 +1420,10 @@ int HostResolverManager::StartIPv6Reacha
      return OK;
    }
  
diff --git a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
index 59e4d5ccab..973ce929a7 100644
--- a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
+++ b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
@@ -123,7 +123,7 @@
  
 --- a/chrome/browser/ui/search_engines/edit_search_engine_controller.cc
 +++ b/chrome/browser/ui/search_engines/edit_search_engine_controller.cc
-@@ -69,6 +69,15 @@ bool EditSearchEngineController::IsURLVa
+@@ -67,6 +67,15 @@ bool EditSearchEngineController::IsURLVa
        .is_valid();
  }
  
@@ -139,7 +139,7 @@
  bool EditSearchEngineController::IsKeywordValid(
      const std::u16string& keyword_input) const {
    std::u16string keyword_input_trimmed(
-@@ -93,10 +102,12 @@ bool EditSearchEngineController::IsKeywo
+@@ -91,10 +100,12 @@ bool EditSearchEngineController::IsKeywo
  void EditSearchEngineController::AcceptAddOrEdit(
      const std::u16string& title_input,
      const std::u16string& keyword_input,
@@ -153,7 +153,7 @@
  
    TemplateURLService* template_url_service =
        TemplateURLServiceFactory::GetForProfile(profile_);
-@@ -124,7 +135,8 @@ void EditSearchEngineController::AcceptA
+@@ -122,7 +133,8 @@ void EditSearchEngineController::AcceptA
    } else {
      // Adding or modifying an entry via the Delegate.
      edit_keyword_delegate_->OnEditedKeyword(template_url_, title_input,
@@ -271,7 +271,7 @@
    bool CanEdit(const TemplateURL* url) const;
 --- a/chrome/browser/ui/search_engines/template_url_table_model.cc
 +++ b/chrome/browser/ui/search_engines/template_url_table_model.cc
-@@ -201,21 +201,25 @@ void TemplateURLTableModel::Remove(size_
+@@ -203,21 +203,25 @@ void TemplateURLTableModel::Remove(size_
  void TemplateURLTableModel::Add(size_t index,
                                  const std::u16string& short_name,
                                  const std::u16string& keyword,
@@ -302,7 +302,7 @@
    DCHECK(index <= RowCount());
    DCHECK(!url.empty());
    TemplateURL* template_url = GetTemplateURL(index);
-@@ -224,7 +228,8 @@ void TemplateURLTableModel::ModifyTempla
+@@ -226,7 +230,8 @@ void TemplateURLTableModel::ModifyTempla
    DCHECK(template_url_service_->GetDefaultSearchProvider() != template_url ||
           template_url->SupportsReplacement(
               template_url_service_->search_terms_data()));
@@ -428,7 +428,7 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -892,7 +892,8 @@ void TemplateURLService::IncrementUsageC
+@@ -924,7 +924,8 @@ void TemplateURLService::IncrementUsageC
  void TemplateURLService::ResetTemplateURL(TemplateURL* url,
                                            const std::u16string& title,
                                            const std::u16string& keyword,
@@ -438,7 +438,7 @@
    DCHECK(!IsCreatedByExtension(url));
    DCHECK(!keyword.empty());
    DCHECK(!search_url.empty());
-@@ -907,6 +908,7 @@ void TemplateURLService::ResetTemplateUR
+@@ -939,6 +940,7 @@ void TemplateURLService::ResetTemplateUR
    data.safe_for_autoreplace = false;
    data.last_modified = clock_->Now();
    data.is_active = TemplateURLData::ActiveStatus::kTrue;
@@ -448,7 +448,7 @@
  }
 --- a/components/search_engines/template_url_service.h
 +++ b/components/search_engines/template_url_service.h
-@@ -324,7 +324,8 @@ class TemplateURLService final : public
+@@ -326,7 +326,8 @@ class TemplateURLService final : public
    void ResetTemplateURL(TemplateURL* url,
                          const std::u16string& title,
                          const std::u16string& keyword,
diff --git a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
index 9723b44904..4cbe6e88cd 100644
--- a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
+++ b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4336,7 +4336,13 @@ const FeatureEntry::FeatureVariation kMe
+@@ -4404,7 +4404,13 @@ const FeatureEntry::FeatureVariation kTa
  // calculate and verify checksum.
  //
  // When adding a new choice, add it to the end of the list.
diff --git a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
index 54da0e23d3..6ce2db6243 100644
--- a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
+++ b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -109,7 +109,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -108,7 +108,7 @@ void RegisterBrowserUserPrefs(user_prefs
                                  false);
  #endif
    registry->RegisterStringPref(prefs::kWebRTCIPHandlingPolicy,
diff --git a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
index 0fb0db4b03..5413ef9e9b 100644
--- a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
+++ b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
@@ -29,7 +29,7 @@
 -  ContentSettingsForOneType content_settings =
 -      host_content_settings_map->GetSettingsForOneType(
 -          ContentSettingsType::ALL_SCREEN_CAPTURE);
--  std::move(callback).Run(base::ranges::any_of(
+-  std::move(callback).Run(std::ranges::any_of(
 -      content_settings, [](const ContentSettingPatternSource& source) {
 -        return source.GetContentSetting() ==
 -               ContentSetting::CONTENT_SETTING_ALLOW;
diff --git a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
index be9d073dc4..9d82bceb92 100644
--- a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
+++ b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
@@ -142,7 +142,7 @@
  }  // namespace download
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -118,7 +118,6 @@ source_set("browser") {
+@@ -120,7 +120,6 @@ source_set("browser") {
      "//components/payments/mojom",
      "//components/power_monitor",
      "//components/services/filesystem:lib",
diff --git a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
index f94d36ce74..a43c386e21 100644
--- a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
+++ b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
@@ -1,6 +1,6 @@
 --- a/components/safe_browsing/core/common/features.cc
 +++ b/components/safe_browsing/core/common/features.cc
-@@ -117,7 +117,7 @@ BASE_FEATURE(kDlpRegionalizedEndpoints,
+@@ -121,7 +121,7 @@ BASE_FEATURE(kDlpRegionalizedEndpoints,
  
  BASE_FEATURE(kDownloadsPageReferrerUrl,
               "DownloadsPageReferrerUrl",
diff --git a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
index a0beba4314..cde00a3885 100644
--- a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
+++ b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
@@ -2,7 +2,7 @@
 
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -1996,7 +1996,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
+@@ -1980,7 +1980,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
  // crbug.com/988956.
  BASE_FEATURE(kPrefetchPrivacyChanges,
               "PrefetchPrivacyChanges",
diff --git a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
index ea87c7e32e..d70efe346e 100644
--- a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
+++ b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/browser_commands.cc
 +++ b/chrome/browser/ui/browser_commands.cc
-@@ -566,11 +566,6 @@ int GetContentRestrictions(const Browser
+@@ -558,11 +558,6 @@ int GetContentRestrictions(const Browser
      CoreTabHelper* core_tab_helper =
          CoreTabHelper::FromWebContents(current_tab);
      content_restrictions = core_tab_helper->content_restrictions();
@@ -14,7 +14,7 @@
    }
    return content_restrictions;
  }
-@@ -1748,8 +1743,7 @@ bool CanSavePage(const Browser* browser)
+@@ -1727,8 +1722,7 @@ bool CanSavePage(const Browser* browser)
        policy::DownloadRestriction::ALL_FILES) {
      return false;
    }
@@ -62,7 +62,7 @@
  // These lists are lazily initialized below and are leaked on shutdown to
 --- a/content/public/common/url_utils.cc
 +++ b/content/public/common/url_utils.cc
-@@ -40,11 +40,7 @@ bool IsPdfInternalPluginAllowedOrigin(co
+@@ -33,11 +33,7 @@ bool HasWebUIOrigin(const url::Origin& o
  }
  
  bool IsSavableURL(const GURL& url) {
diff --git a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
index 82a7a2d853..cc3f47fc1e 100644
--- a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -231,12 +231,10 @@ TabStripRegionView::TabStripRegionView(s
+@@ -227,12 +227,10 @@ TabStripRegionView::TabStripRegionView(s
        new_tab_button_->GetViewAccessibility().SetName(
            l10n_util::GetStringUTF16(IDS_ACCNAME_NEWTAB));
  
@@ -15,7 +15,7 @@
  
 --- a/chrome/browser/ui/views/tabs/tab_strip.cc
 +++ b/chrome/browser/ui/views/tabs/tab_strip.cc
-@@ -2083,8 +2083,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2107,8 +2107,6 @@ void TabStrip::NewTabButtonPressed(const
  
      const ui::MouseEvent& mouse = static_cast<const ui::MouseEvent&>(event);
      if (mouse.IsOnlyMiddleMouseButton()) {
@@ -24,7 +24,7 @@
          ui::Clipboard* clipboard = ui::Clipboard::GetForCurrentThread();
          CHECK(clipboard)
              << "Clipboard instance is not available, cannot proceed with "
-@@ -2095,7 +2093,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2119,7 +2117,6 @@ void TabStrip::NewTabButtonPressed(const
          if (!clipboard_text.empty()) {
            controller_->CreateNewTabWithLocation(clipboard_text);
          }
diff --git a/patches/extra/ungoogled-chromium/first-run-page.patch b/patches/extra/ungoogled-chromium/first-run-page.patch
index 3489ff7fb9..5a9ddc9c77 100644
--- a/patches/extra/ungoogled-chromium/first-run-page.patch
+++ b/patches/extra/ungoogled-chromium/first-run-page.patch
@@ -18,7 +18,7 @@
  #include "chrome/browser/ui/webui/usb_internals/usb_internals_ui.h"
  #include "chrome/browser/ui/webui/user_actions/user_actions_ui.h"
  #include "chrome/browser/ui/webui/version/version_ui.h"
-@@ -249,6 +250,7 @@ void RegisterChromeWebUIConfigs() {
+@@ -244,6 +245,7 @@ void RegisterChromeWebUIConfigs() {
    map.AddWebUIConfig(std::make_unique<SiteEngagementUIConfig>());
    map.AddWebUIConfig(std::make_unique<SyncInternalsUIConfig>());
    map.AddWebUIConfig(std::make_unique<TranslateInternalsUIConfig>());
diff --git a/patches/extra/ungoogled-chromium/keep-expired-flags.patch b/patches/extra/ungoogled-chromium/keep-expired-flags.patch
index d656f1aec8..a22319b861 100644
--- a/patches/extra/ungoogled-chromium/keep-expired-flags.patch
+++ b/patches/extra/ungoogled-chromium/keep-expired-flags.patch
@@ -8,7 +8,7 @@
  #include "components/flags_ui/feature_entry.h"
  #include "components/flags_ui/flags_storage.h"
  #include "components/flags_ui/flags_ui_switches.h"
-@@ -657,13 +658,17 @@ void FlagsState::GetFlagFeatureEntries(
+@@ -667,13 +668,17 @@ void FlagsState::GetFlagFeatureEntries(
    int current_platform = GetCurrentPlatform();
  
    for (const FeatureEntry& entry : feature_entries_) {
@@ -27,7 +27,7 @@
  
      base::Value::List supported_platforms;
      AddOsStrings(entry.supported_platforms, &supported_platforms);
-@@ -1064,6 +1069,7 @@ bool FlagsState::IsSupportedFeature(cons
+@@ -1074,6 +1079,7 @@ bool FlagsState::IsSupportedFeature(cons
      if (!entry.InternalNameMatches(name))
        continue;
      if (delegate_ && delegate_->ShouldExcludeFlag(storage, entry))
diff --git a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
index e435d948da..3c79869a81 100644
--- a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
+++ b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
@@ -3,7 +3,7 @@
 #
 --- a/components/omnibox/common/omnibox_features.cc
 +++ b/components/omnibox/common/omnibox_features.cc
-@@ -326,7 +326,7 @@ BASE_FEATURE(kOmniboxTouchDownTriggerFor
+@@ -314,7 +314,7 @@ BASE_FEATURE(kOmniboxTouchDownTriggerFor
  // Enables additional site search providers for the Site search Starter Pack.
  BASE_FEATURE(kStarterPackExpansion,
               "StarterPackExpansion",
diff --git a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
index 34bc0b614a..410932cf51 100644
--- a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
+++ b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
@@ -35,7 +35,7 @@
 
 --- a/chrome/app/settings_chromium_strings.grdp
 +++ b/chrome/app/settings_chromium_strings.grdp
-@@ -369,13 +369,13 @@
+@@ -370,13 +370,13 @@
  
    <!-- Performance Page -->
    <message name="IDS_SETTINGS_PERFORMANCE_MEMORY_SAVER_MODE_SETTING_DESCRIPTION" desc="Description for the memory saver mode setting">
@@ -54,7 +54,7 @@
    <!-- Languages Page -->
 --- a/chrome/app/settings_strings.grdp
 +++ b/chrome/app/settings_strings.grdp
-@@ -1183,7 +1183,7 @@
+@@ -1186,7 +1186,7 @@
      Active site
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_TAB_DISCARDING_EXCEPTIONS_ADD_DIALOG_HELP" desc="Help text shown on the second tab of the tab discarding exception list add dialog. Explains how to use the filter format to add an exclusion rule to the list.">
@@ -63,7 +63,7 @@
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_BATTERY_PAGE_TITLE" desc="Title of the power section in the performance settings page.">
      Power
-@@ -1207,7 +1207,7 @@
+@@ -1210,7 +1210,7 @@
      Inactive tabs appearance
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_DISCARD_RING_TREATMENT_ENABLED_DESCRIPTION_WITH_LEARN_LINK" desc="Label for a performance settings toggle description that controls whether the inactive tab UI is shown. Also contains a link to the help center article.">
@@ -72,7 +72,7 @@
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_TAB_HOVER_PREVIEW_CARD_LINK_TITLE" desc="Title for the link row that points to tab hover preview card apperance settings.">
      Tab hover preview card appearance
-@@ -1219,7 +1219,7 @@
+@@ -1222,7 +1222,7 @@
      Performance issue alerts
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_INTERVENTION_NOTIFICATION_ENABLED_DESCRIPTION" desc="Label for a performance settings toggle that controls whether performance intervention notifications should be shown and link to learn more about performance issue alerts.">
@@ -274,18 +274,18 @@
    <template is="dom-if"
 --- a/chrome/browser/resources/settings/basic_page/basic_page.html
 +++ b/chrome/browser/resources/settings/basic_page/basic_page.html
-@@ -65,7 +65,7 @@
+@@ -70,7 +70,7 @@
+         <!--  TODO(crbug.com/40267370): Add a test to basic_page_test.ts
          to check that settings-safety-hub-entry-point is not visible
          in the guest mode. -->
-         <template is="dom-if"
--            if="[[showSafetyHubEntryPointPage_(pageVisibility.safetyHub)]]"
-+            if="[[false]]"
+-        <template is="dom-if" if="[[showPage_(pageVisibility.safetyHub)]]"
++        <template is="dom-if" if="[[false]]"
              restamp>
            <settings-section page-title="$i18n{safetyHub}"
                section="safetyHubEntryPoint" nest-under-section="privacy"
 --- a/chrome/browser/resources/settings/basic_page/basic_page.ts
 +++ b/chrome/browser/resources/settings/basic_page/basic_page.ts
-@@ -11,7 +11,6 @@ import 'chrome://resources/cr_elements/c
+@@ -13,7 +13,6 @@ import 'chrome://resources/cr_elements/c
  import 'chrome://resources/cr_elements/cr_shared_vars.css.js';
  import '../ai_page/ai_page.js';
  import '../appearance_page/appearance_page.js';
@@ -293,7 +293,7 @@
  import '../privacy_page/privacy_page.js';
  import '../safety_hub/safety_hub_entry_point.js';
  import '../autofill_page/autofill_page.js';
-@@ -272,7 +271,6 @@ export class SettingsBasicPageElement ex
+@@ -274,7 +273,6 @@ export class SettingsBasicPageElement ex
        this.showPrivacyGuidePromo_ = false;
        return;
      }
@@ -327,7 +327,7 @@
        <cr-link-row id="historySearchRow"
 --- a/chrome/browser/resources/settings/privacy_page/personalization_options.ts
 +++ b/chrome/browser/resources/settings/privacy_page/personalization_options.ts
-@@ -205,10 +205,6 @@ export class SettingsPersonalizationOpti
+@@ -206,10 +206,6 @@ export class SettingsPersonalizationOpti
          'chrome-signin-user-choice-info-change',
          this.setChromeSigninUserChoiceInfo_.bind(this));
      // </if>
@@ -358,7 +358,7 @@
              class="hr" label="$i18n{thirdPartyCookiesLinkRowLabel}"
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -241,9 +241,3 @@
+@@ -237,9 +237,3 @@
        </cr-link-row>
  </if>
  
@@ -405,7 +405,7 @@
  void RecentTabsSubMenuModel::BuildLocalEntries() {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -964,16 +964,6 @@ void ExtensionsMenuModel::Build(Browser*
+@@ -963,16 +963,6 @@ void ExtensionsMenuModel::Build(Browser*
    SetElementIdentifierAt(
        GetIndexOfCommandId(IDC_EXTENSIONS_SUBMENU_MANAGE_EXTENSIONS).value(),
        kManageExtensionsMenuItem);
@@ -424,7 +424,7 @@
  ////////////////////////////////////////////////////////////////////////////////
 --- a/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
 +++ b/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
-@@ -1119,12 +1119,4 @@ void BookmarkMenuDelegate::BuildOtherNod
+@@ -1206,15 +1206,4 @@ void BookmarkMenuDelegate::BuildOtherNod
    ui::ImageModel bookmarks_side_panel_icon = ui::ImageModel::FromVectorIcon(
        kBookmarksSidePanelIcon, ui::kColorMenuIcon,
        ui::SimpleMenuModel::kDefaultIconSize);
@@ -432,7 +432,10 @@
 -      IDC_SHOW_BOOKMARK_SIDE_PANEL,
 -      l10n_util::GetStringUTF16(IDS_BOOKMARKS_ALL_BOOKMARKS_OPEN_SIDE_PANEL),
 -      bookmarks_side_panel_icon);
--  if (!other_node->children().empty()) {
+-  bool other_folder_children_count =
+-      GetBookmarkMergedSurfaceService()->GetChildrenCount(
+-          BookmarkParentFolder::OtherFolder());
+-  if (other_folder_children_count) {
 -    menu->AppendSeparator();
 -    other_node_menu_separator_ = menu->GetSubmenu()->children().back().get();
 -  }
@@ -456,7 +459,7 @@
  void CookieControlsContentView::AddDescriptionRow() {
 --- a/chrome/browser/ui/views/profiles/profile_menu_view.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view.cc
-@@ -231,6 +231,7 @@ void ProfileMenuView::BuildMenu() {
+@@ -230,6 +230,7 @@ void ProfileMenuView::BuildMenu() {
  }
  
  gfx::ImageSkia ProfileMenuView::GetSyncIcon() const {
@@ -464,7 +467,7 @@
    Profile* profile = browser()->profile();
    if (profile->IsOffTheRecord() || profile->IsGuestSession()) {
      return gfx::ImageSkia();
-@@ -659,16 +660,8 @@ void ProfileMenuView::BuildIdentity() {
+@@ -668,16 +669,8 @@ void ProfileMenuView::BuildIdentity() {
          badge_image_model, menu_title_, menu_subtitle_, management_label);
    } else {
      std::string profile_user_display_name, profile_user_email;
@@ -519,7 +522,7 @@
    // Specify the maximum message and title width explicitly.
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -909,40 +909,20 @@ void AddPerformanceStrings(content::WebU
+@@ -932,40 +932,20 @@ void AddPerformanceStrings(content::WebU
         IDS_SETTINGS_PERFORMANCE_TAB_HOVER_PREVIEW_CARD_LINK_SUBTITLE},
        {"performanceInterventionEnabledLabel",
         IDS_SETTINGS_PERFORMANCE_INTERVENTION_NOTIFICATION_ENABLED_LABEL},
@@ -569,7 +572,7 @@
  
    html_source->AddString(
        "tabDiscardTimerFiveMinutes",
-@@ -988,11 +968,6 @@ void AddPerformanceStrings(content::WebU
+@@ -1011,11 +991,6 @@ void AddPerformanceStrings(content::WebU
            base::NumberToString16(
                performance_manager::user_tuning::BatterySaverModeManager::
                    kLowBatteryThresholdPercent)));
@@ -581,7 +584,7 @@
  
    html_source->AddString("discardRingTreatmentLearnMoreUrl",
                           chrome::kDiscardRingTreatmentLearnMoreUrl);
-@@ -3441,7 +3416,7 @@ void AddSiteSettingsStrings(content::Web
+@@ -3453,7 +3428,7 @@ void AddSiteSettingsStrings(content::Web
        base::FeatureList::IsEnabled(blink::features::kWebPrinting));
  
    html_source->AddBoolean("enableFederatedIdentityApiContentSetting",
@@ -592,7 +595,7 @@
    html_source->AddBoolean(
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
-@@ -625,13 +625,7 @@ SettingsUI::SettingsUI(content::WebUI* w
+@@ -623,13 +623,7 @@ SettingsUI::SettingsUI(content::WebUI* w
      auto* optimization_guide_service =
          OptimizationGuideKeyedServiceFactory::GetForProfile(profile);
      for (auto [key, name] : optimization_guide_features) {
@@ -609,8 +612,8 @@
      html_source->AddBoolean("showAdvancedFeaturesMainControl",
 --- a/media/base/media_switches.cc
 +++ b/media/base/media_switches.cc
-@@ -872,7 +872,7 @@ BASE_FEATURE(kLacrosUseAshWidevine,
- #endif
+@@ -854,7 +854,7 @@ BASE_FEATURE(kOnDeviceWebSpeech,
+              base::FEATURE_DISABLED_BY_DEFAULT);
  
  // Enables the Live Caption feature on supported devices.
 -BASE_FEATURE(kLiveCaption, "LiveCaption", base::FEATURE_ENABLED_BY_DEFAULT);
@@ -620,7 +623,7 @@
  // getDisplayMedia captures. Note: This flag does not control if the "Share this
 --- a/ui/views/controls/menu/menu_item_view.cc
 +++ b/ui/views/controls/menu/menu_item_view.cc
-@@ -860,7 +860,7 @@ void MenuItemView::SetAlerted() {
+@@ -868,7 +868,7 @@ void MenuItemView::SetAlerted() {
  }
  
  bool MenuItemView::ShouldShowNewBadge() const {
diff --git a/patches/extra/ungoogled-chromium/spoof-webgl-renderer-info.patch b/patches/extra/ungoogled-chromium/spoof-webgl-renderer-info.patch
deleted file mode 100644
index c1d211fce5..0000000000
--- a/patches/extra/ungoogled-chromium/spoof-webgl-renderer-info.patch
+++ /dev/null
@@ -1,24 +0,0 @@
-# Return generic values for WebGLDebugRendererInfo to remove a potential data
-# leak while preventing potential website breakage
-
---- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
-+++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
-@@ -3834,7 +3834,7 @@ ScriptValue WebGLRenderingContextBase::g
-                          String(ContextGL()->GetString(GL_RENDERER))));
-         }
-         return WebGLAny(script_state,
--                        String(ContextGL()->GetString(GL_RENDERER)));
-+                        String("ANGLE (Google, Vulkan 1.3.0 (SwiftShader Device (Subzero) (0x0000C0DE)), SwiftShader driver-5.0.0)"));
-       }
-       SynthesizeGLError(
-           GL_INVALID_ENUM, "getParameter",
-@@ -3848,8 +3848,7 @@ ScriptValue WebGLRenderingContextBase::g
-               pname, IdentifiabilityBenignStringToken(
-                          String(ContextGL()->GetString(GL_VENDOR))));
-         }
--        return WebGLAny(script_state,
--                        String(ContextGL()->GetString(GL_VENDOR)));
-+        return WebGLAny(script_state, String("Google Inc. (Google)"));
-       }
-       SynthesizeGLError(
-           GL_INVALID_ENUM, "getParameter",
diff --git a/patches/series b/patches/series
index be11b2b72e..b4ab9b236e 100644
--- a/patches/series
+++ b/patches/series
@@ -64,7 +64,6 @@ extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
 extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
 extra/ungoogled-chromium/add-flag-to-disable-beforeunload.patch
 extra/ungoogled-chromium/add-flag-to-force-punycode-hostnames.patch
-extra/ungoogled-chromium/spoof-webgl-renderer-info.patch
 extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
 extra/ungoogled-chromium/add-suggestions-url-field.patch
 extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch
@@ -110,3 +109,4 @@ extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
 extra/ungoogled-chromium/enable-extra-locales.patch
 extra/ungoogled-chromium/disable-chromelabs.patch
 extra/ungoogled-chromium/remove-pac-size-limit.patch
+extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
diff --git a/patches/upstream-fixes/glue_core_pools.patch b/patches/upstream-fixes/glue_core_pools.patch
index c31808450e..ac4bbe7ca0 100644
--- a/patches/upstream-fixes/glue_core_pools.patch
+++ b/patches/upstream-fixes/glue_core_pools.patch
@@ -3,7 +3,7 @@
 # This removes the remaining references needed to build
 --- a/base/allocator/partition_allocator/partition_alloc.gni
 +++ b/base/allocator/partition_allocator/partition_alloc.gni
-@@ -194,9 +194,6 @@ declare_args() {
+@@ -251,9 +251,6 @@ declare_args() {
    force_enable_raw_ptr_exclusion = false
  }
  
diff --git a/patches/upstream-fixes/missing-dependencies.patch b/patches/upstream-fixes/missing-dependencies.patch
index a66b29eeff..95e0920d94 100644
--- a/patches/upstream-fixes/missing-dependencies.patch
+++ b/patches/upstream-fixes/missing-dependencies.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -885,6 +885,7 @@ source_set("extensions") {
+@@ -880,6 +880,7 @@ source_set("extensions") {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser/web_ui:web_ui",
@@ -10,7 +10,7 @@
        "//components/safe_browsing/core/common:safe_browsing_prefs",
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -556,6 +556,7 @@ static_library("url_constants") {
+@@ -552,6 +552,7 @@ static_library("url_constants") {
      "//components/optimization_guide/optimization_guide_internals/webui:url_constants",
      "//components/password_manager/content/common",
      "//components/safe_browsing/core/common",
diff --git a/pruning.list b/pruning.list
index 664403dafd..0452bff2d4 100644
--- a/pruning.list
+++ b/pruning.list
@@ -1233,13 +1233,20 @@ net/data/ssl/certificates/client-empty-password.p12
 net/data/ssl/certificates/client-nokey.p12
 net/data/ssl/certificates/client-null-password.p12
 net/data/ssl/certificates/client.p12
+net/data/ssl/certificates/client_1.p12
 net/data/ssl/certificates/client_1.pk8
 net/data/ssl/certificates/client_1_u16_password.p12
+net/data/ssl/certificates/client_2.p12
 net/data/ssl/certificates/client_2.pk8
+net/data/ssl/certificates/client_3.p12
 net/data/ssl/certificates/client_3.pk8
+net/data/ssl/certificates/client_4.p12
 net/data/ssl/certificates/client_4.pk8
+net/data/ssl/certificates/client_5.p12
 net/data/ssl/certificates/client_5.pk8
+net/data/ssl/certificates/client_6.p12
 net/data/ssl/certificates/client_6.pk8
+net/data/ssl/certificates/client_7.p12
 net/data/ssl/certificates/client_7.pk8
 net/data/ssl/certificates/client_with_ec_key.p12
 net/data/ssl/certificates/crlset_blocked_interception_by_intermediate.raw
@@ -1300,6 +1307,7 @@ services/device/usb/fuzz_corpus/webusb_descriptors_unittest_example
 services/test/data/passage_embeddings/dummy_embeddings_model.tflite
 services/test/data/passage_embeddings/sentencepiece.model
 services/test/data/video_effects/models/selfie_segmentation.tflite
+services/test/data/video_effects/models/selfie_segmentation_landscape.crx3
 services/test/data/video_effects/models/selfie_segmentation_landscape.tflite
 sql/test/data/recovery_387868
 testing/libfuzzer/fuzzers/flatbuffers_corpus/monsterdata_test.mon
@@ -6948,6 +6956,8 @@ third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/SHAKE-256.b
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/SLH-DSA.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/TLS12.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/TLS13.bz2
+third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/cSHAKE-128.bz2
+third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/cSHAKE-256.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/ctrDRBG.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/hmacDRBG.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/expected/kdf-components.bz2
@@ -6990,6 +7000,8 @@ third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/SHAKE-256.bz
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/SLH-DSA.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/TLS12.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/TLS13.bz2
+third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/cSHAKE-128.bz2
+third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/cSHAKE-256.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/ctrDRBG.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/hmacDRBG.bz2
 third_party/boringssl/src/util/fipstools/acvp/acvptool/test/vectors/kdf-components.bz2
@@ -7719,13 +7731,16 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-multiple-frames.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-no-nav.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-single-frame.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/crux.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size-long.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size-overlap.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/enhanced-traces.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/extension-tracks-and-marks.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/fenced-frame-fledge.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/font-display.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/forced-layouts-and-no-gpu.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/forced-reflow.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/generic-about-tracing.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/idle-callback.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/idle-tasks.json.gz
@@ -7746,6 +7761,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/larg
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/large-recalc-style.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-images-rasterizer.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-images.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-late-paint-event.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-multiple-frames.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-web-font.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/load-simple.json.gz
@@ -7756,6 +7772,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/many
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/missing-process-data.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/missing-tracing-start.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/missing-url.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/multi-frame-dom-stats.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/multiple-lcp-main-frame.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/multiple-navigations-render-blocking.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/multiple-navigations-same-id.json.gz
@@ -7806,6 +7823,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-initial-url.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-modifications.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-outermost-frames.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-screenshot-source-ids.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-with-advanced-instrumentation.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-with-commit.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev.json.gz
@@ -7816,6 +7834,7 @@ third_party/devtools-frontend/src/test/e2e/resources/media/fisch.webm
 third_party/devtools-frontend/src/test/e2e/resources/network/webbundle.wbn
 third_party/devtools-frontend/src/test/e2e/resources/network/webbundle_bad_inner_request.wbn
 third_party/devtools-frontend/src/test/e2e/resources/network/webbundle_bad_metadata.wbn
+third_party/devtools-frontend/src/test/e2e/resources/performance/timeline/web.dev-trace.json.gz
 third_party/devtools-frontend/src/test/e2e/resources/performance/wasm/profiling.wasm
 third_party/devtools-frontend/src/test/e2e/resources/sources/wasm/add.wasm
 third_party/devtools-frontend/src/test/e2e/resources/sources/wasm/callstack-wasm-to-js.wasm
@@ -10156,13 +10175,6 @@ third_party/icu/tzres/metaZones.res
 third_party/icu/tzres/timezoneTypes.res
 third_party/icu/tzres/zoneinfo64.res
 third_party/jni_zero/test/java/src/org/jni_zero/JavapClass.class
-third_party/libavif/src/android_jni/gradle/wrapper/gradle-wrapper.jar
-third_party/libavif/src/tests/data/cosmos1650_yuv444_10bpc_p3pq.y4m
-third_party/libavif/src/tests/data/kodim03_yuv420_8bpc.y4m
-third_party/libavif/src/tests/data/kodim23_yuv420_8bpc.y4m
-third_party/libavif/src/tests/data/sRGB2014.icc
-third_party/libavif/src/tests/data/sources/colors.psd
-third_party/libavif/src/tests/data/sources/seine.psd
 third_party/libc++/src/test/std/input.output/iostream.objects/wide.stream.objects/test.dat
 third_party/libdrm/src/intel/tests/gen4-3d.batch
 third_party/libdrm/src/intel/tests/gen5-3d.batch
@@ -12598,6 +12610,7 @@ third_party/openh264/src/res/test_qcif_cabac.264
 third_party/openh264/src/res/test_scalinglist_jm.264
 third_party/openh264/src/res/test_vd_1d.264
 third_party/openh264/src/res/test_vd_rc.264
+third_party/openscreen/src/buildtools/linux64-format/clang-format
 third_party/openscreen/src/buildtools/third_party/eu-strip/bin/eu-strip
 third_party/openscreen/src/cast/common/channel/message_framer_fuzzer_seeds/03d4b4028b559489768e2cccd6015c907f70a2c0
 third_party/openscreen/src/cast/common/channel/message_framer_fuzzer_seeds/333be5dfffb2c6eeadf31be2dc219ef841c99ea0
@@ -12746,22 +12759,22 @@ third_party/quic_trace/src/examples/example.json.gz
 third_party/quic_trace/src/examples/example.qtr
 third_party/r8/custom_d8.jar
 third_party/r8/custom_r8.jar
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/grapheme_break_fwd.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/grapheme_break_fwd.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/grapheme_break_rev.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/grapheme_break_rev.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/regional_indicator_rev.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/regional_indicator_rev.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/sentence_break_fwd.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/sentence_break_fwd.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/simple_word_fwd.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/simple_word_fwd.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/whitespace_anchored_fwd.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/whitespace_anchored_fwd.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/whitespace_anchored_rev.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/whitespace_anchored_rev.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/word_break_fwd.bigendian.dfa
-third_party/rust/chromium_crates_io/vendor/bstr-1.11.1/src/unicode/fsm/word_break_fwd.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/grapheme_break_fwd.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/grapheme_break_fwd.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/grapheme_break_rev.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/grapheme_break_rev.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/regional_indicator_rev.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/regional_indicator_rev.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/sentence_break_fwd.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/sentence_break_fwd.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/simple_word_fwd.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/simple_word_fwd.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/whitespace_anchored_fwd.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/whitespace_anchored_fwd.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/whitespace_anchored_rev.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/whitespace_anchored_rev.littleendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/word_break_fwd.bigendian.dfa
+third_party/rust/chromium_crates_io/vendor/bstr-1.11.3/src/unicode/fsm/word_break_fwd.littleendian.dfa
 third_party/rust/chromium_crates_io/vendor/fdeflate-0.3.7/tests/input-chunking-sensitivity-example1.zz
 third_party/rust/chromium_crates_io/vendor/fdeflate-0.3.7/tests/input-chunking-sensitivity-example2.zz
 third_party/rust/chromium_crates_io/vendor/fdeflate-0.3.7/tests/input-chunking-sensitivity-example3.zz
@@ -12769,6 +12782,9 @@ third_party/rust/chromium_crates_io/vendor/flate2-1.0.35/examples/hello_world.tx
 third_party/rust/chromium_crates_io/vendor/flate2-1.0.35/tests/corrupt-gz-file.bin
 third_party/rust/chromium_crates_io/vendor/flate2-1.0.35/tests/good-file.gz
 third_party/rust/chromium_crates_io/vendor/flate2-1.0.35/tests/multi.gz
+third_party/rust/chromium_crates_io/vendor/icu_datetime-2.0.0-beta1/tests/data/blob.postcard
+third_party/rust/chromium_crates_io/vendor/icu_datetime-2.0.0-beta1/tests/fixtures/tests/patterns.bin
+third_party/rust/chromium_crates_io/vendor/icu_datetime-2.0.0-beta1/tests/fixtures/tests/skeletons.bin
 third_party/rust/chromium_crates_io/vendor/regex-1.11.1/testdata/fowler/dat/basic.dat
 third_party/rust/chromium_crates_io/vendor/regex-1.11.1/tests/fuzz/testdata/crash-7eb3351f0965e5d6c1cb98aa8585949ef96531ff
 third_party/rust/chromium_crates_io/vendor/regex-1.11.1/tests/fuzz/testdata/crash-8760b19b25d74e3603d4c643e9c7404fdd3631f9
@@ -12797,8 +12813,8 @@ third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.9/tests/gen/sparse
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.9/tests/gen/sparse/multi_pattern_v2_fwd.littleendian.dfa
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.9/tests/gen/sparse/multi_pattern_v2_rev.bigendian.dfa
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.9/tests/gen/sparse/multi_pattern_v2_rev.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/unicode-ident-1.0.14/tests/fst/xid_continue.fst
-third_party/rust/chromium_crates_io/vendor/unicode-ident-1.0.14/tests/fst/xid_start.fst
+third_party/rust/chromium_crates_io/vendor/unicode-ident-1.0.15/tests/fst/xid_continue.fst
+third_party/rust/chromium_crates_io/vendor/unicode-ident-1.0.15/tests/fst/xid_start.fst
 third_party/rust/chromium_crates_io/vendor/windows_aarch64_msvc-0.52.6/lib/windows.0.52.0.lib
 third_party/rust/chromium_crates_io/vendor/windows_i686_msvc-0.52.6/lib/windows.0.52.0.lib
 third_party/rust/chromium_crates_io/vendor/windows_x86_64_msvc-0.52.6/lib/windows.0.52.0.lib
@@ -13659,6 +13675,25 @@ third_party/vulkan-loader/src/tests/framework/data/binaries/dummy_library_pe_64.
 third_party/vulkan-loader/src/tests/framework/data/binaries/dummy_library_pe_64.so
 third_party/vulkan-loader/src/tests/framework/data/binaries/libdummy_library_elf_32.so
 third_party/vulkan-loader/src/tests/framework/data/binaries/libdummy_library_elf_64.so
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-instance_create_fuzzer-5599244505186304
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-instance_create_fuzzer-5817896795701248
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-instance_create_fuzzer-6541440380895232
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-instance_enumerate_fuzzer-5126563864051712
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-instance_enumerate_fuzzer-6308459683315712
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-4558978302214144
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-4568454561071104
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-4820577276723200
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-5177827962454016
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-5198773675425792
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-5416197367070720
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-5801855065915392
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_create_fuzzer-6353004288081920
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-instance_enumerate_fuzzer-6583684169269248
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-json_load_fuzzer-4512865114259456
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-json_load_fuzzer-6182254813249536
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-json_load_fuzzer-6265355951996928
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-json_load_fuzzer-6363106126659584
+third_party/vulkan-loader/src/tests/framework/data/fuzz_test_minimized_test_cases/clusterfuzz-testcase-minimized-json_load_fuzzer-6482033715838976
 third_party/vulkan-tools/src/vulkaninfo/iOS/vulkaninfo.xcodeproj/project.xcworkspace/xcuserdata/lunarg.xcuserdatad/UserInterfaceState.xcuserstate
 third_party/vulkan_memory_allocator/bin/Shader.frag.spv
 third_party/vulkan_memory_allocator/bin/Shader.vert.spv
@@ -14151,12 +14186,12 @@ third_party/win_build_output/midl/chrome/updater/app/server/win/x86/updater_inte
 third_party/win_build_output/midl/chrome/updater/app/server/win/x86/updater_legacy_idl.tlb
 third_party/win_build_output/midl/chrome/updater/app/server/win/x86/updater_legacy_idl_system.tlb
 third_party/win_build_output/midl/chrome/updater/app/server/win/x86/updater_legacy_idl_user.tlb
+third_party/win_build_output/midl/chrome/windows_services/elevated_tracing_service/arm64/tracing_service_idl.tlb
+third_party/win_build_output/midl/chrome/windows_services/elevated_tracing_service/x64/tracing_service_idl.tlb
+third_party/win_build_output/midl/chrome/windows_services/elevated_tracing_service/x86/tracing_service_idl.tlb
 third_party/win_build_output/midl/chrome/windows_services/service_program/arm64/test_service_idl.tlb
 third_party/win_build_output/midl/chrome/windows_services/service_program/x64/test_service_idl.tlb
 third_party/win_build_output/midl/chrome/windows_services/service_program/x86/test_service_idl.tlb
-third_party/win_build_output/midl/components/tracing/arm64/tracing_service_idl.tlb
-third_party/win_build_output/midl/components/tracing/x64/tracing_service_idl.tlb
-third_party/win_build_output/midl/components/tracing/x86/tracing_service_idl.tlb
 third_party/win_build_output/midl/remoting/host/win/arm64/chromoting_lib.tlb
 third_party/win_build_output/midl/remoting/host/win/x64/chromoting_lib.tlb
 third_party/win_build_output/midl/remoting/host/win/x86/chromoting_lib.tlb
