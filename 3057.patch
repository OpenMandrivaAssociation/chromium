From f8cc8de1c47fdc3bdb29f3d60bb26ff676364312 Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Wed, 9 Oct 2024 18:30:59 -0500
Subject: [PATCH] Update to Chromium 130.0.6723.58

---
 chromium_version.txt                          |   2 +-
 devutils/update_lists.py                      |   2 +
 domain_substitution.list                      | 513 +++++++++++++-----
 .../disable-fetching-field-trials.patch       |   2 +-
 ...01-fix-building-without-safebrowsing.patch |  75 +--
 ...03-disable-autofill-download-manager.patch |   2 +-
 .../0015-disable-update-pings.patch           |   2 +-
 .../core/inox-patchset/0021-disable-rlz.patch |   2 +-
 ...refixes-to-possibly-evil-connections.patch |   6 +-
 ..._browsing-disable-incident-reporting.patch |   2 +-
 ...sable-reporting-of-safebrowsing-over.patch |   4 +-
 .../ungoogled-chromium/block-requests.patch   |   4 +-
 .../block-trk-and-subdomains.patch            |  10 +-
 .../disable-crash-reporter.patch              |   2 +-
 .../disable-google-host-detection.patch       |  16 +-
 .../disable-mei-preload.patch                 |   4 +-
 .../disable-network-time-tracker.patch        |   2 +-
 .../disable-privacy-sandbox.patch             |   6 +-
 .../disable-webstore-urls.patch               |   2 +-
 .../core/ungoogled-chromium/doh-changes.patch |  22 +-
 .../extensions-manifestv2.patch               |   2 +-
 .../fix-building-with-prunned-binaries.patch  | 126 +++--
 .../fix-building-without-safebrowsing.patch   | 357 ++++++------
 .../remove-unused-preferences-fields.patch    | 474 ++++++++--------
 ...e-google-search-engine-with-nosearch.patch |   2 +-
 .../toggle-translation-via-switch.patch       |   2 +-
 ...g-flags-client-rects-and-measuretext.patch |  30 +-
 ...ngerprinting-canvas-image-data-noise.patch |  10 +-
 .../flag-max-connections-per-host.patch       |  10 +-
 .../0006-modify-default-prefs.patch           |  10 +-
 ...ble-profile-auto-import-on-first-run.patch |   2 +-
 ...rce-text-x-suse-ymp-to-be-downloaded.patch |  16 +-
 ...mpt-for-download-directory-by-defaul.patch |   2 +-
 .../updater-disable-auto-update.patch         |   2 +-
 .../add-flag-for-close-confirmation.patch     |  16 +-
 .../add-flag-for-custom-ntp.patch             |   2 +-
 .../add-flag-for-disabling-link-drag.patch    |   2 +-
 ...g-for-omnibox-autocomplete-filtering.patch |   2 +-
 ...dd-flag-for-search-engine-collection.patch |  20 +-
 .../add-flag-for-tab-hover-cards.patch        |   2 +-
 .../add-flag-for-tabsearch-button.patch       |   4 +-
 .../add-flag-to-clear-data-on-exit.patch      |   8 +-
 ...d-flag-to-close-window-with-last-tab.patch |  54 +-
 ...g-to-configure-extension-downloading.patch |   6 +-
 .../add-flag-to-convert-popups-to-tabs.patch  |   2 +-
 ...-to-disable-local-history-expiration.patch |   4 +-
 .../add-flag-to-disable-tls-grease.patch      |   2 +-
 .../add-flag-to-hide-fullscreen-exit-ui.patch |   2 +-
 .../add-flag-to-hide-tab-close-buttons.patch  |   4 +-
 .../add-flags-for-existing-switches.patch     |   2 +-
 ...add-flags-for-referrer-customization.patch |  22 +-
 .../add-suggestions-url-field.patch           |  10 +-
 .../add-ungoogled-flag-headers.patch          |   2 +-
 .../disable-capture-all-screens.patch         |   4 +-
 .../disable-download-quarantine.patch         |  11 +-
 .../disable-downloads-page-referrer-url.patch |   6 +-
 ...ble-default-prefetch-privacy-changes.patch |   2 +-
 .../enable-page-saving-on-more-pages.patch    |   4 +-
 .../enable-paste-and-go-new-tab-button.patch  |   6 +-
 .../ungoogled-chromium/first-run-page.patch   |  16 +-
 ...g-without-mdns-and-service-discovery.patch |  10 +
 .../prepopulated-search-engines.patch         |   2 +-
 .../remove-uneeded-ui.patch                   |  90 ++-
 patches/series                                |   1 +
 ...rdware_destructive_interference_size.patch |  25 +
 .../upstream-fixes/missing-dependencies.patch |  22 +-
 pruning.list                                  |  21 +-
 67 files changed, 1231 insertions(+), 880 deletions(-)
 create mode 100644 patches/upstream-fixes/hardware_destructive_interference_size.patch

diff --git a/chromium_version.txt b/chromium_version.txt
index dd86968f5..7dfabbf51 100644
--- a/chromium_version.txt
+++ b/chromium_version.txt
@@ -1 +1 @@
-129.0.6668.100
+130.0.6723.58
diff --git a/devutils/update_lists.py b/devutils/update_lists.py
index 8d9d1451b..6b6fc8d64 100755
--- a/devutils/update_lists.py
+++ b/devutils/update_lists.py
@@ -58,6 +58,8 @@
     'build/android/chromium-debug.keystore',
     'third_party/icu/android/icudtl.dat',
     'third_party/icu/common/icudtb.dat',
+    # Exclusion for rollup v4.0+
+    'third_party/node/node_modules/@rollup/wasm-node/dist/wasm-node/bindings_wasm_bg.wasm',
     # Exclusion for performance tracing
     'third_party/perfetto/src/trace_processor/importers/proto/atoms.descriptor',
     # Exclusions for safe file extensions
diff --git a/domain_substitution.list b/domain_substitution.list
index 421ce0c7b..d5463ff96 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -1,6 +1,7 @@
 BUILD.gn
 PRESUBMIT.py
 PRESUBMIT_test.py
+android_webview/browser/aw_asset_domain_list_include_handler.h
 android_webview/browser/aw_browser_context.cc
 android_webview/browser/aw_content_browser_client.h
 android_webview/browser/aw_field_trials.cc
@@ -50,6 +51,7 @@ ash/assistant/ui/main_stage/suggestion_chip_view_unittest.cc
 ash/assistant/util/deep_link_util.cc
 ash/assistant/util/deep_link_util_unittest.cc
 ash/auth/views/auth_header_view_pixeltest.cc
+ash/birch/birch_coral_provider.cc
 ash/birch/birch_item.cc
 ash/birch/birch_item_unittest.cc
 ash/birch/birch_model_unittest.cc
@@ -142,9 +144,9 @@ ash/system/input_device_settings/device_image_downloader_unittest.cc
 ash/system/input_device_settings/input_device_settings_metrics_manager_unittest.cc
 ash/system/input_device_settings/input_device_settings_notification_controller.cc
 ash/system/input_device_settings/input_device_settings_notification_controller_unittest.cc
-ash/system/mahi/mahi_constants.h
 ash/system/mahi/mahi_content_source_button_unittest.cc
 ash/system/mahi/mahi_panel_view_unittest.cc
+ash/system/nearby_share/nearby_share_detailed_view_impl.cc
 ash/system/notification_center/message_center_test_util.cc
 ash/system/notification_center/notification_grouping_controller_unittest.cc
 ash/system/notification_center/views/ash_notification_view_unittest.cc
@@ -174,12 +176,12 @@ ash/system/video_conference/fake_video_conference_tray_controller.cc
 ash/system/video_conference/video_conference_tray_unittest.cc
 ash/wallpaper/test_wallpaper_controller_client.cc
 ash/wallpaper/wallpaper_image_downloader.cc
+ash/webui/boca_ui/boca_app_page_handler_unittest.cc
 ash/webui/boca_ui/provider/classroom_page_handler_impl.cc
 ash/webui/camera_app_ui/camera_app_untrusted_ui.cc
 ash/webui/camera_app_ui/resources/js/externs/types.d.ts
 ash/webui/camera_app_ui/resources/js/geometry.ts
 ash/webui/camera_app_ui/resources/js/i18n_string.ts
-ash/webui/camera_app_ui/resources/js/lib/analytics.js
 ash/webui/camera_app_ui/resources/js/metrics.ts
 ash/webui/camera_app_ui/resources/js/untrusted_ga_helper.ts
 ash/webui/camera_app_ui/resources/js/views/camera_intent.ts
@@ -188,6 +190,7 @@ ash/webui/camera_app_ui/resources/js/views/document_fix_mode.ts
 ash/webui/camera_app_ui/resources/js/views/settings/primary.ts
 ash/webui/camera_app_ui/resources/strings/camera_strings.grd
 ash/webui/camera_app_ui/resources/utils/cca/commands/check_color_tokens.py
+ash/webui/camera_app_ui/resources/utils/cca/commands/upload.py
 ash/webui/common/resources/PRESUBMIT.py
 ash/webui/common/resources/cr_picture/png.js
 ash/webui/common/resources/keyboard_layouts.js
@@ -204,6 +207,8 @@ ash/webui/diagnostics_ui/resources/touchpad_tester.ts
 ash/webui/eche_app_ui/eche_alert_generator.cc
 ash/webui/eche_app_ui/eche_tray_stream_status_observer_unittest.cc
 ash/webui/firmware_update_ui/resources/PRESUBMIT.py
+ash/webui/graduation/resources/js/graduation_ui.ts
+ash/webui/graduation/url_constants.cc
 ash/webui/help_app_ui/help_app_kids_magazine_untrusted_ui.cc
 ash/webui/help_app_ui/resources/js/help_app.d.ts
 ash/webui/media_app_ui/media_app_guest_ui.cc
@@ -234,9 +239,11 @@ ash/webui/recorder_app_ui/resources/components/onboarding-dialog.ts
 ash/webui/recorder_app_ui/resources/core/externs.d.ts
 ash/webui/recorder_app_ui/resources/core/platform_handler.ts
 ash/webui/recorder_app_ui/resources/core/recording_session.ts
+ash/webui/recorder_app_ui/resources/core/url_constants.ts
 ash/webui/recorder_app_ui/resources/pages/record-page.ts
 ash/webui/recorder_app_ui/resources/platforms/dev/handler.ts
 ash/webui/recorder_app_ui/resources/static/audio_worklet.js
+ash/webui/recorder_app_ui/resources/static/style.css
 ash/webui/scanning/resources/PRESUBMIT.py
 ash/webui/scanning/resources/scanning_app.html
 ash/webui/scanning/resources/scanning_app.ts
@@ -308,11 +315,6 @@ base/files/file_util_posix.cc
 base/files/file_util_unittest.cc
 base/files/file_util_win.cc
 base/files/file_win.cc
-base/fuchsia/filtered_service_directory_unittest.cc
-base/fuchsia/scoped_natural_service_binding_unittest.cc
-base/fuchsia/scoped_natural_service_publisher_unittest.cc
-base/fuchsia/scoped_service_binding_unittest.cc
-base/fuchsia/scoped_service_publisher_unittest.cc
 base/functional/bind_internal.h
 base/functional/callback.h
 base/hash/hash.cc
@@ -395,6 +397,7 @@ base/trace_event/trace_logging_minimal_win.h
 base/tracing/stdlib/chrome/page_loads.sql
 base/tracing/test/test_data.py
 base/values_unittest.cc
+base/win/elevation_util.cc
 base/win/event_trace_consumer.h
 base/win/object_watcher.cc
 base/win/pe_image.h
@@ -472,6 +475,7 @@ build/config/nacl/BUILD.gn
 build/config/nacl/rules.gni
 build/config/ozone.gni
 build/config/sanitizers/sanitizers.gni
+build/config/unsafe_buffers_paths.txt
 build/config/win/BUILD.gn
 build/config/win/control_flow_guard.gni
 build/fuchsia/PRESUBMIT.py
@@ -512,7 +516,6 @@ cc/PRESUBMIT.py
 cc/input/browser_controls_offset_manager.cc
 cc/input/scroll_state.h
 cc/input/scrollbar_controller.h
-cc/layers/heads_up_display_layer_impl.cc
 cc/metrics/average_lag_tracker.h
 cc/metrics/ukm_smoothness_data.h
 cc/paint/paint_image.h
@@ -560,10 +563,12 @@ chrome/app/settings_strings.grdp
 chrome/app/shared_settings_strings.grdp
 chrome/app/theme/PRESUBMIT.py
 chrome/app/welcome_strings.grdp
+chrome/browser/PRESUBMIT.py
 chrome/browser/about_flags.cc
 chrome/browser/accessibility/live_caption/live_caption_speech_recognition_host_browsertest.cc
-chrome/browser/ai/ai_rewriter_unittest.cc
-chrome/browser/ai/ai_writer_unittest.cc
+chrome/browser/ai/ai_test_utils.cc
+chrome/browser/ai/ai_text_session.cc
+chrome/browser/ai/ai_text_session_unittest.cc
 chrome/browser/android/compositor/scene_layer/contextual_search_scene_layer.cc
 chrome/browser/android/cookies/cookies_fetcher_restore_util_browsertest.cc
 chrome/browser/android/customtabs/custom_tabs_browsertest.cc
@@ -698,15 +703,13 @@ chrome/browser/ash/calendar/calendar_client_impl_unittest.cc
 chrome/browser/ash/calendar/calendar_keyed_service.cc
 chrome/browser/ash/calendar/calendar_keyed_service_unittest.cc
 chrome/browser/ash/cert_provisioning/cert_provisioning_test_helpers.cc
+chrome/browser/ash/certs/system_token_cert_db_initializer.h
 chrome/browser/ash/child_accounts/child_user_service.cc
 chrome/browser/ash/child_accounts/family_user_device_metrics_browsertest.cc
 chrome/browser/ash/child_accounts/parent_access_code/parent_access_service_browsertest.cc
 chrome/browser/ash/child_accounts/time_limits/app_time_limit_utils_unittest.cc
 chrome/browser/ash/child_accounts/website_approval_notifier_unittest.cc
-chrome/browser/ash/crosapi/browser_data_back_migrator_browsertest.cc
-chrome/browser/ash/crosapi/browser_data_back_migrator_unittest.cc
 chrome/browser/ash/crosapi/browser_data_migrator_browsertest.cc
-chrome/browser/ash/crosapi/browser_data_migrator_unittest.cc
 chrome/browser/ash/crosapi/browser_manager_unittest.cc
 chrome/browser/ash/crosapi/browser_util_unittest.cc
 chrome/browser/ash/crosapi/local_printer_ash_unittest.cc
@@ -744,7 +747,6 @@ chrome/browser/ash/growth/campaigns_manager_interactive_uitest.cc
 chrome/browser/ash/growth/install_web_app_action_unittest.cc
 chrome/browser/ash/growth/open_url_action_performer_unittest.cc
 chrome/browser/ash/hats/hats_dialog.cc
-chrome/browser/ash/http_auth_dialog.h
 chrome/browser/ash/input_device_settings/peripherals_app_delegate_impl.cc
 chrome/browser/ash/input_method/assistive_input_denylist.cc
 chrome/browser/ash/input_method/assistive_input_denylist_unittest.cc
@@ -752,9 +754,9 @@ chrome/browser/ash/input_method/assistive_suggester_client_filter.cc
 chrome/browser/ash/input_method/assistive_suggester_client_filter_unittest.cc
 chrome/browser/ash/input_method/editor_feedback_unittest.cc
 chrome/browser/ash/input_method/editor_switch_unittest.cc
-chrome/browser/ash/input_method/ui/candidate_window_view.cc
 chrome/browser/ash/integration_tests/featured_integration_test.cc
 chrome/browser/ash/kerberos/kerberos_credentials_manager_unittest.cc
+chrome/browser/ash/lobster/lobster_feedback_unittest.cc
 chrome/browser/ash/login/app_mode/kiosk_launch_controller_unittest.cc
 chrome/browser/ash/login/app_mode/test/kiosk_enterprise_browsertest.cc
 chrome/browser/ash/login/ash_hud_login_browsertest.cc
@@ -797,7 +799,6 @@ chrome/browser/ash/login/test/logged_in_user_mixin.cc
 chrome/browser/ash/login/test/logged_in_user_mixin.h
 chrome/browser/ash/login/test/login_manager_mixin.cc
 chrome/browser/ash/login/test/login_manager_mixin.h
-chrome/browser/ash/login/ui/captive_portal_view.cc
 chrome/browser/ash/login/users/default_user_image/default_user_images.cc
 chrome/browser/ash/login/users/multi_user_sign_in_policy_controller_unittest.cc
 chrome/browser/ash/login/wizard_controller_browsertest.cc
@@ -845,6 +846,7 @@ chrome/browser/ash/policy/remote_commands/crd/crd_oauth_token_fetcher.cc
 chrome/browser/ash/policy/remote_commands/device_command_fetch_support_packet_job_browsertest.cc
 chrome/browser/ash/policy/reporting/metrics_reporting/network/https_latency_events_unittest.cc
 chrome/browser/ash/policy/skyvault/drive_skyvault_uploader_browsertest.cc
+chrome/browser/ash/policy/skyvault/migration_coordinator_browsertest.cc
 chrome/browser/ash/policy/status_collector/child_status_collector_browsertest.cc
 chrome/browser/ash/policy/status_collector/device_status_collector_browsertest.cc
 chrome/browser/ash/policy/status_collector/status_collector.h
@@ -866,17 +868,14 @@ chrome/browser/ash/settings/cros_settings_unittest.cc
 chrome/browser/ash/settings/device_settings_provider_unittest.cc
 chrome/browser/ash/smb_client/smb_service_helper.h
 chrome/browser/ash/sync/synced_session_client_ash_unittest.cc
-chrome/browser/ash/system_token_cert_db_initializer.h
 chrome/browser/ash/system_web_apps/apps/camera_app/camera_app_integration_browsertest.cc
 chrome/browser/ash/system_web_apps/apps/files_internals_ui_delegate.cc
 chrome/browser/ash/system_web_apps/apps/help_app/help_app_notification_controller_unittest.cc
 chrome/browser/ash/system_web_apps/apps/personalization_app/personalization_app_sea_pen_provider_impl_unittest.cc
 chrome/browser/ash/system_web_apps/apps/personalization_app/personalization_app_utils_unittest.cc
-chrome/browser/ash/tpm_firmware_update.h
+chrome/browser/ash/tpm/tpm_firmware_update.h
 chrome/browser/ash/trusted_vault/trusted_vault_backend_ash_unittest.cc
 chrome/browser/ash/u2f/u2f_notification.cc
-chrome/browser/ash/url_handler/os_url_handler_browsertest.cc
-chrome/browser/ash/url_handler/url_handler_browsertest.cc
 chrome/browser/ash/wallpaper_handlers/sea_pen_fetcher.cc
 chrome/browser/ash/wallpaper_handlers/wallpaper_handlers.cc
 chrome/browser/ash/wallpaper_handlers/wallpaper_handlers_unittest.cc
@@ -965,6 +964,7 @@ chrome/browser/companion/core/utils_unittest.cc
 chrome/browser/companion/visual_query/visual_query_suggestions_service.cc
 chrome/browser/complex_tasks/task_tab_helper_unittest.cc
 chrome/browser/component_updater/recovery_component_installer.cc
+chrome/browser/component_updater/translate_kit_component_installer.cc
 chrome/browser/compose/chrome_compose_client_unittest.cc
 chrome/browser/compose/compose_enabling_unittest.cc
 chrome/browser/compose/compose_session.cc
@@ -976,6 +976,7 @@ chrome/browser/content_settings/host_content_settings_map_unittest.cc
 chrome/browser/content_settings/sound_content_setting_observer_unittest.cc
 chrome/browser/custom_handlers/protocol_handler_registry_browsertest.cc
 chrome/browser/data_sharing/desktop/data_sharing_conversion_utils_unittest.cc
+chrome/browser/data_sharing/desktop/data_sharing_service_browsertest.cc
 chrome/browser/device_identity/device_oauth2_token_service_unittest.cc
 chrome/browser/device_notifications/device_connection_tracker_unittest.cc
 chrome/browser/devtools/aida_client.cc
@@ -1108,13 +1109,13 @@ chrome/browser/extensions/api/web_request/web_request_permissions_unittest.cc
 chrome/browser/extensions/api/webrtc_audio_private/webrtc_audio_private_browsertest.cc
 chrome/browser/extensions/api/webstore_private/extension_install_status_unittest.cc
 chrome/browser/extensions/background_xhr_browsertest.cc
-chrome/browser/extensions/chrome_extension_browser_constants.cc
 chrome/browser/extensions/chrome_extension_function_details.cc
 chrome/browser/extensions/component_extensions_allowlist/allowlist.h
 chrome/browser/extensions/content_script_apitest.cc
 chrome/browser/extensions/convert_user_script_unittest.cc
 chrome/browser/extensions/crx_installer_browsertest.cc
 chrome/browser/extensions/cws_info_service.cc
+chrome/browser/extensions/desktop_android/desktop_android_extensions_browsertest.cc
 chrome/browser/extensions/extension_action_runner_unittest.cc
 chrome/browser/extensions/extension_browser_window_helper.cc
 chrome/browser/extensions/extension_browsertest.cc
@@ -1152,6 +1153,7 @@ chrome/browser/extensions/permissions/permissions_updater.cc
 chrome/browser/extensions/permissions/permissions_updater_unittest.cc
 chrome/browser/extensions/permissions/scripting_permissions_modifier.h
 chrome/browser/extensions/permissions/scripting_permissions_modifier_unittest.cc
+chrome/browser/extensions/permissions_url_constants.cc
 chrome/browser/extensions/policy_handlers_unittest.cc
 chrome/browser/extensions/process_management_browsertest.cc
 chrome/browser/extensions/script_injection_tracker_browsertest.cc
@@ -1161,6 +1163,7 @@ chrome/browser/extensions/updater/extension_updater_unittest.cc
 chrome/browser/extensions/user_script_listener_unittest.cc
 chrome/browser/extensions/webstore_domain_browsertest.cc
 chrome/browser/extensions/webstore_installer_browsertest.cc
+chrome/browser/extensions/webstore_reinstaller_browsertest.cc
 chrome/browser/external_protocol/external_protocol_handler.cc
 chrome/browser/external_protocol/external_protocol_handler_browsertest.cc
 chrome/browser/fast_checkout/fast_checkout_capabilities_fetcher_impl.cc
@@ -1220,6 +1223,7 @@ chrome/browser/long_screenshots/long_screenshots_tab_service_unittest.cc
 chrome/browser/lookalikes/lookalike_url_navigation_throttle.cc
 chrome/browser/lookalikes/lookalike_url_navigation_throttle_browsertest.cc
 chrome/browser/lookalikes/safety_tip_message_delegate_android_unittest.cc
+chrome/browser/mac/code_sign_clone_manager_unittest.mm
 chrome/browser/media/media_engagement_contents_observer_unittest.cc
 chrome/browser/media/media_engagement_preloaded_list_unittest.cc
 chrome/browser/media/media_engagement_score_unittest.cc
@@ -1292,16 +1296,12 @@ chrome/browser/net/stub_resolver_config_reader_browsertest.cc
 chrome/browser/net/system_network_context_manager_browsertest.cc
 chrome/browser/new_tab_page/modules/file_suggestion/drive_service.cc
 chrome/browser/new_tab_page/modules/file_suggestion/drive_service_unittest.cc
-chrome/browser/new_tab_page/modules/history_clusters/history_clusters_module_util.cc
-chrome/browser/new_tab_page/modules/history_clusters/ranking/history_clusters_module_ranking_model_handler.cc
-chrome/browser/new_tab_page/modules/history_clusters/ranking/history_clusters_module_ranking_model_handler_unittest.cc
 chrome/browser/new_tab_page/modules/new_tab_page_modules_interactive_uitest.cc
 chrome/browser/new_tab_page/modules/new_tab_page_modules_unittest.cc
 chrome/browser/new_tab_page/modules/v2/calendar/google_calendar_page_handler.cc
 chrome/browser/new_tab_page/modules/v2/calendar/google_calendar_page_handler_unittest.cc
 chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.cc
 chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler_unittest.cc
-chrome/browser/new_tab_page/modules/v2/tab_resumption/tab_resumption_util.h
 chrome/browser/new_tab_page/one_google_bar/one_google_bar_loader_impl.cc
 chrome/browser/new_tab_page/promos/promo_service_unittest.cc
 chrome/browser/no_best_effort_tasks_browsertest.cc
@@ -1437,6 +1437,7 @@ chrome/browser/private_network_access/private_network_device_chooser_controller_
 chrome/browser/process_singleton_posix.cc
 chrome/browser/process_singleton_posix_unittest.cc
 chrome/browser/process_singleton_win.cc
+chrome/browser/profile_resetter/profile_resetter.cc
 chrome/browser/profile_resetter/profile_resetter_unittest.cc
 chrome/browser/profile_resetter/reset_report_uploader.cc
 chrome/browser/profiles/gaia_info_update_service_unittest.cc
@@ -1556,7 +1557,10 @@ chrome/browser/resources/chromeos/login/screens/login/encryption_migration.ts
 chrome/browser/resources/chromeos/login/screens/login/offline_login.html
 chrome/browser/resources/chromeos/login/screens/login/offline_login.ts
 chrome/browser/resources/chromeos/multidevice_internals/browser_tabs_metadata_form.js
+chrome/browser/resources/chromeos/nearby_share/shared/nearby_shared_icons.html
+chrome/browser/resources/chromeos/nearby_share/shared/nearby_shared_share_type_icons.html
 chrome/browser/resources/chromeos/parent_access/parent_access_ui.ts
+chrome/browser/resources/data_sharing/dummy_data_sharing_sdk.ts
 chrome/browser/resources/default_apps/external_extensions.json
 chrome/browser/resources/downloads/icons.html
 chrome/browser/resources/extensions/detail_view.ts
@@ -1572,14 +1576,10 @@ chrome/browser/resources/hangout_services/manifest_v2.json
 chrome/browser/resources/hangout_services/manifest_v3.json
 chrome/browser/resources/hats/hats.ts
 chrome/browser/resources/inspect/inspect.html
-chrome/browser/resources/internals/query_tiles/query_tiles_internals.html
-chrome/browser/resources/internals/query_tiles/query_tiles_internals.ts
 chrome/browser/resources/key_value_pair_viewer_shared/key_value_pair_entry.ts
 chrome/browser/resources/media/mei_preload/manifest.json
 chrome/browser/resources/media/webrtc_logs.ts
 chrome/browser/resources/media_router/cast_feedback/cast_feedback_ui.ts
-chrome/browser/resources/nearby_share/shared/nearby_shared_icons.html
-chrome/browser/resources/nearby_share/shared/nearby_shared_share_type_icons.html
 chrome/browser/resources/net_internals/domain_security_policy_view.js
 chrome/browser/resources/net_internals/index.html
 chrome/browser/resources/network_speech_synthesis/manifest.json
@@ -1602,7 +1602,7 @@ chrome/browser/resources/pdf/ink/drawing_canvas.d.ts
 chrome/browser/resources/print_preview/data/destination_store.ts
 chrome/browser/resources/print_preview/ui/icons.html
 chrome/browser/resources/privacy_sandbox/internals/private_state_tokens/list_container.html.ts
-chrome/browser/resources/privacy_sandbox/internals/related_website_sets/related_website_sets_list_container.html.ts
+chrome/browser/resources/privacy_sandbox/internals/related_website_sets/list_container.html.ts
 chrome/browser/resources/reading_mode_gdocs_helper/manifest.json
 chrome/browser/resources/segmentation_internals/segmentation_survey.ts
 chrome/browser/resources/settings/a11y_page/a11y_page.ts
@@ -1617,7 +1617,7 @@ chrome/browser/resources/settings/languages_page/edit_dictionary_page.ts
 chrome/browser/resources/settings/settings_shared.css
 chrome/browser/resources/side_panel/read_anything/read_anything_toolbar.ts
 chrome/browser/resources/side_panel/read_anything/voice_language_util.ts
-chrome/browser/resources/tab_search/declutter/declutter_page.ts
+chrome/browser/resources/suggest_internals/request.ts
 chrome/browser/resources/usb_internals/descriptor_panel.ts
 chrome/browser/resources/webstore_app/manifest.json
 chrome/browser/resources/webui_gallery/demos/card/card_demo.ts
@@ -1689,7 +1689,8 @@ chrome/browser/signin/bound_session_credentials/bound_session_cookie_refresh_ser
 chrome/browser/signin/bound_session_credentials/bound_session_cookie_refresh_service_impl_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_params_storage_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_params_util_unittest.cc
-chrome/browser/signin/bound_session_credentials/bound_session_refresh_cookie_fetcher_impl.cc
+chrome/browser/signin/bound_session_credentials/bound_session_refresh_cookie_debug_report_fetcher_unittest.cc
+chrome/browser/signin/bound_session_credentials/bound_session_refresh_cookie_fetcher.cc
 chrome/browser/signin/bound_session_credentials/bound_session_refresh_cookie_fetcher_impl_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_registration_fetcher_impl.cc
 chrome/browser/signin/bound_session_credentials/bound_session_registration_fetcher_impl_unittest.cc
@@ -1734,6 +1735,7 @@ chrome/browser/startup_data.h
 chrome/browser/storage/durable_storage_permission_context_unittest.cc
 chrome/browser/storage/shared_storage_browsertest.cc
 chrome/browser/storage_access_api/api_browsertest.cc
+chrome/browser/storage_access_api/storage_access_header_service_browsertest.cc
 chrome/browser/subresource_filter/subresource_filter_browsertest.cc
 chrome/browser/subresource_filter/subresource_filter_fenced_frame_browsertest.cc
 chrome/browser/supervised_user/android/java/res/drawable/ic_family_link.xml
@@ -1772,6 +1774,7 @@ chrome/browser/sync/test/integration/two_client_custom_passphrase_sync_test.cc
 chrome/browser/sync/test/integration/two_client_history_sync_test.cc
 chrome/browser/sync/test/integration/two_client_power_bookmarks_sync_test.cc
 chrome/browser/sync/test/integration/two_client_preferences_sync_test.cc
+chrome/browser/sync/test/integration/two_client_shared_tab_group_data_sync_test.cc
 chrome/browser/sync/test/integration/two_client_user_events_sync_test.cc
 chrome/browser/sync/test/integration/two_client_web_apps_bmo_sync_test.cc
 chrome/browser/sync/test/integration/two_client_web_apps_sync_test.cc
@@ -1785,48 +1788,55 @@ chrome/browser/tpcd/heuristics/opener_heuristic_browsertest.cc
 chrome/browser/tpcd/heuristics/opener_heuristic_utils.cc
 chrome/browser/tpcd/heuristics/opener_heuristic_utils_unittest.cc
 chrome/browser/translate/translate_manager_browsertest.cc
-chrome/browser/translate/translate_manager_render_view_host_android_unittest.cc
 chrome/browser/translate/translate_manager_render_view_host_unittest.cc
 chrome/browser/trusted_vault/trusted_vault_encryption_keys_tab_helper_browsertest.cc
 chrome/browser/ui/android/plus_addresses/all_plus_addresses_bottom_sheet_view_browsertest.cc
 chrome/browser/ui/android/strings/android_chrome_strings.grd
 chrome/browser/ui/ash/app_list/app_list_interactive_uitest.cc
-chrome/browser/ui/ash/arc_open_url_delegate_impl_browsertest.cc
-chrome/browser/ui/ash/ash_web_view_impl_browsertest.cc
+chrome/browser/ui/ash/arc/arc_open_url_delegate_impl_browsertest.cc
 chrome/browser/ui/ash/assistant/assistant_state_client_unittest.cc
 chrome/browser/ui/ash/assistant/assistant_test_mixin.cc
 chrome/browser/ui/ash/birch/birch_browsertest.cc
 chrome/browser/ui/ash/birch/birch_calendar_fetcher.cc
 chrome/browser/ui/ash/birch/birch_calendar_fetcher_unittest.cc
+chrome/browser/ui/ash/birch/birch_coral_provider_browsertest.cc
 chrome/browser/ui/ash/birch/birch_keyed_service_unittest.cc
 chrome/browser/ui/ash/birch/birch_lost_media_provider.cc
 chrome/browser/ui/ash/birch/refresh_token_waiter_unittest.cc
 chrome/browser/ui/ash/capture_mode/sunfish_browsertest.cc
-chrome/browser/ui/ash/chrome_shell_delegate.cc
 chrome/browser/ui/ash/desks/desks_client_browsertest.cc
+chrome/browser/ui/ash/focus_mode/certificate_manager.cc
+chrome/browser/ui/ash/focus_mode/certificate_manager_unittest.cc
+chrome/browser/ui/ash/focus_mode/signature_builder.h
 chrome/browser/ui/ash/glanceables/glanceables_browsertest.cc
 chrome/browser/ui/ash/glanceables/glanceables_classroom_client_impl.cc
 chrome/browser/ui/ash/glanceables/glanceables_classroom_client_impl_unittest.cc
 chrome/browser/ui/ash/glanceables/glanceables_keyed_service.cc
-chrome/browser/ui/ash/google_one_offer_iph_tab_helper.cc
-chrome/browser/ui/ash/google_one_offer_iph_tab_helper_browsertest.cc
-chrome/browser/ui/ash/google_one_offer_iph_tab_helper_constants.h
+chrome/browser/ui/ash/google_one/google_one_offer_iph_tab_helper.cc
+chrome/browser/ui/ash/google_one/google_one_offer_iph_tab_helper_browsertest.cc
+chrome/browser/ui/ash/google_one/google_one_offer_iph_tab_helper_constants.h
 chrome/browser/ui/ash/holding_space/holding_space_keyed_service_unittest.cc
-chrome/browser/ui/ash/in_session_auth_dialog_client.cc
+chrome/browser/ui/ash/in_session_auth/in_session_auth_dialog_client.cc
+chrome/browser/ui/ash/input_method/candidate_window_view.cc
+chrome/browser/ui/ash/login/captive_portal_view.cc
 chrome/browser/ui/ash/network/network_portal_signin_controller_browsertest.cc
 chrome/browser/ui/ash/network/network_portal_signin_controller_unittest.cc
+chrome/browser/ui/ash/picker/picker_client_impl_unittest.cc
+chrome/browser/ui/ash/picker/picker_link_suggester.cc
 chrome/browser/ui/ash/projector/pending_screencast_manager.cc
 chrome/browser/ui/ash/projector/pending_screencast_manager_browsertest.cc
 chrome/browser/ui/ash/projector/projector_navigation_throttle_browsertest.cc
-chrome/browser/ui/ash/session_controller_client_impl_unittest.cc
+chrome/browser/ui/ash/session/session_controller_client_impl_unittest.cc
 chrome/browser/ui/ash/shelf/app_shortcut_shelf_item_controller.cc
 chrome/browser/ui/ash/shelf/browser_app_shelf_item_controller.cc
 chrome/browser/ui/ash/shelf/browser_shortcut_shelf_item_controller.cc
 chrome/browser/ui/ash/shelf/chrome_shelf_controller_unittest.cc
 chrome/browser/ui/ash/shelf/chrome_shelf_prefs_unittest.cc
-chrome/browser/ui/ash/system_tray_client_impl.cc
-chrome/browser/ui/ash/system_tray_client_impl_browsertest.cc
-chrome/browser/ui/ash/wallpaper_controller_client_impl.cc
+chrome/browser/ui/ash/shell_delegate/chrome_shell_delegate.cc
+chrome/browser/ui/ash/system/system_tray_client_impl.cc
+chrome/browser/ui/ash/system/system_tray_client_impl_browsertest.cc
+chrome/browser/ui/ash/wallpaper/wallpaper_controller_client_impl.cc
+chrome/browser/ui/ash/web_view/ash_web_view_impl_browsertest.cc
 chrome/browser/ui/autofill/address_editor_controller_unittest.cc
 chrome/browser/ui/autofill/autofill_bubble_signin_promo_controller_unittest.cc
 chrome/browser/ui/autofill/autofill_signin_promo_tab_helper_browsertest.cc
@@ -1860,6 +1870,7 @@ chrome/browser/ui/cocoa/history_menu_cocoa_controller_unittest.mm
 chrome/browser/ui/cocoa/share_menu_controller.mm
 chrome/browser/ui/cocoa/share_menu_controller_browsertest.mm
 chrome/browser/ui/commerce/price_tracking_page_action_controller.cc
+chrome/browser/ui/commerce/product_specifications_entry_point_controller.cc
 chrome/browser/ui/content_settings/content_setting_bubble_model_unittest.cc
 chrome/browser/ui/content_settings/content_setting_image_model_unittest.cc
 chrome/browser/ui/crypto_module_password_dialog_nss.cc
@@ -1873,12 +1884,14 @@ chrome/browser/ui/global_media_controls/presentation_request_notification_produc
 chrome/browser/ui/hid/hid_chooser_controller_unittest.cc
 chrome/browser/ui/intent_picker_tab_helper_unittest.cc
 chrome/browser/ui/lens/lens_overlay_controller_browsertest.cc
+chrome/browser/ui/lens/lens_overlay_gen204_controller.cc
 chrome/browser/ui/lens/lens_overlay_query_controller.cc
 chrome/browser/ui/lens/lens_overlay_query_controller_unittest.cc
 chrome/browser/ui/lens/lens_overlay_side_panel_coordinator.cc
 chrome/browser/ui/lens/lens_overlay_side_panel_navigation_throttle_unittest.cc
+chrome/browser/ui/lens/lens_overlay_untrusted_ui.cc
 chrome/browser/ui/lens/lens_overlay_url_builder_unittest.cc
-chrome/browser/ui/lens/lens_untrusted_ui.cc
+chrome/browser/ui/lens/lens_side_panel_untrusted_ui.cc
 chrome/browser/ui/login/http_auth_coordinator.h
 chrome/browser/ui/managed_ui.cc
 chrome/browser/ui/managed_ui_browsertest.cc
@@ -1897,7 +1910,6 @@ chrome/browser/ui/passwords/password_manager_navigation_throttle_unittest.cc
 chrome/browser/ui/passwords/well_known_change_password_navigation_throttle.cc
 chrome/browser/ui/passwords/well_known_change_password_navigation_throttle_browsertest.cc
 chrome/browser/ui/passwords/well_known_change_password_navigation_throttle_unittest.cc
-chrome/browser/ui/pdf/adobe_reader_info_win.cc
 chrome/browser/ui/profiles/profile_picker_unittest.cc
 chrome/browser/ui/quick_answers/quick_answers_state_ash_unittest.cc
 chrome/browser/ui/quick_answers/ui/quick_answers_util.cc
@@ -1950,6 +1962,7 @@ chrome/browser/ui/views/bookmarks/bookmark_bubble_view_browsertest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bubble_view_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_context_menu_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_menu_delegate_unittest.cc
+chrome/browser/ui/views/bookmarks/move_bookmark_to_account_dialog_browsertest.cc
 chrome/browser/ui/views/borealis/borealis_disallowed_dialog.cc
 chrome/browser/ui/views/commerce/price_tracking_bubble_dialog_view_unittest.cc
 chrome/browser/ui/views/commerce/price_tracking_email_dialog_view.cc
@@ -1999,7 +2012,7 @@ chrome/browser/ui/views/profiles/profile_picker_view_browsertest.cc
 chrome/browser/ui/views/profiles/profiles_pixel_test_utils.cc
 chrome/browser/ui/views/profiles/sync_confirmation_ui_browsertest.cc
 chrome/browser/ui/views/qrcode_generator/qrcode_generator_bubble_unittest.cc
-chrome/browser/ui/views/select_file_dialog_extension_browsertest.cc
+chrome/browser/ui/views/select_file_dialog_extension/select_file_dialog_extension_browsertest.cc
 chrome/browser/ui/views/session_crashed_bubble_view.cc
 chrome/browser/ui/views/sharing/click_to_call_browsertest.cc
 chrome/browser/ui/views/sharing/sharing_dialog_view_unittest.cc
@@ -2041,7 +2054,6 @@ chrome/browser/ui/webui/ash/cloud_upload/cloud_upload_dialog.cc
 chrome/browser/ui/webui/ash/cloud_upload/cloud_upload_dialog_browsertest.cc
 chrome/browser/ui/webui/ash/cloud_upload/drive_upload_handler.cc
 chrome/browser/ui/webui/ash/cloud_upload/drive_upload_handler_browsertest.cc
-chrome/browser/ui/webui/ash/edu_account_login_handler_unittest.cc
 chrome/browser/ui/webui/ash/edu_coexistence/edu_coexistence_login_handler.cc
 chrome/browser/ui/webui/ash/emoji/gif_tenor_api_fetcher.cc
 chrome/browser/ui/webui/ash/login/consolidated_consent_screen_handler.h
@@ -2070,7 +2082,6 @@ chrome/browser/ui/webui/extensions/extensions_internals_unittest.cc
 chrome/browser/ui/webui/favicon_source_unittest.cc
 chrome/browser/ui/webui/hats/hats_ui.cc
 chrome/browser/ui/webui/history/browsing_history_handler_unittest.cc
-chrome/browser/ui/webui/history_clusters/history_clusters_handler_unittest.cc
 chrome/browser/ui/webui/interstitials/interstitial_ui.cc
 chrome/browser/ui/webui/log_web_ui_url_unittest.cc
 chrome/browser/ui/webui/management/management_ui_handler_unittest.cc
@@ -2087,6 +2098,7 @@ chrome/browser/ui/webui/password_manager/promo_cards/access_on_any_device_promo.
 chrome/browser/ui/webui/password_manager/sync_handler_unittest.cc
 chrome/browser/ui/webui/policy/policy_ui_browsertest.cc
 chrome/browser/ui/webui/print_preview/pdf_printer_handler_unittest.cc
+chrome/browser/ui/webui/privacy_sandbox/privacy_sandbox_dialog_untrusted_ui.cc
 chrome/browser/ui/webui/privacy_sandbox/privacy_sandbox_internals_handler_browsertest.cc
 chrome/browser/ui/webui/privacy_sandbox/private_state_tokens/private_state_tokens_handler.cc
 chrome/browser/ui/webui/profile_info_watcher.h
@@ -2096,7 +2108,6 @@ chrome/browser/ui/webui/settings/about_handler_unittest.cc
 chrome/browser/ui/webui/settings/on_startup_handler_unittest.cc
 chrome/browser/ui/webui/settings/people_handler_unittest.cc
 chrome/browser/ui/webui/settings/profile_info_handler_unittest.cc
-chrome/browser/ui/webui/settings/reset_settings_handler.cc
 chrome/browser/ui/webui/settings/safety_check_handler_unittest.cc
 chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 chrome/browser/ui/webui/settings/settings_manage_profile_handler_unittest.cc
@@ -2112,6 +2123,7 @@ chrome/browser/ui/webui/side_panel/customize_chrome/wallpaper_search/wallpaper_s
 chrome/browser/ui/webui/side_panel/customize_chrome/wallpaper_search/wallpaper_search_interactive_uitest.cc
 chrome/browser/ui/webui/side_panel/read_anything/read_anything_untrusted_ui.cc
 chrome/browser/ui/webui/side_panel/reading_list/reading_list_page_handler_unittest.cc
+chrome/browser/ui/webui/signin/ash/edu_account_login_handler_unittest.cc
 chrome/browser/ui/webui/signin/ash/inline_login_handler_impl_browsertest.cc
 chrome/browser/ui/webui/signin/ash/signin_helper_browsertest.cc
 chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher.cc
@@ -2179,7 +2191,7 @@ chrome/browser/web_applications/web_app_install_utils_unittest.cc
 chrome/browser/web_applications/web_app_provider.cc
 chrome/browser/web_applications/web_contents/web_app_icon_downloader_unittest.cc
 chrome/browser/webapps/installable/installable_manager_browsertest.cc
-chrome/browser/webauthn/authenticator_request_dialog_model.cc
+chrome/browser/webauthn/authenticator_request_dialog_controller.cc
 chrome/browser/webauthn/cablev2_devices.h
 chrome/browser/webauthn/chrome_authenticator_request_delegate.cc
 chrome/browser/webauthn/chrome_authenticator_request_delegate_unittest.cc
@@ -2393,6 +2405,7 @@ chrome/services/sharing/nearby/platform/wifi_direct_socket.cc
 chrome/services/sharing/nearby/quick_start_decoder/quick_start_decoder_unittest.cc
 chrome/services/util_win/av_products.cc
 chrome/test/base/android/android_browser_test.h
+chrome/test/base/ash/interactive/interactive_ash_test.cc
 chrome/test/base/ash/js2gtest.js
 chrome/test/base/chromeos/crosier/chromeos_integration_login_mixin.cc
 chrome/test/base/chromeos/crosier/chromeos_integration_login_mixin.h
@@ -2401,6 +2414,7 @@ chrome/test/base/chromeos/crosier/helper/reset_dut.py
 chrome/test/base/fake_gaia_mixin.cc
 chrome/test/base/fake_gaia_mixin.h
 chrome/test/base/in_process_browser_test_browsertest.cc
+chrome/test/base/platform_browser_test.h
 chrome/test/chromedriver/capabilities_unittest.cc
 chrome/test/chromedriver/chrome/chrome_desktop_impl.cc
 chrome/test/chromedriver/chrome/chrome_finder.cc
@@ -2415,7 +2429,6 @@ chrome/test/chromedriver/net/pipe_builder.cc
 chrome/test/chromedriver/net/websocket.cc
 chrome/test/chromedriver/server/chromedriver_server.cc
 chrome/test/chromedriver/session_commands.cc
-chrome/test/chromedriver/test/run_java_tests.py
 chrome/test/chromedriver/test/run_py_tests.py
 chrome/test/chromedriver/window_commands.cc
 chrome/test/chromedriver/window_commands_unittest.cc
@@ -2538,8 +2551,10 @@ chromeos/BUILD.gn
 chromeos/ash/components/attestation/attestation_flow_adaptive_unittest.cc
 chromeos/ash/components/attestation/attestation_flow_integrated_unittest.cc
 chromeos/ash/components/boca/babelorca/tachyon_constants.h
+chromeos/ash/components/boca/boca_session_manager_unittest.cc
 chromeos/ash/components/boca/session_api/constants.h
 chromeos/ash/components/boca/session_api/create_session_request_unittest.cc
+chromeos/ash/components/boca/session_api/get_session_request_unittest.cc
 chromeos/ash/components/carrier_lock/fcm_topic_subscriber_unittest.cc
 chromeos/ash/components/carrier_lock/provisioning_config_fetcher_impl.cc
 chromeos/ash/components/carrier_lock/provisioning_config_fetcher_unittest.cc
@@ -2564,9 +2579,10 @@ chromeos/ash/components/file_manager/indexing/file_index_service_registry_unitte
 chromeos/ash/components/fwupd/firmware_update_manager.cc
 chromeos/ash/components/fwupd/firmware_update_manager_unittest.cc
 chromeos/ash/components/geolocation/simple_geolocation_provider.h
-chromeos/ash/components/growth/campaigns_constants.cc
 chromeos/ash/components/growth/campaigns_manager_unittest.cc
 chromeos/ash/components/growth/campaigns_model.h
+chromeos/ash/components/growth/campaigns_utils.cc
+chromeos/ash/components/http_auth_dialog/http_auth_dialog.h
 chromeos/ash/components/local_search_service/content_extraction_utils_unittest.cc
 chromeos/ash/components/login/auth/recovery/service_constants.cc
 chromeos/ash/components/multidevice/remote_device_test_util.cc
@@ -2687,12 +2703,12 @@ components/autofill/core/browser/metrics/autofill_metrics_test_base.cc
 components/autofill/core/browser/metrics/autofill_metrics_unittest.cc
 components/autofill/core/browser/metrics/profile_deduplication_metrics_unittest.cc
 components/autofill/core/browser/metrics/quality_metrics_unittest.cc
-components/autofill/core/browser/metrics/shadow_prediction_metrics_unittest.cc
 components/autofill/core/browser/ml_model/autofill_ml_prediction_model_handler.cc
 components/autofill/core/browser/ml_model/autofill_ml_prediction_model_handler_unittest.cc
 components/autofill/core/browser/payments/autofill_offer_manager_unittest.cc
 components/autofill/core/browser/payments/constants.h
-components/autofill/core/browser/payments/credit_card_access_manager_unittest.cc
+components/autofill/core/browser/payments/credit_card_access_manager_test_base.cc
+components/autofill/core/browser/payments/credit_card_access_manager_test_base.h
 components/autofill/core/browser/payments/credit_card_fido_authenticator.cc
 components/autofill/core/browser/payments/credit_card_fido_authenticator_unittest.cc
 components/autofill/core/browser/payments/credit_card_otp_authenticator_unittest.cc
@@ -2734,6 +2750,7 @@ components/breadcrumbs/core/breadcrumb_manager_tab_helper.cc
 components/breadcrumbs/core/breadcrumb_manager_tab_helper.h
 components/browser_sync/PRESUBMIT.py
 components/browser_sync/sync_client_utils_unittest.cc
+components/browser_sync/sync_internals_message_handler_unittest.cc
 components/browser_ui/strings/android/browser_ui_strings.grd
 components/browser_ui/strings/android/site_settings.grdp
 components/browsing_data/content/browsing_data_helper_unittest.cc
@@ -2785,6 +2802,7 @@ components/contextual_search/core/browser/contextual_search_delegate_impl_unitte
 components/continuous_search/browser/search_result_extractor_client_unittest.cc
 components/country_codes/country_codes.cc
 components/crash/core/app/crash_export_thunks.h
+components/crash/core/app/crash_reporter_client.cc
 components/crash/core/browser/resources/crashes.ts
 components/crash/core/common/crash_key.h
 components/cronet/PRESUBMIT.py
@@ -2792,6 +2810,7 @@ components/cronet/android/test/javaperftests/AndroidManifest.xml
 components/cronet/android/test/javatests/AndroidManifest.xml
 components/cronet/gn2bp/gen_android_bp.py
 components/cronet/gn2bp/gn_utils.py
+components/cronet/license/license_utils.py
 components/cronet/native/cronet.idl
 components/cronet/native/perftest/perf_test.cc
 components/cronet/tools/cr_cronet.py
@@ -2799,6 +2818,7 @@ components/cronet/tools/utils.py
 components/custom_handlers/protocol_handler_registry_unittest.cc
 components/data_sharing/internal/data_sharing_service_impl_unittest.cc
 components/data_sharing/internal/group_data_proto_utils_unittest.cc
+components/data_sharing/internal/preview_server_proxy.cc
 components/data_sharing/public/data_sharing_network_utils.h
 components/data_sharing/public/features.cc
 components/desks_storage/core/admin_template_service_unittests.cc
@@ -2828,13 +2848,15 @@ components/drive/service/drive_api_service.cc
 components/drive/service/fake_drive_service.cc
 components/embedder_support/android/BUILD.gn
 components/endpoint_fetcher/endpoint_fetcher_unittest.cc
+components/enterprise/connectors/core/connectors_manager_base_unittest.cc
+components/enterprise/connectors/core/connectors_service_base_unittest.cc
 components/enterprise/connectors/core/reporting_service_settings_unittest.cc
 components/enterprise/connectors/core/service_provider_config.cc
 components/enterprise/connectors/core/service_provider_config_unittest.cc
 components/enterprise/data_controls/core/browser/conditions/attributes_condition_unittest.cc
 components/enterprise/data_controls/core/browser/data_controls_policy_handler_unittest.cc
 components/enterprise/data_controls/core/browser/rule_unittest.cc
-components/enterprise/obfuscation/core/utils.cc
+components/enterprise/obfuscation/core/utils.h
 components/error_page/common/localized_error.cc
 components/error_page_strings.grdp
 components/exo/data_offer_unittest.cc
@@ -2935,7 +2957,8 @@ components/invalidation/impl/fcm_invalidation_service_unittest.cc
 components/invalidation/impl/per_user_topic_subscription_manager.cc
 components/invalidation/impl/per_user_topic_subscription_manager_unittest.cc
 components/ip_protection/common/ip_protection_config_http.cc
-components/ip_protection/common/ip_protection_proxy_config_retriever.cc
+components/ip_protection/common/ip_protection_proxy_config_direct_fetcher.cc
+components/ip_protection/common/masked_domain_list_manager_unittest.cc
 components/javascript_dialogs/tab_modal_dialog_manager.cc
 components/javascript_dialogs_strings.grdp
 components/keyed_service/core/keyed_service_base_factory.cc
@@ -2950,8 +2973,10 @@ components/lookalikes/core/lookalike_url_util.cc
 components/lookalikes/core/lookalike_url_util.h
 components/lookalikes/core/lookalike_url_util_unittest.cc
 components/management_strings.grdp
+components/manta/anchovy/anchovy_proto_helper.cc
 components/manta/base_provider.cc
 components/manta/base_provider_test_helper.cc
+components/manta/mahi_provider.cc
 components/manta/manta_service_callbacks.cc
 components/manta/orca_provider.cc
 components/manta/orca_provider_unittest.cc
@@ -2967,6 +2992,7 @@ components/media_router/common/providers/cast/cast_media_source_unittest.cc
 components/media_router/common/providers/cast/certificate/net_trust_store.cc
 components/media_router/common/providers/cast/channel/BUILD.gn
 components/media_router/common/providers/cast/channel/enum_table.h
+components/metrics/debug/app.ts
 components/metrics/metrics_state_manager.h
 components/metrics/metrics_state_manager_unittest.cc
 components/metrics/net/net_metrics_log_uploader.cc
@@ -3005,12 +3031,14 @@ components/omnibox/browser/autocomplete_controller.h
 components/omnibox/browser/autocomplete_controller_metrics_unittest.cc
 components/omnibox/browser/autocomplete_controller_unittest.cc
 components/omnibox/browser/autocomplete_input.cc
+components/omnibox/browser/autocomplete_match.cc
 components/omnibox/browser/autocomplete_match.h
 components/omnibox/browser/autocomplete_match_type_unittest.cc
 components/omnibox/browser/autocomplete_match_unittest.cc
 components/omnibox/browser/autocomplete_result.cc
 components/omnibox/browser/autocomplete_result_unittest.cc
 components/omnibox/browser/autocomplete_scoring_model_handler_unittest.cc
+components/omnibox/browser/autocomplete_scoring_model_service.cc
 components/omnibox/browser/base_search_provider_unittest.cc
 components/omnibox/browser/builtin_provider_unittest.cc
 components/omnibox/browser/document_provider.cc
@@ -3040,7 +3068,6 @@ components/omnibox/browser/omnibox_field_trial.h
 components/omnibox/browser/omnibox_view_unittest.cc
 components/omnibox/browser/on_device_head_provider_unittest.cc
 components/omnibox/browser/on_device_tail_model_service_unittest.cc
-components/omnibox/browser/query_tile_provider_unittest.cc
 components/omnibox/browser/remote_suggestions_service_unittest.cc
 components/omnibox/browser/scored_history_match.cc
 components/omnibox/browser/scored_history_match_unittest.cc
@@ -3122,6 +3149,7 @@ components/paint_preview/renderer/paint_preview_recorder_utils_unittest.cc
 components/password_manager/content/browser/content_password_manager_driver_unittest.cc
 components/password_manager/core/browser/credential_manager_impl_unittest.cc
 components/password_manager/core/browser/credential_manager_logger_unittest.cc
+components/password_manager/core/browser/credential_manager_pending_request_task.cc
 components/password_manager/core/browser/credential_manager_pending_request_task_unittest.cc
 components/password_manager/core/browser/credentials_cleaner_unittest.cc
 components/password_manager/core/browser/export/password_manager_exporter_unittest.cc
@@ -3147,6 +3175,7 @@ components/password_manager/core/browser/leak_detection_dialog_utils.cc
 components/password_manager/core/browser/old_google_credentials_cleaner.cc
 components/password_manager/core/browser/old_google_credentials_cleaner.h
 components/password_manager/core/browser/old_google_credentials_cleaner_unittest.cc
+components/password_manager/core/browser/os_crypt_async_migrator.h
 components/password_manager/core/browser/password_feature_manager_impl_unittest.cc
 components/password_manager/core/browser/password_form_filling_unittest.cc
 components/password_manager/core/browser/password_form_manager_unittest.cc
@@ -3160,6 +3189,7 @@ components/password_manager/core/browser/password_manager.h
 components/password_manager/core/browser/password_manager_client_helper_unittest.cc
 components/password_manager/core/browser/password_manager_constants.cc
 components/password_manager/core/browser/password_manager_metrics_recorder.h
+components/password_manager/core/browser/password_manager_metrics_util_unittest.cc
 components/password_manager/core/browser/password_manager_test_utils.cc
 components/password_manager/core/browser/password_manager_unittest.cc
 components/password_manager/core/browser/password_manager_util.h
@@ -3246,7 +3276,7 @@ components/permissions_strings.grdp
 components/plus_addresses/metrics/plus_address_submission_logger_unittest.cc
 components/plus_addresses/plus_address_http_client_impl.cc
 components/plus_addresses/plus_address_http_client_impl_unittest.cc
-components/plus_addresses/plus_address_parsing_utils_unittest.cc
+components/plus_addresses/plus_address_suggestion_generator_unittest.cc
 components/plus_addresses_strings.grdp
 components/policy/PRESUBMIT.py
 components/policy/core/browser/browser_policy_connector.cc
@@ -3409,7 +3439,6 @@ components/privacy_sandbox_strings.grd
 components/protocol_handler_strings.grdp
 components/proxy_config/pref_proxy_config_tracker_impl_unittest.cc
 components/proxy_config/proxy_policy_handler_unittest.cc
-components/query_tiles/test/fake_tile_service.cc
 components/quirks/quirks_client.cc
 components/reading_list/core/offline_url_utils_unittest.cc
 components/reporting/PRESUBMIT.py
@@ -3509,6 +3538,7 @@ components/safe_search_api/stub_url_checker.cc
 components/safety_check/update_check_helper.h
 components/safety_check/url_constants.cc
 components/saved_tab_groups/android/tab_group_sync_service_android_unittest.cc
+components/saved_tab_groups/fake_tab_group_sync_service.cc
 components/saved_tab_groups/saved_tab_group_sync_bridge_unittest.cc
 components/saved_tab_groups/saved_tab_group_test_utils.cc
 components/saved_tab_groups/saved_tab_group_unittest.cc
@@ -3518,7 +3548,7 @@ components/saved_tab_groups/tab_group_sync_service_unittest.cc
 components/search_engines/PRESUBMIT.py
 components/search_engines/android/template_url_service_android_unittest.cc
 components/search_engines/choice_made_location.h
-components/search_engines/default_search_policy_handler_unittest.cc
+components/search_engines/enterprise/default_search_policy_handler_unittest.cc
 components/search_engines/keyword_table_unittest.cc
 components/search_engines/template_url.cc
 components/search_engines/template_url_data_unittest.cc
@@ -3571,6 +3601,7 @@ components/services/app_service/public/cpp/preferred_apps_list_unittest.cc
 components/services/font/pdf_fontconfig_matching.cc
 components/services/heap_profiling/connection_manager.cc
 components/services/paint_preview_compositor/paint_preview_compositor_impl_unittest.cc
+components/services/print_compositor/print_compositor_impl.cc
 components/services/quarantine/quarantine_mac.mm
 components/services/quarantine/quarantine_win.cc
 components/services/storage/partition_impl_unittest.cc
@@ -3649,7 +3680,8 @@ components/supervised_user/core/browser/fetcher_config.cc
 components/supervised_user/core/browser/fetcher_config.h
 components/supervised_user/core/browser/kids_chrome_management_url_checker_client_unittest.cc
 components/supervised_user/core/browser/list_family_members_service_unittest.cc
-components/supervised_user/core/browser/proto_fetcher.h
+components/supervised_user/core/browser/parallel_fetch_manager_unittest.cc
+components/supervised_user/core/browser/proto_fetcher_status.h
 components/supervised_user/core/browser/proto_fetcher_unittest.cc
 components/supervised_user/core/browser/supervised_user_capabilities_unittest.cc
 components/supervised_user/core/browser/supervised_user_service_unittest.cc
@@ -3661,7 +3693,6 @@ components/supervised_user/core/common/supervised_user_constants.cc
 components/supervised_user/core/common/supervised_user_constants.h
 components/supervised_user/test_support/kids_chrome_management_test_utils.cc
 components/supervised_user/test_support/kids_management_api_server_mock.cc
-components/sync/PRESUBMIT.py
 components/sync/base/data_type.cc
 components/sync/base/sync_util.h
 components/sync/engine/bookmark_update_preprocessing.cc
@@ -3748,6 +3779,7 @@ components/variations/variations_url_constants.cc
 components/visited_url_ranking/internal/history_url_visit_data_fetcher_unittest.cc
 components/visited_url_ranking/internal/session_url_visit_data_fetcher_unittest.cc
 components/visited_url_ranking/internal/transformer/default_app_url_visit_aggregates_transformer_unittest.cc
+components/visited_url_ranking/internal/visited_url_ranking_service_impl_unittest.cc
 components/visited_url_ranking/public/features.h
 components/visited_url_ranking/public/test_support.h
 components/visited_url_ranking/public/url_visit_util.h
@@ -3770,6 +3802,7 @@ components/webapps/browser/android/webapk/webapk_icons_hasher_unittest.cc
 components/webapps/browser/android/webapk/webapk_single_icon_hasher_unittest.cc
 components/webapps/browser/banners/app_banner_settings_helper_unittest.cc
 components/webapps/browser/installable/installable_evaluator_unittest.cc
+components/webauthn/core/browser/passkey_change_quota_tracker_unittest.cc
 components/webxr/android/arcore_install_helper.cc
 components/webxr/android/arcore_install_helper.h
 components/wifi/wifi_service_win.cc
@@ -3781,13 +3814,7 @@ content/app/content_main_runner_impl.cc
 content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm
 content/browser/accessibility/accessibility_action_browsertest.cc
 content/browser/accessibility/accessibility_auralinux_browsertest.cc
-content/browser/accessibility/browser_accessibility.h
-content/browser/accessibility/browser_accessibility_fuchsia.h
-content/browser/accessibility/browser_accessibility_manager.cc
-content/browser/accessibility/browser_accessibility_manager.h
 content/browser/accessibility/browser_accessibility_manager_android.cc
-content/browser/accessibility/browser_accessibility_manager_mac.mm
-content/browser/accessibility/browser_accessibility_manager_win.cc
 content/browser/accessibility/hit_testing_browsertest.cc
 content/browser/aggregation_service/aggregation_service_features.cc
 content/browser/android/nfc_host_unittest.cc
@@ -3831,15 +3858,16 @@ content/browser/file_system_access/file_path_watcher/file_path_watcher_win.cc
 content/browser/file_system_access/file_system_access_observer_observation.h
 content/browser/font_access/font_enumeration_cache.cc
 content/browser/font_access/font_enumeration_data_source_win.cc
+content/browser/framebusting_browsertest.cc
 content/browser/geolocation/geolocation_service_impl_unittest.cc
 content/browser/gpu/gpu_data_manager_impl_private.cc
 content/browser/hid/hid_service_unittest.cc
 content/browser/idle/idle_manager_unittest.cc
-content/browser/indexed_db/indexed_db_backing_store.cc
-content/browser/indexed_db/indexed_db_backing_store_unittest.cc
 content/browser/indexed_db/indexed_db_context_impl.h
 content/browser/indexed_db/indexed_db_context_unittest.cc
 content/browser/indexed_db/indexed_db_reporting.cc
+content/browser/indexed_db/instance/backing_store.cc
+content/browser/indexed_db/instance/backing_store_unittest.cc
 content/browser/installedapp/fetch_related_win_apps_task.cc
 content/browser/installedapp/native_win_app_fetcher_impl.cc
 content/browser/interest_group/ad_auction_headers_util_unittest.cc
@@ -3860,7 +3888,6 @@ content/browser/media/capture/frame_test_util.cc
 content/browser/media/media_devices_permission_checker_unittest.cc
 content/browser/media/session/media_session_impl_service_routing_unittest.cc
 content/browser/mojo_binder_policy_applier.h
-content/browser/navigation_browsertest.cc
 content/browser/navigation_transitions/back_forward_transition_animation_manager_android_browsertest.cc
 content/browser/navigation_transitions/back_forward_transition_animator.cc
 content/browser/network/accept_header_browsertest.cc
@@ -3876,6 +3903,7 @@ content/browser/plugin_service_impl_browsertest.cc
 content/browser/preloading/prefetch/prefetch_container.cc
 content/browser/preloading/prefetch/prefetch_container.h
 content/browser/preloading/prefetch/prefetch_container_unittest.cc
+content/browser/preloading/prefetch/prefetch_match_resolver.cc
 content/browser/preloading/prefetch/prefetch_status.h
 content/browser/preloading/prefetch/prefetch_url_loader_interceptor.cc
 content/browser/preloading/preloading_decider_unittest.cc
@@ -3901,6 +3929,7 @@ content/browser/renderer_host/navigation_request.cc
 content/browser/renderer_host/navigation_request_unittest.cc
 content/browser/renderer_host/navigator.cc
 content/browser/renderer_host/navigator_unittest.cc
+content/browser/renderer_host/policy_container_host_browsertest.cc
 content/browser/renderer_host/recently_destroyed_hosts_unittest.cc
 content/browser/renderer_host/render_frame_host_impl.cc
 content/browser/renderer_host/render_frame_host_manager_browsertest.cc
@@ -3996,6 +4025,7 @@ content/renderer/PRESUBMIT.py
 content/renderer/accessibility/annotations/ax_image_annotator.cc
 content/renderer/accessibility/annotations/ax_image_stopwords.h
 content/renderer/content_security_policy_util_fuzzer.cc
+content/renderer/media/gpu/gpu_video_accelerator_factories_impl.cc
 content/renderer/media/media_factory.cc
 content/renderer/pepper/message_channel.cc
 content/renderer/pepper/pepper_media_device_manager.cc
@@ -4020,6 +4050,9 @@ content/shell/browser/shell_browser_main_parts.cc
 content/shell/browser/shell_platform_delegate_ios.mm
 content/test/PRESUBMIT.py
 content/test/gpu/PRESUBMIT.py
+content/test/gpu/bad_machine_finder/buildbucket.py
+content/test/gpu/bad_machine_finder/buildbucket_unittest.py
+content/test/gpu/bad_machine_finder/swarming.py
 content/test/gpu/find_unknown_typ_tags.py
 content/test/gpu/flake_suppressor/gpu_results_unittest.py
 content/test/gpu/gather_power_measurement_results.py
@@ -4039,18 +4072,6 @@ content/web_test/browser/fake_bluetooth_chooser_factory.h
 content/zygote/zygote_linux.cc
 content/zygote/zygote_linux.h
 content/zygote/zygote_main_linux.cc
-courgette/disassembler_win32.cc
-courgette/ensemble_unittest.cc
-courgette/third_party/bsdiff/bsdiff.h
-courgette/third_party/bsdiff/bsdiff_apply.cc
-courgette/third_party/bsdiff/bsdiff_create.cc
-courgette/third_party/bsdiff/bsdiff_search.h
-courgette/third_party/divsufsort/divsufsort.cc
-courgette/third_party/divsufsort/divsufsort.h
-courgette/third_party/divsufsort/divsufsort_private.h
-courgette/third_party/divsufsort/sssort.cc
-courgette/third_party/divsufsort/trsort.cc
-courgette/types_win_pe.h
 crypto/chaps_support.cc
 crypto/hmac_unittest.cc
 crypto/nss_util.cc
@@ -4323,6 +4344,7 @@ ios/PRESUBMIT.py
 ios/build/bots/scripts/PRESUBMIT.py
 ios/build/bots/scripts/plugin/PRESUBMIT.py
 ios/build/bots/scripts/result_sink_util.py
+ios/build/bots/scripts/result_sink_util_test.py
 ios/build/bots/scripts/test_result_util.py
 ios/build/bots/scripts/test_runner.py
 ios/build/bots/scripts/xcode_util.py
@@ -4349,7 +4371,6 @@ ios/chrome/browser/bookmarks/ui_bundled/bookmark_mediator_unittest.mm
 ios/chrome/browser/bookmarks/ui_bundled/bookmarks_egtest.mm
 ios/chrome/browser/bookmarks/ui_bundled/folder_chooser/bookmarks_folder_chooser_egtest.mm
 ios/chrome/browser/bring_android_tabs/ui_bundled/tab_list_from_android_mediator_unittest.mm
-ios/chrome/browser/browser_state/model/chrome_browser_state_impl.h
 ios/chrome/browser/commerce/model/shopping_persisted_data_tab_helper_unittest.mm
 ios/chrome/browser/context_menu/ui_bundled/context_menu_configuration_provider_unittest.mm
 ios/chrome/browser/crash_report/model/breadcrumbs/breadcrumb_manager_tab_helper_unittest.mm
@@ -4360,14 +4381,14 @@ ios/chrome/browser/dialogs/ui_bundled/nsurl_protection_space_util_unittest.mm
 ios/chrome/browser/download/model/ar_quick_look_tab_helper_unittest.mm
 ios/chrome/browser/drive/model/drive_list.h
 ios/chrome/browser/drive/model/manage_storage_url_util.mm
-ios/chrome/browser/drive_file_picker/ui/drive_file_picker_table_view_controller.mm
-ios/chrome/browser/drive_file_picker/ui/root_drive_file_picker_table_view_controller.mm
+ios/chrome/browser/drive_file_picker/coordinator/drive_file_picker_mediator.mm
 ios/chrome/browser/first_run/ui_bundled/first_run_search_engine_choice_egtest.mm
 ios/chrome/browser/flags/about_flags.mm
 ios/chrome/browser/history/model/history_tab_helper_unittest.mm
 ios/chrome/browser/home_customization/utils/home_customization_constants.mm
 ios/chrome/browser/intents/user_activity_browser_agent_unittest.mm
 ios/chrome/browser/lens_overlay/coordinator/lens_omnibox_client_unittest.mm
+ios/chrome/browser/lens_overlay/coordinator/lens_overlay_mediator_unittest.mm
 ios/chrome/browser/lens_overlay/coordinator/lens_result_page_mediator.mm
 ios/chrome/browser/lens_overlay/coordinator/lens_result_page_mediator_unittest.mm
 ios/chrome/browser/link_to_text/model/link_to_text_java_script_feature_unittest.mm
@@ -4377,6 +4398,11 @@ ios/chrome/browser/metrics/model/ios_family_link_user_metrics_provider_unittest.
 ios/chrome/browser/metrics/model/tab_usage_recorder_browser_agent_unittest.mm
 ios/chrome/browser/net/model/retryable_url_fetcher_unittest.mm
 ios/chrome/browser/ntp/model/browser_policy_new_tab_page_rewriter_unittest.mm
+ios/chrome/browser/ntp/ui_bundled/discover_feed_constants.mm
+ios/chrome/browser/ntp/ui_bundled/incognito/incognito_view_util.mm
+ios/chrome/browser/ntp/ui_bundled/new_tab_page_coordinator_unittest.mm
+ios/chrome/browser/ntp/ui_bundled/new_tab_page_mediator.mm
+ios/chrome/browser/ntp/ui_bundled/new_tab_page_mediator_unittest.mm
 ios/chrome/browser/omaha/model/omaha_service.mm
 ios/chrome/browser/optimization_guide/model/optimization_guide_validation_tab_helper_unittest.mm
 ios/chrome/browser/overlays/ui_bundled/infobar_banner/passwords/password_infobar_banner_overlay_mediator_unittest.mm
@@ -4390,6 +4416,7 @@ ios/chrome/browser/policy/model/new_tab_page_location_policy_handler_unittest.cc
 ios/chrome/browser/policy/model/restrict_accounts_policy_handler_unittest.cc
 ios/chrome/browser/prerender/model/preload_controller_unittest.mm
 ios/chrome/browser/prerender/model/prerender_service_impl_unittest.mm
+ios/chrome/browser/profile/model/profile_ios_impl.h
 ios/chrome/browser/reading_list/model/reading_list_browser_agent_unittest.mm
 ios/chrome/browser/safe_browsing/model/safe_browsing_client_impl_unittest.mm
 ios/chrome/browser/safe_browsing/model/tailored_security/tailored_security_tab_helper_unittest.mm
@@ -4421,7 +4448,10 @@ ios/chrome/browser/signin/model/test_account_info.mm
 ios/chrome/browser/ssl/model/ios_ssl_error_handler_unittest.mm
 ios/chrome/browser/start_surface/ui_bundled/start_surface_scene_agent_unittest.mm
 ios/chrome/browser/supervised_user/model/supervised_user_url_filter_tab_helper_unittest.mm
-ios/chrome/browser/ui/authentication/account_menu/account_menu_view_controller_presentation_delegate.h
+ios/chrome/browser/ui/authentication/account_menu/account_menu_egtest.mm
+ios/chrome/browser/ui/authentication/account_menu/account_menu_mediator_delegate.h
+ios/chrome/browser/ui/authentication/account_menu/account_menu_mutator.h
+ios/chrome/browser/ui/authentication/authentication_flow_unittest.mm
 ios/chrome/browser/ui/authentication/history_sync/history_sync_capabilities_fetcher_unittest.mm
 ios/chrome/browser/ui/authentication/signin/add_account_signin/add_account_signin_manager_unittest.mm
 ios/chrome/browser/ui/authentication/signin_earl_grey_ui_test_util.mm
@@ -4431,11 +4461,6 @@ ios/chrome/browser/ui/content_suggestions/parcel_tracking/parcel_tracking_mediat
 ios/chrome/browser/ui/content_suggestions/tab_resumption/tab_resumption_mediator.mm
 ios/chrome/browser/ui/infobars/modals/autofill_address_profile/infobar_save_address_profile_table_view_controller_unittest.mm
 ios/chrome/browser/ui/infobars/test/test_infobar_password_delegate.mm
-ios/chrome/browser/ui/ntp/discover_feed_constants.mm
-ios/chrome/browser/ui/ntp/incognito/incognito_view_util.mm
-ios/chrome/browser/ui/ntp/new_tab_page_coordinator_unittest.mm
-ios/chrome/browser/ui/ntp/new_tab_page_mediator.mm
-ios/chrome/browser/ui/ntp/new_tab_page_mediator_unittest.mm
 ios/chrome/browser/ui/omnibox/omnibox_egtest.mm
 ios/chrome/browser/ui/omnibox/zero_suggest_prefetch_helper_unittest.mm
 ios/chrome/browser/ui/page_info/page_info_egtest.mm
@@ -4519,6 +4544,7 @@ ios/net/nsurlrequest_util_unittest.mm
 ios/testing/PRESUBMIT.py
 ios/testing/data/http_server_files/opensearch.xml
 ios/testing/data/http_server_files/window_open.html
+ios/testing/earl_grey/base_earl_grey_test_case.mm
 ios/web/browsing_data/browsing_data_removing_util_unittest.mm
 ios/web/browsing_data/system_cookie_store_util_unittest.mm
 ios/web/favicon/favicon_util_unittest.mm
@@ -5152,7 +5178,6 @@ remoting/host/xmpp_register_support_host_request_unittest.cc
 remoting/ios/app/help_view_controller.mm
 remoting/ios/app/host_setup_view_controller.mm
 remoting/ios/app/remoting_menu_view_controller.mm
-remoting/ios/facade/remoting_oauth_authentication.mm
 remoting/protocol/authenticator_test_base.h
 remoting/protocol/fake_session.cc
 remoting/protocol/jingle_messages_unittest.cc
@@ -5294,6 +5319,7 @@ services/webnn/webnn_graph_impl_backend_test.cc
 skia/config/SkUserConfig.h
 skia/ext/SkMemory_new_handler.cpp
 skia/ext/skia_utils_ios_unittest.mm
+skia/rusty_png_feature.h
 sql/database.cc
 sql/database.h
 storage/browser/blob/blob_reader.h
@@ -5403,32 +5429,7 @@ third_party/afl/src/qemu_mode/patches/afl-qemu-cpu-inl.h
 third_party/afl/src/test-instr.c
 third_party/afl/src/types.h
 third_party/android_build_tools/aapt2/3pp/fetch.py
-third_party/android_deps/libs/android_arch_core_common/3pp/fetch.py
-third_party/android_deps/libs/android_arch_core_runtime/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_common/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_livedata/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_livedata_core/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_runtime/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_viewmodel/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_asynclayoutinflater/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_collections/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_coordinatorlayout/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_cursoradapter/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_customview/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_documentfile/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_drawerlayout/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_interpolator/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_loader/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_localbroadcastmanager/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_print/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_slidingpanelayout/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_support_annotations/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_compat/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_core_ui/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_core_utils/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_swiperefreshlayout/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_versionedparcelable/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_viewpager/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_common/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_layoutlib_layoutlib_api/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_sdk_common/3pp/fetch.py
@@ -5472,7 +5473,6 @@ third_party/android_deps/licenses/Android_SDK_License-December_9_2016.txt
 third_party/android_platform/development/scripts/PRESUBMIT.py
 third_party/android_platform/development/scripts/stack.py
 third_party/android_toolchain/3pp/fetch.py
-third_party/android_toolchain_canary/3pp/fetch.py
 third_party/androidx/fetch_all_androidx.py
 third_party/angle/BUILD.gn
 third_party/angle/PRESUBMIT.py
@@ -5577,6 +5577,7 @@ third_party/angle/src/compiler/translator/hlsl/OutputHLSL.cpp
 third_party/angle/src/compiler/translator/hlsl/TextureFunctionHLSL.cpp
 third_party/angle/src/compiler/translator/hlsl/blocklayoutHLSL.h
 third_party/angle/src/compiler/translator/spirv/OutputSPIRV.cpp
+third_party/angle/src/compiler/translator/wgsl/RewritePipelineVariables.cpp
 third_party/angle/src/libANGLE/Display.cpp
 third_party/angle/src/libANGLE/GLES1Renderer.cpp
 third_party/angle/src/libANGLE/Observer.cpp
@@ -6219,7 +6220,6 @@ third_party/blink/renderer/modules/gamepad/gamepad_axis_event.idl
 third_party/blink/renderer/modules/gamepad/gamepad_axis_event_init.idl
 third_party/blink/renderer/modules/gamepad/gamepad_button_event.idl
 third_party/blink/renderer/modules/gamepad/gamepad_button_event_init.idl
-third_party/blink/renderer/modules/gamepad/gamepad_effect_parameters.idl
 third_party/blink/renderer/modules/geolocation/geolocation.cc
 third_party/blink/renderer/modules/geolocation/geolocation.h
 third_party/blink/renderer/modules/hid/hid.cc
@@ -6247,6 +6247,14 @@ third_party/blink/renderer/modules/storage/storage_area.cc
 third_party/blink/renderer/modules/vibration/navigator_vibration.idl
 third_party/blink/renderer/modules/vibration/vibration_controller.cc
 third_party/blink/renderer/modules/webaudio/audio_context.cc
+third_party/blink/renderer/modules/webaudio/audio_context.h
+third_party/blink/renderer/modules/webaudio/audio_handler.h
+third_party/blink/renderer/modules/webaudio/audio_node.h
+third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_handler.h
+third_party/blink/renderer/modules/webaudio/media_stream_audio_destination_node.h
+third_party/blink/renderer/modules/webaudio/media_stream_audio_source_handler.h
+third_party/blink/renderer/modules/webaudio/media_stream_audio_source_node.h
+third_party/blink/renderer/modules/webaudio/realtime_audio_destination_handler.h
 third_party/blink/renderer/modules/webgl/webgl_unowned_texture.h
 third_party/blink/renderer/modules/webgpu/external_texture_helper.cc
 third_party/blink/renderer/modules/webgpu/gpu_render_pipeline.cc
@@ -6259,6 +6267,7 @@ third_party/blink/renderer/modules/xr/xr_session.h
 third_party/blink/renderer/modules/xr/xr_system.cc
 third_party/blink/renderer/platform/PRESUBMIT.py
 third_party/blink/renderer/platform/animation/timing_function.h
+third_party/blink/renderer/platform/audio/audio_destination.h
 third_party/blink/renderer/platform/bindings/script_regexp.cc
 third_party/blink/renderer/platform/exported/web_crypto_algorithm.cc
 third_party/blink/renderer/platform/fonts/bitmap_glyphs_block_list.cc
@@ -6377,14 +6386,13 @@ third_party/blink/renderer/platform/wtf/stack_util.cc
 third_party/blink/renderer/platform/wtf/text/string_impl.h
 third_party/blink/renderer/platform/wtf/thread_specific.h
 third_party/blink/renderer/platform/wtf/vector_test.cc
-third_party/boringssl/roll_boringssl.py
+third_party/boringssl/src/.bcr/metadata.template.json
 third_party/boringssl/src/CMakeLists.txt
 third_party/boringssl/src/crypto/cpu_aarch64_openbsd.c
 third_party/boringssl/src/crypto/dilithium/dilithium.c
 third_party/boringssl/src/crypto/fipsmodule/aes/internal.h
-third_party/boringssl/src/crypto/fipsmodule/bn/mul.c
-third_party/boringssl/src/crypto/fipsmodule/rsa/rsa_impl.c
 third_party/boringssl/src/crypto/internal.h
+third_party/boringssl/src/crypto/mldsa/mldsa.c
 third_party/boringssl/src/crypto/pkcs7/pkcs7_test.cc
 third_party/boringssl/src/crypto/pkcs8/pkcs8_x509.c
 third_party/boringssl/src/crypto/rand_extra/windows.c
@@ -7431,7 +7439,6 @@ third_party/catapult/third_party/python_gflags/Makefile
 third_party/catapult/third_party/python_gflags/gflags.py
 third_party/catapult/third_party/python_gflags/gflags_validators.py
 third_party/catapult/third_party/python_gflags/setup.py
-third_party/catapult/third_party/requests_toolbelt/requests_toolbelt/threaded/__init__.py
 third_party/catapult/third_party/snap-it/tests/tests.js
 third_party/catapult/third_party/typ/setup.py
 third_party/catapult/third_party/typ/typ/artifacts.py
@@ -7716,17 +7723,18 @@ third_party/crossbench/crossbench/benchmarks/experimental/power/power_benchmark.
 third_party/crossbench/crossbench/benchmarks/loading/action.py
 third_party/crossbench/crossbench/benchmarks/loading/loading_benchmark.py
 third_party/crossbench/crossbench/benchmarks/loading/page.py
-third_party/crossbench/crossbench/benchmarks/loading/page_config.py
 third_party/crossbench/crossbench/browsers/chrome/downloader.py
 third_party/crossbench/crossbench/browsers/chromium/applescript.py
 third_party/crossbench/crossbench/browsers/chromium/webdriver.py
 third_party/crossbench/crossbench/browsers/firefox/downloader.py
 third_party/crossbench/crossbench/browsers/firefox/webdriver.py
+third_party/crossbench/crossbench/browsers/secrets.py
 third_party/crossbench/crossbench/plt/android_adb.py
 third_party/crossbench/crossbench/probes/performance_entries.py
 third_party/crossbench/crossbench/probes/profiling/browser_profiling.py
 third_party/crossbench/crossbench/probes/profiling/system_profiling.py
 third_party/crossbench/crossbench/probes/web_page_replay/recorder.py
+third_party/crossbench/tests/crossbench/benchmarks/loading/config/test_pages.py
 third_party/crossbench/tests/crossbench/benchmarks/loading/test_loading.py
 third_party/crossbench/tests/crossbench/probes/test_js.py
 third_party/crossbench/tests/crossbench/probes/test_v8_rcs.py
@@ -7764,6 +7772,7 @@ third_party/dawn/src/dawn/native/d3d12/ResourceAllocatorManagerD3D12.h
 third_party/dawn/src/dawn/native/d3d12/SamplerD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/SharedTextureMemoryD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/TextureD3D12.cpp
+third_party/dawn/src/dawn/native/metal/MultiDrawEncoder.mm
 third_party/dawn/src/dawn/native/metal/QueueMTL.h
 third_party/dawn/src/dawn/native/metal/SharedTextureMemoryMTL.mm
 third_party/dawn/src/dawn/native/opengl/CommandBufferGL.cpp
@@ -8009,6 +8018,8 @@ third_party/depot_tools/git_common.py
 third_party/depot_tools/git_number.py
 third_party/depot_tools/git_retry.py
 third_party/depot_tools/gsutil.py
+third_party/depot_tools/infra_lib/telemetry/proto/clientanalytics_pb2.py
+third_party/depot_tools/infra_lib/telemetry/proto/trace_span_pb2.py
 third_party/depot_tools/man/html/depot_tools.html
 third_party/depot_tools/man/html/depot_tools_tutorial.html
 third_party/depot_tools/man/html/git-cl.html
@@ -8141,7 +8152,6 @@ third_party/depot_tools/siso.py
 third_party/depot_tools/split_cl.py
 third_party/depot_tools/subprocess2.py
 third_party/depot_tools/testing_support/fake_repos.py
-third_party/depot_tools/tests/autoninja_test.py
 third_party/depot_tools/tests/bot_update_coverage_test.py
 third_party/depot_tools/tests/build_telemetry_test.py
 third_party/depot_tools/tests/fetch_test.py
@@ -8266,6 +8276,7 @@ third_party/devtools-frontend/src/front_end/entrypoint_template.html
 third_party/devtools-frontend/src/front_end/entrypoints/inspector_main/RenderingOptions.ts
 third_party/devtools-frontend/src/front_end/entrypoints/inspector_main/inspector_main-meta.ts
 third_party/devtools-frontend/src/front_end/entrypoints/main/MainImpl.ts
+third_party/devtools-frontend/src/front_end/entrypoints/main/main-meta.ts
 third_party/devtools-frontend/src/front_end/generated/Deprecation.ts
 third_party/devtools-frontend/src/front_end/generated/InspectorBackendCommands.js
 third_party/devtools-frontend/src/front_end/generated/protocol-mapping.d.ts
@@ -8297,8 +8308,11 @@ third_party/devtools-frontend/src/front_end/models/trace/handlers/UserInteractio
 third_party/devtools-frontend/src/front_end/models/trace/handlers/UserTimingsHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/helpers/Trace.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/CumulativeLayoutShift.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/DocumentLatency.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/InteractionToNextPaint.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/RenderBlocking.test.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/ThirdPartyWeb.test.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/ThirdPartyWeb.ts
 third_party/devtools-frontend/src/front_end/models/trace/lantern/core/NetworkAnalyzer.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/lantern/graph/NetworkNode.ts
 third_party/devtools-frontend/src/front_end/models/trace/lantern/graph/PageDependencyGraph.ts
@@ -8345,12 +8359,14 @@ third_party/devtools-frontend/src/front_end/panels/lighthouse/LighthouseControll
 third_party/devtools-frontend/src/front_end/panels/network/NetworkConfigView.ts
 third_party/devtools-frontend/src/front_end/panels/network/NetworkDataGridNode.ts
 third_party/devtools-frontend/src/front_end/panels/network/NetworkLogView.ts
+third_party/devtools-frontend/src/front_end/panels/network/NetworkPanel.ts
 third_party/devtools-frontend/src/front_end/panels/network/RequestCookiesView.ts
 third_party/devtools-frontend/src/front_end/panels/network/RequestTimingView.ts
 third_party/devtools-frontend/src/front_end/panels/network/ResourceWebSocketFrameView.ts
 third_party/devtools-frontend/src/front_end/panels/network/components/RequestHeaderSection.ts
 third_party/devtools-frontend/src/front_end/panels/network/components/RequestHeadersView.test.ts
 third_party/devtools-frontend/src/front_end/panels/network/components/RequestHeadersView.ts
+third_party/devtools-frontend/src/front_end/panels/network/network-meta.ts
 third_party/devtools-frontend/src/front_end/panels/profiler/HeapSnapshotGridNodes.ts
 third_party/devtools-frontend/src/front_end/panels/recorder/RecorderController.ts
 third_party/devtools-frontend/src/front_end/panels/recorder/components/CreateRecordingView.ts
@@ -8368,7 +8384,6 @@ third_party/devtools-frontend/src/front_end/panels/sources/components/Breakpoint
 third_party/devtools-frontend/src/front_end/panels/sources/components/BreakpointsViewUtils.ts
 third_party/devtools-frontend/src/front_end/panels/sources/components/HeadersView.test.ts
 third_party/devtools-frontend/src/front_end/panels/sources/components/HeadersView.ts
-third_party/devtools-frontend/src/front_end/panels/timeline/EventUICategory.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/Initiators.test.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/ThreadAppender.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/TimelineLandingPage.ts
@@ -8376,9 +8391,13 @@ third_party/devtools-frontend/src/front_end/panels/timeline/TimelineTreeView.tes
 third_party/devtools-frontend/src/front_end/panels/timeline/TimelineUIUtils.test.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/TimingsTrackAppender.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/DetailsView.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/components/EntryStyles.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/FieldSettingsDialog.test.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/FieldSettingsDialog.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/components/LiveMetricsView.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/components/insights/ThirdParties.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/components/insights/Viewport.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/overlays/components/EntriesLinkOverlay.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/track_appenders/ThreadAppender.test.ts
 third_party/devtools-frontend/src/front_end/panels/webauthn/WebauthnPane.ts
 third_party/devtools-frontend/src/front_end/services/tracing/PerformanceTracing.ts
@@ -8577,6 +8596,13 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/co
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/FirefoxLauncher.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/LaunchOptions.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/PuppeteerNode.ts
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/lib/nostats-subset.js
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/dist/entities-httparchive-nostats.json
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/dist/entities-httparchive.json
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/dist/entities-nostats.json
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/dist/entities.json
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/lib/index.test.js
+third_party/devtools-frontend/src/front_end/third_party/third-party-web/package/package.json
 third_party/devtools-frontend/src/front_end/third_party/vscode.web-custom-data/package/data/browsers.css-data.json
 third_party/devtools-frontend/src/front_end/third_party/vscode.web-custom-data/package/data/browsers.html-data.json
 third_party/devtools-frontend/src/front_end/third_party/wasmparser/package/package.json
@@ -8602,7 +8628,6 @@ third_party/devtools-frontend/src/front_end/ui/legacy/SearchableView.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/CustomPreviewComponent.ts
-third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/ObjectPropertiesSection.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/JSPresentationUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/Linkifier.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/themeColors.css
@@ -8720,6 +8745,8 @@ third_party/devtools-frontend/src/node_modules/axobject-query/package.json
 third_party/devtools-frontend/src/node_modules/base64-js/package.json
 third_party/devtools-frontend/src/node_modules/basic-ftp/package.json
 third_party/devtools-frontend/src/node_modules/binary-extensions/package.json
+third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/buffer-crc32/package.json
 third_party/devtools-frontend/src/node_modules/buffer/index.js
 third_party/devtools-frontend/src/node_modules/builtin-modules/package.json
@@ -8740,6 +8767,7 @@ third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/ActionDispatcher.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputSource.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkProcessor.js
+third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkRequest.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/storage/StorageProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/utils/uuid.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/iife/mapperTab.js
@@ -8756,6 +8784,8 @@ third_party/devtools-frontend/src/node_modules/colors/lib/colors.js
 third_party/devtools-frontend/src/node_modules/colors/lib/styles.js
 third_party/devtools-frontend/src/node_modules/colors/lib/system/has-flag.js
 third_party/devtools-frontend/src/node_modules/colors/lib/system/supports-colors.js
+third_party/devtools-frontend/src/node_modules/connect/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/connect/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/cookie/package.json
 third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.array.reduce-right.js
 third_party/devtools-frontend/src/node_modules/core-js-pure/modules/es.array.reduce.js
@@ -8831,12 +8861,18 @@ third_party/devtools-frontend/src/node_modules/escodegen/node_modules/estraverse
 third_party/devtools-frontend/src/node_modules/escodegen/node_modules/estraverse/gulpfile.js
 third_party/devtools-frontend/src/node_modules/escodegen/node_modules/estraverse/package.json
 third_party/devtools-frontend/src/node_modules/escodegen/package.json
+third_party/devtools-frontend/src/node_modules/eslint-import-resolver-node/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/eslint-import-resolver-node/node_modules/debug/src/browser.js
+third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/find-up/package.json
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/locate-path/package.json
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/p-limit/package.json
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/p-locate/package.json
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/node_modules/p-try/package.json
 third_party/devtools-frontend/src/node_modules/eslint-module-utils/readPkgUp.js
+third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/doctrine.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/typed.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/utility.js
@@ -8906,6 +8942,8 @@ third_party/devtools-frontend/src/node_modules/execall/package.json
 third_party/devtools-frontend/src/node_modules/fast-uri/package.json
 third_party/devtools-frontend/src/node_modules/fast-uri/test/uri-js.test.js
 third_party/devtools-frontend/src/node_modules/fd-slicer/package.json
+third_party/devtools-frontend/src/node_modules/finalhandler/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/finalhandler/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/find-up/node_modules/path-exists/package.json
 third_party/devtools-frontend/src/node_modules/find-up/package.json
 third_party/devtools-frontend/src/node_modules/flat/package.json
@@ -8980,6 +9018,8 @@ third_party/devtools-frontend/src/node_modules/karma-sourcemap-loader/package.js
 third_party/devtools-frontend/src/node_modules/karma/package.json
 third_party/devtools-frontend/src/node_modules/karma/static/context.js
 third_party/devtools-frontend/src/node_modules/karma/static/karma.js
+third_party/devtools-frontend/src/node_modules/license-checker/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/license-checker/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/license-checker/package.json
 third_party/devtools-frontend/src/node_modules/locate-path/package.json
 third_party/devtools-frontend/src/node_modules/lodash.get/package.json
@@ -9025,6 +9065,8 @@ third_party/devtools-frontend/src/node_modules/mocha/lib/runnable.js
 third_party/devtools-frontend/src/node_modules/mocha/lib/utils.js
 third_party/devtools-frontend/src/node_modules/mocha/mocha-es2018.js
 third_party/devtools-frontend/src/node_modules/mocha/mocha.js
+third_party/devtools-frontend/src/node_modules/mocha/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/mocha/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/mocha/node_modules/escape-string-regexp/package.json
 third_party/devtools-frontend/src/node_modules/mocha/node_modules/find-up/package.json
 third_party/devtools-frontend/src/node_modules/mocha/node_modules/has-flag/package.json
@@ -11321,6 +11363,7 @@ third_party/libc++/src/src/print.cpp
 third_party/libc++/src/test/libcxx/containers/sequences/deque/asan_turning_off.pass.cpp
 third_party/libc++/src/test/libcxx/containers/sequences/vector/asan_turning_off.pass.cpp
 third_party/libc++/src/test/libcxx/containers/strings/basic.string/asan_turning_off.pass.cpp
+third_party/libc++/src/test/std/input.output/filesystems/class.rec.dir.itr/cache_refresh_iter.pass.cpp
 third_party/libc++/src/test/std/time/time.zone/time.zone.db/time.zone.db.access/current_zone.pass.cpp
 third_party/libc++/src/test/std/time/time.zone/time.zone.db/time.zone.db.tzdb/current_zone.pass.cpp
 third_party/libc++/src/utils/ci/BOT_OWNERS.txt
@@ -11419,6 +11462,7 @@ third_party/libvpx/source/libvpx/tools/intersect-diffs.py
 third_party/libvpx/source/libvpx/tools/wrap-commit-msg.py
 third_party/libvpx/source/libvpx/tools_common.h
 third_party/libvpx/source/libvpx/vp9/encoder/vp9_block.h
+third_party/libvpx/source/libvpx/vp9/encoder/vp9_temporal_filter.c
 third_party/libvpx/source/libvpx/vpx_dsp/x86/convolve.h
 third_party/libvpx/source/libvpx/vpx_ports/aarch64_cpudetect.c
 third_party/libvpx/source/libvpx/vpx_util/vpx_thread.c
@@ -11588,6 +11632,7 @@ third_party/libyuv/tools_libyuv/autoroller/roll_deps.py
 third_party/libyuv/tools_libyuv/autoroller/unittests/roll_deps_test.py
 third_party/libzip/src/lib/zip_crypto_win.c
 third_party/libzip/src/lib/zip_extra_field.c
+third_party/lit/v3_0/BUILD.gn
 third_party/lottie/lottie_worker.js
 third_party/mako/mako/test/templates/internationalization.html
 third_party/material_web_components/components-chromium/node_modules/@lit/reactive-element/decorators/event-options.d.ts
@@ -11630,6 +11675,7 @@ third_party/mediapipe/src/mediapipe/calculators/util/detection_label_id_to_text_
 third_party/mediapipe/src/mediapipe/calculators/util/face_to_rect_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/video/flow_to_image_calculator.cc
 third_party/mediapipe/src/mediapipe/calculators/video/opencv_video_encoder_calculator.cc
+third_party/mediapipe/src/mediapipe/framework/formats/unique_fd.h
 third_party/mediapipe/src/mediapipe/framework/tool/proto_util_lite.cc
 third_party/mediapipe/src/mediapipe/framework/tool/template_parser.cc
 third_party/mediapipe/src/mediapipe/gpu/egl_surface_holder.h
@@ -11713,12 +11759,13 @@ third_party/nearby/src/sharing/contacts/nearby_share_contacts_sorter_test.cc
 third_party/nearby/src/sharing/local_device_data/nearby_share_local_device_data_manager_impl_test.cc
 third_party/nearby/src/sharing/nearby_share_profile_info_provider_impl_test.cc
 third_party/nearby/src/sharing/nearby_sharing_service.h
-third_party/nearby/src/sharing/nearby_sharing_service_extension_test.cc
 third_party/nearby/src/sharing/text_attachment_test.cc
 third_party/node/node_modules/@aashutoshrathi/word-wrap/package.json
 third_party/node/node_modules/@eslint/eslintrc/node_modules/globals/package.json
 third_party/node/node_modules/@lit/reactive-element/reactive-element.d.ts
 third_party/node/node_modules/@mediapipe/tasks-vision/vision.d.ts
+third_party/node/node_modules/@rollup/wasm-node/dist/shared/index.js
+third_party/node/node_modules/@rollup/wasm-node/dist/shared/rollup.js
 third_party/node/node_modules/@types/dom-speech-recognition/index.d.ts
 third_party/node/node_modules/@types/dom-webcodecs/index.d.ts
 third_party/node/node_modules/@types/google.analytics/index.d.ts
@@ -11840,10 +11887,6 @@ third_party/node/node_modules/path-is-absolute/package.json
 third_party/node/node_modules/path-key/package.json
 third_party/node/node_modules/path-type/package.json
 third_party/node/node_modules/resolve-from/package.json
-third_party/node/node_modules/rollup/dist/es/shared/node-entry.js
-third_party/node/node_modules/rollup/dist/es/shared/watch.js
-third_party/node/node_modules/rollup/dist/shared/index.js
-third_party/node/node_modules/rollup/dist/shared/rollup.js
 third_party/node/node_modules/shebang-command/package.json
 third_party/node/node_modules/shebang-regex/package.json
 third_party/node/node_modules/slash/package.json
@@ -11935,21 +11978,37 @@ third_party/openscreen/src/cast/standalone_sender/ffmpeg_glue.h
 third_party/openscreen/src/cast/standalone_sender/receiver_chooser.cc
 third_party/openscreen/src/cast/standalone_sender/remoting_sender.h
 third_party/openscreen/src/cast/standalone_sender/streaming_video_encoder.h
+third_party/openscreen/src/cast/streaming/answer_messages.h
 third_party/openscreen/src/cast/streaming/capture_configs.h
-third_party/openscreen/src/cast/streaming/clock_offset_estimator.h
-third_party/openscreen/src/cast/streaming/compound_rtcp_parser.cc
+third_party/openscreen/src/cast/streaming/capture_recommendations.h
 third_party/openscreen/src/cast/streaming/constants.h
 third_party/openscreen/src/cast/streaming/encoded_frame.h
+third_party/openscreen/src/cast/streaming/environment.h
+third_party/openscreen/src/cast/streaming/frame_id.h
+third_party/openscreen/src/cast/streaming/impl/clock_offset_estimator.h
+third_party/openscreen/src/cast/streaming/impl/compound_rtcp_parser.cc
+third_party/openscreen/src/cast/streaming/impl/rtcp_common.cc
+third_party/openscreen/src/cast/streaming/impl/rtp_defines.h
+third_party/openscreen/src/cast/streaming/impl/sender_session_unittest.cc
+third_party/openscreen/src/cast/streaming/impl/session_messenger_unittest.cc
+third_party/openscreen/src/cast/streaming/impl/statistics_analyzer_unittest.cc
+third_party/openscreen/src/cast/streaming/impl/statistics_collector.cc
+third_party/openscreen/src/cast/streaming/offer_messages.h
+third_party/openscreen/src/cast/streaming/public/constants.h
+third_party/openscreen/src/cast/streaming/public/encoded_frame.h
+third_party/openscreen/src/cast/streaming/public/receiver_constraints.h
+third_party/openscreen/src/cast/streaming/public/receiver_session.h
+third_party/openscreen/src/cast/streaming/public/sender.cc
+third_party/openscreen/src/cast/streaming/receiver.h
 third_party/openscreen/src/cast/streaming/receiver_constraints.h
+third_party/openscreen/src/cast/streaming/receiver_message.h
 third_party/openscreen/src/cast/streaming/receiver_session.h
 third_party/openscreen/src/cast/streaming/remoting_capabilities.h
-third_party/openscreen/src/cast/streaming/rtcp_common.cc
-third_party/openscreen/src/cast/streaming/rtp_defines.h
-third_party/openscreen/src/cast/streaming/sender.cc
-third_party/openscreen/src/cast/streaming/sender_session_unittest.cc
-third_party/openscreen/src/cast/streaming/session_messenger_unittest.cc
-third_party/openscreen/src/cast/streaming/statistics_analyzer_unittest.cc
-third_party/openscreen/src/cast/streaming/statistics_collector.cc
+third_party/openscreen/src/cast/streaming/rpc_messenger.h
+third_party/openscreen/src/cast/streaming/sender.h
+third_party/openscreen/src/cast/streaming/sender_session.h
+third_party/openscreen/src/cast/streaming/session_messenger.h
+third_party/openscreen/src/cast/streaming/statistics.h
 third_party/openscreen/src/cast/test/cast_socket_e2e_test.cc
 third_party/openscreen/src/discovery/common/reporting_client.h
 third_party/openscreen/src/discovery/dnssd/impl/dns_data_graph.h
@@ -12543,6 +12602,7 @@ third_party/perfetto/src/android_internal/health_hal.cc
 third_party/perfetto/src/base/flat_hash_map_benchmark.cc
 third_party/perfetto/src/base/time.cc
 third_party/perfetto/src/base/utils.cc
+third_party/perfetto/src/bigtrace/worker/repository_policies/gcs_trace_processor_loader.cc
 third_party/perfetto/src/profiling/common/proc_utils.cc
 third_party/perfetto/src/profiling/memory/client.cc
 third_party/perfetto/src/profiling/memory/sampler.h
@@ -12571,6 +12631,7 @@ third_party/perfetto/src/traced/probes/android_log/android_log_data_source.cc
 third_party/perfetto/src/tracing/service/tracing_service_impl_unittest.cc
 third_party/perfetto/test/cts/AndroidTest.xml
 third_party/perfetto/test/cts/reporter/AndroidTest.xml
+third_party/perfetto/test/trace_processor/diff_tests/parser/chrome/tests_v8.py
 third_party/perfetto/test/trace_processor/diff_tests/parser/simpleperf/tests.py
 third_party/perfetto/test/vts/AndroidTest.xml
 third_party/perfetto/tools/download_changed_screenshots.py
@@ -12611,6 +12672,7 @@ third_party/perfetto/ui/src/open_perfetto_trace/index.html
 third_party/perfetto/ui/src/test/diff_viewer/script.js
 third_party/perfetto/ui/src/trace_processor/engine.ts
 third_party/perfetto/ui/src/widgets/hotkey_context.ts
+third_party/polymer/v3_0/BUILD.gn
 third_party/polymer/v3_0/components-chromium/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js
 third_party/polymer/v3_0/components-chromium/iron-overlay-behavior/iron-focusables-helper.js
 third_party/polymer/v3_0/components-chromium/iron-overlay-behavior/iron-overlay-manager.js
@@ -13390,10 +13452,12 @@ third_party/re2/src/re2/testing/re2_test.cc
 third_party/re2/src/util/pcre.h
 third_party/rust/PRESUBMIT.py
 third_party/rust/adler/v1/BUILD.gn
+third_party/rust/adler2/v2/BUILD.gn
 third_party/rust/aho_corasick/v1/BUILD.gn
 third_party/rust/anyhow/v1/BUILD.gn
 third_party/rust/bytemuck/v1/BUILD.gn
 third_party/rust/bytemuck_derive/v1/BUILD.gn
+third_party/rust/byteorder/v1/BUILD.gn
 third_party/rust/cxx/v1/BUILD.gn
 third_party/rust/cxxbridge_cmd/v1/BUILD.gn
 third_party/rust/cxxbridge_flags/v1/BUILD.gn
@@ -13403,6 +13467,7 @@ third_party/rust/itoa/v1/BUILD.gn
 third_party/rust/lazy_static/v1/BUILD.gn
 third_party/rust/memchr/v2/BUILD.gn
 third_party/rust/miniz_oxide/v0_7/BUILD.gn
+third_party/rust/miniz_oxide/v0_8/BUILD.gn
 third_party/rust/proc_macro2/v1/BUILD.gn
 third_party/rust/prost/v0_12/BUILD.gn
 third_party/rust/prost_derive/v0_12/BUILD.gn
@@ -13415,7 +13480,6 @@ third_party/rust/rstest/v0_17/BUILD.gn
 third_party/rust/rstest_macros/v0_17/BUILD.gn
 third_party/rust/rstest_reuse/v0_5/BUILD.gn
 third_party/rust/rustc_demangle_capi/v0_1/BUILD.gn
-third_party/rust/rustc_version/v0_4/BUILD.gn
 third_party/rust/rustversion/v1/BUILD.gn
 third_party/rust/ryu/v1/BUILD.gn
 third_party/rust/semver/v1/BUILD.gn
@@ -13433,6 +13497,8 @@ third_party/rust/unicode_ident/v1/BUILD.gn
 third_party/rust/unicode_linebreak/v0_1/BUILD.gn
 third_party/rust/unicode_width/v0_1/BUILD.gn
 third_party/rust/winapi_util/v0_1/BUILD.gn
+third_party/rust/zerocopy/v0_7/BUILD.gn
+third_party/rust/zerocopy_derive/v0_7/BUILD.gn
 third_party/s2cellid/src/s2/_fpcontractoff.h
 third_party/s2cellid/src/s2/r1interval.h
 third_party/s2cellid/src/s2/r2.h
@@ -13456,12 +13522,14 @@ third_party/skia/PRESUBMIT.py
 third_party/skia/bench/DashBench.cpp
 third_party/skia/bench/DecodeBench.cpp
 third_party/skia/demos.skia.org/demos/image_decode_web_worker/index.html
+third_party/skia/demos.skia.org/demos/mesh2d/index.html
 third_party/skia/demos.skia.org/demos/path_performance/index.html
 third_party/skia/demos.skia.org/demos/spreadsheet/index.html
 third_party/skia/demos.skia.org/demos/web_worker/index.html
 third_party/skia/demos.skia.org/demos/web_worker/main.js
 third_party/skia/demos.skia.org/demos/web_worker/worker.js
 third_party/skia/demos.skia.org/demos/webgpu/index.html
+third_party/skia/example/external_client/src/ganesh_gl.cpp
 third_party/skia/example/external_client/src/gl_context_helper.mm
 third_party/skia/experimental/tools/pdf-comparison.py
 third_party/skia/fuzz/FuzzPathop.cpp
@@ -13642,6 +13710,7 @@ third_party/skia/tests/RegionTest.cpp
 third_party/skia/tests/SkXmpTest.cpp
 third_party/skia/tests/StringTest.cpp
 third_party/skia/tests/TypefaceTest.cpp
+third_party/skia/tests/graphite/precompile/ChromePrecompileTest.cpp
 third_party/skia/third_party/etc1/etc1.cpp
 third_party/skia/third_party/etc1/etc1.h
 third_party/skia/third_party/freetype2/include/freetype-android/freetype/config/ftoption.h
@@ -13654,6 +13723,7 @@ third_party/skia/tools/flags/CommandLineFlags.h
 third_party/skia/tools/gpu/vk/VkTestMemoryAllocator.h
 third_party/skia/tools/perf-canvaskit-puppeteer/canvas_perf.js
 third_party/skia/tools/run-wasm-gm-tests/run-wasm-gm-tests.html
+third_party/skia/tools/skia-client-search.html
 third_party/skia/tools/skp/generate_page_set.py
 third_party/skia/tools/skp/page_sets/other/OLD-skia_desktop_set.json
 third_party/skia/tools/skp/page_sets/other/OLD-skia_nexus10_set.json
@@ -13899,6 +13969,131 @@ third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate.h
 third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate_c_api.h
 third_party/tflite/src/tensorflow/lite/experimental/acceleration/mini_benchmark/libjpeg_decoder.cc
 third_party/tflite/src/tensorflow/lite/experimental/acceleration/mini_benchmark/runner.cc
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/c/group/tflite.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/classes.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/DataType.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/Delegate.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/Interpreter.Options.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/Interpreter.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/InterpreterApi.Options.TfLiteRuntime.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/InterpreterApi.Options.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/InterpreterApi.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/InterpreterFactory.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/RuntimeFlavor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/Tensor.QuantizationParams.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/Tensor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/TensorFlowLite.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/CompatibilityList.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/GpuDelegate.Options.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/GpuDelegate.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/GpuDelegateFactory.Options.GpuBackend.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/GpuDelegateFactory.Options.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/gpu/GpuDelegateFactory.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/FileUtil.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/SequentialProcessor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/TensorProcessor.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/TensorProcessor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/ops/CastOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/ops/DequantizeOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/ops/NormalizeOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/common/ops/QuantizeOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/BoundingBoxUtil.CoordinateType.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/BoundingBoxUtil.Type.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/BoundingBoxUtil.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ColorSpaceType.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ImageProcessor.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ImageProcessor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ImageProperties.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ImageProperties.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/MlImageAdapter.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/TensorImage.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/ResizeOp.ResizeMethod.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/ResizeOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/ResizeWithCropOrPadOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/Rot90Op.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/TensorOperatorWrapper.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/image/ops/TransformToGrayscaleOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/label/Category.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/label/LabelUtil.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/label/TensorLabel.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/label/ops/LabelAxisOp.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/label/ops/LabelAxisOp.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/metadata/MetadataExtractor.QuantizationParams.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/metadata/MetadataExtractor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/metadata/MetadataParser.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/model/Model.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/model/Model.Device.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/model/Model.Options.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/model/Model.Options.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/model/Model.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBufferFloat.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBufferUint8.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/audio/classifier/AudioClassifier.AudioClassifierOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/audio/classifier/AudioClassifier.AudioClassifierOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/audio/classifier/AudioClassifier.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/audio/classifier/Classifications.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/BaseOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/BaseOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/BaseTaskApi.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/ComputeSettings.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/ComputeSettings.Delegate.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/ComputeSettings.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/TaskJniUtils.MultipleBuffersHandleProvider.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/TaskJniUtils.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/package-summary.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/vision/ImageProcessingOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/vision/ImageProcessingOptions.Orientation.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/core/vision/ImageProcessingOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/gms/audio/TfLiteAudio.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/gms/text/TfLiteText.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/processor/NearestNeighbor.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/processor/SearcherOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/processor/SearcherOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/BertCluAnnotator.BertCluAnnotatorOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/BertCluAnnotator.BertCluAnnotatorOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/BertCluAnnotator.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/CluRequest.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/CluResponse.CategoricalSlot.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/CluResponse.Mention.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/CluResponse.MentionedSlot.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/bertclu/CluResponse.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/BertNLClassifier.BertNLClassifierOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/BertNLClassifier.BertNLClassifierOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/BertNLClassifier.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/NLClassifier.NLClassifierOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/NLClassifier.NLClassifierOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/nlclassifier/NLClassifier.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/BertQuestionAnswerer.BertQuestionAnswererOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/BertQuestionAnswerer.BertQuestionAnswererOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/BertQuestionAnswerer.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/QaAnswer.Pos.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/QaAnswer.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/qa/QuestionAnswerer.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/searcher/TextSearcher.TextSearcherOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/searcher/TextSearcher.TextSearcherOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/text/searcher/TextSearcher.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/classifier/Classifications.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/classifier/ImageClassifier.ImageClassifierOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/classifier/ImageClassifier.ImageClassifierOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/classifier/ImageClassifier.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/core/BaseVisionTaskApi.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/detector/Detection.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/detector/ObjectDetector.ObjectDetectorOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/detector/ObjectDetector.ObjectDetectorOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/detector/ObjectDetector.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/searcher/ImageSearcher.ImageSearcherOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/searcher/ImageSearcher.ImageSearcherOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/searcher/ImageSearcher.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/ColoredLabel.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/ImageSegmenter.ImageSegmenterOptions.Builder.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/ImageSegmenter.ImageSegmenterOptions.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/ImageSegmenter.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/OutputType.html
+third_party/tflite/src/tensorflow/lite/g3doc/api_docs/java/org/tensorflow/lite/task/vision/segmenter/Segmentation.html
 third_party/tflite/src/tensorflow/lite/g3doc/tools/build_java_api_docs.py
 third_party/tflite/src/tensorflow/lite/java/src/main/native/op_resolver_lazy_delegate_proxy.cc
 third_party/tflite/src/tensorflow/lite/kernels/ctc/ctc_beam_search.h
@@ -13954,7 +14149,7 @@ third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stac
 third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stacktrace_handler.cc
 third_party/tflite/src/third_party/xla/xla/pjrt/c/pjrt_c_api.h
 third_party/tflite/src/third_party/xla/xla/pjrt/pjrt_api.cc
-third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/transpose.h
+third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/legacy/transpose.h
 third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/transpose_mlir.h
 third_party/tflite/src/third_party/xla/xla/service/hlo_graph_dumper.cc
 third_party/tflite/src/third_party/xla/xla/service/hlo_verifier.cc
@@ -14477,7 +14672,6 @@ third_party/webrtc/sdk/android/src/jni/jvm.cc
 third_party/webrtc/sdk/media_constraints.h
 third_party/webrtc/sdk/objc/api/peerconnection/RTCConfiguration.h
 third_party/webrtc/sdk/objc/components/renderer/metal/RTCMTLI420Renderer.mm
-third_party/webrtc/test/fuzzers/BUILD.gn
 third_party/webrtc/test/test_flags.cc
 third_party/webrtc/test/test_main_lib.cc
 third_party/webrtc/test/testsupport/perf_test.h
@@ -14623,6 +14817,7 @@ tools/accessibility/codereview/download_issue.py
 tools/accessibility/codereview/mph.py
 tools/accessibility/inspect/ax_utils.cc
 tools/accessibility/nvda/README.txt
+tools/accessibility/rebase_dump_accessibility_tree_tests.py
 tools/android/android_studio/ChromiumInspections.xml
 tools/android/avd/3pp/fetch.py
 tools/android/checkstyle/chromium-style-5.0.xml
@@ -14672,7 +14867,6 @@ tools/bisect_repackage/bisect_repackage.py
 tools/bisect_repackage/bisect_repackage_utils.py
 tools/bisect_test.py
 tools/boilerplate.py
-tools/browserbench-webdriver/browserbench.py
 tools/captured_sites/refresh.py
 tools/check_git_config.py
 tools/checkbins/checkbins.py
@@ -14704,20 +14898,22 @@ tools/clang/scripts/dashboard.py
 tools/clang/scripts/include-analysis.html
 tools/clang/scripts/package.py
 tools/clang/scripts/update.py
+tools/clang/spanify/evaluate_patches.py
 tools/clang/spanify/extract_edits.py
 tools/clang/translation_unit/test_translation_unit.py
 tools/code_coverage/coverage.py
 tools/code_coverage/js_source_maps/create_js_source_maps/PRESUBMIT.py
 tools/cr/cr/base/android.py
 tools/cr/main.py
+tools/crates/create_draft_comments.py
 tools/crates/create_update_cl.py
 tools/crates/gnrt/lib/test_metadata.json
 tools/crbug/crbug.js
 tools/crbug/pinpoint.js
 tools/crbug/user-activity.js
 tools/cygprofile/PRESUBMIT.py
+tools/cygprofile/android_profile_tool.py
 tools/cygprofile/orderfile_generator_backend.py
-tools/cygprofile/profile_android_startup.py
 tools/determinism/compare_build_artifacts.py
 tools/disable_tests/PRESUBMIT.py
 tools/disable_tests/disable.py
@@ -14895,6 +15091,8 @@ tools/metrics/histograms/metadata/cryptohome/histograms.xml
 tools/metrics/histograms/metadata/custom_tabs/enums.xml
 tools/metrics/histograms/metadata/custom_tabs/histograms.xml
 tools/metrics/histograms/metadata/data/histograms.xml
+tools/metrics/histograms/metadata/data_sharing/enums.xml
+tools/metrics/histograms/metadata/data_sharing/histograms.xml
 tools/metrics/histograms/metadata/dev/enums.xml
 tools/metrics/histograms/metadata/dev/histograms.xml
 tools/metrics/histograms/metadata/disk/histograms.xml
@@ -14950,6 +15148,8 @@ tools/metrics/histograms/metadata/language/histograms.xml
 tools/metrics/histograms/metadata/lens/enums.xml
 tools/metrics/histograms/metadata/lens/histograms.xml
 tools/metrics/histograms/metadata/leveldb_proto/histograms.xml
+tools/metrics/histograms/metadata/linux/enums.xml
+tools/metrics/histograms/metadata/linux/histograms.xml
 tools/metrics/histograms/metadata/local/histograms.xml
 tools/metrics/histograms/metadata/login/histograms.xml
 tools/metrics/histograms/metadata/mac/enums.xml
@@ -14989,6 +15189,7 @@ tools/metrics/histograms/metadata/page/enums.xml
 tools/metrics/histograms/metadata/page/histograms.xml
 tools/metrics/histograms/metadata/password/enums.xml
 tools/metrics/histograms/metadata/password/histograms.xml
+tools/metrics/histograms/metadata/payment/enums.xml
 tools/metrics/histograms/metadata/payment/histograms.xml
 tools/metrics/histograms/metadata/pdf/enums.xml
 tools/metrics/histograms/metadata/pdf/histograms.xml
@@ -15036,6 +15237,8 @@ tools/metrics/histograms/metadata/search/histograms.xml
 tools/metrics/histograms/metadata/security/enums.xml
 tools/metrics/histograms/metadata/security/histograms.xml
 tools/metrics/histograms/metadata/segmentation_platform/histograms.xml
+tools/metrics/histograms/metadata/sensitive_content/enums.xml
+tools/metrics/histograms/metadata/sensitive_content/histograms.xml
 tools/metrics/histograms/metadata/service/enums.xml
 tools/metrics/histograms/metadata/service/histograms.xml
 tools/metrics/histograms/metadata/session/enums.xml
@@ -15064,6 +15267,8 @@ tools/metrics/histograms/metadata/sync/histograms.xml
 tools/metrics/histograms/metadata/system/histograms.xml
 tools/metrics/histograms/metadata/tab/enums.xml
 tools/metrics/histograms/metadata/tab/histograms.xml
+tools/metrics/histograms/metadata/toasts/enums.xml
+tools/metrics/histograms/metadata/toasts/histograms.xml
 tools/metrics/histograms/metadata/translate/enums.xml
 tools/metrics/histograms/metadata/translate/histograms.xml
 tools/metrics/histograms/metadata/trusted_vault/enums.xml
@@ -15073,6 +15278,8 @@ tools/metrics/histograms/metadata/ukm/histograms.xml
 tools/metrics/histograms/metadata/uma/enums.xml
 tools/metrics/histograms/metadata/uma/histograms.xml
 tools/metrics/histograms/metadata/update_engine/histograms.xml
+tools/metrics/histograms/metadata/user_annotations/enums.xml
+tools/metrics/histograms/metadata/user_annotations/histograms.xml
 tools/metrics/histograms/metadata/user_education/histograms.xml
 tools/metrics/histograms/metadata/v8/enums.xml
 tools/metrics/histograms/metadata/v8/histograms.xml
@@ -15410,6 +15617,7 @@ tools/typescript/definitions/pending.d.ts
 tools/typescript/definitions/system_display.d.ts
 tools/usb_gadget/gadget.py
 tools/usb_gadget/msos20_descriptors.py
+tools/utr/builders.py
 tools/utr/cipd.py
 tools/utr/output_adapter_test.py
 tools/utr/recipe.py
@@ -15444,6 +15652,12 @@ ui/accessibility/platform/ax_platform_node_delegate_utils_win.cc
 ui/accessibility/platform/ax_platform_node_textrangeprovider_win.cc
 ui/accessibility/platform/ax_platform_node_textrangeprovider_win_unittest.cc
 ui/accessibility/platform/ax_platform_node_win.cc
+ui/accessibility/platform/browser_accessibility.h
+ui/accessibility/platform/browser_accessibility_manager.cc
+ui/accessibility/platform/browser_accessibility_manager.h
+ui/accessibility/platform/browser_accessibility_manager_mac.mm
+ui/accessibility/platform/browser_accessibility_manager_win.cc
+ui/accessibility/platform/fuchsia/browser_accessibility_fuchsia.h
 ui/android/color_utils_android_unittest.cc
 ui/android/java/res/values/strings.xml
 ui/aura/native_window_occlusion_tracker_win.cc
@@ -15485,6 +15699,7 @@ ui/color/color_provider_key.h
 ui/display/display_switches.cc
 ui/display/display_transform.cc
 ui/display/mac/cv_display_link_mac.mm
+ui/display/manager/tools/index.html
 ui/display/win/test/virtual_display_util_win.cc
 ui/events/android/motion_event_android_unittest.cc
 ui/events/ash/keyboard_capability_unittest.cc
@@ -15500,7 +15715,6 @@ ui/events/keycodes/keyboard_codes_posix.h
 ui/events/keycodes/platform_key_map_win.cc
 ui/events/ozone/evdev/touch_filter/palm_detection_filter_factory.h
 ui/events/test/keyboard_layout_win.cc
-ui/events/velocity_tracker/motion_event_buffer.h
 ui/events/win/events_win.cc
 ui/events/win/events_win_utils.cc
 ui/events/win/modifier_keyboard_hook_win.cc
@@ -15525,6 +15739,7 @@ ui/file_manager/integration_tests/file_manager/office.ts
 ui/file_manager/integration_tests/remote_call.ts
 ui/file_manager/integration_tests/test_util.ts
 ui/gfx/PRESUBMIT.py
+ui/gfx/codec/vector_wstream.cc
 ui/gfx/color_analysis.h
 ui/gfx/color_transform.cc
 ui/gfx/font.h
diff --git a/patches/core/bromite/disable-fetching-field-trials.patch b/patches/core/bromite/disable-fetching-field-trials.patch
index fcb434869..ff3a6a366 100644
--- a/patches/core/bromite/disable-fetching-field-trials.patch
+++ b/patches/core/bromite/disable-fetching-field-trials.patch
@@ -51,7 +51,7 @@ Subject: Disable fetching of all field trials
      /**
 --- a/components/variations/service/variations_service.cc
 +++ b/components/variations/service/variations_service.cc
-@@ -226,17 +226,7 @@ bool GetInstanceManipulations(const net:
+@@ -227,17 +227,7 @@ bool GetInstanceManipulations(const net:
  // Variations seed fetching is only enabled in official Chrome builds, if a URL
  // is specified on the command line, and for testing.
  bool IsFetchingEnabled() {
diff --git a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
index 2e0d2ec49..3506b1644 100644
--- a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
+++ b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2241,7 +2241,6 @@ static_library("browser") {
+@@ -2251,7 +2251,6 @@ static_library("browser") {
      "//components/reporting/util:task_runner_context",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -8,7 +8,7 @@
      "//components/safe_browsing/content/browser:safe_browsing_service",
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
-@@ -3613,8 +3612,6 @@ static_library("browser") {
+@@ -3636,8 +3635,6 @@ static_library("browser") {
        "download/download_commands.h",
        "download/download_crx_util.cc",
        "download/download_crx_util.h",
@@ -50,7 +50,7 @@
  #include "chrome/browser/shell_integration.h"
  #include "chrome/browser/site_isolation/prefs_observer.h"
  #include "chrome/browser/ssl/secure_origin_prefs_observer.h"
-@@ -452,8 +451,6 @@ void BrowserProcessImpl::StartTearDown()
+@@ -478,8 +477,6 @@ void BrowserProcessImpl::StartTearDown()
  #endif
    metrics_services_manager_.reset();
    intranet_redirect_detector_.reset();
@@ -59,7 +59,7 @@
    network_time_tracker_.reset();
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS)
-@@ -1136,14 +1133,6 @@ StatusTray* BrowserProcessImpl::status_t
+@@ -1166,14 +1163,6 @@ StatusTray* BrowserProcessImpl::status_t
    return status_tray_.get();
  }
  
@@ -74,7 +74,7 @@
  subresource_filter::RulesetService*
  BrowserProcessImpl::subresource_filter_ruleset_service() {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
-@@ -1444,26 +1433,6 @@ void BrowserProcessImpl::CreateBackgroun
+@@ -1485,26 +1474,6 @@ void BrowserProcessImpl::CreateBackgroun
  #endif
  }
  
@@ -111,7 +111,7 @@
    subresource_filter::RulesetService* subresource_filter_ruleset_service()
        override;
    subresource_filter::RulesetService*
-@@ -366,9 +365,6 @@ class BrowserProcessImpl : public Browse
+@@ -368,9 +367,6 @@ class BrowserProcessImpl : public Browse
    std::unique_ptr<BackgroundModeManager> background_mode_manager_;
  #endif
  
@@ -131,7 +131,7 @@
  #include "chrome/browser/safe_browsing/verdict_cache_manager_factory.h"
  #include "chrome/browser/search_engines/template_url_service_factory.h"
  #include "chrome/browser/share/share_history.h"
-@@ -662,10 +661,6 @@ void ChromeBrowsingDataRemoverDelegate::
+@@ -645,10 +644,6 @@ void ChromeBrowsingDataRemoverDelegate::
      base::RecordAction(UserMetricsAction("ClearBrowsingData_Cookies"));
  
      network::mojom::NetworkContext* safe_browsing_context = nullptr;
@@ -144,7 +144,7 @@
      browsing_data::RemoveFederatedSiteSettingsData(delete_begin_, delete_end_,
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5506,10 +5506,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5512,10 +5512,6 @@ ChromeContentBrowserClient::CreateThrott
    throttles.push_back(std::make_unique<PolicyBlocklistNavigationThrottle>(
        handle, handle->GetWebContents()->GetBrowserContext()));
  
@@ -155,7 +155,7 @@
    throttles.push_back(std::make_unique<SSLErrorNavigationThrottle>(
        handle,
        base::BindOnce(&HandleSSLErrorWrapper), base::BindOnce(&IsInHostedApp),
-@@ -5561,16 +5557,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5567,16 +5563,6 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -172,7 +172,7 @@
    if (base::FeatureList::IsEnabled(safe_browsing::kDelayedWarnings)) {
      throttles.push_back(
          std::make_unique<safe_browsing::DelayedWarningNavigationThrottle>(
-@@ -5885,8 +5871,6 @@ bool ChromeContentBrowserClient::IsPlugi
+@@ -5897,8 +5883,6 @@ bool ChromeContentBrowserClient::IsPlugi
  void ChromeContentBrowserClient::InitOnUIThread() {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
  
@@ -207,7 +207,7 @@
  }  // namespace
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
-@@ -532,13 +532,6 @@ void ChromeDownloadManagerDelegate::SetD
+@@ -533,13 +533,6 @@ void ChromeDownloadManagerDelegate::SetD
  
    download_manager_ = dm;
  
@@ -221,7 +221,7 @@
    if (download_manager_) {
      download_manager_->AddObserver(this);
    }
-@@ -973,17 +966,6 @@ void ChromeDownloadManagerDelegate::Choo
+@@ -1007,17 +1000,6 @@ void ChromeDownloadManagerDelegate::Choo
  void ChromeDownloadManagerDelegate::SanitizeSavePackageResourceName(
      base::FilePath* filename,
      const GURL& source_url) {
@@ -250,7 +250,7 @@
  
    // Whether the download is currently being revived.
    bool is_being_revived_ = false;
-@@ -555,13 +555,13 @@ void DownloadItemModel::SetShouldPreferO
+@@ -531,13 +531,13 @@ void DownloadItemModel::SetShouldPreferO
    data->should_prefer_opening_in_browser_ = preference;
  }
  
@@ -267,7 +267,7 @@
    DownloadItemModelData* data = DownloadItemModelData::GetOrCreate(download_);
    data->danger_level_ = danger_level;
  }
-@@ -764,9 +764,6 @@ bool DownloadItemModel::IsCommandEnabled
+@@ -740,9 +740,6 @@ bool DownloadItemModel::IsCommandEnabled
        // filename. Don't base an "Always open" decision based on it. Also
        // exclude extensions.
        return download_->CanOpenDownload() &&
@@ -279,7 +279,7 @@
        return !download_->IsSavePackageDownload() &&
 --- a/chrome/browser/download/download_prefs.cc
 +++ b/chrome/browser/download/download_prefs.cc
-@@ -261,14 +261,7 @@ DownloadPrefs::DownloadPrefs(Profile* pr
+@@ -257,14 +257,7 @@ DownloadPrefs::DownloadPrefs(Profile* pr
          base::FilePath::StringType(1, base::FilePath::kExtensionSeparator) +
          extension);
  
@@ -295,7 +295,7 @@
    }
  }
  
-@@ -446,10 +439,6 @@ bool DownloadPrefs::IsAutoOpenByPolicy(c
+@@ -442,10 +435,6 @@ bool DownloadPrefs::IsAutoOpenByPolicy(c
  bool DownloadPrefs::EnableAutoOpenByUserBasedOnExtension(
      const base::FilePath& file_name) {
    base::FilePath::StringType extension = file_name.Extension();
@@ -308,7 +308,7 @@
    extension.erase(0, 1);
 --- a/chrome/browser/download/download_target_determiner.cc
 +++ b/chrome/browser/download/download_target_determiner.cc
-@@ -333,13 +333,6 @@ base::FilePath DownloadTargetDeterminer:
+@@ -324,13 +324,6 @@ base::FilePath DownloadTargetDeterminer:
        download_->GetURL(), download_->GetContentDisposition(), referrer_charset,
        suggested_filename, sniffed_mime_type, default_filename);
  
@@ -322,7 +322,7 @@
    // If no mime type or explicitly specified a name, don't replace file
    // extension.
    if (sniffed_mime_type.empty() || !suggested_filename.empty())
-@@ -1364,30 +1357,7 @@ DownloadFileType::DangerLevel DownloadTa
+@@ -1316,30 +1309,7 @@ DownloadFileType::DangerLevel DownloadTa
        download_->HasUserGesture())
      return DownloadFileType::NOT_DANGEROUS;
  
@@ -364,7 +364,7 @@
  #include "chrome/browser/download/download_file_icon_extractor.h"
  #include "chrome/browser/download/download_open_prompt.h"
  #include "chrome/browser/download/download_prefs.h"
-@@ -1378,9 +1377,6 @@ DownloadsAcceptDangerFunction::Downloads
+@@ -1379,9 +1378,6 @@ DownloadsAcceptDangerFunction::Downloads
  
  DownloadsAcceptDangerFunction::~DownloadsAcceptDangerFunction() {}
  
@@ -374,7 +374,7 @@
  ExtensionFunction::ResponseAction DownloadsAcceptDangerFunction::Run() {
    std::optional<downloads::AcceptDanger::Params> params =
        downloads::AcceptDanger::Params::Create(args());
-@@ -1418,42 +1414,7 @@ void DownloadsAcceptDangerFunction::Prom
+@@ -1419,42 +1415,7 @@ void DownloadsAcceptDangerFunction::Prom
      return;
    }
    RecordApiFunctions(DOWNLOADS_FUNCTION_ACCEPT_DANGER);
@@ -656,7 +656,7 @@
  #include "chrome/browser/sessions/exit_type_service.h"
  #include "chrome/browser/sharing/sharing_service_factory.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
-@@ -643,17 +642,6 @@ void ProfileImpl::LoadPrefsForNormalStar
+@@ -646,17 +645,6 @@ void ProfileImpl::LoadPrefsForNormalStar
  
    mojo::PendingRemote<prefs::mojom::TrackedPreferenceValidationDelegate>
        pref_validation_delegate;
@@ -696,7 +696,7 @@
    sources = [
      "chrome_controller_client.cc",
      "chrome_controller_client.h",
-@@ -73,6 +74,7 @@ static_library("safe_browsing") {
+@@ -74,6 +75,7 @@ static_library("safe_browsing") {
      "//mojo/public/cpp/system",
      "//services/preferences/public/cpp",
    ]
@@ -704,7 +704,7 @@
  
    if (is_android) {
      deps += [
-@@ -520,6 +522,7 @@ static_library("advanced_protection") {
+@@ -525,6 +527,7 @@ static_library("advanced_protection") {
  }
  
  source_set("metrics_collector") {
@@ -712,7 +712,7 @@
    sources = [
      "safe_browsing_metrics_collector_factory.cc",
      "safe_browsing_metrics_collector_factory.h",
-@@ -539,6 +542,7 @@ source_set("metrics_collector") {
+@@ -544,6 +547,7 @@ source_set("metrics_collector") {
      "//components/safe_browsing/core/common:safe_browsing_prefs",
      "//content/public/browser",
    ]
@@ -818,7 +818,7 @@
  }
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -4404,7 +4404,6 @@ static_library("ui") {
+@@ -4294,7 +4294,6 @@ static_library("ui") {
        "views/download/bubble/download_dialog_view.h",
        "views/download/bubble/download_toolbar_button_view.cc",
        "views/download/bubble/download_toolbar_button_view.h",
@@ -828,7 +828,7 @@
        "views/download/download_item_view.cc",
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -507,32 +507,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -512,37 +512,8 @@ void TabHelpers::AttachTabHelpers(WebCon
    //     See https://crbug.com/910288.
    resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
        web_contents);
@@ -837,6 +837,9 @@
 -      safe_browsing::SafeBrowsingNavigationObserverManagerFactory::
 -          GetForBrowserContext(profile),
 -      profile->GetPrefs(), g_browser_process->safe_browsing_service());
+   site_protection::SiteProtectionMetricsObserver::CreateForWebContents(
+       web_contents);
+-
 -  if (base::FeatureList::IsEnabled(
 -          safe_browsing::kTailoredSecurityIntegration)) {
 -    safe_browsing::TailoredSecurityUrlObserver::CreateForWebContents(
@@ -847,7 +850,9 @@
 -          safe_browsing::kSafeBrowsingAsyncRealTimeCheck) &&
 -      g_browser_process->safe_browsing_service()) {
 -    safe_browsing::AsyncCheckTracker::CreateForWebContents(
--        web_contents, g_browser_process->safe_browsing_service()->ui_manager());
+-        web_contents, g_browser_process->safe_browsing_service()->ui_manager(),
+-        safe_browsing::AsyncCheckTracker::
+-            IsPlatformEligibleForSyncCheckerCheckAllowlist());
 -  }
 -  // SafeBrowsingTabObserver creates a ClientSideDetectionHost, which observes
 -  // events from PermissionRequestManager and AsyncCheckTracker in its
@@ -996,8 +1001,8 @@
 -
  #if BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_WIN)
  std::unique_ptr<SupervisedUserVerificationPage>
- CreateSupervisedUserVerificationPage(content::WebContents* web_contents) {
-@@ -411,61 +324,6 @@ CreateSupervisedUserVerificationPageForB
+ CreateSupervisedUserVerificationPage(content::WebContents* web_contents,
+@@ -415,61 +328,6 @@ CreateSupervisedUserVerificationPageForB
  }
  #endif
  
@@ -1059,7 +1064,7 @@
  #if BUILDFLAG(ENABLE_CAPTIVE_PORTAL_DETECTION)
  std::unique_ptr<CaptivePortalBlockingPage> CreateCaptivePortalBlockingPage(
      content::WebContents* web_contents) {
-@@ -572,12 +430,8 @@ void InterstitialHTMLSource::StartDataRe
+@@ -576,12 +434,8 @@ void InterstitialHTMLSource::StartDataRe
      interstitial_delegate = CreateMITMSoftwareBlockingPage(web_contents);
    } else if (path_without_query == "/blocked-interception") {
      interstitial_delegate = CreateBlockedInterceptionBlockingPage(web_contents);
@@ -1072,7 +1077,7 @@
    } else if (path_without_query == "/clock") {
      interstitial_delegate = CreateBadClockBlockingPage(web_contents);
    } else if (path_without_query == "/lookalike") {
-@@ -599,12 +453,7 @@ void InterstitialHTMLSource::StartDataRe
+@@ -611,12 +465,7 @@ void InterstitialHTMLSource::StartDataRe
  #endif
    }
  
@@ -1088,15 +1093,15 @@
      html = interstitial_delegate.get()->GetHTMLContents();
 --- a/chrome/renderer/chrome_content_renderer_client.cc
 +++ b/chrome/renderer/chrome_content_renderer_client.cc
-@@ -107,7 +107,6 @@
+@@ -109,7 +109,6 @@
  #include "components/pdf/common/pdf_util.h"
  #include "components/permissions/features.h"
  #include "components/safe_browsing/buildflags.h"
 -#include "components/safe_browsing/content/renderer/threat_dom_details.h"
+ #include "components/sampling_profiler/thread_profiler.h"
+ #include "components/security_interstitials/content/renderer/security_interstitial_page_controller_delegate_impl.h"
  #include "components/spellcheck/spellcheck_buildflags.h"
- #include "components/subresource_filter/content/renderer/subresource_filter_agent.h"
- #include "components/subresource_filter/content/renderer/unverified_ruleset_dealer.h"
-@@ -458,12 +457,8 @@ void ChromeContentRendererClient::Render
+@@ -473,12 +472,8 @@ void ChromeContentRendererClient::Render
    subresource_filter_ruleset_dealer_ =
        std::make_unique<subresource_filter::UnverifiedRulesetDealer>();
  
diff --git a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
index 4fc95774d..df80178d9 100644
--- a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
+++ b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
@@ -1,6 +1,6 @@
 --- a/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
 +++ b/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
-@@ -828,93 +828,6 @@ std::tuple<GURL, std::string> AutofillCr
+@@ -893,93 +893,6 @@ std::tuple<GURL, std::string> AutofillCr
  }
  
  bool AutofillCrowdsourcingManager::StartRequest(FormRequestData request_data) {
diff --git a/patches/core/inox-patchset/0015-disable-update-pings.patch b/patches/core/inox-patchset/0015-disable-update-pings.patch
index c2c4c404c..eed925d65 100644
--- a/patches/core/inox-patchset/0015-disable-update-pings.patch
+++ b/patches/core/inox-patchset/0015-disable-update-pings.patch
@@ -1,6 +1,6 @@
 --- a/chrome/updater/configurator.cc
 +++ b/chrome/updater/configurator.cc
-@@ -106,7 +106,7 @@ base::TimeDelta Configurator::UpdateDela
+@@ -108,7 +108,7 @@ base::TimeDelta Configurator::UpdateDela
  
  std::vector<GURL> Configurator::UpdateUrl() const {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
diff --git a/patches/core/inox-patchset/0021-disable-rlz.patch b/patches/core/inox-patchset/0021-disable-rlz.patch
index f3d959224..b69d8bdde 100644
--- a/patches/core/inox-patchset/0021-disable-rlz.patch
+++ b/patches/core/inox-patchset/0021-disable-rlz.patch
@@ -2,7 +2,7 @@
 
 --- a/BUILD.gn
 +++ b/BUILD.gn
-@@ -460,14 +460,6 @@ group("gn_all") {
+@@ -469,14 +469,6 @@ group("gn_all") {
        deps += [ "//chromeos:chromeos_unittests" ]
      }
  
diff --git a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
index ea859cba7..a9891f7ad 100644
--- a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
+++ b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
@@ -595,9 +595,9 @@ by default.
 +    "trk:099:https://www.googleapis.com/auth/assistant-sdk-prototype";
  
  // OAuth2 scope for access to nearby devices (fast pair) APIs.
- const char kCloudPlatformProjectsOAuth2Scope[] =
--    "https://www.googleapis.com/auth/cloudplatformprojects";
-+    "trk:100:https://www.googleapis.com/auth/cloudplatformprojects";
+ const char kNearbyDevicesOAuth2Scope[] =
+-    "https://www.googleapis.com/auth/nearbydevices-pa";
++    "trk:100:https://www.googleapis.com/auth/nearbydevices-pa";
  
  // OAuth2 scope for access to nearby sharing.
  const char kNearbyShareOAuth2Scope[] =
diff --git a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
index 01447aaa6..9a69dabd0 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
@@ -56,7 +56,7 @@ the URL so we get notified if this happens again in the future).
  IncidentReportingService::IncidentReportingService(
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -373,7 +373,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
+@@ -372,7 +372,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
  }
  
  void SafeBrowsingService::RegisterAllDelayedAnalysis() {
diff --git a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
index bce928807..e6168a38f 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
@@ -13,7 +13,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
 
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -271,6 +271,10 @@ void ClientSideDetectionService::StartCl
+@@ -277,6 +277,10 @@ void ClientSideDetectionService::StartCl
      return;
    }
  
@@ -24,7 +24,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
    std::string request_data;
    request->SerializeToString(&request_data);
  
-@@ -350,6 +354,7 @@ void ClientSideDetectionService::StartCl
+@@ -357,6 +361,7 @@ void ClientSideDetectionService::StartCl
        base::BindOnce(&WebUIInfoSingleton::AddToClientPhishingRequestsSent,
                       base::Unretained(WebUIInfoSingleton::GetInstance()),
                       std::move(request), access_token));
diff --git a/patches/core/ungoogled-chromium/block-requests.patch b/patches/core/ungoogled-chromium/block-requests.patch
index 304faef48..26ff6c372 100644
--- a/patches/core/ungoogled-chromium/block-requests.patch
+++ b/patches/core/ungoogled-chromium/block-requests.patch
@@ -48,7 +48,7 @@
  
 --- a/components/affiliations/core/browser/hash_affiliation_fetcher.cc
 +++ b/components/affiliations/core/browser/hash_affiliation_fetcher.cc
-@@ -126,6 +126,9 @@ AffiliationFetcherDelegate* HashAffiliat
+@@ -121,6 +121,9 @@ AffiliationFetcherDelegate* HashAffiliat
  }
  
  void HashAffiliationFetcher::StartRequest(
@@ -80,7 +80,7 @@
    if (state_ == REQUESTING) {
 --- a/components/update_client/update_checker.cc
 +++ b/components/update_client/update_checker.cc
-@@ -102,6 +102,7 @@ void UpdateCheckerImpl::CheckForUpdates(
+@@ -104,6 +104,7 @@ void UpdateCheckerImpl::CheckForUpdates(
      scoped_refptr<UpdateContext> context,
      const base::flat_map<std::string, std::string>& additional_attributes,
      UpdateCheckCallback update_check_callback) {
diff --git a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
index aa593fb32..f321c6b30 100644
--- a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
+++ b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
@@ -23,7 +23,7 @@
        url.SchemeIs(dom_distiller::kDomDistillerScheme))
 --- a/chrome/browser/ui/singleton_tabs.cc
 +++ b/chrome/browser/ui/singleton_tabs.cc
-@@ -165,7 +165,8 @@ int GetIndexOfExistingTab(Browser* brows
+@@ -123,7 +123,8 @@ int GetIndexOfExistingTab(Browser* brows
      // RewriteURLIfNecessary removes the "view-source:" scheme which could lead
      // to incorrect matching, so ensure that the target and the candidate are
      // either both view-source:, or neither is.
@@ -60,7 +60,7 @@
      return GURL(parts.scheme.is_valid() ? text : FixupPath(text));
 --- a/content/browser/child_process_security_policy_impl.cc
 +++ b/content/browser/child_process_security_policy_impl.cc
-@@ -855,6 +855,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
+@@ -854,6 +854,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
    RegisterWebSafeScheme(url::kWssScheme);
  #endif  // BUILDFLAG(ENABLE_WEBSOCKETS)
    RegisterWebSafeScheme(url::kDataScheme);
@@ -70,7 +70,7 @@
    // other origins, so we should not treat them as web safe. Remove callers of
 --- a/net/BUILD.gn
 +++ b/net/BUILD.gn
-@@ -1034,6 +1034,8 @@ component("net") {
+@@ -1048,6 +1048,8 @@ component("net") {
      "url_request/referrer_policy.h",
      "url_request/static_http_user_agent_settings.cc",
      "url_request/static_http_user_agent_settings.h",
@@ -150,7 +150,7 @@
  #include "base/strings/utf_string_conversions.h"
  #include "base/synchronization/lock.h"
  #include "base/task/single_thread_task_runner.h"
-@@ -51,6 +52,7 @@
+@@ -52,6 +53,7 @@
  #include "net/url_request/url_request_redirect_job.h"
  #include "url/gurl.h"
  #include "url/origin.h"
@@ -158,7 +158,7 @@
  
  namespace net {
  
-@@ -618,6 +620,12 @@ URLRequest::URLRequest(base::PassKey<URL
+@@ -619,6 +621,12 @@ URLRequest::URLRequest(base::PassKey<URL
    // Sanity check out environment.
    DCHECK(base::SingleThreadTaskRunner::HasCurrentDefault());
  
diff --git a/patches/core/ungoogled-chromium/disable-crash-reporter.patch b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
index 5521a7f6b..aa0555d3a 100644
--- a/patches/core/ungoogled-chromium/disable-crash-reporter.patch
+++ b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -2748,24 +2748,6 @@ void ChromeContentBrowserClient::AppendE
+@@ -2757,24 +2757,6 @@ void ChromeContentBrowserClient::AppendE
      command_line->AppendSwitchASCII(switches::kMetricsClientID,
                                      client_info->client_id);
    }
diff --git a/patches/core/ungoogled-chromium/disable-google-host-detection.patch b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
index 29e3d8135..2973f5718 100644
--- a/patches/core/ungoogled-chromium/disable-google-host-detection.patch
+++ b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
@@ -25,7 +25,7 @@
  #if BUILDFLAG(ENABLE_BOUND_SESSION_CREDENTIALS)
  #include "chrome/common/bound_session_request_throttled_handler.h"
  #include "net/cookies/cookie_util.h"
-@@ -149,67 +145,6 @@ void GoogleURLLoaderThrottle::DetachFrom
+@@ -149,71 +145,6 @@ void GoogleURLLoaderThrottle::DetachFrom
  void GoogleURLLoaderThrottle::WillStartRequest(
      network::ResourceRequest* request,
      bool* defer) {
@@ -69,7 +69,11 @@
 -  is_main_frame_navigation_ =
 -      request->is_outermost_main_frame &&
 -      request->destination == network::mojom::RequestDestination::kDocument;
--  sends_cookies_ = request->SendsCookies();
+-  // TODO(crbug.com/372169462): `request->SendsCookies()` cannot be used for now
+-  // because it excludes `kSameOrigin` requests.
+-  sends_cookies_ =
+-      request->credentials_mode == network::mojom::CredentialsMode::kInclude ||
+-      request->credentials_mode == network::mojom::CredentialsMode::kSameOrigin;
 -  if (sends_cookies_) {
 -    RequestBoundSessionStatus status = GetRequestBoundSessionStatus(
 -        request->url, dynamic_params_->bound_session_throttler_params);
@@ -93,7 +97,7 @@
  }
  
  void GoogleURLLoaderThrottle::WillRedirectRequest(
-@@ -219,96 +154,12 @@ void GoogleURLLoaderThrottle::WillRedire
+@@ -223,96 +154,12 @@ void GoogleURLLoaderThrottle::WillRedire
      std::vector<std::string>* to_be_removed_headers,
      net::HttpRequestHeaders* modified_headers,
      net::HttpRequestHeaders* modified_cors_exempt_headers) {
@@ -546,7 +550,7 @@
  bool IsGoogleHostname(const GURL& url) {
 --- a/components/search_engines/template_url.cc
 +++ b/components/search_engines/template_url.cc
-@@ -589,11 +589,7 @@ std::u16string TemplateURLRef::SearchTer
+@@ -590,11 +590,7 @@ std::u16string TemplateURLRef::SearchTer
  bool TemplateURLRef::HasGoogleBaseURLs(
      const SearchTermsData& search_terms_data) const {
    ParseIfNecessary(search_terms_data);
@@ -670,7 +674,7 @@
  }  // namespace variations
 --- a/content/browser/preloading/prefetch/prefetch_container.cc
 +++ b/content/browser/preloading/prefetch/prefetch_container.cc
-@@ -754,7 +754,7 @@ void PrefetchContainer::AddRedirectHop(c
+@@ -849,7 +849,7 @@ void PrefetchContainer::AddRedirectHop(c
    // some which are added by throttles). These aren't yet supported for
    // prefetch, including browsing topics and client hints.
    net::HttpRequestHeaders updated_headers;
@@ -681,7 +685,7 @@
  
 --- a/net/base/url_util.cc
 +++ b/net/base/url_util.cc
-@@ -495,28 +495,6 @@ bool HasGoogleHost(const GURL& url) {
+@@ -493,28 +493,6 @@ bool HasGoogleHost(const GURL& url) {
  }
  
  bool IsGoogleHost(std::string_view host) {
diff --git a/patches/core/ungoogled-chromium/disable-mei-preload.patch b/patches/core/ungoogled-chromium/disable-mei-preload.patch
index 20c952fae..be2e1f725 100644
--- a/patches/core/ungoogled-chromium/disable-mei-preload.patch
+++ b/patches/core/ungoogled-chromium/disable-mei-preload.patch
@@ -7,7 +7,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -386,7 +386,6 @@ if (!is_android && !is_mac) {
+@@ -394,7 +394,6 @@ if (!is_android && !is_mac) {
        }
  
        data_deps += [
@@ -17,7 +17,7 @@
        if (invoker.collect_inputs_only) {
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -96,11 +96,6 @@ group("resources") {
+@@ -95,11 +95,6 @@ group("resources") {
      public_deps += [ "accessibility:reading_mode_gdocs_extension_resources" ]
    }
  
diff --git a/patches/core/ungoogled-chromium/disable-network-time-tracker.patch b/patches/core/ungoogled-chromium/disable-network-time-tracker.patch
index 3e14d8267..c34a8585d 100644
--- a/patches/core/ungoogled-chromium/disable-network-time-tracker.patch
+++ b/patches/core/ungoogled-chromium/disable-network-time-tracker.patch
@@ -5,7 +5,7 @@
 
 --- a/components/network_time/network_time_tracker.cc
 +++ b/components/network_time/network_time_tracker.cc
-@@ -279,7 +279,7 @@ void NetworkTimeTracker::UpdateNetworkTi
+@@ -282,7 +282,7 @@ void NetworkTimeTracker::UpdateNetworkTi
  }
  
  bool NetworkTimeTracker::AreTimeFetchesEnabled() const {
diff --git a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
index 6b599d009..16baa2cdd 100644
--- a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
+++ b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
@@ -11,7 +11,7 @@
               "AttributionAggregatableDebugReporting",
 --- a/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
 +++ b/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
-@@ -125,7 +125,7 @@ std::set<browsing_topics::Topic> GetTopi
+@@ -127,7 +127,7 @@ std::set<browsing_topics::Topic> GetTopi
  
  // static
  bool PrivacySandboxSettingsImpl::IsAllowed(Status status) {
@@ -20,7 +20,7 @@
  }
  
  // static
-@@ -775,7 +775,7 @@ void PrivacySandboxSettingsImpl::SetTopi
+@@ -822,7 +822,7 @@ void PrivacySandboxSettingsImpl::SetTopi
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxRestricted() const {
@@ -29,7 +29,7 @@
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxCurrentlyUnrestricted() const {
-@@ -844,11 +844,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
+@@ -891,11 +891,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
      return Status::kIncognitoProfile;
    }
  
diff --git a/patches/core/ungoogled-chromium/disable-webstore-urls.patch b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
index ab7c08380..9f95e8c42 100644
--- a/patches/core/ungoogled-chromium/disable-webstore-urls.patch
+++ b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
 +++ b/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
-@@ -664,12 +664,6 @@ std::vector<url::Origin> ChromeContentBr
+@@ -673,12 +673,6 @@ std::vector<url::Origin> ChromeContentBr
      GetOriginsRequiringDedicatedProcess() {
    std::vector<url::Origin> list;
  
diff --git a/patches/core/ungoogled-chromium/doh-changes.patch b/patches/core/ungoogled-chromium/doh-changes.patch
index 15ec42056..d9c274720 100644
--- a/patches/core/ungoogled-chromium/doh-changes.patch
+++ b/patches/core/ungoogled-chromium/doh-changes.patch
@@ -1,3 +1,14 @@
+--- a/chrome/browser/net/default_dns_over_https_config_source.cc
++++ b/chrome/browser/net/default_dns_over_https_config_source.cc
+@@ -25,7 +25,7 @@ DefaultDnsOverHttpsConfigSource::Default
+   if (set_up_pref_defaults) {
+     local_state->SetDefaultPrefValue(prefs::kDnsOverHttpsMode,
+                                      base::Value(SecureDnsConfig::ModeToString(
+-                                         net::SecureDnsMode::kAutomatic)));
++                                         net::SecureDnsMode::kOff)));
+   }
+ }
+ 
 --- a/chrome/browser/net/dns_probe_runner.cc
 +++ b/chrome/browser/net/dns_probe_runner.cc
 @@ -18,7 +18,7 @@
@@ -9,17 +20,6 @@
  
  namespace {
  
---- a/chrome/browser/net/stub_resolver_config_reader.cc
-+++ b/chrome/browser/net/stub_resolver_config_reader.cc
-@@ -125,7 +125,7 @@ StubResolverConfigReader::StubResolverCo
-                                       base::Value(ShouldEnableAsyncDns()));
-     local_state_->SetDefaultPrefValue(prefs::kDnsOverHttpsMode,
-                                       base::Value(SecureDnsConfig::ModeToString(
--                                          net::SecureDnsMode::kAutomatic)));
-+                                          net::SecureDnsMode::kOff)));
-   }
- 
-   pref_change_registrar_.Add(prefs::kBuiltInDnsClientEnabled, pref_callback);
 --- a/net/dns/public/doh_provider_entry.cc
 +++ b/net/dns/public/doh_provider_entry.cc
 @@ -166,30 +166,6 @@ const DohProviderEntry::List& DohProvide
diff --git a/patches/core/ungoogled-chromium/extensions-manifestv2.patch b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
index 2db82f0bb..9bb33a90a 100644
--- a/patches/core/ungoogled-chromium/extensions-manifestv2.patch
+++ b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
@@ -99,7 +99,7 @@
  
 --- a/chrome/browser/ui/webui/extensions/extensions_ui.cc
 +++ b/chrome/browser/ui/webui/extensions/extensions_ui.cc
-@@ -470,9 +470,9 @@ content::WebUIDataSource* CreateAndAddEx
+@@ -471,9 +471,9 @@ content::WebUIDataSource* CreateAndAddEx
            extensions_features::kExtensionsMenuAccessControlWithPermittedSites));
    source->AddBoolean(
        "safetyCheckShowReviewPanel",
diff --git a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
index 1a8b8d2f5..aeb0315b8 100644
--- a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
+++ b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -387,7 +387,6 @@ if (!is_android && !is_mac) {
+@@ -395,7 +395,6 @@ if (!is_android && !is_mac) {
  
        data_deps += [
          "//chrome/browser/resources/media/mei_preload:component",
@@ -11,7 +11,7 @@
          "//third_party/widevine/cdm",
        ]
        if (invoker.collect_inputs_only) {
-@@ -957,8 +956,6 @@ if (is_win) {
+@@ -964,8 +963,6 @@ if (is_win) {
  
    bundle_data("chrome_framework_resources") {
      sources = [
@@ -22,7 +22,7 @@
        # from disk image and Keystone promotion (if so enabled).  It
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -785,10 +785,6 @@ static_library("browser") {
+@@ -774,10 +774,6 @@ static_library("browser") {
      "navigation_predictor/navigation_predictor_metrics_document_data.h",
      "navigation_predictor/navigation_predictor_preconnect_client.cc",
      "navigation_predictor/navigation_predictor_preconnect_client.h",
@@ -32,8 +32,8 @@
 -    "navigation_predictor/preloading_model_keyed_service_factory.h",
      "navigation_predictor/search_engine_preconnector.cc",
      "navigation_predictor/search_engine_preconnector.h",
-     "net/chrome_mojo_proxy_resolver_factory.cc",
-@@ -907,10 +903,6 @@ static_library("browser") {
+     "net/cert_verifier_service_time_updater.cc",
+@@ -897,10 +893,6 @@ static_library("browser") {
      "optimization_guide/chrome_prediction_model_store.h",
      "optimization_guide/model_execution/chrome_on_device_model_service_controller.cc",
      "optimization_guide/model_execution/chrome_on_device_model_service_controller.h",
@@ -44,7 +44,7 @@
      "optimization_guide/optimization_guide_internals_ui.cc",
      "optimization_guide/optimization_guide_internals_ui.h",
      "optimization_guide/optimization_guide_keyed_service.cc",
-@@ -3459,10 +3451,6 @@ static_library("browser") {
+@@ -3477,10 +3469,6 @@ static_library("browser") {
    } else {
      #!is_android
      sources += [
@@ -56,7 +56,7 @@
        "accessibility/embedded_a11y_extension_loader.cc",
        "accessibility/embedded_a11y_extension_loader.h",
 @@ -4241,10 +4229,6 @@ static_library("browser") {
-       "//chrome/browser/new_tab_page/chrome_colors",
+       "//chrome/browser/on_device_translation:prefs",
        "//chrome/browser/policy:path_parser",
        "//chrome/browser/resources:component_extension_resources",
 -      "//chrome/browser/screen_ai:prefs",
@@ -66,7 +66,7 @@
        "//chrome/browser/search/background",
        "//chrome/browser/smart_card",
        "//chrome/browser/task_manager",
-@@ -4326,9 +4310,6 @@ static_library("browser") {
+@@ -4340,9 +4324,6 @@ static_library("browser") {
        "//components/webauthn/core/browser:passkey_model",
        "//services/device/public/cpp/bluetooth",
        "//services/device/public/cpp/hid",
@@ -76,7 +76,7 @@
        "//third_party/crashpad/crashpad/client:common",
        "//third_party/zxcvbn-cpp",
        "//ui/views",
-@@ -4379,8 +4360,6 @@ static_library("browser") {
+@@ -4399,8 +4380,6 @@ static_library("browser") {
      #!is_android
      if (!is_chromeos) {
        sources += [
@@ -85,7 +85,7 @@
          "device_notifications/device_status_icon_renderer.cc",
          "device_notifications/device_status_icon_renderer.h",
          "external_protocol/auto_launch_protocols_policy_handler.cc",
-@@ -4397,8 +4376,6 @@ static_library("browser") {
+@@ -4417,8 +4396,6 @@ static_library("browser") {
          "policy/chrome_browser_cloud_management_register_watcher.h",
          "policy/file_selection_dialogs_policy_handler.cc",
          "policy/file_selection_dialogs_policy_handler.h",
@@ -94,15 +94,15 @@
          "usb/usb_status_icon.cc",
          "usb/usb_status_icon.h",
        ]
-@@ -5118,7 +5095,6 @@ static_library("browser") {
+@@ -5121,7 +5098,6 @@ static_library("browser") {
        "//chrome/browser/push_notification:push_notification",
        "//chrome/browser/resources:app_icon_resources",
        "//chrome/browser/scalable_iph:scalable_iph_factory",
 -      "//chrome/browser/screen_ai:screen_ai_dlc_installer",
+       "//chrome/browser/support_tool/ash",
        "//chrome/browser/ui/ash",
-       "//chrome/browser/ui/ash/accessibility",
-       "//chrome/browser/ui/ash/annotator",
-@@ -5302,7 +5278,6 @@ static_library("browser") {
+       "//chrome/browser/ui/ash/accelerator",
+@@ -5338,7 +5314,6 @@ static_library("browser") {
        "//components/webapk:proto",
        "//device/vr/public/mojom:isolated_xr_service",
        "//remoting/host/chromeos:features",
@@ -110,7 +110,7 @@
        "//third_party/nearby:rpc_resources_proto",
        "//third_party/nearby:wire_format_proto",
        "//ui/chromeos",
-@@ -7831,22 +7806,6 @@ static_library("browser") {
+@@ -7934,22 +7909,6 @@ static_library("browser") {
      }
    }
  
@@ -135,7 +135,7 @@
      sources += [
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -238,12 +238,10 @@
+@@ -245,12 +245,10 @@
  #if BUILDFLAG(IS_CHROMEOS)
  #include "chrome/browser/chromeos/extensions/telemetry/chromeos_telemetry_extensions_browser_api_provider.h"
  #include "chrome/browser/hid/hid_pinned_notification.h"
@@ -148,7 +148,7 @@
  #include "chrome/browser/usb/usb_status_icon.h"
  #include "components/enterprise/browser/controller/chrome_browser_cloud_management_controller.h"
  #endif
-@@ -1300,9 +1298,6 @@ void BrowserProcessImpl::PreMainMessageL
+@@ -1330,9 +1328,6 @@ void BrowserProcessImpl::PreMainMessageL
    soda_installer_impl_ = std::make_unique<speech::SodaInstallerImplChromeOS>();
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
  
@@ -170,7 +170,7 @@
  
  // Real implementation of BrowserProcess that creates and returns the services.
  class BrowserProcessImpl : public BrowserProcess,
-@@ -423,9 +420,6 @@ class BrowserProcessImpl : public Browse
+@@ -425,9 +422,6 @@ class BrowserProcessImpl : public Browse
    // to ensure that SodaInstallerImpl gets destructed first.
    std::unique_ptr<speech::SodaInstaller> soda_installer_impl_;
  
@@ -182,7 +182,7 @@
    std::unique_ptr<BrowserProcessPlatformPart> platform_part_;
 --- a/chrome/browser/chrome_browser_interface_binders.cc
 +++ b/chrome/browser/chrome_browser_interface_binders.cc
-@@ -221,8 +221,6 @@
+@@ -223,8 +223,6 @@
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
      BUILDFLAG(IS_CHROMEOS)
  #include "chrome/browser/companion/visual_query/visual_query_suggestions_service_factory.h"
@@ -191,7 +191,7 @@
  #include "chrome/browser/ui/web_applications/sub_apps_service_impl.h"
  #include "chrome/browser/ui/webui/discards/discards.mojom.h"
  #include "chrome/browser/ui/webui/discards/discards_ui.h"
-@@ -845,38 +843,6 @@ void BindMediaFoundationPreferences(
+@@ -858,38 +856,6 @@ void BindMediaFoundationPreferences(
  }
  #endif  // BUILDFLAG(IS_WIN)
  
@@ -230,7 +230,7 @@
  
  #if BUILDFLAG(IS_CHROMEOS_LACROS)
  // A helper class to register ChromeOS Apps API binders. This includes the logic
-@@ -1073,21 +1039,6 @@ void PopulateChromeFrameBinders(
+@@ -1093,21 +1059,6 @@ void PopulateChromeFrameBinders(
          base::BindRepeating(&web_app::SubAppsServiceImpl::CreateIfAllowed));
    }
  
@@ -263,7 +263,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
  
  #if !BUILDFLAG(IS_ANDROID)
-@@ -207,9 +205,6 @@ void RegisterComponentsForUpdate() {
+@@ -208,9 +206,6 @@ void RegisterComponentsForUpdate() {
  
    RegisterAutofillStatesComponent(cus, g_browser_process->local_state());
  
@@ -296,7 +296,7 @@
  
  bool MLModelOneExecutionPerHover() {
    static bool one_execution_per_hover =
-@@ -421,87 +414,6 @@ void NavigationPredictor::ProcessPointer
+@@ -424,87 +417,6 @@ void NavigationPredictor::ProcessPointer
  }
  
  void NavigationPredictor::OnMLModelExecutionTimerFired() {
@@ -386,7 +386,7 @@
  void NavigationPredictor::SetModelScoreCallbackForTesting(
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -1743,9 +1743,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1825,9 +1825,6 @@ void RegisterLocalState(PrefRegistrySimp
    DeviceOAuth2TokenStoreDesktop::RegisterPrefs(registry);
  #endif
  
@@ -398,7 +398,7 @@
    PlatformAuthPolicyObserver::RegisterPrefs(registry);
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -98,7 +98,6 @@
+@@ -100,7 +100,6 @@
  #include "chrome/browser/media_galleries/media_galleries_preferences_factory.h"
  #include "chrome/browser/metrics/variations/google_groups_manager_factory.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -406,15 +406,15 @@
  #include "chrome/browser/net/dns_probe_service_factory.h"
  #include "chrome/browser/net/profile_network_context_service_factory.h"
  #include "chrome/browser/notifications/metrics/notification_metrics_logger_factory.h"
-@@ -489,7 +488,6 @@
- #include "chrome/browser/new_tab_page/one_google_bar/one_google_bar_service_factory.h"
+@@ -502,7 +501,6 @@
  #include "chrome/browser/new_tab_page/promos/promo_service_factory.h"
  #include "chrome/browser/payments/payment_request_display_manager_factory.h"
+ #include "chrome/browser/privacy_sandbox/privacy_sandbox_survey_desktop_controller_factory.h"
 -#include "chrome/browser/screen_ai/screen_ai_service_router_factory.h"
  #include "chrome/browser/search/background/ntp_background_service_factory.h"
  #include "chrome/browser/search/background/ntp_custom_background_service_factory.h"
  #include "chrome/browser/serial/serial_chooser_context_factory.h"
-@@ -977,7 +975,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1000,7 +998,6 @@ void ChromeBrowserMainExtraPartsProfiles
    metrics::DesktopProfileSessionDurationsServiceFactory::GetInstance();
  #endif
    NavigationPredictorKeyedServiceFactory::GetInstance();
@@ -422,7 +422,7 @@
  #if BUILDFLAG(IS_CHROMEOS_ASH)
    NearbySharingServiceFactory::GetInstance();
    if (base::FeatureList::IsEnabled(ash::features::kNearbyPresence)) {
-@@ -1026,9 +1023,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1049,9 +1046,6 @@ void ChromeBrowserMainExtraPartsProfiles
    OneTimePermissionsTrackerFactory::GetInstance();
  #endif
    OpenerHeuristicServiceFactory::GetInstance();
@@ -432,7 +432,7 @@
    OptimizationGuideKeyedServiceFactory::GetInstance();
    OriginKeyedPermissionActionServiceFactory::GetInstance();
    OriginTrialsFactory::GetInstance();
-@@ -1174,13 +1168,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1204,13 +1198,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #else
    SafetyHubMenuNotificationServiceFactory::GetInstance();
    SafetyHubHatsServiceFactory::GetInstance();
@@ -448,7 +448,7 @@
    search_engines::SearchEngineChoiceServiceFactory::GetInstance();
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
-@@ -853,18 +853,6 @@ void ProfileImpl::DoFinalInit(CreateMode
+@@ -856,18 +856,6 @@ void ProfileImpl::DoFinalInit(CreateMode
    // The password settings service needs to start listening to settings
    // changes from Google Mobile Services, as early as possible.
    PasswordManagerSettingsServiceFactory::GetForProfile(this);
@@ -477,7 +477,7 @@
  #include "chrome/browser/permissions/adaptive_quiet_notification_permission_ui_enabler.h"
  #include "chrome/browser/prefs/incognito_mode_prefs.h"
  #include "chrome/browser/profiles/delete_profile_helper.h"
-@@ -1530,9 +1529,6 @@ void ProfileManager::DoFinalInitForServi
+@@ -1541,9 +1540,6 @@ void ProfileManager::DoFinalInitForServi
    // Ensure NavigationPredictorKeyedService is started.
    NavigationPredictorKeyedServiceFactory::GetForProfile(profile);
  
@@ -489,7 +489,7 @@
  #if BUILDFLAG(IS_ANDROID)
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -99,7 +99,6 @@ group("resources") {
+@@ -98,7 +98,6 @@ group("resources") {
    if (is_mac) {
      public_deps += [
        "//chrome/browser/resources/media/mei_preload:component",
@@ -499,7 +499,7 @@
  
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -2010,8 +2010,6 @@ static_library("ui") {
+@@ -1945,8 +1945,6 @@ static_library("ui") {
        "//chrome/browser/new_tab_page/chrome_colors",
        "//chrome/browser/safe_browsing",
        "//chrome/browser/safe_browsing:advanced_protection",
@@ -508,7 +508,7 @@
        "//chrome/browser/task_manager:impl",
        "//chrome/browser/themes",
        "//chrome/browser/ui/apps",
-@@ -2574,7 +2572,6 @@ static_library("ui") {
+@@ -2497,7 +2495,6 @@ static_library("ui") {
        "//chrome/browser/policy:onc",
        "//chrome/browser/push_notification:push_notification",
        "//chrome/browser/scalable_iph:scalable_iph_factory",
@@ -612,7 +612,7 @@
  }  // namespace settings
 --- a/chrome/browser/ui/webui/side_panel/read_anything/read_anything_untrusted_page_handler.cc
 +++ b/chrome/browser/ui/webui/side_panel/read_anything/read_anything_untrusted_page_handler.cc
-@@ -18,8 +18,6 @@
+@@ -20,8 +20,6 @@
  #include "chrome/browser/browser_features.h"
  #include "chrome/browser/language/language_model_manager_factory.h"
  #include "chrome/browser/profiles/profile.h"
@@ -621,7 +621,7 @@
  #include "chrome/browser/translate/chrome_translate_client.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/browser_finder.h"
-@@ -314,19 +312,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
+@@ -320,19 +318,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
    prefs_lang = language::ExtractBaseLanguage(prefs_lang);
    SetDefaultLanguageCode(prefs_lang);
  
@@ -641,7 +641,7 @@
  
    // Enable accessibility for the top level render frame and all descendants.
    // This causes AXTreeSerializer to reset and send accessibility events of
-@@ -681,9 +666,6 @@ void ReadAnythingUntrustedPageHandler::S
+@@ -722,9 +707,6 @@ void ReadAnythingUntrustedPageHandler::S
            weak_factory_.GetSafeRef(), inner_contents[0], kReadAnythingAXMode);
      }
    }
@@ -653,7 +653,7 @@
  
 --- a/chrome/renderer/BUILD.gn
 +++ b/chrome/renderer/BUILD.gn
-@@ -410,18 +410,6 @@ static_library("renderer") {
+@@ -383,18 +383,6 @@ static_library("renderer") {
      ]
    } else {
      sources += [
@@ -672,7 +672,7 @@
        "media/chrome_speech_recognition_client.cc",
        "media/chrome_speech_recognition_client.h",
        "searchbox/searchbox.cc",
-@@ -435,7 +423,6 @@ static_library("renderer") {
+@@ -408,7 +396,6 @@ static_library("renderer") {
        "//components/crx_file",
        "//components/trusted_vault",
        "//services/screen_ai/buildflags",
@@ -682,7 +682,15 @@
      ]
 --- a/chrome/renderer/chrome_render_frame_observer.cc
 +++ b/chrome/renderer/chrome_render_frame_observer.cc
-@@ -320,21 +320,6 @@ void ChromeRenderFrameObserver::DidCommi
+@@ -69,7 +69,6 @@
+ #include "url/gurl.h"
+ 
+ #if !BUILDFLAG(IS_ANDROID)
+-#include "chrome/renderer/accessibility/read_anything_app_controller.h"
+ #include "chrome/renderer/searchbox/searchbox_extension.h"
+ #endif  // !BUILDFLAG(IS_ANDROID)
+ 
+@@ -320,21 +319,6 @@ void ChromeRenderFrameObserver::DidCommi
  }
  
  void ChromeRenderFrameObserver::DidClearWindowObject() {
@@ -706,7 +714,7 @@
  void ChromeRenderFrameObserver::DidMeaningfulLayout(
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -1816,9 +1816,6 @@ if (!is_android) {
+@@ -1959,9 +1959,6 @@ if (!is_android) {
        "//chrome/browser/resource_coordinator:tab_manager_features",
        "//chrome/browser/safe_browsing:advanced_protection",
        "//chrome/browser/safe_browsing:verdict_cache_manager_factory",
@@ -716,17 +724,17 @@
        "//chrome/browser/search",
        "//chrome/browser/search_engines",
        "//chrome/browser/segmentation_platform:test_utils",
-@@ -2074,9 +2071,6 @@ if (!is_android) {
-       "//components/tpcd/metadata/common/proto",
-       "//components/user_annotations",
-       "//components/variations/service",
+@@ -2334,9 +2331,6 @@ if (!is_android) {
+       "//services/network/public/proto:sct_audit_report_proto",
+       "//services/preferences/public/cpp",
+       "//services/preferences/public/cpp/tracked",
 -      "//services/screen_ai:test_support",
 -      "//services/screen_ai/public/cpp:utilities",
 -      "//services/screen_ai/public/mojom",
- 
-       # TODO(b/287255120) : Also add this as a dependency on Android for building test code.
-       "//chrome/browser/enterprise/watermark:watermark_view_lib",
-@@ -8148,7 +8142,6 @@ test("unit_tests") {
+       "//services/service_manager/public/cpp",
+       "//services/strings",
+       "//services/test/echo/public/mojom",
+@@ -8236,7 +8230,6 @@ test("unit_tests") {
  
      # Non-android deps for "unit_tests" target.
      deps += [
@@ -734,7 +742,7 @@
        "//chrome:packed_resources_integrity_header",
        "//chrome/browser/apps:icon_standardizer",
        "//chrome/browser/apps/app_service",
-@@ -8263,7 +8256,6 @@ test("unit_tests") {
+@@ -8366,7 +8359,6 @@ test("unit_tests") {
        "//services/device/public/cpp/bluetooth",
        "//services/metrics/public/cpp:ukm_builders",
        "//services/network:test_support",
@@ -742,18 +750,18 @@
        "//services/video_effects/test:test_support",
        "//third_party/crashpad/crashpad/util",
        "//third_party/libaddressinput",
-@@ -8592,8 +8584,6 @@ test("unit_tests") {
+@@ -8683,8 +8675,6 @@ test("unit_tests") {
        "//chrome/browser/push_notification",
        "//chrome/browser/push_notification:test_support",
        "//chrome/browser/push_notification/protos:proto",
 -      "//chrome/browser/screen_ai:unit_tests",
 -      "//chrome/browser/screen_ai/public:test_support",
+       "//chrome/browser/support_tool/ash:unit_tests",
        "//chrome/browser/task_manager:impl",
        "//chrome/browser/ui/ash",
-       "//chrome/browser/ui/ash:test_support",
 --- a/chrome/test/chromedriver/BUILD.gn
 +++ b/chrome/test/chromedriver/BUILD.gn
-@@ -405,7 +405,7 @@ source_set("lib") {
+@@ -404,7 +404,7 @@ source_set("lib") {
    }
  }
  
@@ -816,7 +824,7 @@
  #if BUILDFLAG(ENABLE_BROWSER_SPEECH_SERVICE)
 --- a/components/omnibox/browser/autocomplete_classifier.cc
 +++ b/components/omnibox/browser/autocomplete_classifier.cc
-@@ -102,8 +102,6 @@ void AutocompleteClassifier::Classify(
+@@ -94,8 +94,6 @@ void AutocompleteClassifier::Classify(
      metrics::OmniboxEventProto::PageClassification page_classification,
      AutocompleteMatch* match,
      GURL* alternate_nav_url) {
@@ -847,7 +855,7 @@
  #include "pdf/pdf_features.h"
 --- a/components/update_client/BUILD.gn
 +++ b/components/update_client/BUILD.gn
-@@ -316,8 +316,6 @@ source_set("unit_tests") {
+@@ -339,8 +339,6 @@ source_set("unit_tests") {
      "//third_party/puffin:libpuffpatch",
      "//third_party/re2",
    ]
@@ -858,7 +866,7 @@
  fuzzer_test("update_client_protocol_serializer_fuzzer") {
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -804,10 +804,6 @@ if (is_apple) {
+@@ -805,10 +805,6 @@ if (is_apple) {
        deps = [ "//third_party/icu:icudata" ]
      }
  
@@ -911,7 +919,7 @@
  }
 --- a/third_party/devtools-frontend/src/BUILD.gn
 +++ b/third_party/devtools-frontend/src/BUILD.gn
-@@ -16,7 +16,6 @@ import("./third_party/typescript/typescr
+@@ -16,7 +16,6 @@ import("./third_party/blink/public/publi
  devtools_frontend_resources_deps = [
    ":favicon",
    "front_end",
@@ -921,7 +929,7 @@
  group("devtools_all_files") {
 --- a/third_party/devtools-frontend/src/front_end/BUILD.gn
 +++ b/third_party/devtools-frontend/src/front_end/BUILD.gn
-@@ -193,7 +193,6 @@ group("unittests") {
+@@ -194,7 +194,6 @@ group("unittests") {
      "panels/timeline:unittests",
      "panels/timeline/components:unittests",
      "panels/timeline/components/insights:unittests",
diff --git a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
index 930aead52..634a5f0f0 100644
--- a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
+++ b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -636,8 +636,6 @@ static_library("browser") {
+@@ -625,8 +625,6 @@ static_library("browser") {
      "internal_auth.h",
      "interstitials/chrome_settings_page_helper.cc",
      "interstitials/chrome_settings_page_helper.h",
@@ -11,7 +11,7 @@
      "invalidation/profile_invalidation_provider_factory.cc",
      "invalidation/profile_invalidation_provider_factory.h",
      "k_anonymity_service/k_anonymity_service_client.cc",
-@@ -3837,10 +3835,6 @@ static_library("browser") {
+@@ -3853,10 +3851,6 @@ static_library("browser") {
        "new_tab_page/modules/modules_util.h",
        "new_tab_page/modules/new_tab_page_modules.cc",
        "new_tab_page/modules/new_tab_page_modules.h",
@@ -22,7 +22,7 @@
        "new_tab_page/modules/v2/calendar/google_calendar_page_handler.cc",
        "new_tab_page/modules/v2/calendar/google_calendar_page_handler.h",
        "new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.cc",
-@@ -6634,8 +6628,6 @@ static_library("browser") {
+@@ -6712,8 +6706,6 @@ static_library("browser") {
  
    if (enterprise_cloud_content_analysis) {
      sources += [
@@ -31,7 +31,7 @@
        "enterprise/connectors/analysis/content_analysis_delegate_base.h",
        "enterprise/connectors/analysis/content_analysis_dialog.cc",
        "enterprise/connectors/analysis/content_analysis_dialog.h",
-@@ -6643,8 +6635,6 @@ static_library("browser") {
+@@ -6721,8 +6713,6 @@ static_library("browser") {
        "enterprise/connectors/analysis/content_analysis_downloads_delegate.h",
        "enterprise/connectors/analysis/files_request_handler.cc",
        "enterprise/connectors/analysis/files_request_handler.h",
@@ -39,8 +39,8 @@
 -      "enterprise/connectors/analysis/page_print_analysis_request.h",
        "enterprise/connectors/analysis/request_handler_base.cc",
        "enterprise/connectors/analysis/request_handler_base.h",
-       "enterprise/connectors/common.cc",
-@@ -7249,12 +7239,6 @@ static_library("browser") {
+       "enterprise/connectors/reporting/browser_crash_event_router.cc",
+@@ -7333,12 +7323,6 @@ static_library("browser") {
      }
    }
  
@@ -53,7 +53,7 @@
  
    if (enable_captive_portal_detection) {
      sources += [
-@@ -8104,9 +8088,14 @@ static_library("browser") {
+@@ -8221,9 +8205,14 @@ static_library("browser") {
        "//components/safe_browsing/content/browser:safe_browsing_blocking_page",
        "//components/safe_browsing/content/browser/download:download_stats",
        "//components/safe_browsing/content/common:file_type_policies",
@@ -69,17 +69,17 @@
  
    if (build_with_tflite_lib) {
      sources += [
-@@ -8413,7 +8402,6 @@ static_library("browser_generated_files"
+@@ -8518,7 +8507,6 @@ static_library("browser_generated_files"
        "//chrome/browser/new_tab_page/chrome_colors:generate_chrome_colors_info",
        "//chrome/browser/new_tab_page/chrome_colors:generate_colors_info",
        "//chrome/browser/new_tab_page/modules/file_suggestion:mojo_bindings",
 -      "//chrome/browser/new_tab_page/modules/safe_browsing:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/calendar:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption:mojo_bindings",
-       "//chrome/browser/new_tab_page/modules/v2/tab_resumption:mojo_bindings",
+       "//chrome/browser/profile_resetter:profile_reset_report_proto",
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5539,11 +5539,13 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5545,11 +5545,13 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -93,7 +93,7 @@
  
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    MaybeAddThrottle(browser_switcher::BrowserSwitcherNavigationThrottle::
-@@ -7338,26 +7340,7 @@ ChromeContentBrowserClient::GetSafeBrows
+@@ -7361,26 +7363,7 @@ ChromeContentBrowserClient::GetSafeBrows
      const std::vector<std::string>& allowlist_domains) {
    DCHECK_CURRENTLY_ON(content::BrowserThread::UI);
  
@@ -121,7 +121,7 @@
  }
  
  safe_browsing::RealTimeUrlLookupServiceBase*
-@@ -7378,11 +7361,6 @@ ChromeContentBrowserClient::GetUrlLookup
+@@ -7401,11 +7384,6 @@ ChromeContentBrowserClient::GetUrlLookup
          GetForProfile(profile);
    }
  #endif
@@ -133,10 +133,10 @@
    return nullptr;
  }
  
-@@ -7394,32 +7372,7 @@ ChromeContentBrowserClient::GetAsyncChec
+@@ -7417,34 +7395,7 @@ ChromeContentBrowserClient::GetAsyncChec
      safe_browsing::hash_realtime_utils::HashRealTimeSelection
          hash_realtime_selection,
-     int frame_tree_node_id) {
+     content::FrameTreeNodeId frame_tree_node_id) {
 -  content::WebContents* contents = wc_getter.Run();
 -  if (!contents || !safe_browsing_service_ ||
 -      !safe_browsing_service_->ui_manager()) {
@@ -162,7 +162,9 @@
 -    return nullptr;
 -  }
 -  return safe_browsing::AsyncCheckTracker::GetOrCreateForWebContents(
--      contents, safe_browsing_service_->ui_manager().get());
+-      contents, safe_browsing_service_->ui_manager().get(),
+-      safe_browsing::AsyncCheckTracker::
+-          IsPlatformEligibleForSyncCheckerCheckAllowlist());
  }
  
  void ChromeContentBrowserClient::ReportLegacyTechEvent(
@@ -217,7 +219,7 @@
  }
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
-@@ -162,7 +162,6 @@ using content::DownloadManager;
+@@ -163,7 +163,6 @@ using content::DownloadManager;
  using download::DownloadItem;
  using download::DownloadPathReservationTracker;
  using download::PathValidationResult;
@@ -225,7 +227,7 @@
  using ConnectionType = net::NetworkChangeNotifier::ConnectionType;
  
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -691,15 +690,6 @@ bool ChromeDownloadManagerDelegate::Shou
+@@ -697,15 +696,6 @@ bool ChromeDownloadManagerDelegate::Shou
  #endif
  
    bool should_open = download_prefs_->IsAutoOpenEnabled(url, path);
@@ -241,7 +243,7 @@
  
    return should_open;
  }
-@@ -1696,7 +1686,6 @@ void ChromeDownloadManagerDelegate::OnDo
+@@ -1729,7 +1719,6 @@ void ChromeDownloadManagerDelegate::OnDo
      DownloadItemModel model(item);
      model.DetermineAndSetShouldPreferOpeningInBrowser(
          target_info.target_path, target_info.is_filetype_handled_safely);
@@ -249,7 +251,7 @@
    }
    if (ShouldBlockFile(item, target_info.danger_type)) {
      MaybeReportDangerousDownloadBlocked(
-@@ -1777,49 +1766,20 @@ bool ChromeDownloadManagerDelegate::IsOp
+@@ -1810,49 +1799,20 @@ bool ChromeDownloadManagerDelegate::IsOp
  bool ChromeDownloadManagerDelegate::ShouldBlockFile(
      download::DownloadItem* item,
      download::DownloadDangerType danger_type) const {
@@ -303,7 +305,7 @@
      default:
        LOG(ERROR) << "Invalid download restriction value: "
                   << static_cast<int>(download_restriction);
-@@ -1838,7 +1798,6 @@ void ChromeDownloadManagerDelegate::Mayb
+@@ -1871,7 +1831,6 @@ void ChromeDownloadManagerDelegate::Mayb
      service->MaybeSendDangerousDownloadOpenedReport(download,
                                                      show_download_in_folder);
    }
@@ -311,7 +313,7 @@
    if (!download->GetAutoOpened()) {
      download::DownloadContent download_content =
          download::DownloadContentFromMimeType(download->GetMimeType(), false);
-@@ -1846,6 +1805,7 @@ void ChromeDownloadManagerDelegate::Mayb
+@@ -1879,6 +1838,7 @@ void ChromeDownloadManagerDelegate::Mayb
          download->GetDangerType(), download_content, base::Time::Now(),
          download->GetEndTime(), show_download_in_folder);
    }
@@ -319,7 +321,7 @@
  }
  
  void ChromeDownloadManagerDelegate::MaybeSendDangerousDownloadCanceledReport(
-@@ -1970,8 +1930,7 @@ void ChromeDownloadManagerDelegate::Chec
+@@ -2001,8 +1961,7 @@ void ChromeDownloadManagerDelegate::Chec
    DCHECK(download_item);
    DCHECK(download_item->IsSavePackageDownload());
  
@@ -331,7 +333,7 @@
  
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -985,30 +985,6 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -952,30 +952,6 @@ void DownloadItemModel::ExecuteCommand(D
  }
  
  TailoredWarningType DownloadItemModel::GetTailoredWarningType() const {
@@ -384,7 +386,7 @@
  }
 --- a/chrome/browser/download/download_target_determiner.cc
 +++ b/chrome/browser/download/download_target_determiner.cc
-@@ -1072,12 +1072,6 @@ void DownloadTargetDeterminer::CheckVisi
+@@ -1024,12 +1024,6 @@ void DownloadTargetDeterminer::CheckVisi
      bool visited_referrer_before) {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
    DCHECK_EQ(STATE_DETERMINE_INTERMEDIATE_PATH, next_state_);
@@ -397,7 +399,7 @@
    danger_level_ = GetDangerLevel(
        visited_referrer_before ? VISITED_REFERRER : NO_VISITS_TO_REFERRER);
    if (danger_level_ != DownloadFileType::NOT_DANGEROUS &&
-@@ -1362,14 +1356,7 @@ DownloadFileType::DangerLevel DownloadTa
+@@ -1314,14 +1308,7 @@ DownloadFileType::DangerLevel DownloadTa
  
  std::optional<base::Time>
  DownloadTargetDeterminer::GetLastDownloadBypassTimestamp() const {
@@ -707,7 +709,7 @@
    void OnGotFileInfo(
 --- a/chrome/browser/enterprise/connectors/common.cc
 +++ b/chrome/browser/enterprise/connectors/common.cc
-@@ -271,7 +271,7 @@ void ShowDownloadReviewDialog(const std:
+@@ -342,7 +342,7 @@ void ShowDownloadReviewDialog(const std:
  bool IsResumableUpload(const BinaryUploadService::Request& request) {
    // Currently resumable upload doesn't support paste or LBUS. If one day we do,
    // we should update the logic here as well.
@@ -716,9 +718,67 @@
           request.cloud_or_local_settings().is_cloud_analysis() &&
           request.content_analysis_request().analysis_connector() !=
               enterprise_connectors::AnalysisConnector::BULK_DATA_ENTRY &&
+@@ -395,57 +395,6 @@ void ReportDataMaskingEvent(
+     content::BrowserContext* browser_context,
+     extensions::api::enterprise_reporting_private::DataMaskingEvent
+         data_masking_event) {
+-  CHECK(browser_context);
+-
+-  auto* reporting_client =
+-      enterprise_connectors::RealtimeReportingClientFactory::GetForProfile(
+-          browser_context);
+-  std::optional<enterprise_connectors::ReportingSettings> settings =
+-      reporting_client->GetReportingSettings();
+-  if (!settings.has_value() ||
+-      !base::Contains(settings->enabled_event_names,
+-                      enterprise_connectors::kKeySensitiveDataEvent)) {
+-    return;
+-  }
+-
+-  base::Value::Dict event;
+-  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyUrl,
+-            data_masking_event.url);
+-  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyTabUrl,
+-            std::move(data_masking_event.url));
+-  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyEventResult,
+-            EventResultToString(data_masking_event.event_result));
+-
+-  base::Value::List triggered_rule_info;
+-  triggered_rule_info.reserve(data_masking_event.triggered_rule_info.size());
+-  for (auto& rule : data_masking_event.triggered_rule_info) {
+-    base::Value::Dict triggered_rule;
+-    triggered_rule.Set(
+-        extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleId,
+-        std::move(rule.rule_id));
+-    triggered_rule.Set(
+-        extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleName,
+-        std::move(rule.rule_name));
+-
+-    base::Value::List matched_detectors;
+-    for (auto& detector : rule.matched_detectors) {
+-      base::Value::Dict detector_value;
+-      detector_value.Set(kKeyDetectorId, std::move(detector.detector_id));
+-      detector_value.Set(kKeyDisplayName, std::move(detector.display_name));
+-      detector_value.Set(kKeyDetectorType,
+-                         DetectorTypeToString(detector.detector_type));
+-      matched_detectors.Append(std::move(detector_value));
+-    }
+-    triggered_rule.Set(kKeyMatchedDetectors, std::move(matched_detectors));
+-
+-    triggered_rule_info.Append(std::move(triggered_rule));
+-  }
+-  event.Set(extensions::SafeBrowsingPrivateEventRouter::kKeyTriggeredRuleInfo,
+-            std::move(triggered_rule_info));
+-
+-  reporting_client->ReportRealtimeEvent(
+-      enterprise_connectors::kKeySensitiveDataEvent,
+-      std::move(settings.value()), std::move(event));
+ }
+ #endif  // BUILDFLAG(ENABLE_EXTENSIONS)
+ 
 --- a/chrome/browser/enterprise/connectors/connectors_manager.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_manager.cc
-@@ -413,16 +413,7 @@ std::vector<const AnalysisConfig*> Conne
+@@ -317,16 +317,7 @@ std::vector<const AnalysisConfig*> Conne
  }
  
  DataRegion ConnectorsManager::GetDataRegion() const {
@@ -737,7 +797,7 @@
  void ConnectorsManager::StartObservingPrefs(PrefService* pref_service) {
 --- a/chrome/browser/enterprise/connectors/connectors_service.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_service.cc
-@@ -446,22 +446,7 @@ std::string ConnectorsService::GetManage
+@@ -428,22 +428,7 @@ std::string ConnectorsService::GetManage
  }
  
  std::string ConnectorsService::GetRealTimeUrlCheckIdentifier() const {
@@ -756,7 +816,7 @@
 -    return std::string();
 -  }
 -
--  return safe_browsing::GetProfileEmail(identity_manager);
+-  return GetProfileEmail(identity_manager);
  }
  
  ConnectorsManager* ConnectorsService::ConnectorsManagerForTesting() {
@@ -807,13 +867,12 @@
    signals.Set(device_signals::names::kBuiltInDnsClientEnabled,
 --- a/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
 +++ b/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
-@@ -501,18 +501,7 @@ void RealtimeReportingClient::ReportEven
+@@ -501,17 +501,7 @@ void RealtimeReportingClient::ReportEven
  }
  
  std::string RealtimeReportingClient::GetProfileUserName() const {
--  std::string username = identity_manager_
--                             ? safe_browsing::GetProfileEmail(identity_manager_)
--                             : std::string();
+-  std::string username =
+-      identity_manager_ ? GetProfileEmail(identity_manager_) : std::string();
 -
 -#if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
 -  if (username.empty()) {
@@ -926,85 +985,7 @@
  ReportingServiceFactory::~ReportingServiceFactory() = default;
 --- a/chrome/browser/enterprise/data_protection/data_protection_clipboard_utils.cc
 +++ b/chrome/browser/enterprise/data_protection/data_protection_clipboard_utils.cc
-@@ -36,77 +36,6 @@ namespace enterprise_data_protection {
- 
- namespace {
- 
--void HandleFileData(
--    content::WebContents* web_contents,
--    enterprise_connectors::ContentAnalysisDelegate::Data dialog_data,
--    content::ContentBrowserClient::IsClipboardPasteAllowedCallback callback) {
--  enterprise_connectors::ContentAnalysisDelegate::CreateForFilesInWebContents(
--      web_contents, std::move(dialog_data),
--      base::BindOnce(
--          [](content::ContentBrowserClient::IsClipboardPasteAllowedCallback
--                 callback,
--             std::vector<base::FilePath> paths, std::vector<bool> results) {
--            std::optional<content::ClipboardPasteData> clipboard_paste_data;
--            bool all_blocked =
--                std::all_of(results.begin(), results.end(),
--                            [](bool allowed) { return !allowed; });
--            if (!all_blocked) {
--              std::vector<base::FilePath> allowed_paths;
--              allowed_paths.reserve(paths.size());
--              for (size_t i = 0; i < paths.size(); ++i) {
--                if (results[i]) {
--                  allowed_paths.emplace_back(std::move(paths[i]));
--                }
--              }
--              clipboard_paste_data = content::ClipboardPasteData();
--              clipboard_paste_data->file_paths = std::move(allowed_paths);
--            }
--            std::move(callback).Run(std::move(clipboard_paste_data));
--          },
--          std::move(callback)),
--      safe_browsing::DeepScanAccessPoint::PASTE);
--}
--
--void HandleStringData(
--    content::WebContents* web_contents,
--    content::ClipboardPasteData clipboard_paste_data,
--    enterprise_connectors::ContentAnalysisDelegate::Data dialog_data,
--    content::ContentBrowserClient::IsClipboardPasteAllowedCallback callback) {
--  enterprise_connectors::ContentAnalysisDelegate::CreateForWebContents(
--      web_contents, std::move(dialog_data),
--      base::BindOnce(
--          [](content::ClipboardPasteData clipboard_paste_data,
--             content::ContentBrowserClient::IsClipboardPasteAllowedCallback
--                 callback,
--             const enterprise_connectors::ContentAnalysisDelegate::Data& data,
--             enterprise_connectors::ContentAnalysisDelegate::Result& result) {
--            // TODO(b/318664590): Since the `data` argument is forwarded to
--            // `callback`, changing the type from `const Data&` to just `Data`
--            // would avoid a copy.
--
--            bool text_blocked =
--                result.text_results.empty() || !result.text_results[0];
--            if (text_blocked && !result.image_result) {
--              std::move(callback).Run(std::nullopt);
--              return;
--            }
--
--            if (text_blocked) {
--              clipboard_paste_data.text.clear();
--              clipboard_paste_data.html.clear();
--              clipboard_paste_data.svg.clear();
--              clipboard_paste_data.rtf.clear();
--              clipboard_paste_data.custom_data.clear();
--            }
--            if (!result.image_result) {
--              clipboard_paste_data.png.clear();
--            }
--
--            std::move(callback).Run(std::move(clipboard_paste_data));
--          },
--          std::move(clipboard_paste_data), std::move(callback)),
--      safe_browsing::DeepScanAccessPoint::PASTE);
--}
- 
- bool SkipDataControlOrContentAnalysisChecks(
-     const content::ClipboardEndpoint& main_endpoint) {
-@@ -147,41 +76,7 @@ void PasteIfAllowedByContentAnalysis(
+@@ -153,41 +153,7 @@ void PasteIfAllowedByContentAnalysis(
      return;
    }
  
@@ -1044,8 +1025,8 @@
 -                     std::move(dialog_data), std::move(callback));
 -  }
  }
+ #endif  // BUILDFLAG(ENTERPRISE_CONTENT_ANALYSIS)
  
- void MaybeReportDataControlsPaste(const content::ClipboardEndpoint& source,
 --- a/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 +++ b/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 @@ -68,12 +68,6 @@ void RunPendingNavigationCallback(
@@ -1061,7 +1042,7 @@
    std::move(callback).Run(user_data->settings());
  }
  
-@@ -180,9 +174,7 @@ void LogVerdictSource(
+@@ -176,9 +170,7 @@ void LogVerdictSource(
  
  bool IsScreenshotAllowedByDataControls(content::BrowserContext* context,
                                         const GURL& url) {
@@ -1234,18 +1215,18 @@
  }  // namespace utils
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -291,10 +291,6 @@ source_set("extensions") {
+@@ -259,10 +259,6 @@ source_set("extensions") {
+     "api/resources_private/resources_private_api.h",
+     "api/runtime/chrome_runtime_api_delegate.cc",
      "api/runtime/chrome_runtime_api_delegate.h",
-     "api/safe_browsing_private/safe_browsing_private_api.cc",
-     "api/safe_browsing_private/safe_browsing_private_api.h",
 -    "api/safe_browsing_private/safe_browsing_private_event_router.cc",
 -    "api/safe_browsing_private/safe_browsing_private_event_router.h",
 -    "api/safe_browsing_private/safe_browsing_private_event_router_factory.cc",
 -    "api/safe_browsing_private/safe_browsing_private_event_router_factory.h",
-     "api/safe_browsing_private/safe_browsing_util.cc",
-     "api/safe_browsing_private/safe_browsing_util.h",
      "api/search/search_api.cc",
-@@ -639,8 +635,6 @@ source_set("extensions") {
+     "api/search/search_api.h",
+     "api/sessions/session_id.cc",
+@@ -590,8 +586,6 @@ source_set("extensions") {
      "mv2_experiment_stage.h",
      "navigation_extension_enabler.cc",
      "navigation_extension_enabler.h",
@@ -1256,7 +1237,7 @@
      "pending_extension_info.cc",
 --- a/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
 +++ b/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
-@@ -114,7 +114,6 @@ void EnsureApiBrowserContextKeyedService
+@@ -112,7 +112,6 @@ void EnsureApiBrowserContextKeyedService
  #endif
    extensions::ProcessesAPI::GetFactoryInstance();
    extensions::ReadingListEventRouter::GetFactoryInstance();
@@ -1266,7 +1247,7 @@
    extensions::SettingsOverridesAPI::GetFactoryInstance();
 --- a/chrome/browser/extensions/api/cookies/cookies_api.cc
 +++ b/chrome/browser/extensions/api/cookies/cookies_api.cc
-@@ -318,19 +318,6 @@ void CookiesGetFunction::GetCookieListCa
+@@ -333,19 +333,6 @@ void CookiesGetFunction::GetCookieListCa
  }
  
  void CookiesGetFunction::NotifyExtensionTelemetry() {
@@ -1286,7 +1267,7 @@
  }
  
  CookiesGetAllFunction::CookiesGetAllFunction() {
-@@ -423,24 +410,6 @@ void CookiesGetAllFunction::GetCookieLis
+@@ -439,24 +426,6 @@ void CookiesGetAllFunction::GetCookieLis
  }
  
  void CookiesGetAllFunction::NotifyExtensionTelemetry() {
@@ -1313,7 +1294,7 @@
  CookiesSetFunction::CookiesSetFunction()
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -98,16 +98,8 @@ api::enterprise_reporting_private::Conte
+@@ -101,16 +101,8 @@ api::enterprise_reporting_private::Conte
    info.third_party_blocking_enabled = signals.third_party_blocking_enabled;
    info.os_firewall = ToInfoSettingValue(signals.os_firewall);
    info.system_dns_servers = std::move(signals.system_dns_servers);
@@ -1332,7 +1313,7 @@
    info.enterprise_profile_id = signals.enterprise_profile_id;
 --- a/chrome/browser/extensions/api/tabs/tabs_api.cc
 +++ b/chrome/browser/extensions/api/tabs/tabs_api.cc
-@@ -427,30 +427,6 @@ void NotifyExtensionTelemetry(Profile* p
+@@ -408,30 +408,6 @@ void NotifyExtensionTelemetry(Profile* p
                                const std::string& current_url,
                                const std::string& new_url,
                                const std::optional<StackTrace>& js_callstack) {
@@ -1388,7 +1369,7 @@
  void Blocklist::GetMalwareIDs(const std::set<ExtensionId>& ids,
 --- a/chrome/browser/extensions/chrome_extensions_browser_client.cc
 +++ b/chrome/browser/extensions/chrome_extensions_browser_client.cc
-@@ -808,44 +808,17 @@ void ChromeExtensionsBrowserClient::Noti
+@@ -816,44 +816,17 @@ void ChromeExtensionsBrowserClient::Noti
      content::BrowserContext* context,
      const ExtensionId& extension_id,
      const std::string& code) const {
@@ -1434,7 +1415,7 @@
  }
  
  void ChromeExtensionsBrowserClient::
-@@ -854,59 +827,12 @@ void ChromeExtensionsBrowserClient::
+@@ -862,59 +835,12 @@ void ChromeExtensionsBrowserClient::
          const ExtensionId& extension_id,
          const GURL& request_url,
          const GURL& redirect_url) const {
@@ -1494,7 +1475,7 @@
  }
  
  // static
-@@ -1075,7 +1001,6 @@ void ChromeExtensionsBrowserClient::GetW
+@@ -1083,7 +1009,6 @@ void ChromeExtensionsBrowserClient::GetW
  
  void ChromeExtensionsBrowserClient::CreatePasswordReuseDetectionManager(
      content::WebContents* web_contents) const {
@@ -1770,7 +1751,7 @@
    }
 --- a/chrome/browser/file_select_helper.cc
 +++ b/chrome/browser/file_select_helper.cc
-@@ -329,7 +329,7 @@ void FileSelectHelper::PerformContentAna
+@@ -323,7 +323,7 @@ void FileSelectHelper::PerformContentAna
    if (AbortIfWebContentsDestroyed())
      return;
  
@@ -1779,7 +1760,7 @@
    enterprise_connectors::ContentAnalysisDelegate::Data data;
    if (enterprise_connectors::ContentAnalysisDelegate::IsEnabled(
            profile_, web_contents_->GetLastCommittedURL(), &data,
-@@ -359,7 +359,7 @@ void FileSelectHelper::PerformContentAna
+@@ -353,7 +353,7 @@ void FileSelectHelper::PerformContentAna
  #endif  // BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
  }
  
@@ -1790,7 +1771,7 @@
      const enterprise_connectors::ContentAnalysisDelegate::Data& data,
 --- a/chrome/browser/file_select_helper.h
 +++ b/chrome/browser/file_select_helper.h
-@@ -225,7 +225,7 @@ class FileSelectHelper : public base::Re
+@@ -226,7 +226,7 @@ class FileSelectHelper : public base::Re
    void PerformContentAnalysisIfNeeded(
        std::vector<blink::mojom::FileChooserFileInfoPtr> list);
  
@@ -1809,7 +1790,7 @@
  #include "chrome/browser/ui/browser_finder.h"
  #include "chrome/browser/ui/file_system_access/file_system_access_dangerous_file_dialog.h"
  #include "chrome/browser/ui/file_system_access/file_system_access_dialogs.h"
-@@ -434,89 +433,6 @@ bool ShouldBlockAccessToPath(const base:
+@@ -451,89 +450,6 @@ bool ShouldBlockAccessToPath(const base:
    return true;
  }
  
@@ -1899,7 +1880,7 @@
  std::string GenerateLastPickedDirectoryKey(const std::string& id) {
    return id.empty() ? kDefaultLastPickedDirectoryKey
                      : base::StrCat({kCustomLastPickedDirectoryKey, "-", id});
-@@ -536,13 +452,7 @@ std::string_view GetGrantKeyFromGrantTyp
+@@ -553,13 +469,7 @@ std::string_view GetGrantKeyFromGrantTyp
  bool FileHasDangerousExtension(const url::Origin& origin,
                                 const base::FilePath& path,
                                 Profile* profile) {
@@ -1914,7 +1895,7 @@
  }
  
  }  // namespace
-@@ -1625,7 +1535,7 @@ void ChromeFileSystemAccessPermissionCon
+@@ -1672,7 +1582,7 @@ void ChromeFileSystemAccessPermissionCon
      std::vector<PathInfo> entries,
      content::GlobalRenderFrameHostId frame_id,
      EntriesAllowedByEnterprisePolicyCallback callback) {
@@ -1923,7 +1904,7 @@
    // Get WebContents pointer in order to perform enterprise content analysis.
    content::WebContents* web_contents = nullptr;
    if (!entries.empty()) {
-@@ -1733,29 +1643,6 @@ void ChromeFileSystemAccessPermissionCon
+@@ -1780,29 +1690,6 @@ void ChromeFileSystemAccessPermissionCon
        std::move(callback));
  }
  
@@ -2010,7 +1991,7 @@
          NotificationHandler::Type::EXTENSION,
 --- a/chrome/browser/password_manager/chrome_password_manager_client.cc
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.cc
-@@ -36,7 +36,6 @@
+@@ -38,7 +38,6 @@
  #include "chrome/browser/password_manager/profile_password_store_factory.h"
  #include "chrome/browser/profiles/profile.h"
  #include "chrome/browser/profiles/profile_manager.h"
@@ -2018,7 +1999,7 @@
  #include "chrome/browser/safe_browsing/user_interaction_observer.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
  #include "chrome/browser/sync/sync_service_factory.h"
-@@ -1005,6 +1004,7 @@ autofill::LanguageCode ChromePasswordMan
+@@ -1038,6 +1037,7 @@ autofill::LanguageCode ChromePasswordMan
    return autofill::LanguageCode();
  }
  
@@ -2026,7 +2007,7 @@
  safe_browsing::PasswordProtectionService*
  ChromePasswordManagerClient::GetPasswordProtectionService() const {
    return safe_browsing::ChromePasswordProtectionService::
-@@ -1024,6 +1024,7 @@ void ChromePasswordManagerClient::CheckS
+@@ -1057,6 +1057,7 @@ void ChromePasswordManagerClient::CheckS
    }
  }
  #endif  // defined(ON_FOCUS_PING_ENABLED)
@@ -2034,7 +2015,7 @@
  
  #if !BUILDFLAG(IS_ANDROID)
  void ChromePasswordManagerClient::MaybeReportEnterpriseLoginEvent(
-@@ -1031,30 +1032,10 @@ void ChromePasswordManagerClient::MaybeR
+@@ -1064,30 +1065,10 @@ void ChromePasswordManagerClient::MaybeR
      bool is_federated,
      const url::SchemeHostPort& federated_origin,
      const std::u16string& login_user_name) const {
@@ -2065,7 +2046,7 @@
  }
  #endif
  
-@@ -1778,6 +1759,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1853,6 +1834,7 @@ bool ChromePasswordManagerClient::IsPass
      is_enabled = false;
    }
  
@@ -2073,7 +2054,7 @@
    // SafeBrowsing Delayed Warnings experiment can delay some SafeBrowsing
    // warnings until user interaction. If the current page has a delayed warning,
    // it'll have a user interaction observer attached. Disable password
-@@ -1788,6 +1770,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1863,6 +1845,7 @@ bool ChromePasswordManagerClient::IsPass
      observer->OnPasswordSaveOrAutofillDenied();
      is_enabled = false;
    }
@@ -2083,7 +2064,7 @@
      password_manager::BrowserSavePasswordProgressLogger logger(
 --- a/chrome/browser/password_manager/chrome_password_manager_client.h
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.h
-@@ -235,15 +235,9 @@ class ChromePasswordManagerClient
+@@ -237,15 +237,9 @@ class ChromePasswordManagerClient
    autofill::LogManager* GetLogManager() override;
    void AnnotateNavigationEntry(bool has_password_field) override;
    autofill::LanguageCode GetPageLanguage() const override;
@@ -2101,7 +2082,7 @@
  #if !BUILDFLAG(IS_ANDROID)
 --- a/chrome/browser/permissions/chrome_permissions_client.cc
 +++ b/chrome/browser/permissions/chrome_permissions_client.cc
-@@ -411,16 +411,6 @@ void ChromePermissionsClient::OnPromptRe
+@@ -408,16 +408,6 @@ void ChromePermissionsClient::OnPromptRe
        PermissionRevocationRequest::ExemptOriginFromFutureRevocations(profile,
                                                                       origin);
      }
@@ -2234,7 +2215,7 @@
  
 --- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
 +++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -342,51 +342,5 @@ bool PredictionBasedPermissionUiSelector
+@@ -351,51 +351,5 @@ bool PredictionBasedPermissionUiSelector
  
  PredictionSource PredictionBasedPermissionUiSelector::GetPredictionTypeToUse(
      permissions::RequestType request_type) {
@@ -2288,7 +2269,7 @@
  }
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -117,6 +117,7 @@
+@@ -118,6 +118,7 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
  #include "components/proxy_config/proxy_policy_handler.h"
@@ -2296,7 +2277,7 @@
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
  #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
  #include "components/safe_browsing/core/common/safe_browsing_prefs.h"
-@@ -2348,8 +2349,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2361,8 +2362,6 @@ std::unique_ptr<ConfigurationPolicyHandl
    handlers->AddHandler(
        std::make_unique<bookmarks::ManagedBookmarksPolicyHandler>(
            chrome_schema));
@@ -2305,7 +2286,7 @@
    handlers->AddHandler(std::make_unique<syncer::SyncPolicyHandler>());
    handlers->AddHandler(
        std::make_unique<URLBlocklistPolicyHandler>(key::kURLBlocklist));
-@@ -2459,20 +2458,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2472,20 +2471,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            SimpleSchemaValidatingPolicyHandler::RECOMMENDED_ALLOWED,
            SimpleSchemaValidatingPolicyHandler::MANDATORY_ALLOWED));
  
@@ -2328,15 +2309,15 @@
  
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -279,7 +279,6 @@
+@@ -283,7 +283,6 @@
  #include "chrome/browser/metrics/tab_stats/tab_stats_tracker.h"
  #include "chrome/browser/nearby_sharing/common/nearby_share_prefs.h"
  #include "chrome/browser/new_tab_page/modules/file_suggestion/drive_service.h"
 -#include "chrome/browser/new_tab_page/modules/safe_browsing/safe_browsing_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/calendar/google_calendar_page_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.h"
- #include "chrome/browser/new_tab_page/modules/v2/tab_resumption/tab_resumption_page_handler.h"
-@@ -1971,7 +1970,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+ #include "chrome/browser/new_tab_page/promos/promo_service.h"
+@@ -2055,7 +2054,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    media_router::RegisterProfilePrefs(registry);
    NewTabPageHandler::RegisterProfilePrefs(registry);
    NewTabPageUI::RegisterProfilePrefs(registry);
@@ -2442,7 +2423,7 @@
    // This method is virtual for testing purposes.
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -820,9 +820,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -845,9 +845,6 @@ void ChromeBrowserMainExtraPartsProfiles
    enterprise_connectors::ExtensionInstallEventRouterFactory::GetInstance();
    enterprise_connectors::ExtensionTelemetryEventRouterFactory::GetInstance();
  #endif
@@ -2452,7 +2433,7 @@
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
      BUILDFLAG(IS_ANDROID)
    enterprise_idle::IdleServiceFactory::GetInstance();
-@@ -1143,23 +1140,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1173,23 +1170,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if !BUILDFLAG(IS_ANDROID)
    ResetReportUploaderFactory::GetInstance();
  #endif
@@ -2558,6 +2539,26 @@
  }
  
  scoped_refptr<network::SharedURLLoaderFactory>
+--- a/chrome/browser/site_protection/site_protection_metrics_observer.cc
++++ b/chrome/browser/site_protection/site_protection_metrics_observer.cc
+@@ -198,17 +198,6 @@ void SiteProtectionMetricsObserver::OnKn
+         SiteFamiliarityHistoryHeuristicName::kNoVisitsToAnySiteMoreThanADayAgo;
+   }
+ 
+-  if (g_browser_process->safe_browsing_service()) {
+-    if (auto database_manager =
+-            g_browser_process->safe_browsing_service()->database_manager()) {
+-      GURL last_committed_url = metrics_data->last_committed_url;
+-      database_manager->CheckUrlForHighConfidenceAllowlist(
+-          last_committed_url,
+-          base::BindOnce(&SiteProtectionMetricsObserver::LogMetrics,
+-                         weak_factory_.GetWeakPtr(), std::move(metrics_data)));
+-      return;
+-    }
+-  }
+ 
+   LogMetrics(std::move(metrics_data),
+              /* url_on_safe_browsing_high_confidence_allowlist=*/false);
 --- a/chrome/browser/ssl/chrome_security_blocking_page_factory.cc
 +++ b/chrome/browser/ssl/chrome_security_blocking_page_factory.cc
 @@ -147,15 +147,6 @@ CreateSettingsPageHelper() {
@@ -2663,7 +2664,7 @@
  }  // namespace
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -625,7 +625,6 @@ static_library("ui") {
+@@ -598,7 +598,6 @@ static_library("ui") {
      "//components/renderer_context_menu",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -2671,7 +2672,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/core/browser/db:database_manager",
-@@ -3250,8 +3249,6 @@ static_library("ui") {
+@@ -3214,8 +3213,6 @@ static_library("ui") {
        "startup/web_app_startup_utils.h",
        "tab_contents/chrome_web_contents_menu_helper.cc",
        "tab_contents/chrome_web_contents_menu_helper.h",
@@ -2680,7 +2681,7 @@
        "views/autofill/payments/webauthn_dialog_view.cc",
        "views/autofill/payments/webauthn_dialog_view.h",
        "views/close_bubble_on_tab_activation_helper.cc",
-@@ -4962,8 +4959,6 @@ static_library("ui") {
+@@ -4854,8 +4851,6 @@ static_library("ui") {
        "views/safe_browsing/prompt_for_scanning_modal_dialog.h",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.cc",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.h",
@@ -2688,7 +2689,7 @@
 -      "views/safe_browsing/tailored_security_unconsented_modal.h",
        "views/send_tab_to_self/manage_account_devices_link_view.cc",
        "views/send_tab_to_self/manage_account_devices_link_view.h",
-       "views/send_tab_to_self/send_tab_to_self_bubble_device_button.cc",
+       "views/send_tab_to_self/send_tab_to_self_bubble.cc",
 --- a/chrome/browser/ui/download/download_bubble_row_view_info.cc
 +++ b/chrome/browser/ui/download/download_bubble_row_view_info.cc
 @@ -10,7 +10,6 @@
@@ -2801,7 +2802,7 @@
  const std::set<ContentSettingsType>
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -380,7 +380,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -393,7 +393,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    if (!autofill_client_provider.uses_platform_autofill()) {
      ChromePasswordManagerClient::CreateForWebContents(web_contents);
    }
@@ -2926,7 +2927,7 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/color/chrome_color_id.h"
-@@ -820,9 +819,7 @@ void DownloadItemView::UpdateLabels() {
+@@ -814,9 +813,7 @@ void DownloadItemView::UpdateLabels() {
    deep_scanning_label_->SetVisible(mode_ ==
                                     download::DownloadItemMode::kDeepScanning);
    if (deep_scanning_label_->GetVisible()) {
@@ -2937,7 +2938,7 @@
                         ? IDS_PROMPT_DEEP_SCANNING_DOWNLOAD
                         : IDS_PROMPT_DEEP_SCANNING_APP_DOWNLOAD;
      const std::u16string filename = ElidedFilename(*deep_scanning_label_);
-@@ -848,11 +845,15 @@ void DownloadItemView::UpdateButtons() {
+@@ -842,11 +839,15 @@ void DownloadItemView::UpdateButtons() {
    }
  
    const bool allow_open_during_deep_scan =
@@ -2953,7 +2954,7 @@
    open_button_->SetEnabled((mode_ == download::DownloadItemMode::kNormal) ||
                             prompt_to_scan || allow_open_during_deep_scan);
  
-@@ -1276,7 +1277,9 @@ void DownloadItemView::ShowContextMenuIm
+@@ -1270,7 +1271,9 @@ void DownloadItemView::ShowContextMenuIm
  }
  
  void DownloadItemView::OpenDownloadDuringAsyncScanning() {
@@ -2975,7 +2976,7 @@
    TabDialogs::CreateForWebContents(web_contents);
 --- a/chrome/browser/ui/views/profiles/profile_picker_dice_sign_in_provider.cc
 +++ b/chrome/browser/ui/views/profiles/profile_picker_dice_sign_in_provider.cc
-@@ -280,8 +280,6 @@ void ProfilePickerDiceSignInProvider::On
+@@ -281,8 +281,6 @@ void ProfilePickerDiceSignInProvider::On
            .Then(base::BindOnce(std::move(switch_finished_callback), true));
    host_->ShowScreen(contents(), BuildSigninURL(),
                      std::move(navigation_finished_closure));
@@ -2986,7 +2987,7 @@
    DiceTabHelper::CreateForWebContents(contents());
 --- a/chrome/browser/ui/views/profiles/profile_picker_force_signin_dialog_delegate.cc
 +++ b/chrome/browser/ui/views/profiles/profile_picker_force_signin_dialog_delegate.cc
-@@ -47,9 +47,6 @@ ProfilePickerForceSigninDialogDelegate::
+@@ -48,9 +48,6 @@ ProfilePickerForceSigninDialogDelegate::
    ChromePasswordManagerClient::CreateForWebContents(
        web_view_->GetWebContents());
  
@@ -3020,16 +3021,16 @@
  std::unique_ptr<RenderViewContextMenuBase>
 --- a/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
-@@ -434,9 +434,6 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+@@ -406,9 +406,6 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+       optimization_guide_internals::kChromeUIOptimizationGuideInternalsHost) {
+     return &NewWebUI<OptimizationGuideInternalsUI>;
    }
-   if (url.host_piece() == chrome::kChromeUIPredictorsHost)
-     return &NewWebUI<PredictorsUI>;
 -  if (url.host_piece() == safe_browsing::kChromeUISafeBrowsingHost)
 -    return &NewComponentUI<safe_browsing::SafeBrowsingUI,
 -                           ChromeSafeBrowsingLocalStateDelegate>;
-   if (url.host_piece() == chrome::kChromeUISegmentationInternalsHost)
-     return &NewWebUI<SegmentationInternalsUI>;
-   if (url.host_piece() == chrome::kChromeUISignInInternalsHost)
+   if (url.host_piece() == chrome::kChromeUISupervisedUserPassphrasePageHost)
+     return &NewWebUI<ConstrainedWebDialogUI>;
+   if (url.host_piece() ==
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 @@ -191,10 +191,6 @@ void MaybeReportBypassAction(download::D
@@ -3251,9 +3252,9 @@
 -                                  kManagementOnPageVisitedVisibleData, &info);
 -  }
 -
- #if BUILDFLAG(IS_CHROMEOS)
-   if (is_get_all_screens_media_allowed_for_any_origin_) {
-     AddThreatProtectionPermission(kManagementScreenCaptureEvent,
+   if (connectors_service
+           ->GetReportingSettings(
+               enterprise_connectors::ReportingConnector::SECURITY_EVENT)
 --- a/chrome/browser/ui/webui/print_preview/print_preview_handler.cc
 +++ b/chrome/browser/ui/webui/print_preview/print_preview_handler.cc
 @@ -750,7 +750,7 @@ void PrintPreviewHandler::HandleDoPrint(
@@ -3447,7 +3448,7 @@
  }
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -2026,9 +2026,6 @@ if (!is_android) {
+@@ -2189,9 +2189,6 @@ if (!is_android) {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser",
@@ -3457,7 +3458,7 @@
        "//components/safe_browsing/content/browser:safe_browsing_service",
        "//components/safe_browsing/content/browser/password_protection",
        "//components/safe_browsing/content/browser/password_protection:test_support",
-@@ -6765,9 +6762,6 @@ test("unit_tests") {
+@@ -6877,9 +6874,6 @@ test("unit_tests") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser",
@@ -3488,7 +3489,7 @@
    const base::Value::List* enabled_opt_in_events_value =
 --- a/components/password_manager/content/browser/content_password_manager_driver.cc
 +++ b/components/password_manager/content/browser/content_password_manager_driver.cc
-@@ -584,7 +584,7 @@ void ContentPasswordManagerDriver::Check
+@@ -622,7 +622,7 @@ void ContentPasswordManagerDriver::Check
    if (!password_manager::bad_message::CheckFrameNotPrerendering(
            render_frame_host_))
      return;
@@ -3515,7 +3516,7 @@
  }  // namespace password_manager
 --- a/components/password_manager/core/browser/password_manager_client.h
 +++ b/components/password_manager/core/browser/password_manager_client.h
-@@ -411,9 +411,6 @@ class PasswordManagerClient {
+@@ -418,9 +418,6 @@ class PasswordManagerClient {
    // Returns the current best guess as to the page's display language.
    virtual autofill::LanguageCode GetPageLanguage() const;
  
@@ -3525,7 +3526,7 @@
  
    // Maybe triggers a hats survey that measures the user's perception of
    // Autofill for passwords. When triggering happens, the survey dialog will be
-@@ -425,13 +422,6 @@ class PasswordManagerClient {
+@@ -432,13 +429,6 @@ class PasswordManagerClient {
    virtual void TriggerUserPerceptionOfPasswordManagerSurvey(
        const std::string& filling_assistance);
  
@@ -3579,7 +3580,7 @@
    configs += [ "//build/config/compiler:wexit_time_destructors" ]
 --- a/components/safe_browsing/core/browser/db/BUILD.gn
 +++ b/components/safe_browsing/core/browser/db/BUILD.gn
-@@ -247,8 +247,6 @@ source_set("v4_store") {
+@@ -243,8 +243,6 @@ source_set("v4_store") {
    sources = [
      "hash_prefix_map.cc",
      "hash_prefix_map.h",
@@ -3671,7 +3672,7 @@
  void OhttpKeyService::Shutdown() {
 --- a/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
 +++ b/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
-@@ -261,17 +261,6 @@ void RealTimeUrlLookupService::MaybeLogP
+@@ -267,17 +267,6 @@ void RealTimeUrlLookupService::MaybeLogP
      bool request_had_cookie,
      bool was_first_request,
      bool sent_with_token) {
diff --git a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
index 9fb2eea7b..00ef9bdc3 100644
--- a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
+++ b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
@@ -12,7 +12,7 @@
  #include "components/url_formatter/url_fixer.h"
  #include "components/user_prefs/user_prefs.h"
  #include "components/visitedlink/browser/visitedlink_writer.h"
-@@ -517,8 +516,6 @@ void AwBrowserContext::BuildVisitedLinkT
+@@ -516,8 +515,6 @@ void AwBrowserContext::BuildVisitedLinkT
  }
  
  void AwBrowserContext::SetExtendedReportingAllowed(bool allowed) {
@@ -23,15 +23,15 @@
  // TODO(amalova): Make sure NetworkContextParams is configured correctly when
 --- a/chrome/browser/android/signin/signin_manager_android.cc
 +++ b/chrome/browser/android/signin/signin_manager_android.cc
-@@ -32,7 +32,6 @@
+@@ -31,7 +31,6 @@
+ #include "components/policy/core/common/cloud/user_cloud_policy_manager.h"
  #include "components/policy/core/common/policy_switches.h"
  #include "components/prefs/pref_service.h"
- #include "components/signin/internal/identity_manager/account_tracker_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_cookie_mutator.h"
-@@ -120,11 +119,6 @@ class ProfileDataRemover : public conten
+@@ -119,11 +118,6 @@ class ProfileDataRemover : public conten
        // All the Profile data has been wiped. Clear the last signed in username
        // as well, so that the next signin doesn't trigger the account
        // change dialog.
@@ -43,7 +43,7 @@
      }
  
      origin_runner_->PostTask(FROM_HERE, std::move(callback_));
-@@ -161,11 +155,6 @@ SigninManagerAndroid::SigninManagerAndro
+@@ -160,11 +154,6 @@ SigninManagerAndroid::SigninManagerAndro
    DCHECK(user_cloud_policy_manager_);
    DCHECK(user_policy_signin_service_);
  
@@ -55,7 +55,7 @@
    force_browser_signin_.Init(prefs::kForceBrowserSignin,
                               g_browser_process->local_state());
  
-@@ -201,7 +190,7 @@ SigninManagerAndroid::ManagementCredenti
+@@ -199,7 +188,7 @@ SigninManagerAndroid::ManagementCredenti
  SigninManagerAndroid::ManagementCredentials::~ManagementCredentials() = default;
  
  bool SigninManagerAndroid::IsSigninAllowed() const {
@@ -66,7 +66,7 @@
  bool SigninManagerAndroid::IsSigninAllowedByPolicy(JNIEnv* env) const {
 --- a/chrome/browser/android/signin/signin_manager_android.h
 +++ b/chrome/browser/android/signin/signin_manager_android.h
-@@ -142,9 +142,6 @@ class SigninManagerAndroid : public Keye
+@@ -141,9 +141,6 @@ class SigninManagerAndroid : public Keye
  
    const raw_ptr<Profile> profile_ = nullptr;
  
@@ -199,7 +199,7 @@
  #include "components/security_interstitials/content/ssl_error_navigation_throttle.h"
 --- a/chrome/browser/download/download_browsertest.cc
 +++ b/chrome/browser/download/download_browsertest.cc
-@@ -109,7 +109,6 @@
+@@ -108,7 +108,6 @@
  #include "components/safe_browsing/content/common/file_type_policies_test_util.h"
  #include "components/safe_browsing/content/common/proto/download_file_types.pb.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -209,7 +209,7 @@
  #include "content/public/browser/browser_task_traits.h"
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -882,17 +882,6 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -858,17 +858,6 @@ void DownloadItemModel::ExecuteCommand(D
  #if BUILDFLAG(FULL_SAFE_BROWSING)
        CompleteSafeBrowsingScan();
  #endif
@@ -226,8 +226,8 @@
 -      }
        [[fallthrough]];
      case DownloadCommands::KEEP:
- #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -961,24 +950,9 @@ void DownloadItemModel::ExecuteCommand(D
+       if (IsInsecure()) {
+@@ -928,24 +917,9 @@ void DownloadItemModel::ExecuteCommand(D
        DownloadUIModel::ExecuteCommand(download_commands, command);
        break;
      case DownloadCommands::DEEP_SCAN: {
@@ -284,19 +284,19 @@
  #include "crypto/secure_hash.h"
 --- a/chrome/browser/enterprise/connectors/connectors_service.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_service.cc
-@@ -394,8 +394,7 @@ std::string ConnectorsService::GetManage
+@@ -376,8 +376,7 @@ std::string ConnectorsService::GetManage
  
    std::optional<policy::PolicyScope> scope = std::nullopt;
    for (const char* scope_pref :
 -       {enterprise_connectors::kEnterpriseRealTimeUrlCheckScope,
--        ConnectorScopePref(AnalysisConnector::FILE_ATTACHED),
-+       {ConnectorScopePref(AnalysisConnector::FILE_ATTACHED),
-         ConnectorScopePref(AnalysisConnector::FILE_DOWNLOADED),
-         ConnectorScopePref(AnalysisConnector::BULK_DATA_ENTRY),
-         ConnectorScopePref(AnalysisConnector::PRINT),
+-        AnalysisConnectorScopePref(AnalysisConnector::FILE_ATTACHED),
++       {AnalysisConnectorScopePref(AnalysisConnector::FILE_ATTACHED),
+         AnalysisConnectorScopePref(AnalysisConnector::FILE_DOWNLOADED),
+         AnalysisConnectorScopePref(AnalysisConnector::BULK_DATA_ENTRY),
+         AnalysisConnectorScopePref(AnalysisConnector::PRINT),
 --- a/chrome/browser/enterprise/connectors/connectors_service.h
 +++ b/chrome/browser/enterprise/connectors/connectors_service.h
-@@ -17,7 +17,6 @@
+@@ -18,7 +18,6 @@
  #include "components/enterprise/connectors/core/connectors_service_base.h"
  #include "components/keyed_service/content/browser_context_keyed_service_factory.h"
  #include "components/keyed_service/core/keyed_service.h"
@@ -456,7 +456,7 @@
  void TokenManagedProfileCreationDelegate::OnManagedProfileInitialized(
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -104,45 +104,10 @@ api::enterprise_reporting_private::Conte
+@@ -107,45 +107,10 @@ api::enterprise_reporting_private::Conte
    info.built_in_dns_client_enabled = signals.built_in_dns_client_enabled;
    info.enterprise_profile_id = signals.enterprise_profile_id;
  
@@ -504,7 +504,7 @@
  }
 --- a/chrome/browser/extensions/api/identity/identity_apitest.cc
 +++ b/chrome/browser/extensions/api/identity/identity_apitest.cc
-@@ -69,7 +69,6 @@
+@@ -71,7 +71,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/list_accounts_test_utils.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -514,7 +514,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
 --- a/chrome/browser/extensions/api/identity/identity_get_auth_token_function.cc
 +++ b/chrome/browser/extensions/api/identity/identity_get_auth_token_function.cc
-@@ -29,7 +29,6 @@
+@@ -28,7 +28,6 @@
  #include "chrome/common/extensions/api/identity.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
@@ -522,7 +522,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/access_token_info.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -62,7 +61,7 @@ const char* const kExtensionsIdentityAPI
+@@ -63,7 +62,7 @@ const char* const kExtensionsIdentityAPI
      "extensions_identity_api";
  
  bool IsBrowserSigninAllowed(Profile* profile) {
@@ -539,9 +539,9 @@
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "extensions/browser/api/content_settings/content_settings_service.h"
+ #include "extensions/browser/extension_function_registry.h"
  #include "extensions/browser/extension_pref_value_map.h"
- #include "extensions/browser/extension_pref_value_map_factory.h"
-@@ -695,17 +694,6 @@ ExtensionFunction::ResponseAction SetPre
+@@ -703,17 +702,6 @@ ExtensionFunction::ResponseAction SetPre
          base::Value(browser_pref_value->GetBool()));
    }
  
@@ -559,7 +559,7 @@
  
    prefs_helper->SetExtensionControlledPref(extension_id(), browser_pref, scope,
                                             browser_pref_value->Clone());
-@@ -793,16 +781,6 @@ ExtensionFunction::ResponseAction ClearP
+@@ -801,16 +789,6 @@ ExtensionFunction::ResponseAction ClearP
    prefs_helper->RemoveExtensionControlledPref(extension_id(), browser_pref,
                                                scope);
  
@@ -643,7 +643,7 @@
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/supervised_user/core/common/pref_names.h"
  #include "components/translate/core/browser/translate_pref_names.h"
-@@ -308,8 +306,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -315,8 +313,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
  #endif
  
    // Privacy page
@@ -652,7 +652,7 @@
    (*s_allowlist)[::prefs::kDnsOverHttpsMode] = settings_api::PrefType::kString;
    (*s_allowlist)[::prefs::kDnsOverHttpsTemplates] =
        settings_api::PrefType::kString;
-@@ -332,16 +328,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -339,16 +335,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kBoolean;
  
    // Security page
@@ -671,7 +671,7 @@
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
-@@ -783,9 +783,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
+@@ -784,9 +784,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
  IN_PROC_BROWSER_TEST_F(ExtensionWebstorePrivateGetReferrerChainApiTest,
                         GetReferrerChainForNonSafeBrowsingUser) {
    PrefService* pref_service = browser()->profile()->GetPrefs();
@@ -810,7 +810,7 @@
      {"spellingServiceEnabled", spellcheck::prefs::kSpellCheckUseSpellingService,
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -66,7 +66,6 @@
+@@ -68,7 +68,6 @@
  #include "components/prefs/pref_registry_simple.h"
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
@@ -818,7 +818,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/first_party_sets_handler.h"
-@@ -1183,15 +1182,8 @@ void ProfileNetworkContextService::Confi
+@@ -1194,15 +1193,8 @@ void ProfileNetworkContextService::Confi
  
    network_context_params->enable_certificate_reporting = true;
  
@@ -993,16 +993,16 @@
  }  // namespace policy
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -119,8 +119,6 @@
+@@ -120,8 +120,6 @@
  #include "components/proxy_config/proxy_policy_handler.h"
  #include "components/safe_browsing/buildflags.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
 -#include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/search_engines/default_search_policy_handler.h"
+ #include "components/search_engines/enterprise/default_search_policy_handler.h"
  #include "components/search_engines/search_engines_pref_names.h"
  #include "components/security_interstitials/core/https_only_mode_policy_handler.h"
-@@ -128,7 +126,6 @@
+@@ -129,7 +127,6 @@
  #include "components/sharing_message/buildflags.h"
  #include "components/sharing_message/pref_names.h"
  #include "components/signin/public/base/signin_buildflags.h"
@@ -1010,7 +1010,7 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/sync/base/pref_names.h"
  #include "components/sync/service/sync_policy_handler.h"
-@@ -304,9 +301,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -309,9 +306,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kForcePermissionPolicyUnloadDefaultEnabled,
      policy_prefs::kForcePermissionPolicyUnloadDefaultEnabled,
      base::Value::Type::BOOLEAN},
@@ -1020,7 +1020,7 @@
    { key::kDomainReliabilityAllowed,
      domain_reliability::prefs::kDomainReliabilityAllowedByPolicy,
      base::Value::Type::BOOLEAN },
-@@ -340,12 +334,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -345,12 +339,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kOopPrintDriversAllowedByPolicy,
      base::Value::Type::BOOLEAN },
  #endif
@@ -1033,7 +1033,7 @@
    { key::kSavingBrowserHistoryDisabled,
      prefs::kSavingBrowserHistoryDisabled,
      base::Value::Type::BOOLEAN },
-@@ -452,9 +440,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -457,9 +445,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdsSettingForIntrusiveAdsSites,
      prefs::kManagedDefaultAdsSetting,
      base::Value::Type::INTEGER },
@@ -1043,7 +1043,7 @@
    { key::kAllowCrossOriginAuthPrompt,
      prefs::kAllowCrossOriginAuthPrompt,
      base::Value::Type::BOOLEAN },
-@@ -665,15 +650,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -670,15 +655,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kPasswordDismissCompromisedAlertEnabled,
      password_manager::prefs::kPasswordDismissCompromisedAlertEnabled,
      base::Value::Type::BOOLEAN },
@@ -1059,7 +1059,7 @@
  #if BUILDFLAG(ENABLE_PDF)
    { key::kPdfLocalFileAccessAllowedForDomains,
      prefs::kPdfLocalFileAccessAllowedForDomains,
-@@ -720,9 +696,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -725,9 +701,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRestoreOnStartupURLs,
      prefs::kURLsToRestoreOnStartup,
      base::Value::Type::LIST },
@@ -1069,7 +1069,7 @@
    { key::kSameOriginTabCaptureAllowedByOrigins,
      prefs::kSameOriginTabCaptureAllowedByOrigins,
      base::Value::Type::LIST },
-@@ -834,9 +807,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -839,9 +812,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdditionalDnsQueryTypesEnabled,
      prefs::kAdditionalDnsQueryTypesEnabled,
      base::Value::Type::BOOLEAN },
@@ -1079,7 +1079,7 @@
    { key::kForceGoogleSafeSearch,
      policy_prefs::kForceGoogleSafeSearch,
      base::Value::Type::BOOLEAN },
-@@ -901,9 +871,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -906,9 +876,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRequireOnlineRevocationChecksForLocalAnchors,
      prefs::kCertRevocationCheckingRequiredLocalAnchors,
      base::Value::Type::BOOLEAN },
@@ -1089,7 +1089,7 @@
  #endif  // #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX)
          // || BUILDFLAG(IS_WIN)  || BUILDFLAG(IS_MAC)
  #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_WIN)
-@@ -1823,9 +1790,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1833,9 +1800,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kUnmanagedDeviceSignalsConsentFlowEnabled,
      device_signals::prefs::kUnmanagedDeviceSignalsConsentFlowEnabled,
      base::Value::Type::BOOLEAN },
@@ -1099,7 +1099,7 @@
  #endif // BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    { key::kDefaultBrowserSettingEnabled,
-@@ -1884,9 +1848,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1894,9 +1858,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kImportDialogAutofillFormData,
      base::Value::Type::BOOLEAN },
  
@@ -1109,7 +1109,7 @@
    { key::kHardwareAccelerationModeEnabled,
      prefs::kHardwareAccelerationModeEnabled,
      base::Value::Type::BOOLEAN },
-@@ -2171,9 +2132,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -2184,9 +2145,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kGoogleSearchSidePanelEnabled,
      prefs::kGoogleSearchSidePanelEnabled,
      base::Value::Type::BOOLEAN },
@@ -1119,7 +1119,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
    { key::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
      policy_prefs::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
-@@ -2641,21 +2599,7 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2654,21 +2612,7 @@ std::unique_ptr<ConfigurationPolicyHandl
            key::kBrowserContextAwareAccessSignalsAllowlist,
            enterprise_connectors::kBrowserContextAwareAccessSignalsAllowlistPref,
            chrome_schema));
@@ -1141,7 +1141,7 @@
    handlers->AddHandler(std::make_unique<IntRangePolicyHandler>(
        key::kProfileReauthPrompt, enterprise_signin::prefs::kProfileReauthPrompt,
        static_cast<int>(enterprise_signin::ProfileReauthPrompt::kDoNotPrompt),
-@@ -2716,24 +2660,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2729,24 +2673,6 @@ std::unique_ptr<ConfigurationPolicyHandl
  #else   // BUILDFLAG(IS_CHROMEOS)
    std::vector<std::unique_ptr<ConfigurationPolicyHandler>>
        signin_legacy_policies;
@@ -1168,15 +1168,15 @@
        std::make_unique<BrowserSigninPolicyHandler>(chrome_schema)));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -167,7 +167,6 @@
+@@ -168,7 +168,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/proxy_config/pref_proxy_config_tracker_impl.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/saved_tab_groups/pref_names.h"
+ #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/search_engines/template_url_prepopulate_data.h"
- #include "components/security_interstitials/content/insecure_form_blocking_page.h"
-@@ -175,7 +174,6 @@
+@@ -177,7 +176,6 @@
  #include "components/segmentation_platform/embedder/default_model/device_switcher_result_dispatcher.h"
  #include "components/segmentation_platform/public/segmentation_platform_service.h"
  #include "components/sessions/core/session_id_generator.h"
@@ -1184,15 +1184,15 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
-@@ -1523,7 +1521,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1604,7 +1602,6 @@ void RegisterLocalState(PrefRegistrySimp
    PushMessagingServiceImpl::RegisterPrefs(registry);
  #endif
    RegisterScreenshotPrefs(registry);
 -  safe_browsing::RegisterLocalStatePrefs(registry);
+   search_engines::SearchEngineChoiceService::RegisterLocalStatePrefs(registry);
    secure_origin_allowlist::RegisterPrefs(registry);
    segmentation_platform::SegmentationPlatformService::RegisterLocalStatePrefs(
-       registry);
-@@ -1858,8 +1855,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1940,8 +1937,6 @@ void RegisterProfilePrefs(user_prefs::Pr
  #if BUILDFLAG(IS_CHROMEOS_ASH)
    settings::ResetSettingsHandler::RegisterProfilePrefs(registry);
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
@@ -1201,7 +1201,7 @@
    SearchPrefetchService::RegisterProfilePrefs(registry);
    blocked_content::SafeBrowsingTriggeredPopupBlocker::RegisterProfilePrefs(
        registry);
-@@ -2492,9 +2487,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
+@@ -2588,9 +2583,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
    // If the sync (old) pref still exists, copy it to signin (new),
    // and clear the sync part of the pref.
    if (profile_prefs->HasPrefPath(kSync_ExplicitBrowserSignin)) {
@@ -1211,7 +1211,7 @@
      profile_prefs->ClearPref(kSync_ExplicitBrowserSignin);
    }
  
-@@ -2586,10 +2578,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
+@@ -2682,10 +2674,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
    // Added 03/2024.
    profile_prefs->ClearPref(kDefaultSearchProviderChoicePendingDeprecated);
  
@@ -1383,7 +1383,7 @@
      info.Set(ProfileAttributesEntry::kAccountIdKey,
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
-@@ -150,7 +150,6 @@
+@@ -151,7 +151,6 @@
  #include "components/profile_metrics/browser_profile_type.h"
  #include "components/safe_search_api/safe_search_util.h"
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
@@ -1401,7 +1401,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
  #include "components/supervised_user/core/browser/child_account_service.h"
-@@ -1967,8 +1966,7 @@ void ProfileManager::AddProfileToStorage
+@@ -1964,8 +1963,7 @@ void ProfileManager::AddProfileToStorage
        entry->SetAuthInfo(account_info.gaia, username,
                           is_consented_primary_account);
  
@@ -1411,7 +1411,7 @@
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS_ASH)
        // Sign out if force-sign-in policy is enabled and profile is not signed
-@@ -2017,14 +2015,13 @@ void ProfileManager::AddProfileToStorage
+@@ -2014,14 +2012,13 @@ void ProfileManager::AddProfileToStorage
  
    init_params.is_ephemeral = IsForceEphemeralProfilesEnabled(profile);
    init_params.is_signed_in_with_credential_provider =
@@ -1429,7 +1429,7 @@
    prefs->ClearPref(DefaultSearchManager::kDefaultSearchProviderDataPrefName);
 --- a/chrome/browser/profiles/profile_window.cc
 +++ b/chrome/browser/profiles/profile_window.cc
-@@ -37,7 +37,6 @@
+@@ -36,7 +36,6 @@
  #include "chrome/common/url_constants.h"
  #include "components/flags_ui/pref_service_flags_storage.h"
  #include "components/prefs/pref_service.h"
@@ -1449,7 +1449,7 @@
  #if BUILDFLAG(IS_CHROMEOS_LACROS)
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
-@@ -858,7 +858,7 @@
+@@ -859,7 +859,7 @@
            </category-setting-exceptions>
          </settings-subpage>
        </template>
@@ -1460,7 +1460,7 @@
            <settings-subpage page-title="$i18n{siteSettingsAds}"
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.ts
-@@ -103,7 +103,7 @@ export class SettingsPrivacyPageElement
+@@ -104,7 +104,7 @@ export class SettingsPrivacyPageElement
        enableSafeBrowsingSubresourceFilter_: {
          type: Boolean,
          value() {
@@ -1471,12 +1471,12 @@
  
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -86,135 +86,6 @@
+@@ -84,135 +84,6 @@
        <img id="banner" alt=""
            src="chrome://settings/images/safe_browsing_banner.svg">
      </picture>
 -    <div id="safeBrowsingSection">
--      <h2>$i18n{safeBrowsingSectionLabel}</h2>
+-      <h2 class="cr-title-text">$i18n{safeBrowsingSectionLabel}</h2>
 -      <settings-radio-group id="safeBrowsingRadioGroup" no-set-pref
 -          pref="{{prefs.generated.safe_browsing}}"
 -          selectable-elements="cr-radio-button, settings-collapse-radio-button"
@@ -1498,36 +1498,36 @@
 -                </h3>
 -                <ul class="icon-bulleted-list">
 -                  <li>
--                    <iron-icon icon="settings20:data" aria-hidden="true">
--                    </iron-icon>
+-                    <cr-icon icon="settings20:data" aria-hidden="true">
+-                    </cr-icon>
 -                    <div class="secondary">
 -                      $i18n{safeBrowsingEnhancedWhenOnBulOne}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings20:download" aria-hidden="true">
--                    </iron-icon>
+-                    <cr-icon icon="settings20:download" aria-hidden="true">
+-                    </cr-icon>
 -                    <div class="secondary">
 -                      $i18n{safeBrowsingEnhancedWhenOnBulTwo}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings20:gshield" aria-hidden="true">
--                    </iron-icon>
+-                    <cr-icon icon="settings20:gshield" aria-hidden="true">
+-                    </cr-icon>
 -                    <div class="secondary">
 -                      $i18n{safeBrowsingEnhancedWhenOnBulThree}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings:language" aria-hidden="true">
--                    </iron-icon>
+-                    <cr-icon icon="settings:language" aria-hidden="true">
+-                    </cr-icon>
 -                    <div class="secondary">
 -                      $i18n{safeBrowsingEnhancedWhenOnBulFour}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings20:vpn-key-new" aria-hidden="true">
--                    </iron-icon>
+-                    <cr-icon icon="settings20:vpn-key-new" aria-hidden="true">
+-                    </cr-icon>
 -                    <div class="secondary">
 -                      $i18n{safeBrowsingEnhancedWhenOnBulFive}
 -                    </div>
@@ -1540,19 +1540,19 @@
 -                </h3>
 -                <ul class="icon-bulleted-list">
 -                  <li>
--                    <iron-icon icon="settings20:link"></iron-icon>
+-                    <cr-icon icon="settings20:link"></cr-icon>
 -                    <div class="cr-secondary-text">
 -                      $i18n{safeBrowsingEnhancedThingsToConsiderBulOne}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings20:account-circle"></iron-icon>
+-                    <cr-icon icon="settings20:account-circle"></cr-icon>
 -                    <div class="cr-secondary-text">
 -                      $i18n{safeBrowsingEnhancedThingsToConsiderBulTwo}
 -                    </div>
 -                  </li>
 -                  <li>
--                    <iron-icon icon="settings:performance"></iron-icon>
+-                    <cr-icon icon="settings:performance"></cr-icon>
 -                    <div class="cr-secondary-text">
 -                      $i18n{safeBrowsingEnhancedThingsToConsiderBulThree}
 -                    </div>
@@ -1606,8 +1606,8 @@
 -    </div>
      <template is="dom-if" if="[[enableHttpsFirstModeNewSettings_]]" restamp>
        <div id="secureConnectionsSection">
-         <h2>$i18n{secureConnectionsSectionTitle}</h2>
-@@ -378,11 +249,3 @@
+         <h2 class="cr-title-text">$i18n{secureConnectionsSectionTitle}</h2>
+@@ -370,11 +241,3 @@
          on-click="onAdvancedProtectionProgramLinkClick_"
          external>
      </cr-link-row>
@@ -1621,7 +1621,7 @@
 -    </template>
 --- a/chrome/browser/resources/settings/privacy_page/security_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.ts
-@@ -303,17 +303,6 @@ export class SettingsSecurityPageElement
+@@ -304,17 +304,6 @@ export class SettingsSecurityPageElement
      super.ready();
  
      CrSettingsPrefs.initialized.then(() => {
@@ -1639,7 +1639,7 @@
        // The HTTPS-First Mode generated pref should never be set to
        // ENABLED_BALANCED if the feature flag is not enabled.
        if (!loadTimeData.getBoolean('enableHttpsFirstModeNewSettings')) {
-@@ -323,10 +312,6 @@ export class SettingsSecurityPageElement
+@@ -324,10 +313,6 @@ export class SettingsSecurityPageElement
        }
      });
  
@@ -1650,7 +1650,7 @@
      // Initialize the last focus time on page load.
      this.lastFocusTime_ = HatsBrowserProxyImpl.getInstance().now();
    }
-@@ -446,8 +431,7 @@ export class SettingsSecurityPageElement
+@@ -447,8 +432,7 @@ export class SettingsSecurityPageElement
    }
  
    private getDisabledExtendedSafeBrowsing_(): boolean {
@@ -1670,7 +1670,7 @@
 +          false,
      },
      {
-       route: routes.SITE_SETTINGS_AUTO_PICTURE_IN_PICTURE,
+       route: routes.SITE_SETTINGS_AUTO_VERIFY,
 --- a/chrome/browser/safe_browsing/advanced_protection_status_manager.cc
 +++ b/chrome/browser/safe_browsing/advanced_protection_status_manager.cc
 @@ -14,7 +14,6 @@
@@ -1736,7 +1736,7 @@
  
 --- a/chrome/browser/safe_browsing/chrome_password_protection_service.cc
 +++ b/chrome/browser/safe_browsing/chrome_password_protection_service.cc
-@@ -69,7 +69,6 @@
+@@ -67,7 +67,6 @@
  #include "components/safe_browsing/core/browser/verdict_cache_manager.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -1874,7 +1874,7 @@
  #include "components/sync/service/sync_service.h"
 --- a/chrome/browser/safe_browsing/download_protection/check_client_download_request.cc
 +++ b/chrome/browser/safe_browsing/download_protection/check_client_download_request.cc
-@@ -39,7 +39,6 @@
+@@ -40,7 +40,6 @@
  #include "components/safe_browsing/content/common/file_type_policies.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -1894,7 +1894,7 @@
  #include "content/public/browser/browser_task_traits.h"
 --- a/chrome/browser/safe_browsing/download_protection/download_protection_service_unittest.cc
 +++ b/chrome/browser/safe_browsing/download_protection/download_protection_service_unittest.cc
-@@ -98,7 +98,6 @@
+@@ -99,7 +99,6 @@
  #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -2113,7 +2113,7 @@
  
 --- a/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
-@@ -94,7 +94,6 @@
+@@ -95,7 +95,6 @@
  #include "components/safe_browsing/core/browser/verdict_cache_manager.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
@@ -2123,7 +2123,7 @@
  #include "components/security_interstitials/content/security_interstitial_tab_helper.h"
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -198,7 +198,6 @@ bool SafeBrowsingService::IsUserEligible
+@@ -197,7 +197,6 @@ bool SafeBrowsingService::IsUserEligible
  
  SafeBrowsingService::SafeBrowsingService()
      : services_delegate_(ServicesDelegate::Create(this)),
@@ -2131,7 +2131,7 @@
        shutdown_(false),
        enabled_(false),
        enabled_by_prefs_(false) {}
-@@ -334,9 +333,6 @@ TriggerManager* SafeBrowsingService::tri
+@@ -333,9 +332,6 @@ TriggerManager* SafeBrowsingService::tri
  
  PasswordProtectionService* SafeBrowsingService::GetPasswordProtectionService(
      Profile* profile) const {
@@ -2141,7 +2141,7 @@
    return nullptr;
  }
  
-@@ -418,9 +414,6 @@ void SafeBrowsingService::OnProfileAdded
+@@ -417,9 +413,6 @@ void SafeBrowsingService::OnProfileAdded
    std::unique_ptr<PrefChangeRegistrar> registrar =
        std::make_unique<PrefChangeRegistrar>();
    registrar->Init(pref_service);
@@ -2151,7 +2151,7 @@
    // ClientSideDetectionService will need to be refresh the models
    // renderers have if extended-reporting changes.
    registrar->Add(prefs::kSafeBrowsingScoutReportingEnabled,
-@@ -449,14 +442,6 @@ void SafeBrowsingService::OnProfileAdded
+@@ -448,14 +441,6 @@ void SafeBrowsingService::OnProfileAdded
                            NoCachedPopulationReason::kChangeMbbPref));
    user_population_prefs_[pref_service] = std::move(registrar);
  
@@ -2166,7 +2166,7 @@
  
    // Record the current enhanced protection pref state for regular profiles only
    if (profiles::IsRegularUserProfile(profile)) {
-@@ -521,18 +506,6 @@ void SafeBrowsingService::RefreshState()
+@@ -520,18 +505,6 @@ void SafeBrowsingService::RefreshState()
  
    // Check if any profile requires the service to be active.
    enabled_by_prefs_ = false;
@@ -2441,7 +2441,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_capabilities.h"
-@@ -471,16 +470,8 @@ void DiceWebSigninInterceptor::RegisterP
+@@ -466,16 +465,8 @@ void DiceWebSigninInterceptor::RegisterP
    registry->RegisterBooleanPref(prefs::kSigninInterceptionEnabled, true);
    registry->RegisterStringPref(prefs::kManagedAccountsSigninRestriction,
                                 std::string());
@@ -2458,7 +2458,7 @@
  }
  
  std::optional<SigninInterceptionHeuristicOutcome>
-@@ -1496,16 +1487,6 @@ void DiceWebSigninInterceptor::
+@@ -1484,16 +1475,6 @@ void DiceWebSigninInterceptor::
            g_browser_process->browser_policy_connector(),
            g_browser_process->system_network_context_manager()
                ->GetSharedURLLoaderFactory());
@@ -2612,15 +2612,15 @@
        IsValidUnconsentedPrimaryAccount(current_primary_account);
 --- a/chrome/browser/signin/signin_promo_util.cc
 +++ b/chrome/browser/signin/signin_promo_util.cc
-@@ -10,7 +10,6 @@
- #include "chrome/browser/signin/reauth_result.h"
+@@ -11,7 +11,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
+ #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -45,41 +44,7 @@ namespace {
+@@ -46,41 +45,7 @@ namespace {
  // ShouldShowSyncPromo and ShouldShowSignInPromo). |profile| is the profile of
  // the tab the promo would be shown on.
  bool ShouldShowPromoCommon(Profile& profile) {
@@ -2664,7 +2664,7 @@
  }  // namespace
 --- a/chrome/browser/signin/signin_ui_util.cc
 +++ b/chrome/browser/signin/signin_ui_util.cc
-@@ -40,7 +40,6 @@
+@@ -41,7 +41,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2964,7 +2964,7 @@
  
 --- a/chrome/browser/ui/safety_hub/menu_notification_service.cc
 +++ b/chrome/browser/ui/safety_hub/menu_notification_service.cc
-@@ -21,7 +21,6 @@
+@@ -24,7 +24,6 @@
  #include "chrome/browser/ui/safety_hub/unused_site_permissions_service.h"
  #include "chrome/common/chrome_features.h"
  #include "components/prefs/pref_service.h"
@@ -2972,11 +2972,10 @@
  
  #if BUILDFLAG(IS_ANDROID)
  #include "chrome/browser/ui/safety_hub/password_status_check_result_android.h"
-@@ -128,15 +127,6 @@ SafetyHubMenuNotificationService::Safety
-         stored_notifications);
+@@ -133,15 +132,6 @@ SafetyHubMenuNotificationService::Safety
    }
  #endif  // !BUILDFLAG(IS_ANDROID)
--
+ 
 -  // Listen for changes to the Safe Browsing pref to accommodate the trigger
 -  // logic.
 -  registrar_.Init(pref_service);
@@ -2985,9 +2984,10 @@
 -      base::BindRepeating(
 -          &SafetyHubMenuNotificationService::OnSafeBrowsingPrefUpdate,
 -          base::Unretained(this)));
- }
- 
- void SafetyHubMenuNotificationService::UpdateResultGetterForTesting(
+-
+ #if !BUILDFLAG(IS_ANDROID)
+   // If any notification is not shown yet, trigger Hats survey control group.
+   if (base::FeatureList::IsEnabled(features::kSafetyHubHaTSOneOffSurvey) &&
 --- a/chrome/browser/ui/safety_hub/safe_browsing_result.cc
 +++ b/chrome/browser/ui/safety_hub/safe_browsing_result.cc
 @@ -11,7 +11,6 @@
@@ -3086,7 +3086,7 @@
  }
 --- a/chrome/browser/ui/startup/first_run_service.cc
 +++ b/chrome/browser/ui/startup/first_run_service.cc
-@@ -29,7 +29,6 @@
+@@ -28,7 +28,6 @@
  #include "components/prefs/pref_registry_simple.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
@@ -3094,7 +3094,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -107,47 +106,7 @@ enum class PolicyEffect {
+@@ -106,47 +105,7 @@ enum class PolicyEffect {
  };
  
  PolicyEffect ComputeDevicePolicyEffect(Profile& profile) {
@@ -3153,7 +3153,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/vector_icons/vector_icons.h"
-@@ -635,53 +634,7 @@ int ProfileSubMenuModel::GetAndIncrement
+@@ -628,53 +627,7 @@ int ProfileSubMenuModel::GetAndIncrement
  }
  
  bool ProfileSubMenuModel::BuildSyncSection() {
@@ -3237,7 +3237,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -1612,18 +1611,6 @@ void AvatarToolbarButtonDelegate::OnErro
+@@ -1651,18 +1650,6 @@ void AvatarToolbarButtonDelegate::OnErro
      const CoreAccountInfo& account_info,
      const GoogleServiceAuthError& error,
      signin_metrics::SourceForRefreshTokenOperation token_operation_source) {
@@ -3286,7 +3286,7 @@
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
 --- a/chrome/browser/ui/views/safe_browsing/password_reuse_modal_warning_dialog.cc
 +++ b/chrome/browser/ui/views/safe_browsing/password_reuse_modal_warning_dialog.cc
-@@ -124,7 +124,6 @@ PasswordReuseModalWarningDialog::Passwor
+@@ -125,7 +125,6 @@ PasswordReuseModalWarningDialog::Passwor
      OnWarningDone done_callback)
      : content::WebContentsObserver(web_contents),
        done_callback_(std::move(done_callback)),
@@ -3294,7 +3294,7 @@
        url_(web_contents->GetLastCommittedURL()),
        password_type_(password_type) {
    bool show_check_passwords = false;
-@@ -165,29 +164,13 @@ PasswordReuseModalWarningDialog::Passwor
+@@ -168,29 +167,13 @@ PasswordReuseModalWarningDialog::Passwor
    SetCancelCallback(make_done_callback(WarningAction::IGNORE_WARNING));
    SetCloseCallback(make_done_callback(WarningAction::CLOSE));
  
@@ -3357,7 +3357,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/zoom/page_zoom.h"
  #include "components/zoom/zoom_controller.h"
-@@ -391,61 +390,6 @@ void AddSignedInChipToProfileMenuItem(
+@@ -387,61 +386,6 @@ void AddSignedInChipToProfileMenuItem(
      const int horizontal_padding,
      std::vector<base::CallbackListSubscription>&
          profile_menu_subscription_list) {
@@ -3421,8 +3421,8 @@
  // AppMenuView is a view that can contain label buttons.
 --- a/chrome/browser/ui/views/webid/fedcm_account_selection_view_desktop.cc
 +++ b/chrome/browser/ui/views/webid/fedcm_account_selection_view_desktop.cc
-@@ -887,8 +887,6 @@ void FedCmAccountSelectionView::OnChoose
-   ShowMultiAccountPicker(idp_display_data_list_,
+@@ -881,8 +881,6 @@ void FedCmAccountSelectionView::OnChoose
+   ShowMultiAccountPicker(accounts_, idp_list_,
                           /*show_back_button=*/true,
                           /*is_choose_an_account=*/true);
 -  base::UmaHistogramBoolean("Blink.FedCm.ChooseAnAccountSelected.Desktop",
@@ -3618,7 +3618,7 @@
  #include "components/site_engagement/content/site_engagement_service.h"
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -85,7 +85,6 @@
+@@ -86,7 +86,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
@@ -3626,7 +3626,7 @@
  #include "components/saved_tab_groups/features.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/signin/public/base/signin_buildflags.h"
-@@ -3386,11 +3385,6 @@ void AddSiteSettingsStrings(content::Web
+@@ -3329,11 +3328,6 @@ void AddSiteSettingsStrings(content::Web
    html_source->AddLocalizedStrings(kSensorsLocalizedStrings);
  
    html_source->AddBoolean(
@@ -3648,7 +3648,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/features.h"
  #include "content/public/browser/url_data_source.h"
-@@ -313,9 +312,7 @@ SettingsUI::SettingsUI(content::WebUI* w
+@@ -311,9 +310,7 @@ SettingsUI::SettingsUI(content::WebUI* w
    }
  #endif  // BUILDFLAG(IS_WIN) && BUILDFLAG(GOOGLE_CHROME_BRANDING)
  
@@ -3687,7 +3687,7 @@
  bool SigninDelegateImpl::IsSignedIn() {
 --- a/chrome/browser/ui/webui/signin/inline_login_handler.cc
 +++ b/chrome/browser/ui/webui/signin/inline_login_handler.cc
-@@ -28,7 +28,6 @@
+@@ -27,7 +27,6 @@
  #include "chrome/common/pref_names.h"
  #include "components/metrics/metrics_pref_names.h"
  #include "components/prefs/pref_service.h"
@@ -3695,7 +3695,7 @@
  #include "content/public/browser/storage_partition.h"
  #include "content/public/browser/web_contents.h"
  #include "content/public/browser/web_ui.h"
-@@ -139,8 +138,6 @@ void InlineLoginHandler::ContinueHandleI
+@@ -138,8 +137,6 @@ void InlineLoginHandler::ContinueHandleI
    std::string default_email;
    if (reason == signin_metrics::Reason::kSigninPrimaryAccount ||
        reason == signin_metrics::Reason::kForcedSigninPrimaryAccount) {
@@ -3716,7 +3716,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
 --- a/chrome/browser/ui/webui/signin/managed_user_profile_notice_handler.cc
 +++ b/chrome/browser/ui/webui/signin/managed_user_profile_notice_handler.cc
-@@ -33,7 +33,6 @@
+@@ -34,7 +34,6 @@
  #include "chrome/grit/generated_resources.h"
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/prefs/pref_service.h"
@@ -3724,10 +3724,10 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/strings/grit/components_strings.h"
  #include "content/public/browser/web_contents.h"
-@@ -401,23 +400,6 @@ base::Value::Dict ManagedUserProfileNoti
-                    profile_creation_required_by_policy_
-                        ? IDS_ENTERPRISE_PROFILE_WELCOME_CREATE_PROFILE_BUTTON
-                        : IDS_APP_CONTINUE));
+@@ -442,23 +441,6 @@ base::Value::Dict ManagedUserProfileNoti
+       dict.Set("email", base::UTF16ToUTF8(email_));
+       dict.Set("accountName", account_info.full_name);
+ 
 -#if !BUILDFLAG(IS_CHROMEOS)
 -      // We apply the checkLinkDataCheckboxByDefault to true value only if the
 -      // link data checkbox is visible and the policy
@@ -3809,15 +3809,15 @@
  }
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
-@@ -47,7 +47,6 @@
- #include "components/search_engines/search_engine_choice/search_engine_choice_utils.h"
+@@ -46,7 +46,6 @@
+ #include "components/prefs/pref_service.h"
  #include "components/signin/core/browser/account_reconcilor.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
-@@ -276,8 +275,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
+@@ -275,8 +274,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
    // last authenticated account of the current profile, then Chrome will show a
    // confirmation dialog before starting sync.
    // TODO(skym): Warn for high risk upgrade scenario (https://crbug.com/572754).
@@ -3829,7 +3829,7 @@
        base::BindOnce(&TurnSyncOnHelper::OnMergeAccountConfirmation,
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
-@@ -36,7 +36,6 @@
+@@ -37,7 +37,6 @@
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/policy/core/browser/signin/user_cloud_signin_restriction_policy_fetcher.h"
  #include "components/policy/core/common/policy_utils.h"
@@ -3837,7 +3837,7 @@
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "third_party/skia/include/core/SkColor.h"
  
-@@ -222,28 +221,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
+@@ -223,28 +222,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
      std::move(callback).Run(signin::SIGNIN_CHOICE_CANCEL);
      return;
    }
@@ -3868,7 +3868,7 @@
        account_info, /*is_oidc_account=*/false,
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
-@@ -60,7 +60,6 @@
+@@ -57,7 +57,6 @@
  #include "components/search_engines/template_url_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3935,15 +3935,15 @@
              "value": ["searchSuggestEnabled", {"type":"boolean"}],
 --- a/components/autofill/core/browser/address_data_manager.cc
 +++ b/components/autofill/core/browser/address_data_manager.cc
-@@ -28,7 +28,6 @@
- #include "components/autofill/core/common/autofill_clock.h"
+@@ -35,7 +35,6 @@
  #include "components/autofill/core/common/autofill_prefs.h"
+ #include "components/autofill/core/common/dense_set.h"
  #include "components/prefs/pref_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/data_type.h"
  #include "components/sync/base/features.h"
-@@ -313,13 +312,7 @@ void AddressDataManager::RemoveProfile(c
+@@ -316,13 +315,7 @@ void AddressDataManager::RemoveLocalProf
  }
  
  bool AddressDataManager::IsEligibleForAddressAccountStorage() const {
@@ -3957,7 +3957,7 @@
  }
  
  bool AddressDataManager::IsCountryEligibleForAccountStorage(
-@@ -623,38 +616,7 @@ bool AddressDataManager::IsAutofillUserS
+@@ -621,38 +614,7 @@ bool AddressDataManager::IsAutofillUserS
  }
  
  bool AddressDataManager::IsAutofillSyncToggleAvailable() const {
@@ -3998,10 +3998,10 @@
  void AddressDataManager::SetAutofillSelectableTypeEnabled(bool enabled) {
 --- a/components/browser_sync/BUILD.gn
 +++ b/components/browser_sync/BUILD.gn
-@@ -18,8 +18,6 @@ static_library("browser_sync") {
-     "sync_client_utils.h",
-     "sync_engine_factory_impl.cc",
+@@ -20,8 +20,6 @@ static_library("browser_sync") {
      "sync_engine_factory_impl.h",
+     "sync_internals_message_handler.cc",
+     "sync_internals_message_handler.h",
 -    "sync_to_signin_migration.cc",
 -    "sync_to_signin_migration.h",
    ]
@@ -4017,7 +4017,7 @@
  
  namespace feed {
  namespace {
-@@ -173,9 +172,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
+@@ -174,9 +173,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
    snippets_enabled_by_dse_.Init(prefs::kEnableSnippetsByDse, profile_prefs,
                                  preference_change_callback);
    has_stored_data_.Init(feed::prefs::kHasStoredData, profile_prefs);
@@ -4379,7 +4379,7 @@
  #include "components/security_interstitials/core/unsafe_resource.h"
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
-@@ -102,16 +101,16 @@ SBErrorOptions TriggerManager::GetSBErro
+@@ -110,16 +109,16 @@ SBErrorOptions TriggerManager::GetSBErro
      content::WebContents* web_contents) {
    return SBErrorOptions(
        /*is_main_frame_load_pending=*/false,
@@ -4485,7 +4485,7 @@
  #include "content/public/browser/global_routing_id.h"
  #include "services/network/public/mojom/cookie_manager.mojom.h"
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -1451,20 +1450,7 @@ std::string SerializeHitReport(const Hit
+@@ -1448,20 +1447,7 @@ std::string SerializeHitReport(const Hit
    }
    hit_report_dict.Set("threat_source", threat_source);
    std::string extended_reporting_level;
@@ -4506,7 +4506,7 @@
    hit_report_dict.Set("extended_reporting_level", extended_reporting_level);
    hit_report_dict.Set("is_enhanced_protection",
                        hit_report.is_enhanced_protection);
-@@ -2280,18 +2266,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
+@@ -2277,18 +2263,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
    AllowJavascript();
    DCHECK(!args.empty());
    std::string callback_id = args[0].GetString();
@@ -4536,9 +4536,9 @@
  #include "url/gurl.h"
  
  namespace safe_browsing {
-@@ -54,7 +53,6 @@ struct HitReport {
-   // NOTE(vakh): Unused at the moment, but may be used later.
-   std::string population_id;
+@@ -48,7 +47,6 @@ struct HitReport {
+   SBThreatType threat_type;
+   ThreatSource threat_source;
  
 -  ExtendedReportingLevel extended_reporting_level;
    bool is_enhanced_protection = false;
@@ -4556,7 +4556,7 @@
  
 --- a/components/safe_browsing/core/browser/db/v4_local_database_manager.cc
 +++ b/components/safe_browsing/core/browser/db/v4_local_database_manager.cc
-@@ -285,12 +285,9 @@ const V4LocalDatabaseManager*
+@@ -274,12 +274,9 @@ const V4LocalDatabaseManager*
  scoped_refptr<V4LocalDatabaseManager> V4LocalDatabaseManager::Create(
      const base::FilePath& base_path,
      scoped_refptr<base::SequencedTaskRunner> ui_task_runner,
@@ -4571,7 +4571,7 @@
        std::move(io_task_runner), nullptr));
  }
  
-@@ -313,17 +310,12 @@ void V4LocalDatabaseManager::CollectData
+@@ -302,16 +299,11 @@ void V4LocalDatabaseManager::CollectData
  
  V4LocalDatabaseManager::V4LocalDatabaseManager(
      const base::FilePath& base_path,
@@ -4580,8 +4580,7 @@
      scoped_refptr<base::SequencedTaskRunner> ui_task_runner,
      scoped_refptr<base::SequencedTaskRunner> io_task_runner,
      scoped_refptr<base::SequencedTaskRunner> task_runner_for_tests)
-     : SafeBrowsingDatabaseManager(std::move(ui_task_runner),
-                                   std::move(io_task_runner)),
+     : SafeBrowsingDatabaseManager(std::move(ui_task_runner)),
        base_path_(base_path),
 -      extended_reporting_level_callback_(extended_reporting_level_callback),
 -      record_migration_metrics_callback_(
@@ -4589,7 +4588,7 @@
        list_infos_(GetListInfos()),
        task_runner_(task_runner_for_tests
                         ? task_runner_for_tests
-@@ -636,12 +628,6 @@ void V4LocalDatabaseManager::DatabaseRea
+@@ -626,12 +618,6 @@ void V4LocalDatabaseManager::DatabaseRea
      v4_database_ = std::move(v4_database);
  
      v4_database_->RecordFileSizeHistograms();
@@ -4602,7 +4601,7 @@
  
      PopulateArtificialDatabase();
  
-@@ -1214,8 +1200,7 @@ void V4LocalDatabaseManager::SetupUpdate
+@@ -1168,8 +1154,7 @@ void V4LocalDatabaseManager::SetupUpdate
                            weak_factory_.GetWeakPtr());
  
    v4_update_protocol_manager_ = V4UpdateProtocolManager::Create(
@@ -4626,7 +4625,7 @@
    V4LocalDatabaseManager(const V4LocalDatabaseManager&) = delete;
    V4LocalDatabaseManager& operator=(const V4LocalDatabaseManager&) = delete;
 @@ -116,8 +114,6 @@ class V4LocalDatabaseManager : public Sa
-   // Must be initialized by calling StartOnSBThread() before using.
+   // Must be initialized by calling StartOnUIThread() before using.
    V4LocalDatabaseManager(
        const base::FilePath& base_path,
 -      ExtendedReportingLevelCallback extended_reporting_level_callback,
@@ -4634,7 +4633,7 @@
        scoped_refptr<base::SequencedTaskRunner> ui_task_runner,
        scoped_refptr<base::SequencedTaskRunner> io_task_runner,
        scoped_refptr<base::SequencedTaskRunner> task_runner_for_tests);
-@@ -429,13 +425,6 @@ class V4LocalDatabaseManager : public Sa
+@@ -417,13 +413,6 @@ class V4LocalDatabaseManager : public Sa
    // ready to process next update.
    DatabaseUpdatedCallback db_updated_callback_;
  
@@ -4862,7 +4861,7 @@
    // policy.
 --- a/components/safe_browsing/core/browser/ping_manager.cc
 +++ b/components/safe_browsing/core/browser/ping_manager.cc
-@@ -480,7 +480,7 @@ GURL PingManager::SafeBrowsingHitUrl(
+@@ -483,7 +483,7 @@ GURL PingManager::SafeBrowsingHitUrl(
           hit_report->threat_type == SB_THREAT_TYPE_URL_BINARY_MALWARE ||
           hit_report->threat_type == SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING);
    std::string url =
@@ -4909,7 +4908,7 @@
  }  // namespace safe_browsing
 --- a/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
 +++ b/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
-@@ -18,7 +18,6 @@
+@@ -19,7 +19,6 @@
  #include "components/safe_browsing/core/browser/realtime/policy_engine.h"
  #include "components/safe_browsing/core/browser/referrer_chain_provider.h"
  #include "components/safe_browsing/core/browser/safe_browsing_token_fetcher.h"
@@ -4917,7 +4916,7 @@
  #include "components/unified_consent/pref_names.h"
  #include "net/base/ip_address.h"
  #include "net/base/load_flags.h"
-@@ -66,10 +65,6 @@ RealTimeUrlLookupService::RealTimeUrlLoo
+@@ -67,10 +66,6 @@ RealTimeUrlLookupService::RealTimeUrlLoo
        variations_(variations_service) {
    pref_change_registrar_.Init(pref_service_);
    pref_change_registrar_.Add(
@@ -4928,7 +4927,7 @@
        unified_consent::prefs::kUrlKeyedAnonymizedDataCollectionEnabled,
        base::BindRepeating(&RealTimeUrlLookupService::OnPrefChanged,
                            base::Unretained(this)));
-@@ -138,8 +133,7 @@ bool RealTimeUrlLookupService::CanSendPa
+@@ -139,8 +134,7 @@ bool RealTimeUrlLookupService::CanSendPa
  }
  
  bool RealTimeUrlLookupService::CanIncludeSubframeUrlInReferrerChain() const {
@@ -4938,7 +4937,7 @@
  }
  
  bool RealTimeUrlLookupService::CanCheckSafeBrowsingDb() const {
-@@ -156,9 +150,7 @@ bool RealTimeUrlLookupService::CanCheckS
+@@ -157,9 +151,7 @@ bool RealTimeUrlLookupService::CanCheckS
  }
  
  bool RealTimeUrlLookupService::CanSendRTSampleRequest() const {
@@ -4949,7 +4948,7 @@
  }
  
  std::string RealTimeUrlLookupService::GetUserEmail() const {
-@@ -247,14 +239,6 @@ RealTimeUrlLookupService::GetMinAllowedT
+@@ -253,14 +245,6 @@ RealTimeUrlLookupService::GetMinAllowedT
  
  void RealTimeUrlLookupService::MaybeLogLastProtegoPingTimeToPrefs(
      bool sent_with_token) {
@@ -4966,7 +4965,7 @@
  void RealTimeUrlLookupService::MaybeLogProtegoPingCookieHistograms(
 --- a/components/safe_browsing/core/browser/realtime/url_lookup_service_base.cc
 +++ b/components/safe_browsing/core/browser/realtime/url_lookup_service_base.cc
-@@ -17,7 +17,6 @@
+@@ -20,7 +20,6 @@
  #include "components/safe_browsing/core/browser/referrer_chain_provider.h"
  #include "components/safe_browsing/core/browser/verdict_cache_manager.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -5176,7 +5175,7 @@
  }
  
  void SafeBrowsingMetricsCollector::AddBypassEventToPref(
-@@ -289,15 +143,7 @@ std::optional<base::Time> SafeBrowsingMe
+@@ -288,15 +142,7 @@ std::optional<base::Time> SafeBrowsingMe
  std::optional<base::Time> SafeBrowsingMetricsCollector::GetLatestEventTimestamp(
      EventTypeFilter event_type_filter) {
    // Events are not logged when Safe Browsing is disabled.
@@ -5192,7 +5191,7 @@
  }
  
  std::optional<base::Time>
-@@ -309,45 +155,15 @@ SafeBrowsingMetricsCollector::GetLatestS
+@@ -308,45 +154,15 @@ SafeBrowsingMetricsCollector::GetLatestS
  void SafeBrowsingMetricsCollector::AddSafeBrowsingEventAndUserStateToPref(
      UserState user_state,
      EventType event_type) {
@@ -5239,7 +5238,7 @@
  }
  
  std::optional<SafeBrowsingMetricsCollector::Event>
-@@ -474,23 +290,6 @@ int SafeBrowsingMetricsCollector::GetEve
+@@ -473,23 +289,6 @@ int SafeBrowsingMetricsCollector::GetEve
    });
  }
  
@@ -5808,15 +5807,15 @@
  #include "components/sync_preferences/testing_pref_service_syncable.h"
 --- a/components/signin/core/browser/account_reconcilor.cc
 +++ b/components/signin/core/browser/account_reconcilor.cc
-@@ -30,7 +30,6 @@
- #include "components/signin/public/base/account_consistency_method.h"
+@@ -31,7 +31,6 @@
+ #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/accounts_cookie_mutator.h"
  #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
-@@ -99,12 +98,6 @@ bool IsAnyAccountInErrorState(
+@@ -100,12 +99,6 @@ bool IsAnyAccountInErrorState(
  // consider the migration done.
  void MaybeMigrateClearOnExit(SigninClient& client,
                               signin::IdentityManager& identity_manager) {
@@ -5829,7 +5828,7 @@
  }
  #endif  // BUILDFLAG(ENABLE_DICE_SUPPORT)
  
-@@ -198,10 +191,6 @@ AccountReconcilor::~AccountReconcilor()
+@@ -199,10 +192,6 @@ AccountReconcilor::~AccountReconcilor()
  
  // static
  void AccountReconcilor::RegisterProfilePrefs(PrefRegistrySimple* registry) {
@@ -5840,7 +5839,7 @@
  }
  
  void AccountReconcilor::RegisterWithAllDependencies() {
-@@ -300,12 +289,6 @@ void AccountReconcilor::RegisterWithIden
+@@ -301,12 +290,6 @@ void AccountReconcilor::RegisterWithIden
      return;
  
    identity_manager_->AddObserver(this);
@@ -5883,7 +5882,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -253,23 +252,6 @@ void SigninMetricsService::OnRefreshToke
+@@ -359,23 +358,6 @@ void SigninMetricsService::OnRefreshToke
  #if BUILDFLAG(ENABLE_DICE_SUPPORT)
  
  void SigninMetricsService::RecordExplicitSigninMigrationStatus() {
@@ -5909,7 +5908,7 @@
  void SigninMetricsService::MaybeRecordWebSigninToChromeSigninMetrics(
 --- a/components/signin/internal/identity_manager/account_tracker_service.cc
 +++ b/components/signin/internal/identity_manager/account_tracker_service.cc
-@@ -38,7 +38,6 @@
+@@ -39,7 +39,6 @@
  #include "components/signin/internal/identity_manager/account_capabilities_constants.h"
  #include "components/signin/internal/identity_manager/account_info_util.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -5917,7 +5916,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_capabilities.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -202,11 +201,6 @@ AccountTrackerService::~AccountTrackerSe
+@@ -198,11 +197,6 @@ AccountTrackerService::~AccountTrackerSe
  
  // static
  void AccountTrackerService::RegisterPrefs(PrefRegistrySimple* registry) {
@@ -5929,7 +5928,7 @@
  }
  
  void AccountTrackerService::Initialize(PrefService* pref_service,
-@@ -528,14 +522,12 @@ AccountTrackerService::ComputeNewMigrati
+@@ -539,14 +533,12 @@ AccountTrackerService::ComputeNewMigrati
  void AccountTrackerService::SetMigrationState(AccountIdMigrationState state) {
    DCHECK(state != MIGRATION_DONE || AreAllAccountsMigrated())
        << "state: " << state << ", accounts = " << AccountsToString(accounts_);
@@ -5945,7 +5944,7 @@
  }
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
  
-@@ -593,26 +585,6 @@ void AccountTrackerService::OnAccountIma
+@@ -604,26 +596,6 @@ void AccountTrackerService::OnAccountIma
      const CoreAccountId& account_id,
      const std::string& image_url_with_size,
      bool success) {
@@ -5972,7 +5971,7 @@
  }
  
  void AccountTrackerService::RemoveAccountImageFromDisk(
-@@ -624,185 +596,16 @@ void AccountTrackerService::RemoveAccoun
+@@ -635,185 +607,16 @@ void AccountTrackerService::RemoveAccoun
  }
  
  void AccountTrackerService::LoadFromPrefs() {
@@ -6228,7 +6227,7 @@
  #include "components/signin/public/identity_manager/set_accounts_in_cookie_result.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
-@@ -18,7 +18,6 @@
+@@ -20,7 +20,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -6238,7 +6237,7 @@
  #include "components/signin/public/webdata/token_service_table.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
-@@ -28,7 +28,6 @@
+@@ -31,7 +31,6 @@
  #include "components/signin/public/base/account_consistency_method.h"
  #include "components/signin/public/base/device_id_helper.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -6256,7 +6255,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -209,98 +208,19 @@ PrimaryAccountManager::PrimaryAccountMan
+@@ -209,156 +208,27 @@ PrimaryAccountManager::PrimaryAccountMan
        account_tracker_service_(account_tracker_service) {
    DCHECK(client_);
    DCHECK(account_tracker_service_);
@@ -6274,6 +6273,64 @@
 -        base::BindRepeating(&PrimaryAccountManager::OnSigninAllowedPrefChanged,
 -                            base::Unretained(this)));
 -  }
+-
+-  // Prepare prefs before loading them.
+-  PrepareToLoadPrefs();
+-
+-  PrefService* prefs = client_->GetPrefs();
+-  std::string pref_account_id =
+-      prefs->GetString(prefs::kGoogleServicesAccountId);
+-  bool pref_consented_to_sync =
+-      prefs->GetBoolean(prefs::kGoogleServicesConsentedToSync);
+-  LogPrimaryAccountPrefsOnInitialize(pref_account_id, pref_consented_to_sync);
+-
+   ScopedPrefCommit scoped_pref_commit(client_->GetPrefs(),
+                                       /*commit_on_destroy=*/false);
+-  if (pref_account_id.empty()) {
+     SetPrimaryAccountInternal(CoreAccountInfo(), /*consented_to_sync=*/false,
+                               scoped_pref_commit);
+-  } else {
+-    auto [account_info, account_info_state] =
+-        GetOrRestorePrimaryAccountInfoOnInitialize(pref_account_id,
+-                                                   pref_consented_to_sync);
+-    base::UmaHistogramEnumeration(
+-        "Signin.PAMInitialize.PrimaryAccountInfoState", account_info_state);
+-
+-    if (pref_consented_to_sync && !account_info.IsEmpty()) {
+-      SetPrimaryAccountInternal(account_info, /*consented_to_sync=*/true,
+-                                scoped_pref_commit);
+-
+-      // Ensure that the last syncing account data is consistent with the
+-      // primary account. The last signed-in account data is written inside
+-      // SetPrimaryAccountInternal().
+-      scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingGaiaId,
+-                                   account_info.gaia);
+-      scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingUsername,
+-                                   account_info.email);
+-    } else if (ShouldSigninAllowedPrefAffectPrimaryAccount(
+-                   pref_consented_to_sync)) {
+-      SetPrimaryAccountInternal(CoreAccountInfo(), /*consented_to_sync=*/false,
+-                                scoped_pref_commit);
+-    } else {
+-      SetPrimaryAccountInternal(account_info, /*consented_to_sync=*/false,
+-                                scoped_pref_commit);
+-    }
+-  }
+ 
+   // PrimaryAccountManager is initialized once the primary account and consent
+   // level are loaded.
+   CHECK(primary_account_.has_value());
+-
+-  // Instrument metrics to know what fraction of users without a primary
+-  // account previously did have one, with sync enabled.
+-  RecordHadPreviousSyncAccount();
+-
+-  // It is important to only load credentials after starting to observe the
+-  // token service.
+-  token_service_observation_.Observe(token_service_);
+-  token_service_->LoadCredentials(
+-      GetPrimaryAccountId(signin::ConsentLevel::kSignin),
+-      HasPrimaryAccount(signin::ConsentLevel::kSync));
  }
  
  PrimaryAccountManager::~PrimaryAccountManager() = default;
@@ -6355,7 +6412,7 @@
  }
  
  std::pair<CoreAccountInfo, PrimaryAccountManager::InitializeAccountInfoState>
-@@ -328,46 +248,10 @@ PrimaryAccountManager::GetOrRestorePrima
+@@ -386,46 +256,10 @@ PrimaryAccountManager::GetOrRestorePrima
                                kEmptyAccountInfo_RestoreFailedNotSyncConsented);
    }
  
@@ -6401,37 +6458,8 @@
 -  }
  }
  
- void PrimaryAccountManager::Initialize() {
-@@ -377,11 +261,9 @@ void PrimaryAccountManager::Initialize()
-   // Prepare prefs before loading them.
-   PrepareToLoadPrefs();
- 
--  PrefService* prefs = client_->GetPrefs();
--  std::string pref_account_id =
--      prefs->GetString(prefs::kGoogleServicesAccountId);
-+  std::string pref_account_id;
-   bool pref_consented_to_sync =
--      prefs->GetBoolean(prefs::kGoogleServicesConsentedToSync);
-+      false;
-   LogPrimaryAccountPrefsOnInitialize(pref_account_id, pref_consented_to_sync);
- 
-   ScopedPrefCommit scoped_pref_commit(client_->GetPrefs(),
-@@ -399,14 +281,6 @@ void PrimaryAccountManager::Initialize()
-     if (pref_consented_to_sync && !account_info.IsEmpty()) {
-       SetPrimaryAccountInternal(account_info, /*consented_to_sync=*/true,
-                                 scoped_pref_commit);
--
--      // Ensure that the last syncing account data is consistent with the
--      // primary account. The last signed-in account data is written inside
--      // SetPrimaryAccountInternal().
--      scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingGaiaId,
--                                   account_info.gaia);
--      scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingUsername,
--                                   account_info.email);
-     } else if (ShouldSigninAllowedPrefAffectPrimaryAccount(
-                    pref_consented_to_sync)) {
-       SetPrimaryAccountInternal(CoreAccountInfo(), /*consented_to_sync=*/false,
-@@ -519,10 +393,9 @@ void PrimaryAccountManager::SetSyncPrima
+ const PrimaryAccountManager::PrimaryAccount&
+@@ -514,10 +348,9 @@ void PrimaryAccountManager::SetSyncPrima
  
  #if DCHECK_IS_ON()
    {
@@ -6444,7 +6472,7 @@
  
      DCHECK(pref_account_id.empty() || !consented_to_sync ||
             pref_account_id == account_info.account_id.ToString())
-@@ -537,10 +410,6 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -532,10 +365,6 @@ void PrimaryAccountManager::SetSyncPrima
    // Go ahead and update the last signed in account info here as well. Once a
    // user is signed in the corresponding preferences should match. Doing it here
    // as opposed to on signin allows us to catch the upgrade scenario.
@@ -6455,7 +6483,7 @@
  }
  
  void PrimaryAccountManager::SetPrimaryAccountInternal(
-@@ -552,22 +421,6 @@ void PrimaryAccountManager::SetPrimaryAc
+@@ -547,22 +376,6 @@ void PrimaryAccountManager::SetPrimaryAc
    // 'account_info' might be a reference to the contents of `primary_account_`.
    // Create a PrimaryAccount object before calling emplace to avoid crashes.
    primary_account_.emplace(PrimaryAccount(account_info, consented_to_sync));
@@ -6478,7 +6506,7 @@
  }
  
  void PrimaryAccountManager::RecordHadPreviousSyncAccount() const {
-@@ -577,7 +430,7 @@ void PrimaryAccountManager::RecordHadPre
+@@ -572,7 +385,7 @@ void PrimaryAccountManager::RecordHadPre
    }
  
    const std::string& last_gaia_id_with_sync_enabled =
@@ -6487,7 +6515,7 @@
    const bool existed_primary_account_with_sync =
        !last_gaia_id_with_sync_enabled.empty();
  
-@@ -727,38 +580,6 @@ PrimaryAccountChangeEvent::State Primary
+@@ -722,38 +535,6 @@ PrimaryAccountChangeEvent::State Primary
  void PrimaryAccountManager::ComputeExplicitBrowserSignin(
      const PrimaryAccountChangeEvent& event_details,
      ScopedPrefCommit& scoped_pref_commit) {
@@ -6526,7 +6554,7 @@
  }
  
  void PrimaryAccountManager::FirePrimaryAccountChanged(
-@@ -844,7 +665,6 @@ void PrimaryAccountManager::OnSigninAllo
+@@ -835,7 +616,6 @@ void PrimaryAccountManager::OnSigninAllo
  bool PrimaryAccountManager::ShouldSigninAllowedPrefAffectPrimaryAccount(
      bool is_sync_consent) {
    return switches::IsExplicitBrowserSigninUIOnDesktopEnabled() &&
@@ -6584,9 +6612,9 @@
  ProfileOAuth2TokenServiceDelegate* ProfileOAuth2TokenService::GetDelegate() {
 --- a/components/signin/internal/identity_manager/profile_oauth2_token_service_delegate_chromeos_unittest.cc
 +++ b/components/signin/internal/identity_manager/profile_oauth2_token_service_delegate_chromeos_unittest.cc
-@@ -28,7 +28,6 @@
- #include "components/account_manager_core/mock_account_manager_facade.h"
+@@ -29,7 +29,6 @@
  #include "components/signin/internal/identity_manager/account_tracker_service.h"
+ #include "components/signin/internal/identity_manager/mock_profile_oauth2_token_service_observer.h"
  #include "components/signin/internal/identity_manager/profile_oauth2_token_service_observer.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/test_signin_client.h"
@@ -6715,7 +6743,7 @@
  
  namespace switches {
  
-@@ -56,11 +55,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
+@@ -51,11 +50,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsBoundSessionCredentialsEnabled(const PrefService* profile_prefs) {
@@ -6727,7 +6755,7 @@
    return base::FeatureList::IsEnabled(kEnableBoundSessionCredentials);
  }
  
-@@ -88,13 +82,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
+@@ -83,13 +77,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsChromeRefreshTokenBindingEnabled(const PrefService* profile_prefs) {
@@ -6830,7 +6858,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/features.h"
  #include "components/sync/base/passphrase_enums.h"
-@@ -239,7 +238,7 @@ bool SyncPrefs::IsInitialSyncFeatureSetu
+@@ -240,7 +239,7 @@ bool SyncPrefs::IsInitialSyncFeatureSetu
  }
  
  bool SyncPrefs::IsExplicitBrowserSignin() const {
@@ -6839,7 +6867,7 @@
  }
  
  #if !BUILDFLAG(IS_CHROMEOS_ASH)
-@@ -291,16 +290,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
+@@ -292,16 +291,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
                   type == UserSelectableType::kAutofill) {
  #if BUILDFLAG(IS_ANDROID) || BUILDFLAG(IS_IOS)
          type_enabled = true;
@@ -6856,7 +6884,17 @@
  #endif
        } else if (type == UserSelectableType::kBookmarks ||
                   type == UserSelectableType::kReadingList) {
-@@ -1076,30 +1065,6 @@ void SyncPrefs::MaybeMigrateAutofillToPe
+@@ -315,9 +304,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
+           type_enabled = false;
+         }
+       } else if (type == UserSelectableType::kExtensions) {
+-        // Extensions require an explicit sign in.
+-        type_enabled =
+-            pref_service_->GetBoolean(::prefs::kExplicitBrowserSignin);
+       } else {
+         // All other types are always enabled by default.
+         type_enabled = true;
+@@ -1082,30 +1068,6 @@ void SyncPrefs::MaybeMigrateAutofillToPe
      return;
    }
    pref_service->SetBoolean(kAutofillPerAccountPrefMigrationDone, true);
@@ -6926,7 +6964,7 @@
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_IOS)
 --- a/content/browser/webid/federated_auth_request_impl.cc
 +++ b/content/browser/webid/federated_auth_request_impl.cc
-@@ -585,31 +585,6 @@ FederatedAuthRequestImpl::~FederatedAuth
+@@ -610,31 +610,6 @@ FederatedAuthRequestImpl::~FederatedAuth
  void FederatedAuthRequestImpl::Create(
      RenderFrameHost* host,
      mojo::PendingReceiver<blink::mojom::FederatedAuthRequest> receiver) {
diff --git a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
index 8f0805d61..b43ec00e0 100644
--- a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
+++ b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
@@ -1,6 +1,6 @@
 --- a/components/search_engines/prepopulated_engines.json
 +++ b/components/search_engines/prepopulated_engines.json
-@@ -135,27 +135,11 @@
+@@ -159,27 +159,11 @@
      // TODO(b/343792225): Identify a way to resolve this problem and implement
      // necessary changes.
      "google": {
diff --git a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
index fc75bb539..4152ae0c6 100644
--- a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
+++ b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
@@ -9,7 +9,7 @@
  #include "components/translate/core/browser/translate_download_manager.h"
  #include "components/translate/core/browser/translate_manager.h"
  #include "components/translate/core/browser/translate_prefs.h"
-@@ -2285,6 +2286,7 @@ void RenderViewContextMenu::AppendPageIt
+@@ -2279,6 +2280,7 @@ void RenderViewContextMenu::AppendPageIt
    }
  
    if (CanTranslate(/*menu_logging=*/true)) {
diff --git a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
index 765064499..3dece717b 100644
--- a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
+++ b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
@@ -9,7 +9,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2441,6 +2441,7 @@ static_library("browser") {
+@@ -2451,6 +2451,7 @@ static_library("browser") {
      "//third_party/libyuv",
      "//third_party/metrics_proto",
      "//third_party/re2",
@@ -19,7 +19,7 @@
      "//third_party/widevine/cdm:headers",
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -178,6 +178,7 @@
+@@ -177,6 +177,7 @@
  #include "components/translate/core/common/translate_util.h"
  #include "components/trusted_vault/features.h"
  #include "components/ui_devtools/switches.h"
@@ -45,8 +45,8 @@
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
 @@ -277,6 +277,7 @@ source_set("browser") {
-     "//third_party/libyuv",
      "//third_party/re2",
+     "//third_party/snappy",
      "//third_party/sqlite",
 +    "//components/ungoogled:ungoogled_switches",
      "//third_party/webrtc_overrides:webrtc_component",
@@ -62,7 +62,7 @@
  #include "components/viz/common/switches.h"
  #include "components/viz/host/gpu_client.h"
  #include "content/browser/bad_message.h"
-@@ -3316,6 +3317,8 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3370,6 +3371,8 @@ void RenderProcessHostImpl::PropagateBro
      switches::kEnableWebGLImageChromium,
      switches::kEnableWebGPUDeveloperFeatures,
      switches::kFileUrlPathAlias,
@@ -124,7 +124,7 @@
  #include "base/ranges/algorithm.h"
  #include "base/task/single_thread_task_runner.h"
  #include "base/time/time.h"
-@@ -905,6 +906,11 @@ Document::Document(const DocumentInit& i
+@@ -861,6 +862,11 @@ Document::Document(const DocumentInit& i
    TRACE_EVENT_WITH_FLOW0("blink", "Document::Document", TRACE_ID_LOCAL(this),
                           TRACE_EVENT_FLAG_FLOW_OUT);
    DCHECK(agent_);
@@ -136,7 +136,7 @@
    if (base::FeatureList::IsEnabled(features::kDelayAsyncScriptExecution) &&
        features::kDelayAsyncScriptExecutionDelayByDefaultParam.Get()) {
      script_runner_delayer_->Activate();
-@@ -1020,6 +1026,14 @@ const Position Document::PositionAdjuste
+@@ -978,6 +984,14 @@ const Position Document::PositionAdjuste
    return Position::BeforeNode(*shadow_host);
  }
  
@@ -153,7 +153,7 @@
      selector_query_cache_ = std::make_unique<SelectorQueryCache>();
 --- a/third_party/blink/renderer/core/dom/document.h
 +++ b/third_party/blink/renderer/core/dom/document.h
-@@ -549,6 +549,10 @@ class CORE_EXPORT Document : public Cont
+@@ -548,6 +548,10 @@ class CORE_EXPORT Document : public Cont
      has_xml_declaration_ = has_xml_declaration ? 1 : 0;
    }
  
@@ -164,7 +164,7 @@
    AtomicString visibilityState() const;
    bool IsPageVisible() const;
    bool hidden() const;
-@@ -2567,6 +2571,9 @@ class CORE_EXPORT Document : public Cont
+@@ -2556,6 +2560,9 @@ class CORE_EXPORT Document : public Cont
  
    base::ElapsedTimer start_time_;
  
@@ -176,7 +176,7 @@
  
 --- a/third_party/blink/renderer/core/dom/element.cc
 +++ b/third_party/blink/renderer/core/dom/element.cc
-@@ -2513,6 +2513,11 @@ DOMRectList* Element::getClientRects() {
+@@ -2508,6 +2508,11 @@ DOMRectList* Element::getClientRects() {
    DCHECK(element_layout_object);
    GetDocument().AdjustQuadsForScrollAndAbsoluteZoom(quads,
                                                      *element_layout_object);
@@ -188,7 +188,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -2540,6 +2545,9 @@ gfx::RectF Element::GetBoundingClientRec
+@@ -2535,6 +2540,9 @@ gfx::RectF Element::GetBoundingClientRec
    DCHECK(element_layout_object);
    GetDocument().AdjustRectForScrollAndAbsoluteZoom(result,
                                                     *element_layout_object);
@@ -228,9 +228,9 @@
  // TODO(editing-dev): We should make
 --- a/third_party/blink/renderer/core/html/canvas/text_metrics.cc
 +++ b/third_party/blink/renderer/core/html/canvas/text_metrics.cc
-@@ -79,6 +79,24 @@ TextMetrics::TextMetrics(const Font& fon
-   Update(font, direction, baseline, align, text);
+@@ -93,6 +93,24 @@ const ShapeResult* ShapeWord(const TextR
  }
+ }  // namespace
  
 +void TextMetrics::Shuffle(const double factor) {
 +  // x-direction
@@ -276,7 +276,7 @@
  namespace blink {
  
  class DOMMatrixInit;
-@@ -3538,8 +3541,22 @@ TextMetrics* BaseRenderingContext2D::mea
+@@ -3592,8 +3595,22 @@ TextMetrics* BaseRenderingContext2D::mea
    const CanvasRenderingContext2DState& state = GetState();
    TextDirection direction = ToTextDirection(state.GetDirection(), canvas);
  
@@ -303,7 +303,7 @@
  void BaseRenderingContext2D::SnapshotStateForFilter() {
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1751,6 +1751,7 @@ component("platform") {
+@@ -1758,6 +1758,7 @@ component("platform") {
      "//components/paint_preview/common",
      "//components/search_engines:search_engine_utils",
      "//components/translate/core/language_detection:language_detection",
@@ -338,7 +338,7 @@
  #include "third_party/blink/renderer/platform/wtf/vector.h"
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1947,6 +1947,12 @@
+@@ -1991,6 +1991,12 @@
        status: "experimental",
      },
      {
diff --git a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
index 6ea2f2c5f..69abf4c46 100644
--- a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
+++ b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
@@ -34,7 +34,7 @@ approach to change color components.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -3319,6 +3319,7 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3373,6 +3373,7 @@ void RenderProcessHostImpl::PropagateBro
      switches::kFileUrlPathAlias,
      switches::kFingerprintingClientRectsNoise,
      switches::kFingerprintingCanvasMeasureTextNoise,
@@ -65,7 +65,7 @@ approach to change color components.
  };
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -2861,6 +2861,9 @@ ImageData* BaseRenderingContext2D::getIm
+@@ -2915,6 +2915,9 @@ ImageData* BaseRenderingContext2D::getIm
            snapshot->PaintImageForCurrentFrame().GetSkImageInfo().bounds();
        DCHECK(!bounds.intersect(SkIRect::MakeXYWH(sx, sy, sw, sh)));
      }
@@ -77,7 +77,7 @@ approach to change color components.
    return image_data;
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1701,7 +1701,9 @@ component("platform") {
+@@ -1707,7 +1707,9 @@ component("platform") {
      "//third_party/blink/renderer:non_test_config",
    ]
  
@@ -303,7 +303,7 @@ approach to change color components.
  }  // namespace blink
 --- a/third_party/blink/renderer/platform/graphics/static_bitmap_image.h
 +++ b/third_party/blink/renderer/platform/graphics/static_bitmap_image.h
-@@ -38,6 +38,8 @@ class PLATFORM_EXPORT StaticBitmapImage
+@@ -39,6 +39,8 @@ class PLATFORM_EXPORT StaticBitmapImage
  
    StaticBitmapImage(ImageOrientation orientation) : orientation_(orientation) {}
  
@@ -314,7 +314,7 @@ approach to change color components.
    // Methods overridden by all sub-classes
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1953,6 +1953,9 @@
+@@ -1997,6 +1997,9 @@
        name: "FingerprintingCanvasMeasureTextNoise",
      },
      {
diff --git a/patches/extra/bromite/flag-max-connections-per-host.patch b/patches/extra/bromite/flag-max-connections-per-host.patch
index 67acac17d..cf17847f1 100644
--- a/patches/extra/bromite/flag-max-connections-per-host.patch
+++ b/patches/extra/bromite/flag-max-connections-per-host.patch
@@ -17,14 +17,14 @@ with limited CPU/memory resources and it is disabled by default.
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2132,6 +2132,7 @@ static_library("browser") {
+@@ -2141,6 +2141,7 @@ static_library("browser") {
      "//components/net_log",
      "//components/network_hints/common:mojo_bindings",
      "//components/network_session_configurator/browser",
 +    "//components/network_session_configurator/common",
      "//components/network_time",
+     "//components/network_time/time_tracker",
      "//components/no_state_prefetch/browser",
-     "//components/no_state_prefetch/common",
 --- a/chrome/browser/bromite_flag_choices.h
 +++ b/chrome/browser/bromite_flag_choices.h
 @@ -4,4 +4,8 @@
@@ -80,7 +80,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "ppapi/buildflags/buildflags.h"
  #include "printing/buildflags/buildflags.h"
  #include "services/network/public/cpp/features.h"
-@@ -378,6 +382,18 @@ void BrowserProcessImpl::Init() {
+@@ -404,6 +408,18 @@ void BrowserProcessImpl::Init() {
    pref_change_registrar_.Add(metrics::prefs::kMetricsReportingEnabled,
                               base::BindRepeating(&ApplyMetricsReportingPolicy));
  
@@ -101,7 +101,7 @@ with limited CPU/memory resources and it is disabled by default.
  
 --- a/chrome/browser/flag_descriptions.cc
 +++ b/chrome/browser/flag_descriptions.cc
-@@ -2449,6 +2449,10 @@ const char kLogJsConsoleMessagesDescript
+@@ -2477,6 +2477,10 @@ const char kLogJsConsoleMessagesDescript
      "Enable logging JS console messages in system logs, please note that they "
      "may contain PII.";
  
@@ -114,7 +114,7 @@ with limited CPU/memory resources and it is disabled by default.
  const char kMediaRouterCastAllowAllIPsDescription[] =
 --- a/chrome/browser/flag_descriptions.h
 +++ b/chrome/browser/flag_descriptions.h
-@@ -1397,6 +1397,9 @@ extern const char kLocationBarModelOptim
+@@ -1413,6 +1413,9 @@ extern const char kLocationBarModelOptim
  extern const char kLogJsConsoleMessagesName[];
  extern const char kLogJsConsoleMessagesDescription[];
  
diff --git a/patches/extra/inox-patchset/0006-modify-default-prefs.patch b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
index bcccac1ba..c88ae7598 100644
--- a/patches/extra/inox-patchset/0006-modify-default-prefs.patch
+++ b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
@@ -12,7 +12,7 @@
  void BackgroundModeManager::RegisterProfile(Profile* profile) {
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -1601,7 +1601,7 @@ void ChromeContentBrowserClient::Registe
+@@ -1612,7 +1612,7 @@ void ChromeContentBrowserClient::Registe
  void ChromeContentBrowserClient::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(prefs::kDisable3DAPIs, false);
@@ -23,7 +23,7 @@
    // used for mapping the command-line flags).
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -388,7 +388,7 @@ void ProfileNetworkContextService::Confi
+@@ -399,7 +399,7 @@ void ProfileNetworkContextService::Confi
  void ProfileNetworkContextService::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(embedder_support::kAlternateErrorPagesEnabled,
@@ -120,7 +120,7 @@
  
 --- a/components/password_manager/core/browser/password_manager.cc
 +++ b/components/password_manager/core/browser/password_manager.cc
-@@ -314,14 +314,14 @@ bool HasManuallyFilledFields(const Passw
+@@ -315,14 +315,14 @@ bool HasManuallyFilledFields(const Passw
  void PasswordManager::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -135,8 +135,8 @@
 -      prefs::kCredentialsEnableAutosignin, true,
 +      prefs::kCredentialsEnableAutosignin, false,
        user_prefs::PrefRegistrySyncable::SYNCABLE_PRIORITY_PREF);
-   registry->RegisterStringPref(prefs::kSyncPasswordHash, std::string(),
-                                PrefRegistry::NO_REGISTRATION_FLAGS);
+   registry->RegisterBooleanPref(
+       prefs::kWasAutoSignInFirstRunExperienceShown, false,
 --- a/components/payments/core/payment_prefs.cc
 +++ b/components/payments/core/payment_prefs.cc
 @@ -11,7 +11,7 @@ namespace payments {
diff --git a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
index d683519b6..f4d32a379 100644
--- a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
+++ b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
@@ -5,7 +5,7 @@ Subject: [PATCH 56/66] browser: disable profile auto-import on first run
 
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1665,11 +1665,6 @@ int ChromeBrowserMainParts::PreMainMessa
+@@ -1687,11 +1687,6 @@ int ChromeBrowserMainParts::PreMainMessa
    // and preferences have been registered since some of the import code depends
    // on preferences.
    if (first_run::IsChromeFirstRun()) {
diff --git a/patches/extra/iridium-browser/mime_util-force-text-x-suse-ymp-to-be-downloaded.patch b/patches/extra/iridium-browser/mime_util-force-text-x-suse-ymp-to-be-downloaded.patch
index e66b0d6ce..e8fdce444 100644
--- a/patches/extra/iridium-browser/mime_util-force-text-x-suse-ymp-to-be-downloaded.patch
+++ b/patches/extra/iridium-browser/mime_util-force-text-x-suse-ymp-to-be-downloaded.patch
@@ -11,11 +11,11 @@ very interesting in themselves. Force them to be stored.
 
 --- a/third_party/blink/common/mime_util/mime_util.cc
 +++ b/third_party/blink/common/mime_util/mime_util.cc
-@@ -83,6 +83,7 @@ static const char* const kUnsupportedTex
-     "text/x-csv",
-     "text/x-vcf",
-     "text/rtf",
-+    "text/x-suse-ymp",
-     "text/comma-separated-values",
-     "text/csv",
-     "text/tab-separated-values",
+@@ -86,6 +86,7 @@ constexpr auto kUnsupportedTextTypes =
+         "text/x-csv",
+         "text/x-vcf",
+         "text/rtf",
++        "text/x-suse-ymp",
+         "text/comma-separated-values",
+         "text/csv",
+         "text/tab-separated-values",
diff --git a/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch b/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
index f21311e61..9c3a2aae4 100644
--- a/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
+++ b/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
@@ -29,7 +29,7 @@ TLDR: Do not let files sneak onto the disk too easily.
 
 --- a/chrome/browser/download/download_prefs.cc
 +++ b/chrome/browser/download/download_prefs.cc
-@@ -272,7 +272,7 @@ void DownloadPrefs::RegisterProfilePrefs
+@@ -268,7 +268,7 @@ void DownloadPrefs::RegisterProfilePrefs
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
        prefs::kPromptForDownload,
diff --git a/patches/extra/iridium-browser/updater-disable-auto-update.patch b/patches/extra/iridium-browser/updater-disable-auto-update.patch
index 94b61f0f6..3bc89cbc4 100644
--- a/patches/extra/iridium-browser/updater-disable-auto-update.patch
+++ b/patches/extra/iridium-browser/updater-disable-auto-update.patch
@@ -16,7 +16,7 @@ the case anyway, since we are based off Chromium, not Chrome.
 
 --- a/chrome/browser/app_controller_mac.mm
 +++ b/chrome/browser/app_controller_mac.mm
-@@ -1062,7 +1062,7 @@ class AppControllerNativeThemeObserver :
+@@ -1081,7 +1081,7 @@ class AppControllerNativeThemeObserver :
    CFStringRef checkInterval = CFSTR("checkInterval");
    CFPropertyListRef plist = CFPreferencesCopyAppValue(checkInterval, app);
    if (!plist) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
index ae3f459d6..171e9bd19 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser.cc
 +++ b/chrome/browser/ui/browser.cc
-@@ -146,6 +146,7 @@
+@@ -147,6 +147,7 @@
  #include "chrome/browser/ui/unload_controller.h"
  #include "chrome/browser/ui/views/frame/browser_view.h"
  #include "chrome/browser/ui/views/frame/contents_web_view.h"
@@ -16,7 +16,7 @@
        override_bounds_(params.initial_bounds),
        initial_show_state_(params.initial_show_state),
        initial_workspace_(params.initial_workspace),
-@@ -994,20 +996,22 @@ Browser::WarnBeforeClosingResult Browser
+@@ -986,20 +988,22 @@ Browser::WarnBeforeClosingResult Browser
      return WarnBeforeClosingResult::kOkToClose;
    }
  
@@ -52,7 +52,7 @@
    }
  
    DCHECK(!warn_before_closing_callback_)
-@@ -1045,6 +1049,7 @@ bool Browser::TryToCloseWindow(
+@@ -1037,6 +1041,7 @@ bool Browser::TryToCloseWindow(
  
  void Browser::ResetTryToCloseWindow() {
    cancel_download_confirmation_state_ = NOT_PROMPTED;
@@ -60,7 +60,7 @@
    unload_controller_.ResetTryToCloseWindow();
  }
  
-@@ -3156,6 +3161,58 @@ bool Browser::CanCloseWithInProgressDown
+@@ -3113,6 +3118,58 @@ bool Browser::CanCloseWithInProgressDown
    return false;
  }
  
@@ -119,7 +119,7 @@
  void Browser::InProgressDownloadResponse(bool cancel_downloads) {
    if (cancel_downloads) {
      cancel_download_confirmation_state_ = RESPONSE_RECEIVED;
-@@ -3181,6 +3238,22 @@ void Browser::InProgressDownloadResponse
+@@ -3138,6 +3195,22 @@ void Browser::InProgressDownloadResponse
  
    std::move(warn_before_closing_callback_)
        .Run(WarnBeforeClosingResult::kDoNotClose);
@@ -150,9 +150,9 @@
  #include "chrome/browser/ui/chrome_web_modal_dialog_manager_delegate.h"
 +#include "chrome/browser/ui/simple_message_box.h"
  #include "chrome/browser/ui/signin/signin_view_controller.h"
+ #include "chrome/browser/ui/tabs/tab_strip_model.h"
  #include "chrome/browser/ui/tabs/tab_strip_model_observer.h"
- #include "chrome/browser/ui/unload_controller.h"
-@@ -1160,12 +1161,17 @@ class Browser : public TabStripModelObse
+@@ -1167,12 +1168,17 @@ class Browser : public TabStripModelObse
    // Returns true if the window can close, false otherwise.
    bool CanCloseWithInProgressDownloads();
  
@@ -170,7 +170,7 @@
    // Called when the user has decided whether to proceed or not with the browser
    // closure, in case the cookie migration notice was shown. |proceed_closing|
    // is true if the browser can  be closed.
-@@ -1333,6 +1339,8 @@ class Browser : public TabStripModelObse
+@@ -1338,6 +1344,8 @@ class Browser : public TabStripModelObse
    // when the browser is closed with in-progress downloads.
    CancelDownloadConfirmationState cancel_download_confirmation_state_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
index b065d80fa..e1eb50a44 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -921,10 +921,14 @@ bool HandleNewTabPageLocationOverride(
+@@ -930,10 +930,14 @@ bool HandleNewTabPageLocationOverride(
  
    // Don't change the URL when incognito mode.
    if (profile->IsOffTheRecord())
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
index bb661f895..6ec185b9d 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
@@ -50,7 +50,7 @@
    Node* inner_node = event.InnerNode();
 --- a/third_party/blink/renderer/core/input/mouse_event_manager.cc
 +++ b/third_party/blink/renderer/core/input/mouse_event_manager.cc
-@@ -660,8 +660,14 @@ WebInputEventResult MouseEventManager::H
+@@ -665,8 +665,14 @@ WebInputEventResult MouseEventManager::H
  
    bool single_click = event.Event().click_count <= 1;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
index c40914347..0234fc07e 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
@@ -41,7 +41,7 @@
  #include "base/feature_list.h"
  #include "base/format_macros.h"
  #include "base/functional/bind.h"
-@@ -542,6 +543,15 @@ AutocompleteController::AutocompleteCont
+@@ -536,6 +537,15 @@ AutocompleteController::AutocompleteCont
        steady_state_omnibox_position_(
            metrics::OmniboxEventProto::UNKNOWN_POSITION) {
    provider_types &= ~OmniboxFieldTrial::GetDisabledProviderTypes();
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
index 1c9c498d0..8b93d5401 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
@@ -2,8 +2,8 @@
 
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -507,7 +507,9 @@ void TabHelpers::AttachTabHelpers(WebCon
-   resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
+@@ -514,7 +514,9 @@ void TabHelpers::AttachTabHelpers(WebCon
+   site_protection::SiteProtectionMetricsObserver::CreateForWebContents(
        web_contents);
    SafetyTipWebContentsObserver::CreateForWebContents(web_contents);
 +  if (!base::CommandLine::ForCurrentProcess()->HasSwitch("disable-search-engine-collection")) {
@@ -25,7 +25,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/renderer/chrome_render_frame_observer.cc
 +++ b/chrome/renderer/chrome_render_frame_observer.cc
-@@ -256,14 +256,16 @@ void ChromeRenderFrameObserver::DidFinis
+@@ -255,14 +255,16 @@ void ChromeRenderFrameObserver::DidFinis
    if (frame->Parent() || frame->IsInFencedFrameTree())
      return;
  
@@ -52,7 +52,7 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -20,6 +20,7 @@
+@@ -21,6 +21,7 @@
  #include "base/base64url.h"
  #include "base/check_deref.h"
  #include "base/check_is_test.h"
@@ -60,7 +60,7 @@
  #include "base/containers/contains.h"
  #include "base/containers/flat_map.h"
  #include "base/debug/crash_logging.h"
-@@ -214,6 +215,12 @@ TemplateURL MergeEnterpriseSiteSearchEng
+@@ -215,6 +216,12 @@ TemplateURL MergeEnterpriseSiteSearchEng
    return TemplateURL(merged_data);
  }
  
@@ -73,7 +73,7 @@
  }  // namespace
  
  // TemplateURLService::LessWithPrefix -----------------------------------------
-@@ -396,6 +403,7 @@ TemplateURLService::TemplateURLService(
+@@ -397,6 +404,7 @@ TemplateURLService::TemplateURLService(
  #endif  // BUILDFLAG(IS_CHROMEOS_LACROS)
      )
      : prefs_(prefs),
@@ -81,7 +81,7 @@
        search_engine_choice_service_(search_engine_choice_service),
        search_terms_data_(std::move(search_terms_data)),
        web_data_service_(web_data_service),
-@@ -509,8 +517,8 @@ bool TemplateURLService::CanAddAutogener
+@@ -507,8 +515,8 @@ bool TemplateURLService::CanAddAutogener
    // that may interfere with search queries).  An easy heuristic for this is
    // whether the user has a TemplateURL that has been manually modified (e.g.,
    // renamed) connected to the same host.
@@ -92,7 +92,7 @@
  }
  
  bool TemplateURLService::IsPrepopulatedOrDefaultProviderByPolicy(
-@@ -2046,6 +2054,8 @@ SyncDataMap TemplateURLService::CreateGU
+@@ -2030,6 +2038,8 @@ SyncDataMap TemplateURLService::CreateGU
  }
  
  void TemplateURLService::Init() {
@@ -101,7 +101,7 @@
    if (client_)
      client_->SetOwner(this);
  
-@@ -2226,6 +2236,9 @@ void TemplateURLService::ChangeToLoadedS
+@@ -2210,6 +2220,9 @@ void TemplateURLService::ChangeToLoadedS
  
  bool TemplateURLService::CanAddAutogeneratedKeywordForHost(
      const std::string& host) const {
@@ -113,7 +113,7 @@
      return true;
 --- a/components/search_engines/template_url_service.h
 +++ b/components/search_engines/template_url_service.h
-@@ -891,6 +891,8 @@ class TemplateURLService final : public
+@@ -884,6 +884,8 @@ class TemplateURLService final : public
    raw_ref<search_engines::SearchEngineChoiceService>
        search_engine_choice_service_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
index a03378db2..4c18a1ea3 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
@@ -27,7 +27,7 @@
  #include "base/check.h"
  #include "base/compiler_specific.h"
  #include "base/containers/adapters.h"
-@@ -1827,6 +1828,8 @@ void TabStrip::OnMouseEventInTab(views::
+@@ -1831,6 +1832,8 @@ void TabStrip::OnMouseEventInTab(views::
  }
  
  void TabStrip::UpdateHoverCard(Tab* tab, HoverCardUpdateType update_type) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
index b70f796ef..fc067a176 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -1440,7 +1440,8 @@ void BrowserCommandController::InitComma
+@@ -1422,7 +1422,8 @@ void BrowserCommandController::InitComma
    command_updater_.UpdateCommandEnabled(IDC_WINDOW_CLOSE_OTHER_TABS,
                                          normal_window);
  
@@ -29,7 +29,7 @@
 +      !base::CommandLine::ForCurrentProcess()->HasSwitch("remove-tabsearch-button")) {
      tab_search_container = std::make_unique<TabSearchContainer>(
          tab_strip_->controller(), browser->tab_strip_model(),
-         render_tab_search_before_tab_strip_, this);
+         render_tab_search_before_tab_strip_, this,
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -60,4 +60,8 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
index fca7a78cd..3f568365a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
@@ -1,17 +1,17 @@
 --- a/chrome/browser/browser_features.cc
 +++ b/chrome/browser/browser_features.cc
-@@ -410,4 +410,5 @@ BASE_FEATURE(kReportPakFileIntegrity,
- BASE_FEATURE(kRemovalOfIWAsFromTabCapture,
+@@ -450,4 +450,5 @@ BASE_FEATURE(kRemovalOfIWAsFromTabCaptur
               "RemovalOfIWAsFromTabCapture",
               base::FEATURE_ENABLED_BY_DEFAULT);
+ 
 +BASE_FEATURE(kClearDataOnExit, "ClearDataOnExit", base::FEATURE_DISABLED_BY_DEFAULT);
  }  // namespace features
 --- a/chrome/browser/browser_features.h
 +++ b/chrome/browser/browser_features.h
-@@ -145,6 +145,7 @@ BASE_DECLARE_FEATURE(kBrowserDynamicCode
- BASE_DECLARE_FEATURE(kReportPakFileIntegrity);
+@@ -170,6 +170,7 @@ BASE_DECLARE_FEATURE(kReportPakFileInteg
  
  BASE_DECLARE_FEATURE(kRemovalOfIWAsFromTabCapture);
+ 
 +BASE_DECLARE_FEATURE(kClearDataOnExit);
  }  // namespace features
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
index 4ab9ea9e8..870d644d7 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
@@ -8,17 +8,53 @@
  #include "base/containers/adapters.h"
  #include "base/containers/contains.h"
  #include "base/containers/flat_map.h"
-@@ -2065,6 +2066,10 @@ void TabStripModel::CloseTabs(base::span
-     return;
-   }
+@@ -700,6 +701,10 @@ void TabStripModel::CloseAllTabsInGroup(
  
-+  const std::string flag_value = base::CommandLine::ForCurrentProcess()->GetSwitchValueASCII("close-window-with-last-tab");
-+  if (flag_value == "never" && !closing_all_ && static_cast<int>(filtered_items.size()) == count())
+ void TabStripModel::CloseWebContentsAt(int index, uint32_t close_types) {
+   CHECK(ContainsIndex(index));
++  if (base::CommandLine::ForCurrentProcess()->
++          GetSwitchValueASCII("close-window-with-last-tab") == "never" &&
++          !closing_all_ && count() < 2)
 +    delegate()->AddTabAt(GURL(), -1, true);
-+
-   const bool closing_all = static_cast<int>(filtered_items.size()) == count();
-   base::WeakPtr<TabStripModel> ref = weak_factory_.GetWeakPtr();
-   if (closing_all) {
+   WebContents* contents = GetWebContentsAt(index);
+   CloseTabs(base::span<WebContents* const>(&contents, 1u), close_types);
+ }
+@@ -1051,11 +1056,15 @@ void TabStripModel::AddTab(std::unique_p
+ }
+ 
+ void TabStripModel::CloseSelectedTabs() {
+-  ReentrancyCheck reentrancy_check(&reentrancy_guard_);
+-
+   const ui::ListSelectionModel::SelectedIndices& sel =
+       selection_model_.selected_indices();
+-  CloseTabs(GetWebContentsesByIndices(std::vector<int>(sel.begin(), sel.end())),
++  std::vector<int> sel_vec(sel.begin(), sel.end());
++  if (base::CommandLine::ForCurrentProcess()->
++          GetSwitchValueASCII("close-window-with-last-tab") == "never" &&
++          !closing_all_ && static_cast<int>(sel_vec.size()) == count())
++    delegate()->AddTabAt(GURL(), -1, true);
++  ReentrancyCheck reentrancy_check(&reentrancy_guard_);
++  CloseTabs(GetWebContentsesByIndices(sel_vec),
+             TabCloseTypes::CLOSE_CREATE_HISTORICAL_TAB |
+                 TabCloseTypes::CLOSE_USER_GESTURE);
+ }
+@@ -1437,10 +1446,15 @@ void TabStripModel::ExecuteContextMenuCo
+     }
+ 
+     case CommandCloseTab: {
++      std::vector<int> indices = GetIndicesForCommand(context_index);
++      if (base::CommandLine::ForCurrentProcess()->
++              GetSwitchValueASCII("close-window-with-last-tab") == "never" &&
++              static_cast<int>(indices.size()) == count())
++          delegate()->AddTabAt(GURL(), -1, true);
+       ReentrancyCheck reentrancy_check(&reentrancy_guard_);
+ 
+       base::RecordAction(UserMetricsAction("TabContextMenu_CloseTab"));
+-      ExecuteCloseTabsByIndicesCommand(GetIndicesForCommand(context_index));
++      ExecuteCloseTabsByIndicesCommand(indices);
+       break;
+     }
+ 
 --- a/chrome/browser/ungoogled_flag_choices.h
 +++ b/chrome/browser/ungoogled_flag_choices.h
 @@ -55,4 +55,10 @@ const FeatureEntry::Choice kOmniboxAutoc
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
index ba267c44f..66319f24b 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
@@ -11,7 +11,7 @@
  #include "chrome/browser/extensions/crx_installer.h"
  #include "chrome/browser/extensions/extension_install_prompt.h"
  #include "chrome/browser/extensions/extension_management.h"
-@@ -101,6 +102,14 @@ scoped_refptr<extensions::CrxInstaller>
+@@ -102,6 +103,14 @@ scoped_refptr<extensions::CrxInstaller>
    return installer;
  }
  
@@ -26,7 +26,7 @@
  bool IsExtensionDownload(const DownloadItem& download_item) {
    if (download_item.GetTargetDisposition() ==
        DownloadItem::TARGET_DISPOSITION_PROMPT)
-@@ -109,7 +118,7 @@ bool IsExtensionDownload(const DownloadI
+@@ -110,7 +119,7 @@ bool IsExtensionDownload(const DownloadI
    if (download_item.GetMimeType() == extensions::Extension::kMimeType ||
        extensions::UserScript::IsURLUserScript(download_item.GetURL(),
                                                download_item.GetMimeType())) {
@@ -50,7 +50,7 @@
  bool IsExtensionDownload(const download::DownloadItem& download_item);
 --- a/chrome/browser/download/download_target_determiner.cc
 +++ b/chrome/browser/download/download_target_determiner.cc
-@@ -1265,10 +1265,12 @@ DownloadConfirmationReason DownloadTarge
+@@ -1217,10 +1217,12 @@ DownloadConfirmationReason DownloadTarge
      return DownloadConfirmationReason::SAVE_AS;
  
  #if BUILDFLAG(ENABLE_EXTENSIONS)
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
index 442d97353..b2d6a69ba 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -1276,6 +1276,8 @@ WindowOpenDisposition NavigationPolicyTo
+@@ -1278,6 +1278,8 @@ WindowOpenDisposition NavigationPolicyTo
      case blink::kWebNavigationPolicyNewWindow:
        return WindowOpenDisposition::NEW_WINDOW;
      case blink::kWebNavigationPolicyNewPopup:
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch b/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
index 519332413..c0dc77bea 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
@@ -21,7 +21,7 @@
  #include "base/compiler_specific.h"
  #include "base/containers/flat_set.h"
  #include "base/feature_list.h"
-@@ -1320,7 +1321,8 @@ void HistoryBackend::InitImpl(
+@@ -1328,7 +1329,8 @@ void HistoryBackend::InitImpl(
    db_->GetStartDate(&first_recorded_time_);
  
    // Start expiring old stuff.
@@ -31,7 +31,7 @@
  }
  
  void HistoryBackend::OnMemoryPressure(
-@@ -1548,6 +1550,8 @@ void HistoryBackend::AddPagesWithDetails
+@@ -1555,6 +1557,8 @@ void HistoryBackend::AddPagesWithDetails
  }
  
  bool HistoryBackend::IsExpiredVisitTime(const base::Time& time) const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch b/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
index 994b82b92..793e75c93 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
@@ -11,7 +11,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/net/socket/ssl_client_socket_impl.cc
 +++ b/net/socket/ssl_client_socket_impl.cc
-@@ -210,7 +210,8 @@ class SSLClientSocketImpl::SSLContext {
+@@ -202,7 +202,8 @@ class SSLClientSocketImpl::SSLContext {
      SSL_CTX_sess_set_new_cb(ssl_ctx_.get(), NewSessionCallback);
      SSL_CTX_set_timeout(ssl_ctx_.get(), 1 * 60 * 60 /* one hour */);
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
index 577ed3100..48c433b26 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -2000,6 +2000,10 @@ void BrowserView::ExitFullscreen() {
+@@ -2019,6 +2019,10 @@ void BrowserView::ExitFullscreen() {
  void BrowserView::UpdateExclusiveAccessBubble(
      const ExclusiveAccessBubbleParams& params,
      ExclusiveAccessBubbleHideCallback first_hide_callback) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
index 4f5c4953b..f51e6ac53 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/tabs/tab.cc
 +++ b/chrome/browser/ui/views/tabs/tab.cc
-@@ -1081,7 +1081,11 @@ void Tab::UpdateIconVisibility() {
+@@ -1079,7 +1079,11 @@ void Tab::UpdateIconVisibility() {
      // Close button is shown on active tabs regardless of the size.
      showing_close_button_ = true;
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
@@ -12,7 +12,7 @@
  
      showing_alert_indicator_ =
          has_alert_icon && alert_icon_width <= available_width;
-@@ -1110,6 +1114,8 @@ void Tab::UpdateIconVisibility() {
+@@ -1108,6 +1112,8 @@ void Tab::UpdateIconVisibility() {
          !controller_->IsLockedForOnTask() &&
  #endif
          large_enough_for_close_button;
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
index c670e53b0..8b3021682 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4219,10 +4219,12 @@ const FeatureEntry::FeatureVariation
+@@ -4234,10 +4234,12 @@ const FeatureEntry::FeatureVariation
  #include "chrome/browser/ungoogled_flag_choices.h"
  #include "chrome/browser/bromite_flag_choices.h"
  #include "chrome/browser/ungoogled_platform_flag_choices.h"
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
index 1d3c900af..78a85668b 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
@@ -19,7 +19,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -160,6 +160,8 @@ static_library("common_lib") {
+@@ -159,6 +159,8 @@ static_library("common_lib") {
      "pref_names_util.cc",
      "pref_names_util.h",
      "ref_counted_util.h",
@@ -38,7 +38,7 @@
    if (is_android || enable_library_cdms) {
 --- a/chrome/common/chrome_features.cc
 +++ b/chrome/common/chrome_features.cc
-@@ -966,6 +966,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
+@@ -954,6 +954,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
  // referrers instead of their ordinary behavior.
  BASE_FEATURE(kNoReferrers, "NoReferrers", base::FEATURE_DISABLED_BY_DEFAULT);
  
@@ -55,7 +55,7 @@
  // on-screen until dismissed, they are instead shown for a very long time.
 --- a/chrome/common/chrome_features.h
 +++ b/chrome/common/chrome_features.h
-@@ -577,6 +577,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
+@@ -559,6 +559,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
  
  COMPONENT_EXPORT(CHROME_FEATURES) BASE_DECLARE_FEATURE(kNoReferrers);
  
@@ -164,7 +164,7 @@
      "//components/embedder_support",
 --- a/components/BUILD.gn
 +++ b/components/BUILD.gn
-@@ -70,7 +70,7 @@ if (is_ios) {
+@@ -71,7 +71,7 @@ if (is_ios) {
  
  # Omit Lacros because it allows //components to depend on //chrome, which in
  # turn depends on //extensions.
@@ -173,7 +173,7 @@
    disallowed_extension_deps_ = [
      # Components should largely not depend on //extensions. Since // extensions
      # is not a component target and is linked with //chrome, depending on most
-@@ -868,7 +868,7 @@ test("components_unittests") {
+@@ -877,7 +877,7 @@ test("components_unittests") {
    # On other platforms, no components should depend on Chrome.
    # Since //chrome depends on //extensions, we also only assert_no_deps on
    # extensions targets for non-lacros builds.
@@ -182,7 +182,7 @@
      assert_no_deps = [ "//chrome/*" ]
      assert_no_deps += disallowed_extension_deps_
    }
-@@ -1161,7 +1161,7 @@ if (use_blink) {
+@@ -1170,7 +1170,7 @@ if (use_blink) {
      # dependency. On other platforms, no components should depend on Chrome.
      # Since //chrome depends on //extensions, we also only assert_no_deps on
      # extensions targets for non-lacros builds.
@@ -226,7 +226,7 @@
  #include "content/common/associated_interfaces.mojom.h"
  #include "content/common/content_navigation_policy.h"
  #include "content/common/content_switches_internal.h"
-@@ -4577,10 +4578,13 @@ void RenderFrameImpl::WillSendRequestInt
+@@ -4649,10 +4650,13 @@ void RenderFrameImpl::FinalizeRequestInt
  
    request.SetHasUserGesture(frame_->HasTransientUserActivation());
  
@@ -299,7 +299,7 @@
  #include "third_party/blink/public/platform/url_loader_throttle_provider.h"
  #include "third_party/blink/public/platform/web_url_request_extra_data.h"
  #include "third_party/blink/public/platform/websocket_handshake_throttle_provider.h"
-@@ -159,10 +161,13 @@ void WebServiceWorkerFetchContextImpl::W
+@@ -159,10 +161,13 @@ void WebServiceWorkerFetchContextImpl::F
  
    request.SetURLRequestExtraData(std::move(url_request_extra_data));
  
@@ -335,9 +335,9 @@
  #include "third_party/blink/public/platform/url_loader_throttle_provider.h"
  #include "third_party/blink/public/platform/weak_wrapper_resource_load_info_notifier.h"
  #include "third_party/blink/public/platform/web_security_origin.h"
-@@ -383,10 +385,13 @@ void DedicatedOrSharedWorkerFetchContext
-   if (g_rewrite_url)
-     request.SetUrl(g_rewrite_url(request.Url().GetString().Utf8(), false));
+@@ -388,10 +390,13 @@ void DedicatedOrSharedWorkerFetchContext
+   auto url_request_extra_data = base::MakeRefCounted<WebURLRequestExtraData>();
+   request.SetURLRequestExtraData(std::move(url_request_extra_data));
  
 -  if (!renderer_preferences_.enable_referrers) {
 -    request.SetReferrerString(WebString());
diff --git a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
index 269fe0a83..9544d6398 100644
--- a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
+++ b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
@@ -350,7 +350,7 @@
    dict.Set("urlLocked", ((template_url->prepopulate_id() > 0) ||
                           (template_url->starter_pack_id() > 0)));
    GURL icon_url = template_url->favicon_url();
-@@ -363,12 +366,14 @@ void SearchEnginesHandler::HandleSearchE
+@@ -358,12 +361,14 @@ void SearchEnginesHandler::HandleSearchE
  void SearchEnginesHandler::OnEditedKeyword(TemplateURL* template_url,
                                             const std::u16string& title,
                                             const std::u16string& keyword,
@@ -368,7 +368,7 @@
  
    edit_controller_.reset();
  }
-@@ -396,6 +401,8 @@ bool SearchEnginesHandler::CheckFieldVal
+@@ -391,6 +396,8 @@ bool SearchEnginesHandler::CheckFieldVal
      is_valid = edit_controller_->IsKeywordValid(base::UTF8ToUTF16(field_value));
    else if (field_name.compare(kQueryUrlField) == 0)
      is_valid = edit_controller_->IsURLValid(field_value);
@@ -377,7 +377,7 @@
    else
      NOTREACHED_IN_MIGRATION();
  
-@@ -415,18 +422,21 @@ void SearchEnginesHandler::HandleSearchE
+@@ -410,18 +417,21 @@ void SearchEnginesHandler::HandleSearchE
    if (!edit_controller_.get())
      return;
  
@@ -427,7 +427,7 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -904,7 +904,8 @@ void TemplateURLService::IncrementUsageC
+@@ -902,7 +902,8 @@ void TemplateURLService::IncrementUsageC
  void TemplateURLService::ResetTemplateURL(TemplateURL* url,
                                            const std::u16string& title,
                                            const std::u16string& keyword,
@@ -437,7 +437,7 @@
    DCHECK(!IsCreatedByExtension(url));
    DCHECK(!keyword.empty());
    DCHECK(!search_url.empty());
-@@ -919,6 +920,7 @@ void TemplateURLService::ResetTemplateUR
+@@ -917,6 +918,7 @@ void TemplateURLService::ResetTemplateUR
    data.safe_for_autoreplace = false;
    data.last_modified = clock_->Now();
    data.is_active = TemplateURLData::ActiveStatus::kTrue;
diff --git a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
index 61eae083b..32d3fbe17 100644
--- a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
+++ b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4215,7 +4215,13 @@ const FeatureEntry::FeatureVariation
+@@ -4230,7 +4230,13 @@ const FeatureEntry::FeatureVariation
  // calculate and verify checksum.
  //
  // When adding a new choice, add it to the end of the list.
diff --git a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
index 5037ac147..afb39e173 100644
--- a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
+++ b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/media/webrtc/capture_policy_utils.cc
 +++ b/chrome/browser/media/webrtc/capture_policy_utils.cc
-@@ -63,46 +63,7 @@ void IsMultiCaptureAllowedForAnyOriginOn
+@@ -64,46 +64,7 @@ void IsMultiCaptureAllowedForAnyOriginOn
      base::OnceCallback<void(bool)> callback,
      content::BrowserContext* context,
      bool is_multi_capture_allowed_for_any_origin_on_main_profile) {
@@ -47,7 +47,7 @@
  }
  
  void CheckAllScreensMediaAllowedForIwaResultReceived(
-@@ -290,58 +251,13 @@ void RegisterProfilePrefs(PrefRegistrySi
+@@ -291,58 +252,13 @@ void RegisterProfilePrefs(PrefRegistrySi
  void CheckGetAllScreensMediaAllowedForAnyOrigin(
      content::BrowserContext* context,
      base::OnceCallback<void(bool)> callback) {
diff --git a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
index 6dc2d1f7e..3d7035af5 100644
--- a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
+++ b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
@@ -105,8 +105,8 @@
  }
  
  void BaseFile::AnnotateWithSourceInformation(
-@@ -627,32 +542,8 @@ void BaseFile::AnnotateWithSourceInforma
-     const GURL& referrer_url,
+@@ -628,32 +543,8 @@ void BaseFile::AnnotateWithSourceInforma
+     const std::optional<url::Origin>& request_initiator,
      mojo::PendingRemote<quarantine::mojom::Quarantine> remote_quarantine,
      OnAnnotationDoneCallback on_annotation_done_callback) {
 -  GURL authority_url = GetEffectiveAuthorityURL(source_url, referrer_url);
@@ -131,7 +131,7 @@
 -        authority_url, referrer_url));
 -
 -    quarantine_service_->QuarantineFile(
--        full_path_, authority_url, referrer_url, client_guid,
+-        full_path_, authority_url, referrer_url, request_initiator, client_guid,
 -        base::BindOnce(&BaseFile::OnFileQuarantined,
 -                       weak_factory_.GetWeakPtr()));
 -  }
@@ -191,7 +191,7 @@
      base::File::Error result) {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
  
-@@ -293,37 +278,9 @@ void FileSystemAccessSafeMoveHelper::Did
+@@ -293,40 +278,9 @@ void FileSystemAccessSafeMoveHelper::Did
        referrer_url.is_valid() && referrer_url.SchemeIsHTTPOrHTTPS()
            ? referrer_url
            : GURL();
@@ -200,6 +200,9 @@
 -    quarantine::mojom::Quarantine* raw_quarantine = quarantine_remote.get();
 -    raw_quarantine->QuarantineFile(
 -        target_url.path(), authority_url, referrer_url,
+-        // TODO(crbug.com/351165321): Consider propagating request_initiator
+-        // information here.
+-        /*request_initiator=*/std::nullopt,
 -        GetContentClient()
 -            ->browser()
 -            ->GetApplicationClientGUIDForQuarantineCheck(),
diff --git a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
index 5c1967cd8..a7c9207c7 100644
--- a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
+++ b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
@@ -1,11 +1,11 @@
 --- a/components/safe_browsing/core/common/features.cc
 +++ b/components/safe_browsing/core/common/features.cc
-@@ -199,7 +199,7 @@ constexpr base::FeatureParam<int> kHashP
+@@ -195,7 +195,7 @@ constexpr base::FeatureParam<int> kHashP
  
  BASE_FEATURE(kDownloadsPageReferrerUrl,
               "DownloadsPageReferrerUrl",
 -             base::FEATURE_ENABLED_BY_DEFAULT);
 +             base::FEATURE_DISABLED_BY_DEFAULT);
  
- BASE_FEATURE(kLogAccountEnhancedProtectionStateInProtegoPings,
-              "TailoredSecurityLogAccountEnhancedProtectionStateInProtegoPings",
+ BASE_FEATURE(kHashDatabaseOffsetMap,
+              "SafeBrowsingHashDatabaseOffsetMap",
diff --git a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
index d58c400fe..7148b4cba 100644
--- a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
+++ b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
@@ -2,7 +2,7 @@
 
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -1835,7 +1835,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
+@@ -1858,7 +1858,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
  // crbug.com/988956.
  BASE_FEATURE(kPrefetchPrivacyChanges,
               "PrefetchPrivacyChanges",
diff --git a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
index ccb0b567c..038d21f49 100644
--- a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
+++ b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/browser_commands.cc
 +++ b/chrome/browser/ui/browser_commands.cc
-@@ -559,11 +559,6 @@ int GetContentRestrictions(const Browser
+@@ -566,11 +566,6 @@ int GetContentRestrictions(const Browser
      CoreTabHelper* core_tab_helper =
          CoreTabHelper::FromWebContents(current_tab);
      content_restrictions = core_tab_helper->content_restrictions();
@@ -14,7 +14,7 @@
    }
    return content_restrictions;
  }
-@@ -1735,8 +1730,7 @@ bool CanSavePage(const Browser* browser)
+@@ -1759,8 +1754,7 @@ bool CanSavePage(const Browser* browser)
        DownloadPrefs::DownloadRestriction::ALL_FILES) {
      return false;
    }
diff --git a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
index 6709e6e1d..ebda2e803 100644
--- a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -204,12 +204,10 @@ TabStripRegionView::TabStripRegionView(s
+@@ -205,12 +205,10 @@ TabStripRegionView::TabStripRegionView(s
  
      // TODO(crbug.com/40118868): Revisit the macro expression once build flag
      // switch of lacros-chrome is complete.
@@ -15,7 +15,7 @@
    reserved_grab_handle_space_ =
 --- a/chrome/browser/ui/views/tabs/tab_strip.cc
 +++ b/chrome/browser/ui/views/tabs/tab_strip.cc
-@@ -2069,8 +2069,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2073,8 +2073,6 @@ void TabStrip::NewTabButtonPressed(const
  
      const ui::MouseEvent& mouse = static_cast<const ui::MouseEvent&>(event);
      if (mouse.IsOnlyMiddleMouseButton()) {
@@ -24,7 +24,7 @@
          ui::Clipboard* clipboard = ui::Clipboard::GetForCurrentThread();
          CHECK(clipboard)
              << "Clipboard instance is not available, cannot proceed with "
-@@ -2081,7 +2079,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2085,7 +2083,6 @@ void TabStrip::NewTabButtonPressed(const
          if (!clipboard_text.empty()) {
            controller_->CreateNewTabWithLocation(clipboard_text);
          }
diff --git a/patches/extra/ungoogled-chromium/first-run-page.patch b/patches/extra/ungoogled-chromium/first-run-page.patch
index e777b0f72..9d64cad04 100644
--- a/patches/extra/ungoogled-chromium/first-run-page.patch
+++ b/patches/extra/ungoogled-chromium/first-run-page.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1102,6 +1102,7 @@ int ChromeBrowserMainParts::PreCreateThr
+@@ -1115,6 +1115,7 @@ int ChromeBrowserMainParts::PreCreateThr
    if (first_run::IsChromeFirstRun()) {
      if (!base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kApp) &&
          !base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kAppId)) {
@@ -10,15 +10,15 @@
  
 --- a/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
-@@ -58,6 +58,7 @@
+@@ -49,6 +49,7 @@
+ #include "chrome/browser/ui/webui/policy/policy_ui.h"
+ #include "chrome/browser/ui/webui/privacy_sandbox/privacy_sandbox_internals_ui.h"
  #include "chrome/browser/ui/webui/suggest_internals/suggest_internals_ui.h"
- #include "chrome/browser/ui/webui/sync_internals/sync_internals_ui.h"
- #include "chrome/browser/ui/webui/translate_internals/translate_internals_ui.h"
 +#include "chrome/browser/ui/webui/ungoogled_first_run.h"
- #include "chrome/browser/ui/webui/usb_internals/usb_internals_ui.h"
- #include "chrome/browser/ui/webui/user_actions/user_actions_ui.h"
- #include "chrome/browser/ui/webui/version/version_ui.h"
-@@ -745,6 +746,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+ #include "chrome/browser/ui/webui/webui_util.h"
+ #include "chrome/common/buildflags.h"
+ #include "chrome/common/chrome_features.h"
+@@ -692,6 +693,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
      return &NewWebUI<privacy_sandbox_internals::PrivacySandboxInternalsUI>;
    }
  
diff --git a/patches/extra/ungoogled-chromium/fix-building-without-mdns-and-service-discovery.patch b/patches/extra/ungoogled-chromium/fix-building-without-mdns-and-service-discovery.patch
index d2fcad411..45334bffa 100644
--- a/patches/extra/ungoogled-chromium/fix-building-without-mdns-and-service-discovery.patch
+++ b/patches/extra/ungoogled-chromium/fix-building-without-mdns-and-service-discovery.patch
@@ -1,5 +1,15 @@
 # Fix building with enable_service_discovery=false and enable_mds=false
 
+--- a/chrome/browser/extensions/api/BUILD.gn
++++ b/chrome/browser/extensions/api/BUILD.gn
+@@ -34,7 +34,6 @@ group("api_implementations") {
+     "//chrome/browser/extensions/api/downloads_internal",
+     "//chrome/browser/extensions/api/experimental_ai_data",
+     "//chrome/browser/extensions/api/font_settings",
+-    "//chrome/browser/extensions/api/mdns",
+     "//chrome/browser/extensions/api/module",
+     "//chrome/browser/extensions/api/networking_private",
+     "//chrome/browser/extensions/api/omnibox",
 --- a/chrome/browser/media/router/discovery/mdns/dns_sd_device_lister.cc
 +++ b/chrome/browser/media/router/discovery/mdns/dns_sd_device_lister.cc
 @@ -40,37 +40,22 @@ DnsSdDeviceLister::DnsSdDeviceLister(
diff --git a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
index 9e600ab78..58ff8143b 100644
--- a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
+++ b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
@@ -3,7 +3,7 @@
 #
 --- a/components/omnibox/common/omnibox_features.cc
 +++ b/components/omnibox/common/omnibox_features.cc
-@@ -522,7 +522,7 @@ BASE_FEATURE(kSiteSearchSettingsPolicy,
+@@ -511,7 +511,7 @@ BASE_FEATURE(kSiteSearchSettingsPolicy,
  // Enables additional site search providers for the Site search Starter Pack.
  BASE_FEATURE(kStarterPackExpansion,
               "StarterPackExpansion",
diff --git a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
index cc4b3d48d..462eb60c0 100644
--- a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
+++ b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
@@ -29,7 +29,6 @@
 # the feedback entry in the third party cookie popup
 # unneeded elements from the profile menu
 # the 'Learn more' link on crashed tabs
-# the new profile menu bubble
 # the Third-party sign-in site settings (FedCM)
 # disable LiveCaption flag by default, this also removes non-functional Live Caption checkbox from media controls
 # the new feature badges
@@ -58,8 +57,8 @@
  </cr-menu-selector>
 -<div class="separator"></div>
 -<div class="cr-nav-menu-item" id="moreExtensions">
--  <iron-icon id="web-store-icon" icon="extensions-icons:web_store">
--  </iron-icon>
+-  <cr-icon id="web-store-icon" icon="extensions-icons:web_store">
+-  </cr-icon>
 -  <span id="discover-more-text" class="cr-secondary-text"
 -      on-click="onMoreExtensionsClick_"
 -      inner-h-t-m-l="[[discoverMoreText_]]"></span>
@@ -174,18 +173,16 @@
            <div id="updateStatusMessage" hidden="[[!showUpdateStatus_]]">
              <div role="alert" aria-live="polite"
                  inner-h-t-m-l="[[getUpdateStatusMessage_(
-@@ -120,11 +120,6 @@
+@@ -120,9 +120,6 @@
          </div>
        </template>
  </if>
--      <template is="dom-if" if="[[!showGetTheMostOutOfChromeSection_]]">
--        <cr-link-row class="hr" id="help" on-click="onHelpClick_"
--            label="$i18n{aboutGetHelpUsingChrome}"
--            external></cr-link-row>
--      </template>
+-      <cr-link-row class="hr" id="help" on-click="onHelpClick_"
+-          label="$i18n{aboutGetHelpUsingChrome}"
+-          external></cr-link-row>
  <if expr="_google_chrome">
-       <template is="dom-if" if="[[!showGetTheMostOutOfChromeSection_]]">
-         <cr-link-row class="hr" id="reportIssue" on-click="onReportIssueClick_"
+       <cr-link-row class="hr" id="reportIssue" on-click="onReportIssueClick_"
+           hidden="[[!prefs.feedback_allowed.value]]"
 --- a/chrome/browser/resources/settings/appearance_page/appearance_page.html
 +++ b/chrome/browser/resources/settings/appearance_page/appearance_page.html
 @@ -41,12 +41,11 @@
@@ -240,7 +237,7 @@
    <template is="dom-if"
 --- a/chrome/browser/resources/settings/basic_page/basic_page.html
 +++ b/chrome/browser/resources/settings/basic_page/basic_page.html
-@@ -47,7 +47,7 @@
+@@ -63,7 +63,7 @@
          </settings-section>
          <!-- TODO(crbug.com/40277421): Remove after SafetyHub launched. -->
          <template is="dom-if"
@@ -249,7 +246,7 @@
            <settings-section page-title="$i18n{safetyCheckSectionTitle}"
                section="safetyCheck" nest-under-section="privacy"
                id="safetyCheckSettingsSection">
-@@ -59,7 +59,7 @@
+@@ -75,7 +75,7 @@
          to check that settings-safety-hub-entry-point is not visible
          in the guest mode. -->
          <template is="dom-if"
@@ -364,7 +361,7 @@
                start-icon="settings:visibility-off"
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -243,9 +243,3 @@
+@@ -235,9 +235,3 @@
        </cr-link-row>
  </if>
  
@@ -376,18 +373,18 @@
 -    </cr-link-row>
 --- a/chrome/browser/resources/settings/search_page/search_page.html
 +++ b/chrome/browser/resources/settings/search_page/search_page.html
-@@ -44,11 +44,6 @@
-           $i18n{searchPageTitle}
-           <div class="secondary">
-             $i18n{searchEngineChoiceEntryPointSubtitle}
--            <a href="$i18n{searchExplanationLearnMoreURL}"
--                aria-label="$i18n{searchExplanationLearnMoreA11yLabel}"
--                target="_blank">
--              $i18n{learnMore}
--            </a>
-           </div>
-           <template is="dom-if" if="[[isDefaultSearchControlledByPolicy_(
-               prefs.default_search_provider_data.template_url_data)]]">
+@@ -43,11 +43,6 @@
+         $i18n{searchPageTitle}
+         <div class="secondary">
+           $i18n{searchEngineChoiceEntryPointSubtitle}
+-          <a href="$i18n{searchExplanationLearnMoreURL}"
+-              aria-label="$i18n{searchExplanationLearnMoreA11yLabel}"
+-              target="_blank">
+-            $i18n{learnMore}
+-          </a>
+         </div>
+         <template is="dom-if" if="[[isDefaultSearchControlledByPolicy_(
+             prefs.default_search_provider_data.template_url_data)]]">
 --- a/chrome/browser/resources/settings/settings_page/settings_subpage.html
 +++ b/chrome/browser/resources/settings/settings_page/settings_subpage.html
 @@ -91,7 +91,7 @@
@@ -411,7 +408,7 @@
  void RecentTabsSubMenuModel::BuildLocalEntries() {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -918,16 +918,6 @@ void ExtensionsMenuModel::Build(Browser*
+@@ -924,16 +924,6 @@ void ExtensionsMenuModel::Build(Browser*
    SetElementIdentifierAt(
        GetIndexOfCommandId(IDC_EXTENSIONS_SUBMENU_MANAGE_EXTENSIONS).value(),
        kManageExtensionsMenuItem);
@@ -430,7 +427,7 @@
  ////////////////////////////////////////////////////////////////////////////////
 --- a/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
 +++ b/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
-@@ -642,13 +642,6 @@ void BookmarkMenuDelegate::BuildMenu(con
+@@ -643,13 +643,6 @@ void BookmarkMenuDelegate::BuildMenu(con
      ui::ImageModel bookmarks_side_panel_icon = ui::ImageModel::FromVectorIcon(
          kBookmarksSidePanelIcon, ui::kColorMenuIcon,
          ui::SimpleMenuModel::kDefaultIconSize);
@@ -471,7 +468,7 @@
    Profile* profile = browser()->profile();
    if (profile->IsOffTheRecord() || profile->IsGuestSession())
      return gfx::ImageSkia();
-@@ -565,12 +566,6 @@ void ProfileMenuView::BuildIdentity() {
+@@ -565,16 +566,8 @@ void ProfileMenuView::BuildIdentity() {
          badge_image_model, menu_title_, menu_subtitle_, management_label);
    } else {
      std::string profile_user_display_name, profile_user_email;
@@ -482,8 +479,13 @@
 -        enterprise_signin::prefs::kProfileUserEmail);
 -#endif
      menu_title_ =
-         profile_user_display_name.empty()
-             ? l10n_util::GetStringUTF16(IDS_PROFILES_LOCAL_PROFILE_STATE)
+-        profile_user_display_name.empty()
+-            ? l10n_util::GetStringUTF16(IDS_PROFILES_LOCAL_PROFILE_STATE)
+-            : base::UTF8ToUTF16(profile_user_display_name);
++        base::UTF8ToUTF16(profile_user_display_name);
+     // The email may be empty.
+     menu_subtitle_ = base::UTF8ToUTF16(
+         profile_user_email.empty() ? account_info.email : profile_user_email);
 --- a/chrome/browser/ui/views/sad_tab_view.cc
 +++ b/chrome/browser/ui/views/sad_tab_view.cc
 @@ -559,9 +559,6 @@ SadTabView::SadTabView(content::WebConte
@@ -519,29 +521,9 @@
  
  void SadTabView::OnBoundsChanged(const gfx::Rect& previous_bounds) {
    // Specify the maximum message and title width explicitly.
---- a/chrome/browser/ui/views/user_education/browser_user_education_service.cc
-+++ b/chrome/browser/ui/views/user_education/browser_user_education_service.cc
-@@ -651,17 +651,6 @@ void MaybeRegisterChromeFeaturePromos(
-                        "Triggered to encourage users to try out the reading "
-                        "mode feature.")));
- 
--  // kIPHSidePanelGenericMenuFeature:
--  registry.RegisterFeature(std::move(
--      FeaturePromoSpecification::CreateForToastPromo(
--          feature_engagement::kIPHSidePanelGenericMenuFeature,
--          kToolbarAppMenuButtonElementId, IDS_SIDE_PANEL_GENERIC_MENU_IPH,
--          IDS_SIDE_PANEL_GENERIC_MENU_IPH_SCREENREADER,
--          FeaturePromoSpecification::AcceleratorInfo())
--          .SetBubbleArrow(HelpBubbleArrow::kTopRight)
--          .SetMetadata(121, "corising@chromium.org",
--                       "Triggered on startup for discovery of "
--                       "side panel entry points in app menu.")));
- 
-   // kIPHSidePanelGenericPinnableFeature:
-   registry.RegisterFeature(std::move(
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -3397,7 +3397,7 @@ void AddSiteSettingsStrings(content::Web
+@@ -3347,7 +3347,7 @@ void AddSiteSettingsStrings(content::Web
        base::FeatureList::IsEnabled(blink::features::kWebPrinting));
  
    html_source->AddBoolean("enableFederatedIdentityApiContentSetting",
@@ -552,7 +534,7 @@
    html_source->AddBoolean(
 --- a/media/base/media_switches.cc
 +++ b/media/base/media_switches.cc
-@@ -922,7 +922,7 @@ BASE_FEATURE(kLacrosUseAshWidevine,
+@@ -932,7 +932,7 @@ BASE_FEATURE(kLacrosUseAshWidevine,
  #endif
  
  // Enables the Live Caption feature on supported devices.
@@ -563,7 +545,7 @@
  // getDisplayMedia captures. Note: This flag does not control if the "Share this
 --- a/ui/views/controls/menu/menu_item_view.cc
 +++ b/ui/views/controls/menu/menu_item_view.cc
-@@ -845,7 +845,7 @@ void MenuItemView::SetAlerted() {
+@@ -832,7 +832,7 @@ void MenuItemView::SetAlerted() {
  }
  
  bool MenuItemView::ShouldShowNewBadge() const {
diff --git a/patches/series b/patches/series
index a62f9b4a1..7c02f069d 100644
--- a/patches/series
+++ b/patches/series
@@ -1,3 +1,4 @@
+upstream-fixes/hardware_destructive_interference_size.patch
 upstream-fixes/missing-dependencies.patch
 
 core/inox-patchset/0001-fix-building-without-safebrowsing.patch
diff --git a/patches/upstream-fixes/hardware_destructive_interference_size.patch b/patches/upstream-fixes/hardware_destructive_interference_size.patch
new file mode 100644
index 000000000..4746a44f5
--- /dev/null
+++ b/patches/upstream-fixes/hardware_destructive_interference_size.patch
@@ -0,0 +1,25 @@
+# hardware_destructive_interference_size was added in:
+# https://chromium-review.googlesource.com/c/chromium/src/+/5767325
+# then partially reverted in:
+# https://chromium-review.googlesource.com/c/chromium/src/+/5841144
+# This reverts the remaining change
+--- a/components/media_router/common/providers/cast/channel/enum_table.h
++++ b/components/media_router/common/providers/cast/channel/enum_table.h
+@@ -12,7 +12,6 @@
+ 
+ #include <cstdint>
+ #include <cstring>
+-#include <new>
+ #include <optional>
+ #include <ostream>
+ #include <string_view>
+@@ -368,7 +367,8 @@ class EnumTable {
+ 
+  private:
+ #ifdef ARCH_CPU_64_BITS
+-  alignas(std::hardware_destructive_interference_size)
++  // Align the data on a cache line boundary.
++  alignas(64)
+ #endif
+       std::initializer_list<Entry> data_;
+   bool is_sorted_;
diff --git a/patches/upstream-fixes/missing-dependencies.patch b/patches/upstream-fixes/missing-dependencies.patch
index aa7410863..f7c1903d9 100644
--- a/patches/upstream-fixes/missing-dependencies.patch
+++ b/patches/upstream-fixes/missing-dependencies.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -933,6 +933,7 @@ source_set("extensions") {
+@@ -897,6 +897,7 @@ source_set("extensions") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser/web_ui:web_ui",
@@ -20,7 +20,7 @@
  #include <vector>
 --- a/chrome/browser/ui/lens/lens_overlay_controller.cc
 +++ b/chrome/browser/ui/lens/lens_overlay_controller.cc
-@@ -11,6 +11,7 @@
+@@ -12,6 +12,7 @@
  #include "base/system/sys_info.h"
  #include "base/task/bind_post_task.h"
  #include "base/task/sequenced_task_runner.h"
@@ -28,9 +28,19 @@
  #include "chrome/browser/feedback/show_feedback_page.h"
  #include "chrome/browser/lens/core/mojom/geometry.mojom.h"
  #include "chrome/browser/lens/core/mojom/overlay_object.mojom.h"
+--- a/chrome/browser/ui/webui/searchbox/searchbox_handler.cc
++++ b/chrome/browser/ui/webui/searchbox/searchbox_handler.cc
+@@ -6,6 +6,7 @@
+ 
+ #include "base/base64.h"
+ #include "base/base64url.h"
++#include "base/containers/contains.h"
+ #include "build/branding_buildflags.h"
+ #include "chrome/browser/bookmarks/bookmark_model_factory.h"
+ #include "chrome/browser/browser_process.h"
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -556,6 +556,7 @@ static_library("url_constants") {
+@@ -554,6 +554,7 @@ static_library("url_constants") {
      "//components/optimization_guide/optimization_guide_internals/webui:url_constants",
      "//components/password_manager/content/common",
      "//components/safe_browsing/core/common",
@@ -50,7 +60,7 @@
    # Disallow depending on content.
 --- a/components/plus_addresses/BUILD.gn
 +++ b/components/plus_addresses/BUILD.gn
-@@ -95,6 +95,7 @@ source_set("plus_addresses") {
+@@ -101,6 +101,7 @@ source_set("plus_addresses") {
      "//net",
      "//services/data_decoder/public/cpp",
      "//services/network/public/cpp",
@@ -60,7 +70,7 @@
    public_deps = [
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -91,6 +91,7 @@ source_set("browser") {
+@@ -92,6 +92,7 @@ source_set("browser") {
      "//cc/animation",
      "//cc/mojo_embedder",
      "//cc/paint",
@@ -68,7 +78,7 @@
      "//components/attribution_reporting:data_host_mojom",
      "//components/attribution_reporting:mojom",
      "//components/back_forward_cache:enum",
-@@ -103,6 +104,7 @@ source_set("browser") {
+@@ -104,6 +105,7 @@ source_set("browser") {
      "//components/file_access",
      "//components/filename_generation",
      "//components/input",
diff --git a/pruning.list b/pruning.list
index e85c862a9..3a3b811d1 100644
--- a/pruning.list
+++ b/pruning.list
@@ -105,11 +105,13 @@ chrome/installer/test/data/SETUP.EX_
 chrome/services/cups_proxy/test/data/basic_handshake.bin
 chrome/test/enterprise/e2e/connector/common/demo_agent/agent.zip
 chrome/test/media_router/resources/bigbuck.webm
+chrome/updater/enterprise/win/google/GoogleCloudManagement.adm
 chrome/updater/test/data/ChromiumMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.1.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/ChromiumMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.2.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/GoogleMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.1.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/GoogleMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.2.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/ProcmonConfiguration.pmc
+chrome/updater/test/data/enterprise/win/google/test_gold.adm
 chrome/updater/test/data/enterprise/win/google/test_gold.adml
 chrome/updater/test/data/enterprise/win/google/test_gold.admx
 chrome/updater/test/data/selfupdate_test_key.der
@@ -233,6 +235,7 @@ components/test/data/feed/response.binarypb
 components/test/data/history/HistoryNoDuration
 components/test/data/history/HistoryNoSource
 components/test/data/history/History_with_starred
+components/test/data/history_embeddings/fake_search_strings_file
 components/test/data/media_router/common/providers/cast/certificate/testsuite/testsuite1.pb
 components/test/data/omnibox/adder.tflite
 components/test/data/omnibox/on_device_head_test_deep_model.bin
@@ -60555,6 +60558,9 @@ third_party/crashpad/crashpad/snapshot/ios/testdata/crash-6605504629637120
 third_party/crashpad/crashpad/snapshot/ios/testdata/crash-c44acfcbccd8c7a8
 third_party/crashpad/crashpad/util/net/testdata/binary_http_body.dat
 third_party/dawn/test/tint/bug/oss-fuzz/57795.spv
+third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_0000017E9E2D81A0.vs.spv
+third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_000002778DE78280.cs.spv
+third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_000002778F740030.fs.spv
 third_party/dawn/third_party/dxc/projects/dxilconv/test/dxbc2dxil-asm/call2.dxbc
 third_party/dawn/third_party/dxc/projects/dxilconv/test/dxbc2dxil-asm/cs3.dxbc
 third_party/dawn/third_party/dxc/projects/dxilconv/test/dxbc2dxil-asm/cyclecounter.dxbc
@@ -61206,6 +61212,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-images.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/lcp-web-font.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/load-simple.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/loading-dt1.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/mainWasm_profile.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/many-requests.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/missing-process-data.json.gz
@@ -61239,6 +61246,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/rend
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/selector-stats.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/server-timings.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/set-timeout-long-task.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/shift-attribution.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/simple-js-program.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/slow-interaction-button-click.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/slow-interaction-keydown.json.gz
@@ -67450,10 +67458,10 @@ third_party/quic_trace/src/examples/example.json.gz
 third_party/quic_trace/src/examples/example.qtr
 third_party/r8/custom_d8.jar
 third_party/r8/custom_r8.jar
-third_party/rust/chromium_crates_io/vendor/flate2-1.0.31/examples/hello_world.txt.gz
-third_party/rust/chromium_crates_io/vendor/flate2-1.0.31/tests/corrupt-gz-file.bin
-third_party/rust/chromium_crates_io/vendor/flate2-1.0.31/tests/good-file.gz
-third_party/rust/chromium_crates_io/vendor/flate2-1.0.31/tests/multi.gz
+third_party/rust/chromium_crates_io/vendor/flate2-1.0.33/examples/hello_world.txt.gz
+third_party/rust/chromium_crates_io/vendor/flate2-1.0.33/tests/corrupt-gz-file.bin
+third_party/rust/chromium_crates_io/vendor/flate2-1.0.33/tests/good-file.gz
+third_party/rust/chromium_crates_io/vendor/flate2-1.0.33/tests/multi.gz
 third_party/rust/chromium_crates_io/vendor/regex-1.10.6/testdata/fowler/dat/basic.dat
 third_party/rust/chromium_crates_io/vendor/regex-1.10.6/tests/fuzz/testdata/crash-7eb3351f0965e5d6c1cb98aa8585949ef96531ff
 third_party/rust/chromium_crates_io/vendor/regex-1.10.6/tests/fuzz/testdata/crash-8760b19b25d74e3603d4c643e9c7404fdd3631f9
@@ -68108,6 +68116,9 @@ third_party/tflite/src/tensorflow/core/util/tensor_bundle/testdata/old_string_te
 third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two/00000123/saved_model.pb
 third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two/00000123/variables/variables.data-00000-of-00001
 third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two/00000123/variables/variables.index
+third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two_empty_tags/00000123/saved_model.pb
+third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two_empty_tags/00000123/variables/variables.data-00000-of-00001
+third_party/tflite/src/tensorflow/go/testdata/saved_model/half_plus_two_empty_tags/00000123/variables/variables.index
 third_party/tflite/src/tensorflow/lite/delegates/xnnpack/odml_sdpa_composite_gqa.tflite.bin
 third_party/tflite/src/tensorflow/lite/delegates/xnnpack/odml_sdpa_composite_mha.tflite.bin
 third_party/tflite/src/tensorflow/lite/delegates/xnnpack/odml_sdpa_composite_mqa.tflite.bin
@@ -68176,6 +68187,7 @@ third_party/tflite/src/tensorflow/lite/testdata/multi_add_flex.bin
 third_party/tflite/src/tensorflow/lite/testdata/multi_signatures.bin
 third_party/tflite/src/tensorflow/lite/testdata/multi_subgraphs_while.bin
 third_party/tflite/src/tensorflow/lite/testdata/nested_while.bin
+third_party/tflite/src/tensorflow/lite/testdata/no_signatures.bin
 third_party/tflite/src/tensorflow/lite/testdata/no_subgraphs.bin
 third_party/tflite/src/tensorflow/lite/testdata/segment_sum_invalid_buffer.bin
 third_party/tflite/src/tensorflow/lite/testdata/softplus_flex.bin
@@ -68815,7 +68827,6 @@ third_party/win_build_output/mc/base/trace_event/etw_manifest/MSG00001.bin
 third_party/win_build_output/mc/base/trace_event/etw_manifest/chrome_events_winTEMP.BIN
 third_party/win_build_output/mc/chrome/common/win/MSG00409.bin
 third_party/win_build_output/mc/chrome/credential_provider/eventlog/MSG00409.bin
-third_party/win_build_output/mc/remoting/host/win/MSG0000d.bin
 third_party/win_build_output/mc/remoting/host/win/MSG00401.bin
 third_party/win_build_output/mc/remoting/host/win/MSG00402.bin
 third_party/win_build_output/mc/remoting/host/win/MSG00403.bin
