From 168c744dcff0f4cf2ca4622eea92a53413f6a176 Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Wed, 8 May 2024 19:52:04 -0500
Subject: [PATCH] Update to Chromium 125.0.6422.60

---
 chromium_version.txt                          |   2 +-
 domain_substitution.list                      | 502 +++++++------
 .../disable-fetching-field-trials.patch       |   8 +-
 ...01-fix-building-without-safebrowsing.patch | 106 ++-
 .../0009-disable-google-ipv6-probes.patch     |   4 +-
 .../core/inox-patchset/0021-disable-rlz.patch |   2 +-
 ...refixes-to-possibly-evil-connections.patch |  12 +-
 ..._browsing-disable-incident-reporting.patch |   2 +-
 ...sable-reporting-of-safebrowsing-over.patch |   4 +-
 .../ungoogled-chromium/block-requests.patch   |  12 +-
 .../block-trk-and-subdomains.patch            |  19 +-
 .../disable-crash-reporter.patch              |  10 +-
 .../disable-google-host-detection.patch       |   5 +-
 .../disable-mei-preload.patch                 |   4 +-
 .../disable-privacy-sandbox.patch             |   6 +-
 .../disable-webrtc-log-uploader.patch         |   8 +-
 .../disable-webstore-urls.patch               |   2 +-
 .../core/ungoogled-chromium/doh-changes.patch |   4 +-
 .../fix-building-with-prunned-binaries.patch  |  34 +-
 .../fix-building-without-safebrowsing.patch   | 341 +++++----
 .../remove-unused-preferences-fields.patch    | 666 +++++++++++-------
 ...e-google-search-engine-with-nosearch.patch |   2 +-
 .../toggle-translation-via-switch.patch       |  10 +-
 ...g-flags-client-rects-and-measuretext.patch |  36 +-
 ...ngerprinting-canvas-image-data-noise.patch |  18 +-
 .../flag-max-connections-per-host.patch       |  23 +-
 .../0006-modify-default-prefs.patch           |  12 +-
 .../0008-restore-classic-ntp.patch            |   2 +-
 ...ble-profile-auto-import-on-first-run.patch |   2 +-
 ...e-default-key-length-for-newly-gener.patch |   2 +-
 .../updater-disable-auto-update.patch         |   2 +-
 .../add-flag-for-close-confirmation.patch     |  12 +-
 .../add-flag-for-custom-ntp.patch             |   2 +-
 .../add-flag-for-disabling-link-drag.patch    |   4 +-
 ...g-for-omnibox-autocomplete-filtering.patch |   4 +-
 .../add-flag-for-qr-generator.patch           |  12 -
 ...dd-flag-for-search-engine-collection.patch |  20 +-
 .../add-flag-for-tabsearch-button.patch       |   4 +-
 .../add-flag-to-clear-data-on-exit.patch      |  59 +-
 ...d-flag-to-close-window-with-last-tab.patch |   2 +-
 .../add-flag-to-convert-popups-to-tabs.patch  |   2 +-
 .../add-flag-to-hide-extensions-menu.patch    |   4 +-
 .../add-flag-to-hide-fullscreen-exit-ui.patch |   2 +-
 .../add-flag-to-hide-tab-close-buttons.patch  |   4 +-
 .../add-flags-for-existing-switches.patch     |   2 +-
 ...add-flags-for-referrer-customization.patch |  26 +-
 .../add-ipv6-probing-option.patch             |   6 +-
 .../add-suggestions-url-field.patch           |   4 +-
 .../add-ungoogled-flag-headers.patch          |   2 +-
 .../default-webrtc-ip-handling-policy.patch   |   2 +-
 .../disable-capture-all-screens.patch         |  58 +-
 .../disable-download-quarantine.patch         |   2 +-
 .../disable-remote-optimization-guide.patch   |   2 +-
 .../disable-webgl-renderer-info.patch         |   4 +-
 ...ble-default-prefetch-privacy-changes.patch |   2 +-
 .../enable-page-saving-on-more-pages.patch    |   4 +-
 .../ungoogled-chromium/first-run-page.patch   |   6 +-
 ...e-disable-setuid-sandbox-as-bad-flag.patch |   2 +-
 .../remove-uneeded-ui.patch                   |  81 +--
 pruning.list                                  |  30 +-
 60 files changed, 1200 insertions(+), 1026 deletions(-)

diff --git a/chromium_version.txt b/chromium_version.txt
index 92e795cb88..98c8015972 100644
--- a/chromium_version.txt
+++ b/chromium_version.txt
@@ -1 +1 @@
-124.0.6367.207
+125.0.6422.60
diff --git a/domain_substitution.list b/domain_substitution.list
index deb34a7f18..17824f747a 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -70,10 +70,12 @@ ash/fast_ink/laser/laser_pointer_view.cc
 ash/game_dashboard/game_dashboard_main_menu_view.cc
 ash/glanceables/classroom/fake_glanceables_classroom_client.cc
 ash/glanceables/classroom/glanceables_classroom_item_view_unittest.cc
+ash/glanceables/classroom/glanceables_classroom_student_view.cc
+ash/glanceables/classroom/glanceables_classroom_student_view_unittest.cc
 ash/glanceables/classroom/glanceables_classroom_types.h
 ash/glanceables/glanceables_pixeltest.cc
+ash/glanceables/glanceables_unittest.cc
 ash/glanceables/tasks/glanceables_task_view.cc
-ash/glanceables/tasks/glanceables_task_view_v2.cc
 ash/glanceables/tasks/glanceables_tasks_view.cc
 ash/glanceables/tasks/glanceables_tasks_view_unittest.cc
 ash/glanceables/tasks/test/glanceables_tasks_test_util.cc
@@ -81,8 +83,8 @@ ash/login/ui/auth_icon_view.cc
 ash/login/ui/login_remove_account_dialog_unittest.cc
 ash/metrics/login_unlock_throughput_recorder.h
 ash/picker/picker_asset_fetcher_impl.cc
-ash/picker/picker_controller.cc
 ash/picker/search/picker_search_controller_unittest.cc
+ash/picker/search/picker_search_request_unittest.cc
 ash/projector/projector_metadata_model.cc
 ash/public/cpp/android_intent_helper_unittest.cc
 ash/public/cpp/system_notification_builder_unittest.cc
@@ -119,6 +121,7 @@ ash/system/eche/eche_tray.cc
 ash/system/eche/eche_tray_unittest.cc
 ash/system/federated/federated_client_manager_unittest.cc
 ash/system/federated/federated_service_controller_impl_unittest.cc
+ash/system/focus_mode/sounds/focus_mode_sounds_controller.cc
 ash/system/human_presence/snooping_protection_controller_unittest.cc
 ash/system/input_device_settings/input_device_settings_metrics_manager_unittest.cc
 ash/system/input_device_settings/input_device_settings_notification_controller.cc
@@ -134,19 +137,16 @@ ash/system/phonehub/phone_hub_ui_controller_unittest.cc
 ash/system/power/power_event_observer_unittest.cc
 ash/system/privacy_hub/privacy_hub_notification_controller.cc
 ash/system/status_area_widget_unittest.cc
+ash/system/time/calendar_event_fetch_unittest.cc
 ash/system/time/calendar_event_list_item_view_unittest.cc
+ash/system/time/calendar_list_model_unittest.cc
 ash/system/time/calendar_up_next_pixeltest.cc
 ash/system/time/calendar_up_next_view_unittest.cc
-ash/system/unified/classroom_bubble_base_view.cc
-ash/system/unified/classroom_bubble_student_view.cc
-ash/system/unified/classroom_bubble_view_unittest.cc
 ash/system/unified/date_tray_unittest.cc
 ash/system/unified/notification_icons_controller_unittest.cc
 ash/system/unified/power_button_unittest.cc
 ash/system/unified/quick_settings_footer_pixeltest.cc
 ash/system/unified/quick_settings_header_unittest.cc
-ash/system/unified/tasks_bubble_view.cc
-ash/system/unified/tasks_bubble_view_unittest.cc
 ash/system/unified/user_chooser_detailed_view_controller_unittest.cc
 ash/system/usb_peripheral/usb_peripheral_notification_controller.cc
 ash/system/video_conference/bubble/bubble_view_pixeltest.cc
@@ -173,6 +173,7 @@ ash/webui/common/resources/cr_picture/png.js
 ash/webui/common/resources/keyboard_layouts.js
 ash/webui/common/resources/quick_unlock/pin_keyboard_icons.html
 ash/webui/common/resources/sea_pen/constants_generated.ts
+ash/webui/common/resources/sea_pen/surface_effects/sparkle.ts
 ash/webui/diagnostics_ui/backend/input/input_data_provider_keyboard_unittest.cc
 ash/webui/diagnostics_ui/diagnostics_ui.cc
 ash/webui/diagnostics_ui/resources/PRESUBMIT.py
@@ -222,6 +223,7 @@ ash/wm/window_restore/pine_controller.cc
 base/BUILD.gn
 base/PRESUBMIT.py
 base/allocator/partition_alloc_support.cc
+base/allocator/partition_allocator/PRESUBMIT.py
 base/allocator/partition_allocator/src/partition_alloc/address_space_randomization.h
 base/allocator/partition_allocator/src/partition_alloc/in_slot_metadata.h
 base/allocator/partition_allocator/src/partition_alloc/oom.cc
@@ -240,8 +242,8 @@ base/allocator/partition_allocator/src/partition_alloc/partition_alloc_unittest.
 base/allocator/partition_allocator/src/partition_alloc/partition_tls.h
 base/allocator/partition_allocator/src/partition_alloc/pointers/raw_ptr.h
 base/allocator/partition_allocator/src/partition_alloc/shim/allocator_shim_default_dispatch_to_partition_alloc.cc
-base/allocator/partition_allocator/src/partition_alloc/starscan/stack/asm/x64/push_registers_asm.cc
-base/allocator/partition_allocator/src/partition_alloc/starscan/stack/stack.cc
+base/allocator/partition_allocator/src/partition_alloc/stack/asm/x64/push_registers_asm.cc
+base/allocator/partition_allocator/src/partition_alloc/stack/stack.cc
 base/allocator/partition_allocator/src/partition_alloc/tagging.h
 base/android/jni_android.cc
 base/android/jni_string.cc
@@ -295,6 +297,7 @@ base/metrics/histogram_macros.h
 base/metrics/statistics_recorder.cc
 base/metrics/user_metrics.h
 base/power_monitor/battery_level_provider_win.cc
+base/power_monitor/cpu_frequency_utils.cc
 base/power_monitor/power_monitor_device_source_android.cc
 base/power_monitor/speed_limit_observer_win.cc
 base/process/launch.h
@@ -317,6 +320,7 @@ base/task/sequenced_task_runner.h
 base/task/single_thread_task_executor_unittest.cc
 base/task/single_thread_task_runner.h
 base/task/task_traits.h
+base/test/file_path_reparse_point_win.cc
 base/test/gtest_links_unittest.cc
 base/test/gtest_xml_unittest_result_printer_unittest.cc
 base/test/launcher/test_launcher.cc
@@ -491,7 +495,6 @@ chrome/android/webapk/shell_apk/res/values/dimens.xml
 chrome/app/PRESUBMIT.py
 chrome/app/app_management_strings.grdp
 chrome/app/chrome_command_ids.h
-chrome/app/chrome_main_delegate.cc
 chrome/app/chromeos_strings.grdp
 chrome/app/chromium_strings.grd
 chrome/app/delay_load_failure_hook_win.cc
@@ -504,6 +507,8 @@ chrome/app/os_settings_strings.grdp
 chrome/app/password_manager_ui_strings.grdp
 chrome/app/profiles_strings.grdp
 chrome/app/resources/locale_settings.grd
+chrome/app/settings_chromium_strings.grdp
+chrome/app/settings_google_chrome_strings.grdp
 chrome/app/settings_strings.grdp
 chrome/app/shared_settings_strings.grdp
 chrome/app/theme/PRESUBMIT.py
@@ -543,6 +548,8 @@ chrome/browser/apps/app_preload_service/preload_app_definition_unittest.cc
 chrome/browser/apps/app_service/app_icon/app_icon_loader.cc
 chrome/browser/apps/app_service/app_install/app_install_almanac_connector.cc
 chrome/browser/apps/app_service/app_install/app_install_almanac_connector_unittest.cc
+chrome/browser/apps/app_service/app_install/app_install_service_ash.cc
+chrome/browser/apps/app_service/app_install/app_install_service_ash_browsertest.cc
 chrome/browser/apps/app_service/app_install/web_app_installer.cc
 chrome/browser/apps/app_service/app_install/web_app_installer_browsertest.cc
 chrome/browser/apps/app_service/app_service_proxy_lacros_unittest.cc
@@ -591,6 +598,7 @@ chrome/browser/ash/app_list/search/manatee/manatee_cache.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_lacros_provider_unittest.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_provider_unittest.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_util.cc
+chrome/browser/ash/app_mode/auto_sleep/device_weekly_scheduled_suspend_controller.cc
 chrome/browser/ash/app_mode/fake_cws.cc
 chrome/browser/ash/app_mode/kiosk_troubleshooting_tools_browsertest.cc
 chrome/browser/ash/app_restore/arc_app_single_restore_handler_unittest.cc
@@ -645,6 +653,8 @@ chrome/browser/ash/crosapi/browser_util_unittest.cc
 chrome/browser/ash/crosapi/local_printer_ash_unittest.cc
 chrome/browser/ash/crosapi/network_settings_translation_unittest.cc
 chrome/browser/ash/crosapi/one_drive_integration_service_ash_unittest.cc
+chrome/browser/ash/crosapi/search_controller_ash_unittest.cc
+chrome/browser/ash/crosapi/search_controller_factory_ash_unittest.cc
 chrome/browser/ash/crostini/crostini_installer.h
 chrome/browser/ash/crostini/crostini_simple_types.h
 chrome/browser/ash/crostini/crostini_util.h
@@ -686,8 +696,6 @@ chrome/browser/ash/input_method/assistive_suggester_client_filter.cc
 chrome/browser/ash/input_method/assistive_suggester_client_filter_unittest.cc
 chrome/browser/ash/input_method/editor_feedback_unittest.cc
 chrome/browser/ash/input_method/editor_switch_unittest.cc
-chrome/browser/ash/input_method/input_method_settings.cc
-chrome/browser/ash/input_method/input_method_settings_unittest.cc
 chrome/browser/ash/input_method/ui/candidate_window_view.cc
 chrome/browser/ash/kerberos/kerberos_credentials_manager_unittest.cc
 chrome/browser/ash/login/app_mode/kiosk_launch_controller_unittest.cc
@@ -766,6 +774,7 @@ chrome/browser/ash/policy/dlp/dlp_files_controller_ash_unittest.cc
 chrome/browser/ash/policy/enrollment/account_status_check_fetcher_unittest.cc
 chrome/browser/ash/policy/enrollment/auto_enrollment_type_checker.cc
 chrome/browser/ash/policy/enrollment/auto_enrollment_type_checker_unittest.cc
+chrome/browser/ash/policy/handlers/multi_screen_capture_policy_handler_unittest.cc
 chrome/browser/ash/policy/login/login_policy_test_base.cc
 chrome/browser/ash/policy/networking/network_policy_application_browsertest.cc
 chrome/browser/ash/policy/remote_commands/crd/crd_oauth_token_fetcher.cc
@@ -802,6 +811,7 @@ chrome/browser/ash/tpm_firmware_update.h
 chrome/browser/ash/trusted_vault/trusted_vault_backend_service_ash_unittest.cc
 chrome/browser/ash/u2f_notification.cc
 chrome/browser/ash/url_handler_browsertest.cc
+chrome/browser/ash/wallpaper_handlers/sea_pen_fetcher.cc
 chrome/browser/ash/wallpaper_handlers/wallpaper_handlers.cc
 chrome/browser/ash/wallpaper_handlers/wallpaper_handlers_unittest.cc
 chrome/browser/autocomplete/autocomplete_browsertest.cc
@@ -836,8 +846,6 @@ chrome/browser/browser_switcher/ieem_sitelist_parser_unittest.cc
 chrome/browser/browsing_data/browsing_data_remover_browsertest.cc
 chrome/browser/browsing_data/chrome_browsing_data_model_delegate_unittest.cc
 chrome/browser/browsing_data/chrome_browsing_data_remover_delegate_unittest.cc
-chrome/browser/browsing_data/cookies_tree_model.cc
-chrome/browser/browsing_data/cookies_tree_model_unittest.cc
 chrome/browser/browsing_data/counters/bookmark_counter_unittest.cc
 chrome/browser/browsing_data/counters/history_counter_browsertest.cc
 chrome/browser/browsing_data/counters/passwords_counter_browsertest.cc
@@ -943,9 +951,9 @@ chrome/browser/enterprise/connectors/device_trust/test/test_constants.cc
 chrome/browser/enterprise/connectors/reporting/reporting_service_settings_unittest.cc
 chrome/browser/enterprise/connectors/service_provider_config.cc
 chrome/browser/enterprise/connectors/service_provider_config_unittest.cc
-chrome/browser/enterprise/data_controls/chrome_dlp_rules_manager_unittest.cc
 chrome/browser/enterprise/data_controls/rules_service_unittest.cc
 chrome/browser/enterprise/data_protection/data_protection_clipboard_utils_browsertests.cc
+chrome/browser/enterprise/data_protection/data_protection_navigation_observer_unittest.cc
 chrome/browser/enterprise/data_protection/print_utils_unittest.cc
 chrome/browser/enterprise/platform_auth/cloud_ap_provider_win.cc
 chrome/browser/enterprise/profile_management/profile_management_navigation_throttle.cc
@@ -961,8 +969,6 @@ chrome/browser/enterprise/util/managed_browser_utils.cc
 chrome/browser/enterprise/util/managed_browser_utils.h
 chrome/browser/error_reporting/chrome_js_error_report_processor_nonchromeos.cc
 chrome/browser/error_reporting/chrome_js_error_report_processor_unittest.cc
-chrome/browser/extensions/active_tab_apitest.cc
-chrome/browser/extensions/active_tab_unittest.cc
 chrome/browser/extensions/activity_log/activity_log_policy_unittest.cc
 chrome/browser/extensions/activity_log/activity_log_unittest.cc
 chrome/browser/extensions/activity_log/counting_policy_unittest.cc
@@ -1066,13 +1072,15 @@ chrome/browser/extensions/navigation_extension_enabler.cc
 chrome/browser/extensions/navigation_extension_enabler_browsertest.cc
 chrome/browser/extensions/orb_and_cors_extension_browsertest.cc
 chrome/browser/extensions/permission_message_combinations_unittest.cc
-chrome/browser/extensions/permissions_updater.cc
-chrome/browser/extensions/permissions_updater_unittest.cc
+chrome/browser/extensions/permissions/active_tab_apitest.cc
+chrome/browser/extensions/permissions/active_tab_unittest.cc
+chrome/browser/extensions/permissions/permissions_updater.cc
+chrome/browser/extensions/permissions/permissions_updater_unittest.cc
+chrome/browser/extensions/permissions/scripting_permissions_modifier.h
+chrome/browser/extensions/permissions/scripting_permissions_modifier_unittest.cc
 chrome/browser/extensions/policy_handlers_unittest.cc
 chrome/browser/extensions/process_management_browsertest.cc
 chrome/browser/extensions/script_injection_tracker_browsertest.cc
-chrome/browser/extensions/scripting_permissions_modifier.h
-chrome/browser/extensions/scripting_permissions_modifier_unittest.cc
 chrome/browser/extensions/updater/chrome_extension_downloader_factory.cc
 chrome/browser/extensions/updater/chrome_update_client_config.cc
 chrome/browser/extensions/updater/extension_updater_unittest.cc
@@ -1087,6 +1095,7 @@ chrome/browser/feed/android/feed_reliability_logging_bridge.cc
 chrome/browser/feedback/android/family_info_feedback_source_unittest.cc
 chrome/browser/feedback/show_feedback_page.cc
 chrome/browser/feedback/system_logs/log_sources/crash_ids_source.cc
+chrome/browser/feedback/system_logs/log_sources/family_info_log_source_unittest.cc
 chrome/browser/file_system_access/cloud_identifier/cloud_identifier_util_ash.cc
 chrome/browser/file_system_access/cloud_identifier/cloud_identifier_util_ash_browsertest.cc
 chrome/browser/first_run/first_run_unittest.cc
@@ -1109,7 +1118,6 @@ chrome/browser/importer/firefox_profile_lock_posix.cc
 chrome/browser/importer/firefox_profile_lock_win.cc
 chrome/browser/importer/ie_importer_browsertest_win.cc
 chrome/browser/importer/profile_writer_unittest.cc
-chrome/browser/installable/installable_manager_browsertest.cc
 chrome/browser/ip_protection/ip_protection_config_http.cc
 chrome/browser/k_anonymity_service/k_anonymity_service_client_browsertest.cc
 chrome/browser/k_anonymity_service/k_anonymity_service_client_unittest.cc
@@ -1121,11 +1129,14 @@ chrome/browser/lacros/app_mode/kiosk_session_service_browsertest.cc
 chrome/browser/lacros/browser_service_lacros.cc
 chrome/browser/lacros/browser_service_lacros_browsertest.cc
 chrome/browser/lacros/desk_template_client_lacros_browsertest.cc
+chrome/browser/lacros/full_restore_client_lacros_browsertest.cc
 chrome/browser/lacros/fullscreen_controller_client_lacros_unittest.cc
 chrome/browser/lacros/lacros_url_handling_unittest.cc
 chrome/browser/lacros/net/network_settings_observer_browsertest.cc
 chrome/browser/lacros/net/network_settings_translation_unittest.cc
 chrome/browser/lacros/sync/crosapi_session_sync_favicon_delegate_unittest.cc
+chrome/browser/lens/lens_overlay/lens_overlay_query_controller.cc
+chrome/browser/lens/lens_overlay/lens_overlay_url_builder_unittest.cc
 chrome/browser/lifetime/switch_utils_unittest.cc
 chrome/browser/loader/keep_alive_url_browsertest.cc
 chrome/browser/local_discovery/service_discovery_client_mac.mm
@@ -1204,8 +1215,8 @@ chrome/browser/net/sandboxed_network_change_notifier_win_browsertest.cc
 chrome/browser/net/service_providers_win.cc
 chrome/browser/net/stub_resolver_config_reader_browsertest.cc
 chrome/browser/net/system_network_context_manager_browsertest.cc
-chrome/browser/new_tab_page/modules/drive/drive_service.cc
-chrome/browser/new_tab_page/modules/drive/drive_service_unittest.cc
+chrome/browser/new_tab_page/modules/file_suggestion/drive_service.cc
+chrome/browser/new_tab_page/modules/file_suggestion/drive_service_unittest.cc
 chrome/browser/new_tab_page/modules/history_clusters/cart/cart_processor.cc
 chrome/browser/new_tab_page/modules/history_clusters/cart/cart_processor_unittest.cc
 chrome/browser/new_tab_page/modules/history_clusters/history_clusters_module_util.cc
@@ -1218,6 +1229,8 @@ chrome/browser/new_tab_page/modules/new_tab_page_modules_unittest.cc
 chrome/browser/new_tab_page/modules/photos/photos_service.cc
 chrome/browser/new_tab_page/modules/photos/photos_service_unittest.cc
 chrome/browser/new_tab_page/modules/recipes/recipes_service_unittest.cc
+chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.cc
+chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler_unittest.cc
 chrome/browser/new_tab_page/modules/v2/tab_resumption/tab_resumption_util.h
 chrome/browser/new_tab_page/one_google_bar/one_google_bar_loader_impl.cc
 chrome/browser/new_tab_page/promos/promo_service_unittest.cc
@@ -1261,6 +1274,7 @@ chrome/browser/page_load_metrics/observers/security_state_page_load_metrics_obse
 chrome/browser/page_load_metrics/observers/service_worker_page_load_metrics_observer.cc
 chrome/browser/page_load_metrics/observers/service_worker_page_load_metrics_observer_unittest.cc
 chrome/browser/password_check/android/password_check_manager_unittest.cc
+chrome/browser/password_manager/android/android_backend_with_double_deletion_unittest.cc
 chrome/browser/password_manager/android/built_in_backend_to_android_backend_migrator_unittest.cc
 chrome/browser/password_manager/android/chromesync_status_code.h
 chrome/browser/password_manager/android/credential_leak_controller_android_unittest.cc
@@ -1284,7 +1298,6 @@ chrome/browser/payments/manifest_verifier_browsertest.cc
 chrome/browser/payments/payment_handler_just_in_time_installation_browsertest.cc
 chrome/browser/payments/payment_request_app_store_billing_browsertest.cc
 chrome/browser/payments/service_worker_payment_app_finder_browsertest.cc
-chrome/browser/pdf/pdf_extension_test.cc
 chrome/browser/performance_manager/policies/page_discarding_helper_unittest.cc
 chrome/browser/performance_manager/policies/report_page_processes_policy.cc
 chrome/browser/permissions/chrome_permission_manager_unittest.cc
@@ -1315,6 +1328,7 @@ chrome/browser/policy/webusb_allow_devices_for_urls_policy_handler_unittest.cc
 chrome/browser/predictors/autocomplete_action_predictor_table_unittest.cc
 chrome/browser/predictors/lcp_critical_path_predictor/lcp_critical_path_predictor_util.cc
 chrome/browser/predictors/lcp_critical_path_predictor/lcp_critical_path_predictor_util.h
+chrome/browser/predictors/lcp_critical_path_predictor/lcp_critical_path_predictor_util_unittest.cc
 chrome/browser/predictors/lcp_critical_path_predictor/prewarm_http_disk_cache_manager.cc
 chrome/browser/predictors/loading_data_collector_unittest.cc
 chrome/browser/predictors/loading_predictor_browsertest.cc
@@ -1372,10 +1386,10 @@ chrome/browser/renderer_context_menu/render_view_context_menu_unittest.cc
 chrome/browser/renderer_host/chrome_navigation_ui_data.h
 chrome/browser/resource_coordinator/tab_load_tracker_unittest.cc
 chrome/browser/resources/PRESUBMIT.py
-chrome/browser/resources/about_sys/shared/key_value_pair_entry.ts
 chrome/browser/resources/accessibility/chromevox_helper_manifest.json.jinja2
 chrome/browser/resources/accessibility/embedded_a11y_helper/service_worker.ts
 chrome/browser/resources/accessibility/embedded_a11y_helper_manifest.json.jinja2
+chrome/browser/resources/accessibility/reading_mode_gdocs_helper_manifest.json.jinja2
 chrome/browser/resources/app_home/app_home_empty_page.html
 chrome/browser/resources/app_settings/icons.html
 chrome/browser/resources/ash/settings/app_management_icons.html
@@ -1471,6 +1485,7 @@ chrome/browser/resources/hats/hats.ts
 chrome/browser/resources/inspect/inspect.html
 chrome/browser/resources/internals/query_tiles/query_tiles_internals.html
 chrome/browser/resources/internals/query_tiles/query_tiles_internals.ts
+chrome/browser/resources/key_value_pair_viewer_shared/key_value_pair_entry.ts
 chrome/browser/resources/media/mei_preload/manifest.json
 chrome/browser/resources/media/webrtc_logs.ts
 chrome/browser/resources/media_router/cast_feedback/cast_feedback_ui.ts
@@ -1487,7 +1502,7 @@ chrome/browser/resources/new_tab_page/lens_form.ts
 chrome/browser/resources/new_tab_page/modules/drive/module.ts
 chrome/browser/resources/new_tab_page/modules/history_clusters/suggest_tile.ts
 chrome/browser/resources/new_tab_page/modules/photos/module.html
-chrome/browser/resources/new_tab_page/modules/v2/drive/module.ts
+chrome/browser/resources/new_tab_page/modules/v2/file_suggestion/module.ts
 chrome/browser/resources/new_tab_page/modules/v2/history_clusters/suggest_tile.ts
 chrome/browser/resources/new_tab_page/transparency.ts
 chrome/browser/resources/new_tab_page/voice_search_overlay.ts
@@ -1509,7 +1524,7 @@ chrome/browser/resources/settings/icons.html
 chrome/browser/resources/settings/incompatible_applications_page/incompatible_application_item.ts
 chrome/browser/resources/settings/languages_page/edit_dictionary_page.ts
 chrome/browser/resources/settings/settings_shared.css
-chrome/browser/resources/side_panel/read_anything/read_anything.html
+chrome/browser/resources/side_panel/read_anything/read_anything_toolbar.ts
 chrome/browser/resources/usb_internals/descriptor_panel.ts
 chrome/browser/resources/webstore_app/manifest.json
 chrome/browser/resources/webui_gallery/demos/card/card_demo.ts
@@ -1566,6 +1581,7 @@ chrome/browser/sessions/session_restore_observer_unittest.cc
 chrome/browser/sessions/session_service.h
 chrome/browser/sessions/session_service_base.cc
 chrome/browser/sessions/session_service_unittest.cc
+chrome/browser/sessions/tab_restore_browsertest.cc
 chrome/browser/sessions/tab_restore_service_unittest.cc
 chrome/browser/share/default_ranking_android.cc
 chrome/browser/sharing/click_to_call/click_to_call_utils_unittest.cc
@@ -1679,6 +1695,7 @@ chrome/browser/ui/android/strings/android_chrome_strings.grd
 chrome/browser/ui/ash/ambient/ambient_client_impl.cc
 chrome/browser/ui/ash/ambient/ambient_client_impl_unittest.cc
 chrome/browser/ui/ash/api/tasks/chrome_tasks_delegate.cc
+chrome/browser/ui/ash/api/tasks/tasks_client_impl.cc
 chrome/browser/ui/ash/api/tasks/tasks_client_impl_unittest.cc
 chrome/browser/ui/ash/app_list/app_list_interactive_uitest.cc
 chrome/browser/ui/ash/arc_open_url_delegate_impl_browsertest.cc
@@ -1689,9 +1706,12 @@ chrome/browser/ui/ash/birch/birch_calendar_fetcher.cc
 chrome/browser/ui/ash/birch/birch_calendar_fetcher_unittest.cc
 chrome/browser/ui/ash/birch/birch_keyed_service_unittest.cc
 chrome/browser/ui/ash/birch/refresh_token_waiter_unittest.cc
+chrome/browser/ui/ash/calendar/calendar_client_impl.cc
+chrome/browser/ui/ash/calendar/calendar_client_impl_unittest.cc
 chrome/browser/ui/ash/calendar/calendar_keyed_service.cc
 chrome/browser/ui/ash/calendar/calendar_keyed_service_unittest.cc
 chrome/browser/ui/ash/chrome_shell_delegate.cc
+chrome/browser/ui/ash/container_app/container_app_interactive_uitest.cc
 chrome/browser/ui/ash/desks/desks_client_browsertest.cc
 chrome/browser/ui/ash/glanceables/glanceables_browsertest.cc
 chrome/browser/ui/ash/glanceables/glanceables_classroom_client_impl.cc
@@ -1715,6 +1735,7 @@ chrome/browser/ui/ash/shelf/chrome_shelf_controller_unittest.cc
 chrome/browser/ui/ash/system_tray_client_impl.cc
 chrome/browser/ui/ash/system_tray_client_impl_browsertest.cc
 chrome/browser/ui/autofill/address_editor_controller_unittest.cc
+chrome/browser/ui/autofill/autofill_signin_promo_tab_helper_browsertest.cc
 chrome/browser/ui/autofill/delete_address_profile_dialog_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/offer_notification_bubble_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/offer_notification_controller_android_browsertest.cc
@@ -1768,6 +1789,7 @@ chrome/browser/ui/passwords/account_storage_auth_helper_unittest.cc
 chrome/browser/ui/passwords/bubble_controllers/manage_passwords_bubble_controller_unittest.cc
 chrome/browser/ui/passwords/bubble_controllers/move_to_account_store_bubble_controller_unittest.cc
 chrome/browser/ui/passwords/manage_passwords_ui_controller_unittest.cc
+chrome/browser/ui/passwords/password_cross_domain_confirmation_popup_controller_impl_unittest.cc
 chrome/browser/ui/passwords/password_manager_navigation_throttle_unittest.cc
 chrome/browser/ui/passwords/well_known_change_password_navigation_throttle.cc
 chrome/browser/ui/passwords/well_known_change_password_navigation_throttle_browsertest.cc
@@ -1784,6 +1806,7 @@ chrome/browser/ui/search/third_party_ntp_browsertest.cc
 chrome/browser/ui/side_panel/companion/exps_registration_success_observer_unittest.cc
 chrome/browser/ui/signin/signin_reauth_view_controller_browsertest.cc
 chrome/browser/ui/signin/signin_view_controller.cc
+chrome/browser/ui/signin/signin_view_controller_browsertest.cc
 chrome/browser/ui/signin/signin_view_controller_interactive_uitest.cc
 chrome/browser/ui/singleton_tabs_unittest.cc
 chrome/browser/ui/startup/chrome_for_testing_infobar_delegate.cc
@@ -1793,6 +1816,7 @@ chrome/browser/ui/startup/launch_mode_recorder_unittest.cc
 chrome/browser/ui/startup/startup_browser_creator_browsertest.cc
 chrome/browser/ui/startup/startup_tab_provider_unittest.cc
 chrome/browser/ui/tab_helpers.h
+chrome/browser/ui/tab_sharing/tab_sharing_infobar_delegate_unittest.cc
 chrome/browser/ui/tabs/pinned_tab_codec_unittest.cc
 chrome/browser/ui/tabs/pinned_tab_service_browsertest.cc
 chrome/browser/ui/tabs/pinned_tab_service_unittest.cc
@@ -1811,6 +1835,7 @@ chrome/browser/ui/views/autofill/payments/offer_notification_bubble_views_test_b
 chrome/browser/ui/views/autofill/payments/save_card_bubble_views_browsertest.cc
 chrome/browser/ui/views/autofill/payments/virtual_card_manual_fallback_bubble_views_interactive_uitest.cc
 chrome/browser/ui/views/autofill/popup/popup_separator_view.h
+chrome/browser/ui/views/autofill/popup/popup_view_views_browsertest.cc
 chrome/browser/ui/views/autofill/popup/popup_view_views_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bar_view_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bubble_view.cc
@@ -1819,7 +1844,6 @@ chrome/browser/ui/views/bookmarks/bookmark_bubble_view_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_context_menu_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_menu_delegate_unittest.cc
 chrome/browser/ui/views/borealis/borealis_disallowed_dialog.cc
-chrome/browser/ui/views/borealis/borealis_installer_error_dialog.cc
 chrome/browser/ui/views/commerce/price_tracking_bubble_dialog_view_unittest.cc
 chrome/browser/ui/views/commerce/price_tracking_email_dialog_view.cc
 chrome/browser/ui/views/commerce/price_tracking_icon_view_integration_test.cc
@@ -1835,7 +1859,6 @@ chrome/browser/ui/views/file_system_access/file_system_access_usage_bubble_view_
 chrome/browser/ui/views/frame/browser_root_view_browsertest.cc
 chrome/browser/ui/views/frame/browser_view.h
 chrome/browser/ui/views/frame/webui_tab_strip_interactive_uitest.cc
-chrome/browser/ui/views/hats/hats_next_web_dialog.cc
 chrome/browser/ui/views/intent_picker_bubble_view_browsertest.cc
 chrome/browser/ui/views/intent_picker_bubble_view_unittest.cc
 chrome/browser/ui/views/lens/lens_side_panel_navigation_helper.cc
@@ -1897,7 +1920,6 @@ chrome/browser/ui/web_applications/web_app_navigate_browsertest.cc
 chrome/browser/ui/web_applications/web_app_profile_deletion_browsertest.cc
 chrome/browser/ui/web_applications/web_app_ui_manager_impl.cc
 chrome/browser/ui/webauthn/authenticator_dialog_browsertest.cc
-chrome/browser/ui/webauthn/authenticator_request_window.cc
 chrome/browser/ui/webauthn/sheet_models.cc
 chrome/browser/ui/webui/PRESUBMIT.py
 chrome/browser/ui/webui/access_code_cast/access_code_cast_handler_unittest.cc
@@ -1959,7 +1981,6 @@ chrome/browser/ui/webui/privacy_sandbox/privacy_sandbox_internals_handler_browse
 chrome/browser/ui/webui/profile_info_watcher.h
 chrome/browser/ui/webui/sanitized_image_source.cc
 chrome/browser/ui/webui/sanitized_image_source_unittest.cc
-chrome/browser/ui/webui/search_engine_choice/generated_icon_utils-inc.cc
 chrome/browser/ui/webui/settings/about_handler_unittest.cc
 chrome/browser/ui/webui/settings/on_startup_handler_unittest.cc
 chrome/browser/ui/webui/settings/people_handler_unittest.cc
@@ -2047,12 +2068,16 @@ chrome/browser/web_applications/web_app_install_utils_unittest.cc
 chrome/browser/web_applications/web_app_provider.cc
 chrome/browser/web_applications/web_app_registrar_unittest.cc
 chrome/browser/web_applications/web_contents/web_app_icon_downloader_unittest.cc
+chrome/browser/webapps/installable/installable_manager_browsertest.cc
 chrome/browser/webauthn/authenticator_request_dialog_model.cc
 chrome/browser/webauthn/cablev2_devices.h
 chrome/browser/webauthn/chrome_authenticator_request_delegate.cc
 chrome/browser/webauthn/chrome_authenticator_request_delegate_unittest.cc
+chrome/browser/webauthn/enclave_authenticator_browsertest.cc
 chrome/browser/webauthn/enclave_manager.cc
 chrome/browser/webauthn/enclave_manager_unittest.cc
+chrome/browser/webauthn/fake_magic_arch.h
+chrome/browser/webauthn/fake_recovery_key_store.h
 chrome/browser/webauthn/fake_security_domain_service.cc
 chrome/browser/webshare/win/fake_random_access_stream.cc
 chrome/browser/webshare/win/share_operation.cc
@@ -2069,7 +2094,6 @@ chrome/chrome_elf/nt_registry/nt_registry_unittest.cc
 chrome/chrome_elf/pe_image_safe/pe_image_safe.h
 chrome/chrome_elf/third_party_dlls/hardcoded_blocklist.cc
 chrome/chrome_elf/third_party_dlls/main.h
-chrome/common/accessibility/read_anything_constants.cc
 chrome/common/apps/platform_apps/api/PRESUBMIT.py
 chrome/common/chrome_features.cc
 chrome/common/chrome_switches.cc
@@ -2151,6 +2175,7 @@ chrome/docs/devtools-pillar.html
 chrome/docs/index.html
 chrome/docs/platform-pillar.html
 chrome/elevation_service/caller_validation.cc
+chrome/elevation_service/service_main.cc
 chrome/install_static/install_constants.h
 chrome/install_static/install_details.h
 chrome/install_static/install_modes_unittest.cc
@@ -2219,6 +2244,7 @@ chrome/notification_helper/notification_activator.h
 chrome/notification_helper/notification_helper.cc
 chrome/renderer/accessibility/read_anything_app_controller.cc
 chrome/renderer/accessibility/read_anything_app_controller_browsertest.cc
+chrome/renderer/accessibility/read_anything_app_model.cc
 chrome/renderer/app_categorizer_unittest.cc
 chrome/renderer/ash_merge_session_loader_throttle_unittest.cc
 chrome/renderer/autofill/autofill_renderer_browsertest.cc
@@ -2284,6 +2310,7 @@ chrome/test/enterprise/e2e/connector/local_content_analysis_connector/local_cont
 chrome/test/enterprise/e2e/connector/realtime_reporting_bce/reporting_server.py
 chrome/test/enterprise/e2e/connector/reporting_connector_chronicle/chronicle_api_service.py
 chrome/test/enterprise/e2e/connector/reporting_connector_pan/pan_api_service.py
+chrome/test/enterprise/e2e/infra/test_binary_downloader.py
 chrome/test/enterprise/e2e/omaha/rollback_to_target_version/google_update_policy_cbcm.py
 chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_browser_history.py
 chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_browser_history_webdriver_test.py
@@ -2313,6 +2340,7 @@ chrome/test/enterprise/e2e/policy/user_data_dir/user_data_dir.py
 chrome/test/enterprise/e2e/policy/webprotect_file_download/webprotect_file_download_webdriver.py
 chrome/test/enterprise/e2e/policy/youtube_restrict/youtube_restrict.py
 chrome/test/fuzzing/in_process_fuzzer.h
+chrome/test/fuzzing/renderer_fuzzing/ipc_fuzzing/mojom_interfaces.gni
 chrome/test/interaction/interactive_browser_test_interactive_uitest.cc
 chrome/test/mini_installer/PRESUBMIT.py
 chrome/test/mini_installer/create_zip.py
@@ -2356,6 +2384,7 @@ chrome/updater/tools/keystone_ticketstore_tool.mm
 chrome/updater/util/util_unittest.cc
 chrome/updater/util/util_win_unittest.cc
 chrome/updater/util/win_util.cc
+chrome/updater/util/win_util.h
 chrome/updater/win/protocol_parser_xml_unittest.cc
 chrome/updater/win/signing/PRESUBMIT.py
 chrome/updater/win/signing/enterprise_standalone_installer.wxs.xml
@@ -2398,17 +2427,19 @@ chromeos/ash/components/carrier_lock/topic_subscription_request.cc
 chromeos/ash/components/carrier_lock/topic_subscription_request_unittest.cc
 chromeos/ash/components/chaps_util/chaps_util_impl.cc
 chromeos/ash/components/cryptohome/userdataauth_util.cc
+chromeos/ash/components/data_migration/data_migration.cc
 chromeos/ash/components/dbus/arc/arc_obb_mounter_client.h
 chromeos/ash/components/dbus/biod/fake_biod_client_unittest.cc
 chromeos/ash/components/dbus/debug_daemon/debug_daemon_client.h
 chromeos/ash/components/dbus/dlcservice/dlcservice_client.h
 chromeos/ash/components/dbus/rmad/fake_rmad_client.cc
+chromeos/ash/components/dbus/shill/shill_manager_client.h
 chromeos/ash/components/drivefs/drivefs_http_client_unittest.cc
 chromeos/ash/components/geolocation/simple_geolocation_provider.h
+chromeos/ash/components/growth/campaigns_manager_unittest.cc
 chromeos/ash/components/growth/campaigns_model.h
 chromeos/ash/components/local_search_service/content_extraction_utils_unittest.cc
 chromeos/ash/components/login/auth/recovery/service_constants.cc
-chromeos/ash/components/login/hibernate/hibernate_manager_unittest.cc
 chromeos/ash/components/multidevice/remote_device_test_util.cc
 chromeos/ash/components/multidevice/stub_multidevice_util.cc
 chromeos/ash/components/nearby/common/client/nearby_api_call_flow_impl_unittest.cc
@@ -2467,7 +2498,6 @@ chromeos/components/quick_answers/translation_result_loader_unittest.cc
 chromeos/components/quick_answers/utils/spell_check_language.cc
 chromeos/components/quick_answers/utils/translation_v2_utils.cc
 chromeos/components/test/data/onc/proxy_config.json
-chromeos/components/test/data/onc/proxy_config_from_onc.json
 chromeos/components/test/data/onc/shill_wifi_proxy.json
 chromeos/constants/chromeos_features.cc
 chromeos/dbus/permission_broker/permission_broker_client.h
@@ -2511,6 +2541,7 @@ components/autofill/content/renderer/html_based_username_detector_browsertest.cc
 components/autofill/content/renderer/page_passwords_analyser.cc
 components/autofill/content/renderer/password_form_conversion_utils.cc
 components/autofill/content/renderer/password_form_conversion_utils_browsertest.cc
+components/autofill/core/browser/address_data_cleaner_unittest.cc
 components/autofill/core/browser/address_data_manager_unittest.cc
 components/autofill/core/browser/autofill_and_password_manager_internals/autofill_and_password_manager_internals.js
 components/autofill/core/browser/autofill_experiments_unittest.cc
@@ -2528,6 +2559,7 @@ components/autofill/core/browser/form_structure_unittest.cc
 components/autofill/core/browser/metrics/autofill_metrics.cc
 components/autofill/core/browser/metrics/autofill_metrics_test_base.cc
 components/autofill/core/browser/metrics/autofill_metrics_unittest.cc
+components/autofill/core/browser/metrics/profile_deduplication_metrics_unittest.cc
 components/autofill/core/browser/metrics/quality_metrics_unittest.cc
 components/autofill/core/browser/metrics/shadow_prediction_metrics_unittest.cc
 components/autofill/core/browser/ml_model/autofill_ml_prediction_model_handler_unittest.cc
@@ -2546,7 +2578,7 @@ components/autofill/core/browser/payments/payments_network_interface_unittest.cc
 components/autofill/core/browser/payments/payments_requests/unmask_card_request_unittest.cc
 components/autofill/core/browser/payments/payments_service_url.cc
 components/autofill/core/browser/payments/payments_service_url_unittest.cc
-components/autofill/core/browser/personal_data_manager_unittest.cc
+components/autofill/core/browser/payments_data_manager_unittest.cc
 components/autofill/core/browser/ui/autofill_image_fetcher.cc
 components/autofill/core/browser/webdata/addresses/autofill_profile_sync_bridge.h
 components/autofill/core/browser/webdata/payments/autofill_wallet_sync_bridge_unittest.cc
@@ -2667,6 +2699,7 @@ components/enterprise/data_controls/data_controls_policy_handler_unittest.cc
 components/enterprise/data_controls/rule_unittest.cc
 components/error_page/common/localized_error.cc
 components/error_page_strings.grdp
+components/exo/buffer.h
 components/exo/data_offer_unittest.cc
 components/exo/drag_drop_operation_unittest.cc
 components/exo/seat_unittest.cc
@@ -2771,11 +2804,9 @@ components/lookalikes/core/lookalike_url_util_unittest.cc
 components/management_strings.grdp
 components/manta/base_provider.cc
 components/manta/base_provider_test_helper.cc
-components/manta/mahi_provider.cc
 components/manta/manta_service_callbacks.cc
 components/manta/orca_provider.cc
 components/manta/orca_provider_unittest.cc
-components/manta/snapper_provider.cc
 components/media_router/browser/android/flinging_controller_bridge.cc
 components/media_router/browser/media_router_dialog_controller_unittest.cc
 components/media_router/browser/media_router_metrics_unittest.cc
@@ -2794,6 +2825,8 @@ components/metrics/net/net_metrics_log_uploader.cc
 components/metrics/persistent_histograms.cc
 components/metrics/url_constants.cc
 components/mirroring/service/mirror_settings.h
+components/mirroring/service/remoting_sender.h
+components/mirroring/service/rtp_stream.h
 components/nacl/browser/nacl_process_host.cc
 components/nacl/browser/pnacl_host_unittest.cc
 components/nacl/browser/pnacl_translation_cache_unittest.cc
@@ -3039,6 +3072,8 @@ components/performance_manager/graph/frame_node_impl.cc
 components/performance_manager/public/graph/frame_node.h
 components/performance_manager/public/graph/process_node.h
 components/performance_manager/public/graph/worker_node.h
+components/performance_manager/resource_attribution/cpu_measurement_monitor.cc
+components/performance_manager/resource_attribution/memory_measurement_provider.cc
 components/permissions/android/permissions_android_strings.grd
 components/permissions/constants.cc
 components/permissions/object_permission_context_base_unittest.cc
@@ -3073,6 +3108,7 @@ components/policy/core/browser/url_scheme_list_policy_handler.cc
 components/policy/core/browser/url_scheme_list_policy_handler.h
 components/policy/core/common/cloud/cloud_policy_client_unittest.cc
 components/policy/core/common/cloud/profile_cloud_policy_store_unittest.cc
+components/policy/core/common/cloud/test/policy_builder.cc
 components/policy/core/common/cloud/user_cloud_policy_store_unittest.cc
 components/policy/core/common/cloud/user_info_fetcher.cc
 components/policy/core/common/cloud/user_info_fetcher_unittest.cc
@@ -3137,6 +3173,7 @@ components/policy/test/data/pref_mapping/LegacySameSiteCookieBehaviorEnabledForD
 components/policy/test/data/pref_mapping/LocalFontsAllowedForUrls.json
 components/policy/test/data/pref_mapping/LocalFontsBlockedForUrls.json
 components/policy/test/data/pref_mapping/ManagedBookmarks.json
+components/policy/test/data/pref_mapping/MultiScreenCaptureAllowedForUrls.json
 components/policy/test/data/pref_mapping/NotificationsAllowedForUrls.json
 components/policy/test/data/pref_mapping/NotificationsBlockedForUrls.json
 components/policy/test/data/pref_mapping/PdfLocalFileAccessAllowedForDomains.json
@@ -3300,23 +3337,23 @@ components/safe_browsing/core/browser/realtime/url_lookup_service_unittest.cc
 components/safe_browsing/core/browser/tailored_security_service/tailored_security_service.cc
 components/safe_browsing/core/browser/tailored_security_service/tailored_security_service_observer_util.cc
 components/safe_browsing/core/browser/tailored_security_service/tailored_security_service_unittest.cc
-components/safe_browsing/core/browser/utils/scheme_logger_unittest.cc
 components/safe_browsing/core/browser/verdict_cache_manager.cc
 components/safe_browsing/core/browser/verdict_cache_manager_unittest.cc
+components/safe_browsing/core/common/scheme_logger_unittest.cc
 components/safe_search_api/safe_search/safe_search_url_checker_client.cc
 components/safe_search_api/safe_search/safe_search_url_checker_client_unittest.cc
 components/safe_search_api/safe_search_util_unittest.cc
 components/safe_search_api/stub_url_checker.cc
 components/safety_check/update_check_helper.h
 components/safety_check/url_constants.cc
-components/saved_tab_groups/saved_tab_group_model_unittest.cc
 components/saved_tab_groups/saved_tab_group_sync_bridge_unittest.cc
+components/saved_tab_groups/saved_tab_group_test_utils.cc
 components/saved_tab_groups/saved_tab_group_unittest.cc
+components/saved_tab_groups/tab_group_sync_service_unittest.cc
 components/search_engines/PRESUBMIT.py
 components/search_engines/android/template_url_service_android_unittest.cc
 components/search_engines/choice_made_location.h
 components/search_engines/default_search_policy_handler_unittest.cc
-components/search_engines/generated_search_engine_resource_ids-inc.cc
 components/search_engines/keyword_table_unittest.cc
 components/search_engines/template_url.cc
 components/search_engines/template_url_data_unittest.cc
@@ -3353,6 +3390,7 @@ components/services/app_service/public/cpp/app_registry_cache_unittest.cc
 components/services/app_service/public/cpp/app_registry_cache_wrapper_unittest.cc
 components/services/app_service/public/cpp/app_storage/app_storage_file_handler_unittest.cc
 components/services/app_service/public/cpp/app_storage/app_storage_unittest.cc
+components/services/app_service/public/cpp/app_types.h
 components/services/app_service/public/cpp/app_update_unittest.cc
 components/services/app_service/public/cpp/capability_access_update_unittest.cc
 components/services/app_service/public/cpp/intent.h
@@ -3414,6 +3452,7 @@ components/signin/public/identity_manager/identity_manager.h
 components/signin/public/identity_manager/identity_manager_unittest.cc
 components/signin/public/identity_manager/identity_test_environment.h
 components/signin/public/identity_manager/identity_test_utils.cc
+components/signin/public/identity_manager/identity_utils_unittest.cc
 components/signin/public/identity_manager/primary_account_access_token_fetcher_unittest.cc
 components/signin/public/identity_manager/primary_account_change_event_unittest.cc
 components/site_engagement/content/site_engagement_helper.cc
@@ -3450,6 +3489,7 @@ components/sync/base/model_type.cc
 components/sync/base/sync_util.h
 components/sync/engine/bookmark_update_preprocessing.cc
 components/sync/engine/net/http_bridge_unittest.cc
+components/sync/model/syncable_service.h
 components/sync/protocol/proto_value_conversions_unittest.cc
 components/sync/service/resources/about.ts
 components/sync/service/sync_prefs.cc
@@ -3675,9 +3715,11 @@ content/browser/renderer_host/render_process_host_impl.cc
 content/browser/renderer_host/render_process_host_unittest.cc
 content/browser/renderer_host/render_view_host_impl.h
 content/browser/renderer_host/render_view_host_unittest.cc
+content/browser/renderer_host/render_widget_host_delegate.h
 content/browser/renderer_host/render_widget_host_impl.h
 content/browser/renderer_host/render_widget_host_input_event_router.cc
 content/browser/renderer_host/render_widget_host_view_aura.h
+content/browser/renderer_host/render_widget_host_view_input.h
 content/browser/renderer_host/should_swap_browsing_instance.h
 content/browser/renderer_host/text_input_client_mac.h
 content/browser/renderer_host/virtual_keyboard_controller_win.h
@@ -3843,6 +3885,7 @@ device/fido/aoa/android_accessory_discovery.cc
 device/fido/aoa/android_accessory_discovery.h
 device/fido/attestation_statement_formats.cc
 device/fido/discoverable_credential_metadata.h
+device/fido/enclave/constants.cc
 device/fido/enclave/enclave_websocket_client.cc
 device/fido/features.h
 device/fido/fido_constants.h
@@ -4021,7 +4064,7 @@ google_apis/gcm/engine/gservices_settings_unittest.cc
 google_apis/gcm/engine/mcs_client.cc
 google_apis/gcm/engine/registration_request_unittest.cc
 google_apis/gcm/tools/mcs_probe.cc
-google_apis/google_api_keys.cc
+google_apis/google_api_keys-inc.cc
 google_apis/google_api_keys.h
 google_apis/tasks/tasks_api_requests.h
 google_apis/tasks/tasks_api_response_types.h
@@ -4067,6 +4110,7 @@ gpu/config/gpu_finch_features.cc
 gpu/config/gpu_info_collector_win.cc
 gpu/config/gpu_switches.cc
 gpu/ipc/common/PRESUBMIT.py
+gpu/ipc/common/gpu_memory_buffer_impl_test_template.h
 gpu/ipc/service/gpu_memory_buffer_factory_dxgi.cc
 gpu/vulkan/PRESUBMIT.py
 headless/lib/browser/protocol/headless_handler.cc
@@ -4146,14 +4190,12 @@ ios/chrome/browser/signin/model/system_identity_manager.h
 ios/chrome/browser/ssl/model/ios_ssl_error_handler_unittest.mm
 ios/chrome/browser/supervised_user/model/supervised_user_url_filter_tab_helper_unittest.mm
 ios/chrome/browser/ui/authentication/history_sync/history_sync_capabilities_fetcher_unittest.mm
+ios/chrome/browser/ui/authentication/identity_chooser/identity_chooser_coordinator_unittest.mm
 ios/chrome/browser/ui/authentication/signin/add_account_signin/add_account_signin_manager_unittest.mm
-ios/chrome/browser/ui/authentication/signin/advanced_settings_signin/advanced_settings_signin_mediator_unittest.mm
 ios/chrome/browser/ui/authentication/signin/consistency_promo_signin/consistency_promo_signin_mediator_unittest.mm
 ios/chrome/browser/ui/authentication/signin/signin_utils_unittest.mm
-ios/chrome/browser/ui/authentication/signin/user_signin/user_signin_mediator_unittest.mm
 ios/chrome/browser/ui/authentication/signin_earl_grey_ui_test_util.mm
-ios/chrome/browser/ui/authentication/unified_consent/identity_chooser/identity_chooser_coordinator_unittest.mm
-ios/chrome/browser/ui/authentication/unified_consent/unified_consent_view_controller_unittest.mm
+ios/chrome/browser/ui/autofill/authentication/card_unmask_authentication_egtest.mm
 ios/chrome/browser/ui/autofill/cells/target_account_item_unittest.mm
 ios/chrome/browser/ui/autofill/manual_fill/form_observer_helper_unittest.mm
 ios/chrome/browser/ui/autofill/manual_fill/manual_fill_password_mediator_unittest.mm
@@ -4201,7 +4243,6 @@ ios/chrome/browser/ui/settings/clear_browsing_data/clear_browsing_data_egtest.mm
 ios/chrome/browser/ui/settings/google_services/manage_accounts/accounts_table_view_controller_unittest.mm
 ios/chrome/browser/ui/settings/google_services/manage_sync_settings_command_handler.h
 ios/chrome/browser/ui/settings/google_services/manage_sync_settings_mediator_unittest.mm
-ios/chrome/browser/ui/settings/import_data_table_view_controller_unittest.mm
 ios/chrome/browser/ui/settings/password/password_checkup/password_checkup_constants.mm
 ios/chrome/browser/ui/settings/password/password_checkup/password_checkup_mediator_unittest.mm
 ios/chrome/browser/ui/settings/password/password_checkup/password_checkup_view_controller_unittest.mm
@@ -4268,13 +4309,7 @@ ios/net/cookies/system_cookie_store_unittest_template.h
 ios/net/crn_http_protocol_handler.mm
 ios/net/nsurlrequest_util_unittest.mm
 ios/testing/PRESUBMIT.py
-ios/testing/data/http_server_files/email_signup_form.html
 ios/testing/data/http_server_files/opensearch.xml
-ios/testing/data/http_server_files/simple_login_form.html
-ios/testing/data/http_server_files/simple_login_form_empty.html
-ios/testing/data/http_server_files/simple_login_form_empty_autofocus.html
-ios/testing/data/http_server_files/simple_login_form_empty_passkey.html
-ios/testing/data/http_server_files/simple_signup_form.html
 ios/testing/data/http_server_files/window_open.html
 ios/web/browsing_data/browsing_data_removing_util_unittest.mm
 ios/web/browsing_data/system_cookie_store_util_unittest.mm
@@ -4366,10 +4401,15 @@ media/cdm/win/media_foundation_cdm.cc
 media/cdm/win/test/media_foundation_clear_key_decryptor.cc
 media/cdm/win/test/mock_media_protection_pmp_server.h
 media/ffmpeg/ffmpeg_regression_tests.cc
+media/ffmpeg/scripts/build_ffmpeg.py
+media/ffmpeg/scripts/credits_updater.py
+media/ffmpeg/scripts/generate_gn.py
+media/ffmpeg/scripts/robo_setup.py
 media/filters/decrypting_audio_decoder.h
 media/filters/decrypting_video_decoder.h
 media/filters/source_buffer_stream_unittest.cc
 media/filters/video_cadence_estimator.h
+media/filters/win/media_foundation_audio_decoder.cc
 media/formats/hls/media_playlist_unittest.cc
 media/formats/hls/multivariant_playlist_unittest.cc
 media/formats/hls/tags_unittest.cc
@@ -4386,6 +4426,7 @@ media/gpu/test/video_encoder/video_encoder_test_environment.cc
 media/gpu/v4l2/mt21/mt21_decompressor_unittest.cc
 media/gpu/v4l2/mt21/mt21_util.h
 media/gpu/v4l2/stateless/av1_delegate.cc
+media/gpu/v4l2/stateless/v4l2_stateless_video_decoder.cc
 media/gpu/v4l2/test/av1_decoder.cc
 media/gpu/v4l2/test/video_decoder.cc
 media/gpu/v4l2/v4l2_stateful_video_decoder.cc
@@ -4954,6 +4995,7 @@ sandbox/win/src/sandbox_nt_util.h
 sandbox/win/src/sandbox_policy.h
 sandbox/win/src/security_level.h
 services/BUILD.gn
+services/accessibility/features/javascript/event.js
 services/device/generic_sensor/platform_sensor_ambient_light_mac.cc
 services/device/generic_sensor/platform_sensor_and_provider_unittest_win.cc
 services/device/generic_sensor/platform_sensor_provider_chromeos.cc
@@ -5028,7 +5070,7 @@ services/tracing/public/cpp/stack_sampling/tracing_sampler_profiler_unittest.cc
 services/video_capture/test/fake_video_capture_device_unittest.cc
 services/viz/public/cpp/gpu/gpu.cc
 services/webnn/dml/adapter.cc
-services/webnn/dml/command_recorder.cc
+services/webnn/dml/adapter.h
 services/webnn/dml/context_impl.cc
 services/webnn/dml/graph_builder.h
 services/webnn/dml/graph_impl.cc
@@ -5056,26 +5098,10 @@ testing/PRESUBMIT.py
 testing/android/native_test/java/AndroidManifest.xml.jinja2
 testing/buildbot/PRESUBMIT.py
 testing/buildbot/check.py
-testing/buildbot/chromium.android.fyi.json
-testing/buildbot/chromium.android.json
-testing/buildbot/chromium.clang.json
-testing/buildbot/chromium.coverage.json
-testing/buildbot/chromium.dawn.json
-testing/buildbot/chromium.dev.json
-testing/buildbot/chromium.fyi.json
-testing/buildbot/chromium.gpu.fyi.json
-testing/buildbot/chromium.memory.json
-testing/buildbot/chromium.webrtc.fyi.json
-testing/buildbot/chromium.webrtc.json
 testing/buildbot/filters/PRESUBMIT.py
 testing/buildbot/generate_buildbot_json.py
-testing/buildbot/generate_buildbot_json_unittest.py
-testing/buildbot/internal.optimization_guide.json
 testing/buildbot/query_optimal_shard_counts.py
 testing/buildbot/scripts/upload_test_result_artifacts.py
-testing/buildbot/tryserver.chromium.android.json
-testing/buildbot/unittest_expectations/test_android_output_options/chromium.test.json
-testing/buildbot/unittest_expectations/test_isolated_script_tests_android/chromium.test.json
 testing/buildbot/waterfalls.pyl
 testing/chromoting/browser_test_commands_linux.txt
 testing/chromoting/chromoting_test_driver_commands_linux.txt
@@ -5253,6 +5279,7 @@ third_party/angle/extensions/ANGLE_logic_op.txt
 third_party/angle/extensions/ANGLE_lossy_etc_decode.txt
 third_party/angle/extensions/ANGLE_memory_size.txt
 third_party/angle/extensions/ANGLE_multi_draw.txt
+third_party/angle/extensions/ANGLE_program_binary_readiness_query.txt
 third_party/angle/extensions/ANGLE_program_cache_control.txt
 third_party/angle/extensions/ANGLE_relaxed_vertex_attribute_type.txt
 third_party/angle/extensions/ANGLE_request_extension.txt
@@ -5365,7 +5392,6 @@ third_party/angle/src/libANGLE/renderer/vulkan/FramebufferVk.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/ImageVk.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp
-third_party/angle/src/libANGLE/renderer/vulkan/RendererVk.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/SurfaceVk.h
 third_party/angle/src/libANGLE/renderer/vulkan/VkImageImageSiblingVk.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp
@@ -5374,6 +5400,7 @@ third_party/angle/src/libANGLE/renderer/vulkan/shaders/src/third_party/ffx_spd/f
 third_party/angle/src/libANGLE/renderer/vulkan/vk_cache_utils.h
 third_party/angle/src/libANGLE/renderer/vulkan/vk_format_utils.h
 third_party/angle/src/libANGLE/renderer/vulkan/vk_helpers.cpp
+third_party/angle/src/libANGLE/renderer/vulkan/vk_renderer.cpp
 third_party/angle/src/libANGLE/validationEGL.cpp
 third_party/angle/src/libANGLE/validationES.cpp
 third_party/angle/src/libGLESv2/egl_stubs.cpp
@@ -5427,8 +5454,10 @@ third_party/axe-core/axe.js
 third_party/axe-core/axe.min.js
 third_party/beto-core/src/nearby/presence/ldt_np_adv_ffi/c/fuzz/ldt_fuzzer.cc
 third_party/beto-core/src/nearby/presence/np_cpp_ffi/shared/shared_test_util.h
+third_party/bidimapper/mapper.js
 third_party/blink/PRESUBMIT.py
 third_party/blink/common/PRESUBMIT.py
+third_party/blink/common/features.cc
 third_party/blink/common/loader/record_load_histograms.cc
 third_party/blink/common/origin_trials/trial_token.cc
 third_party/blink/common/origin_trials/trial_token_validator_unittest.cc
@@ -5603,6 +5632,7 @@ third_party/blink/public/platform/platform.h
 third_party/blink/public/platform/web_audio_source_provider_impl.h
 third_party/blink/public/platform/web_url_response.h
 third_party/blink/public/strings/blink_strings.grd
+third_party/blink/public/web/web_crypto_histograms.h
 third_party/blink/public/web/web_navigation_params.h
 third_party/blink/public/web/web_node.h
 third_party/blink/public/web/web_window_features.h
@@ -5747,7 +5777,6 @@ third_party/blink/renderer/core/frame/local_frame_mojo_handler.cc
 third_party/blink/renderer/core/frame/local_frame_view.cc
 third_party/blink/renderer/core/frame/local_frame_view.h
 third_party/blink/renderer/core/frame/navigator.cc
-third_party/blink/renderer/core/frame/pending_beacon_dispatcher.h
 third_party/blink/renderer/core/frame/settings.h
 third_party/blink/renderer/core/frame/visual_viewport.h
 third_party/blink/renderer/core/frame/web_frame_serializer_impl.cc
@@ -5813,6 +5842,7 @@ third_party/blink/renderer/core/input/event_handling_util.cc
 third_party/blink/renderer/core/input/mouse_event_manager.cc
 third_party/blink/renderer/core/input/pointer_event_manager.cc
 third_party/blink/renderer/core/inspector/devtools_session.h
+third_party/blink/renderer/core/inspector/inspector_animation_agent.h
 third_party/blink/renderer/core/inspector/inspector_style_sheet.cc
 third_party/blink/renderer/core/intersection_observer/intersection_observer_controller.h
 third_party/blink/renderer/core/layout/adjust_for_absolute_zoom.h
@@ -5905,7 +5935,6 @@ third_party/blink/renderer/core/scroll/scrollbar_theme_fluent.h
 third_party/blink/renderer/core/streams/readable_stream_transferring_optimizer.h
 third_party/blink/renderer/core/streams/transferable_streams.cc
 third_party/blink/renderer/core/streams/writable_stream_transferring_optimizer.h
-third_party/blink/renderer/core/style/border_style.h
 third_party/blink/renderer/core/style/computed_style.h
 third_party/blink/renderer/core/style/computed_style_constants.h
 third_party/blink/renderer/core/style/content_data.h
@@ -5961,14 +5990,13 @@ third_party/blink/renderer/core/xml/xpath_ns_resolver.idl
 third_party/blink/renderer/core/xml/xslt_processor.cc
 third_party/blink/renderer/core/xml/xslt_processor.idl
 third_party/blink/renderer/core/xmlhttprequest/xml_http_request.cc
-third_party/blink/renderer/modules/accessibility/ax_layout_object.cc
+third_party/blink/renderer/modules/accessibility/ax_node_object.cc
 third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.cc
 third_party/blink/renderer/modules/accessibility/ax_object_cache_impl.h
 third_party/blink/renderer/modules/accessibility/testing/internals_accessibility.h
 third_party/blink/renderer/modules/bluetooth/bluetooth_error.cc
 third_party/blink/renderer/modules/clipboard/clipboard_promise.cc
 third_party/blink/renderer/modules/credentialmanagement/authentication_credentials_container.cc
-third_party/blink/renderer/modules/crypto/crypto_histograms.h
 third_party/blink/renderer/modules/encryptedmedia/encrypted_media_utils.h
 third_party/blink/renderer/modules/file_system_access/file_system_cloud_identifier.idl
 third_party/blink/renderer/modules/filesystem/dom_file_system_base_test.cc
@@ -6006,7 +6034,7 @@ third_party/blink/renderer/modules/vibration/navigator_vibration.idl
 third_party/blink/renderer/modules/vibration/vibration_controller.cc
 third_party/blink/renderer/modules/webaudio/audio_context.cc
 third_party/blink/renderer/modules/webgl/webgl_unowned_texture.h
-third_party/blink/renderer/modules/webgpu/gpu_external_texture.cc
+third_party/blink/renderer/modules/webgpu/external_texture_helper.cc
 third_party/blink/renderer/modules/webgpu/gpu_render_pipeline.cc
 third_party/blink/renderer/modules/webmidi/navigator_web_midi.cc
 third_party/blink/renderer/modules/websockets/websocket_channel_impl.cc
@@ -6141,7 +6169,6 @@ third_party/blink/renderer/platform/wtf/vector_test.cc
 third_party/boringssl/roll_boringssl.py
 third_party/boringssl/src/CMakeLists.txt
 third_party/boringssl/src/crypto/cpu_aarch64_openbsd.c
-third_party/boringssl/src/crypto/fipsmodule/CMakeLists.txt
 third_party/boringssl/src/crypto/fipsmodule/bn/mul.c
 third_party/boringssl/src/crypto/fipsmodule/rsa/rsa_impl.c
 third_party/boringssl/src/crypto/internal.h
@@ -7785,7 +7812,6 @@ third_party/dawn/.vscode/tasks.json
 third_party/dawn/CMakeLists.txt
 third_party/dawn/src/dawn/native/CommandAllocator.cpp
 third_party/dawn/src/dawn/native/CopyTextureForBrowserHelper.cpp
-third_party/dawn/src/dawn/native/CreatePipelineAsyncTask.cpp
 third_party/dawn/src/dawn/native/Features.cpp
 third_party/dawn/src/dawn/native/PipelineLayout.cpp
 third_party/dawn/src/dawn/native/Sampler.h
@@ -8085,6 +8111,7 @@ third_party/depot_tools/ninjalog_uploader_wrapper.py
 third_party/depot_tools/owners_client.py
 third_party/depot_tools/owners_finder.py
 third_party/depot_tools/presubmit_canned_checks.py
+third_party/depot_tools/presubmit_diff.py
 third_party/depot_tools/presubmit_support.py
 third_party/depot_tools/rdb_wrapper.py
 third_party/depot_tools/recipes/recipe_modules/bot_update/api.py
@@ -8168,6 +8195,7 @@ third_party/depot_tools/recipes/recipe_modules/gsutil/api.py
 third_party/depot_tools/recipes/recipe_modules/gsutil/examples/full.expected/basic.json
 third_party/depot_tools/recipes/recipe_modules/gsutil/examples/full.py
 third_party/depot_tools/recipes/recipe_modules/osx_sdk/__init__.py
+third_party/depot_tools/recipes/recipe_modules/osx_sdk/api.py
 third_party/depot_tools/recipes/recipe_modules/presubmit/api.py
 third_party/depot_tools/recipes/recipe_modules/presubmit/tests/execute.py
 third_party/depot_tools/recipes/recipe_modules/tryserver/api.py
@@ -8204,6 +8232,7 @@ third_party/depot_tools/tests/ninja_reclient_test.py
 third_party/depot_tools/tests/ninjalog_uploader_test.py
 third_party/depot_tools/tests/presubmit_unittest.py
 third_party/depot_tools/tests/reclient_metrics_test.py
+third_party/depot_tools/tests/roll_dep_test.py
 third_party/depot_tools/tests/split_cl_test.py
 third_party/depot_tools/tests/watchlists_unittest.py
 third_party/depot_tools/watchlists.py
@@ -8340,6 +8369,7 @@ third_party/devtools-frontend/src/front_end/models/trace/handlers/NetworkRequest
 third_party/devtools-frontend/src/front_end/models/trace/handlers/UserInteractionsHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/UserTimingsHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/helpers/Trace.test.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/InteractionToNextPaint.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/RenderBlocking.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/types/TraceEvents.ts
 third_party/devtools-frontend/src/front_end/panels/accessibility/AccessibilityNodeView.ts
@@ -8616,6 +8646,7 @@ third_party/devtools-frontend/src/front_end/ui/legacy/RemoteDebuggingTerminatedS
 third_party/devtools-frontend/src/front_end/ui/legacy/SearchableView.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.ts
+third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/CustomPreviewComponent.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/ObjectPropertiesSection.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/JSPresentationUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/Linkifier.test.ts
@@ -9331,8 +9362,6 @@ third_party/devtools-frontend/src/node_modules/stylelint/lib/rules/color-named/c
 third_party/devtools-frontend/src/node_modules/stylelint/lib/utils/isAutoprefixable.js
 third_party/devtools-frontend/src/node_modules/stylelint/lib/utils/isStandardSyntaxValue.js
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/ansi-regex/package.json
-third_party/devtools-frontend/src/node_modules/stylelint/node_modules/debug/package.json
-third_party/devtools-frontend/src/node_modules/stylelint/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/resolve-from/package.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/strip-ansi/package.json
 third_party/devtools-frontend/src/node_modules/supports-color/package.json
@@ -10210,7 +10239,7 @@ third_party/expat/src/expat/lib/internal.h
 third_party/expat/src/expat/lib/xmlparse.c
 third_party/expat/src/expat/lib/xmltok.c
 third_party/expat/src/expat/lib/xmltok_impl.c
-third_party/expat/src/expat/tests/runtests.c
+third_party/expat/src/expat/tests/acc_tests.c
 third_party/expat/src/expat/xmlwf/readfilemap.c
 third_party/expat/src/expat/xmlwf/win32filemap.c
 third_party/expat/src/expat/xmlwf/xmlwf.c
@@ -10257,10 +10286,8 @@ third_party/ffmpeg/chromium/config/Chromium/mac/x64/config.h
 third_party/ffmpeg/chromium/config/Chromium/win/arm64/config.h
 third_party/ffmpeg/chromium/config/Chromium/win/ia32/config.h
 third_party/ffmpeg/chromium/config/Chromium/win/x64/config.h
-third_party/ffmpeg/chromium/scripts/build_ffmpeg.py
 third_party/ffmpeg/chromium/scripts/credits_updater.py
 third_party/ffmpeg/chromium/scripts/generate_gn.py
-third_party/ffmpeg/chromium/scripts/robo_setup.py
 third_party/ffmpeg/compat/msvcrt/snprintf.c
 third_party/ffmpeg/compat/msvcrt/snprintf.h
 third_party/ffmpeg/compat/msvcrt/strtod.h
@@ -10383,6 +10410,7 @@ third_party/ffmpeg/libavcodec/libxavs.c
 third_party/ffmpeg/libavcodec/libxavs2.c
 third_party/ffmpeg/libavcodec/lpc.c
 third_party/ffmpeg/libavcodec/lpc.h
+third_party/ffmpeg/libavcodec/lpc_functions.h
 third_party/ffmpeg/libavcodec/mediacodec.h
 third_party/ffmpeg/libavcodec/mediacodec_sw_buffer.c
 third_party/ffmpeg/libavcodec/mediacodec_wrapper.h
@@ -10586,6 +10614,7 @@ third_party/ffmpeg/libavutil/stereo3d.h
 third_party/ffmpeg/libavutil/tests/color_utils.c
 third_party/ffmpeg/libavutil/tests/display.c
 third_party/ffmpeg/libavutil/tests/random_seed.c
+third_party/ffmpeg/libavutil/tests/side_data_array.c
 third_party/ffmpeg/libavutil/timecode.c
 third_party/ffmpeg/libavutil/timecode.h
 third_party/ffmpeg/libavutil/tx.c
@@ -11184,6 +11213,7 @@ third_party/hunspell/src/hunspell/replist.cxx
 third_party/hunspell/src/hunspell/replist.hxx
 third_party/hunspell/src/hunspell/suggestmgr.cxx
 third_party/hunspell/src/hunspell/suggestmgr.hxx
+third_party/hunspell/src/hunspell/utf_info.cxx
 third_party/hunspell/src/hunspell/w_char.hxx
 third_party/hunspell/src/parsers/firstparser.cxx
 third_party/hunspell/src/parsers/firstparser.hxx
@@ -11246,7 +11276,6 @@ third_party/icu/source/tools/toolutil/pkg_genc.cpp
 third_party/inspector_protocol/crdtp/cbor.cc
 third_party/inspector_protocol/crdtp/json.cc
 third_party/inspector_protocol/roll.py
-third_party/instrumented_libraries/focal/BUILD.gn
 third_party/ipcz/src/reference_drivers/random.cc
 third_party/isimpledom/ISimpleDOMDocument.idl
 third_party/isimpledom/ISimpleDOMNode.idl
@@ -11406,6 +11435,7 @@ third_party/libphonenumber/dist/resources/geocoding/en/86.txt
 third_party/libphonenumber/dist/resources/geocoding/zh/86.txt
 third_party/libphonenumber/dist/tools/java/data/webapp/WEB-INF/appengine-web.xml
 third_party/libpng/contrib/oss-fuzz/README.txt
+third_party/libpng/contrib/oss-fuzz/libpng_read_fuzzer.cc
 third_party/libprotobuf-mutator/src/examples/libfuzzer/libfuzzer_bin_example.cc
 third_party/libprotobuf-mutator/src/examples/libfuzzer/libfuzzer_example.cc
 third_party/libprotobuf-mutator/src/src/mutator_test.cc
@@ -11987,12 +12017,11 @@ third_party/openscreen/src/discovery/mdns/impl/mdns_responder_unittest.cc
 third_party/openscreen/src/discovery/mdns/public/mdns_reader.cc
 third_party/openscreen/src/discovery/public/dns_sd_service_watcher.h
 third_party/openscreen/src/osp/impl/message_demuxer.cc
+third_party/openscreen/src/osp/impl/quic/quic_connection_factory_server.cc
 third_party/openscreen/src/platform/impl/tls_connection_factory_posix.cc
 third_party/openscreen/src/platform/impl/tls_connection_posix.cc
 third_party/openscreen/src/test/test_main.cc
 third_party/openscreen/src/testing/libfuzzer/BUILD.gn
-third_party/openscreen/src/third_party/abseil/BUILD.gn
-third_party/openscreen/src/third_party/boringssl/BUILD.gn
 third_party/openscreen/src/third_party/protobuf/CHANGES.txt
 third_party/openscreen/src/third_party/protobuf/src/google/protobuf/any.cc
 third_party/openscreen/src/third_party/protobuf/src/google/protobuf/any.h
@@ -12453,7 +12482,7 @@ third_party/openscreen/src/third_party/protobuf/src/google/protobuf/wire_format.
 third_party/openscreen/src/third_party/protobuf/src/google/protobuf/wire_format_lite.cc
 third_party/openscreen/src/third_party/protobuf/src/google/protobuf/wire_format_lite.h
 third_party/openscreen/src/third_party/protobuf/src/google/protobuf/wire_format_unittest.cc
-third_party/openscreen/src/third_party/zlib/BUILD.gn
+third_party/openscreen/src/third_party/quiche/BUILD.gn
 third_party/openscreen/src/tools/cddl/sema.cc
 third_party/openscreen/src/tools/licenses.py
 third_party/openscreen/src/util/crypto/rsa_private_key_unittest.cc
@@ -12700,9 +12729,9 @@ third_party/protobuf-javascript/src/node_loader.js
 third_party/protobuf-javascript/src/proto3_test.js
 third_party/protobuf-javascript/src/test_bootstrap.js
 third_party/protobuf/CHANGES.txt
+third_party/protobuf/CMakeLists.txt
 third_party/protobuf/CONTRIBUTORS.txt
 third_party/protobuf/benchmarks/cpp/cpp_benchmark.cc
-third_party/protobuf/cmake/CMakeLists.txt
 third_party/protobuf/conformance/binary_json_conformance_suite.cc
 third_party/protobuf/conformance/binary_json_conformance_suite.h
 third_party/protobuf/conformance/conformance_cpp.cc
@@ -12720,55 +12749,6 @@ third_party/protobuf/java/core/pom.xml
 third_party/protobuf/java/lite/pom.xml
 third_party/protobuf/java/pom.xml
 third_party/protobuf/java/util/pom.xml
-third_party/protobuf/js/binary/arith.js
-third_party/protobuf/js/binary/arith_test.js
-third_party/protobuf/js/binary/constants.js
-third_party/protobuf/js/binary/decoder.js
-third_party/protobuf/js/binary/decoder_test.js
-third_party/protobuf/js/binary/encoder.js
-third_party/protobuf/js/binary/message_test.js
-third_party/protobuf/js/binary/proto_test.js
-third_party/protobuf/js/binary/reader.js
-third_party/protobuf/js/binary/reader_test.js
-third_party/protobuf/js/binary/utils.js
-third_party/protobuf/js/binary/utils_test.js
-third_party/protobuf/js/binary/writer.js
-third_party/protobuf/js/binary/writer_test.js
-third_party/protobuf/js/commonjs/import_test.js
-third_party/protobuf/js/commonjs/strict_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/arith_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/decoder_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/proto_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/reader_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/utils_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/binary/writer_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/commonjs/import_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/debug_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/message_test.js
-third_party/protobuf/js/compatibility_tests/v3.0.0/proto3_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/arith_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/decoder_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/proto_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/reader_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/utils_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/binary/writer_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/debug_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/maps_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/message_test.js
-third_party/protobuf/js/compatibility_tests/v3.1.0/proto3_test.js
-third_party/protobuf/js/debug.js
-third_party/protobuf/js/debug_test.js
-third_party/protobuf/js/experimental/runtime/int64.js
-third_party/protobuf/js/experimental/runtime/kernel/kernel_compatibility_test.js
-third_party/protobuf/js/experimental/runtime/kernel/storage.js
-third_party/protobuf/js/experimental/runtime/kernel/writer.js
-third_party/protobuf/js/map.js
-third_party/protobuf/js/maps_test.js
-third_party/protobuf/js/message.js
-third_party/protobuf/js/message_test.js
-third_party/protobuf/js/node_loader.js
-third_party/protobuf/js/proto3_test.js
-third_party/protobuf/js/test_bootstrap.js
 third_party/protobuf/objectivec/DevTools/pddm.py
 third_party/protobuf/objectivec/DevTools/pddm_tests.py
 third_party/protobuf/objectivec/GPBAny.pbobjc.h
@@ -12803,9 +12783,6 @@ third_party/protobuf/objectivec/GPBUtilities.h
 third_party/protobuf/objectivec/GPBUtilities_PackagePrivate.h
 third_party/protobuf/objectivec/GPBWellKnownTypes.h
 third_party/protobuf/objectivec/GPBWireFormat.h
-third_party/protobuf/objectivec/Tests/CocoaPods/OSXCocoaPodsTester/OSXCocoaPodsTester/AppDelegate.h
-third_party/protobuf/objectivec/Tests/CocoaPods/iOSCocoaPodsTester/iOSCocoaPodsTester/AppDelegate.h
-third_party/protobuf/objectivec/Tests/CocoaPods/iOSCocoaPodsTester/iOSCocoaPodsTester/ViewController.h
 third_party/protobuf/objectivec/Tests/GPBObjectiveCPlusPlusTest.mm
 third_party/protobuf/objectivec/Tests/GPBTestUtilities.h
 third_party/protobuf/php/composer.json
@@ -12823,9 +12800,10 @@ third_party/protobuf/php/ext/google/protobuf/message.c
 third_party/protobuf/php/ext/google/protobuf/message.h
 third_party/protobuf/php/ext/google/protobuf/names.c
 third_party/protobuf/php/ext/google/protobuf/names.h
-third_party/protobuf/php/ext/google/protobuf/package.xml
+third_party/protobuf/php/ext/google/protobuf/php_protobuf.h
 third_party/protobuf/php/ext/google/protobuf/protobuf.c
 third_party/protobuf/php/ext/google/protobuf/protobuf.h
+third_party/protobuf/php/ext/google/protobuf/template_package.xml
 third_party/protobuf/protoc-artifacts/pom.xml
 third_party/protobuf/python/docs/conf.py
 third_party/protobuf/python/docs/generate_docs.py
@@ -12900,6 +12878,8 @@ third_party/protobuf/python/google/protobuf/pyext/repeated_scalar_container.cc
 third_party/protobuf/python/google/protobuf/pyext/repeated_scalar_container.h
 third_party/protobuf/python/google/protobuf/pyext/safe_numerics.h
 third_party/protobuf/python/google/protobuf/pyext/scoped_pyobject_ptr.h
+third_party/protobuf/python/google/protobuf/pyext/unknown_field_set.cc
+third_party/protobuf/python/google/protobuf/pyext/unknown_field_set.h
 third_party/protobuf/python/google/protobuf/pyext/unknown_fields.cc
 third_party/protobuf/python/google/protobuf/pyext/unknown_fields.h
 third_party/protobuf/python/google/protobuf/python_protobuf.h
@@ -12909,6 +12889,7 @@ third_party/protobuf/python/google/protobuf/service_reflection.py
 third_party/protobuf/python/google/protobuf/symbol_database.py
 third_party/protobuf/python/google/protobuf/text_encoding.py
 third_party/protobuf/python/google/protobuf/text_format.py
+third_party/protobuf/python/google/protobuf/unknown_fields.py
 third_party/protobuf/python/mox.py
 third_party/protobuf/python/protobuf_distutils/protobuf_distutils/generate_py_protobufs.py
 third_party/protobuf/python/protobuf_distutils/setup.py
@@ -12951,45 +12932,46 @@ third_party/protobuf/src/google/protobuf/compiler/code_generator.h
 third_party/protobuf/src/google/protobuf/compiler/command_line_interface.cc
 third_party/protobuf/src/google/protobuf/compiler/command_line_interface.h
 third_party/protobuf/src/google/protobuf/compiler/command_line_interface_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_bootstrap_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_enum.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_enum.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_enum_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_enum_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_extension.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_extension.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_file.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_file.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_generator.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_helpers.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_helpers.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_map_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_map_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_message.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_message.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_message_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_message_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_message_layout_helper.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_move_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_names.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_options.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_padding_optimizer.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_padding_optimizer.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_parse_function_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_parse_function_generator.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_plugin_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_primitive_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_primitive_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_service.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_service.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_string_field.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_string_field.h
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/cpp/cpp_unittest.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/bootstrap_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/enum.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/enum.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/enum_field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/enum_field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/extension.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/extension.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/file.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/file.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/generator.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/generator.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/helpers.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/helpers.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/map_field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/map_field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/message.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/message.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/message_field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/message_field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/message_layout_helper.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/message_size_unittest.cc
 third_party/protobuf/src/google/protobuf/compiler/cpp/metadata_test.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/move_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/names.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/options.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/padding_optimizer.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/padding_optimizer.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/parse_function_generator.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/parse_function_generator.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/plugin_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/primitive_field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/primitive_field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/service.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/service.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/string_field.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/string_field.h
+third_party/protobuf/src/google/protobuf/compiler/cpp/unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/cpp/unittest.h
 third_party/protobuf/src/google/protobuf/compiler/csharp/csharp_bootstrap_unittest.cc
 third_party/protobuf/src/google/protobuf/compiler/csharp/csharp_doc_comment.cc
 third_party/protobuf/src/google/protobuf/compiler/csharp/csharp_doc_comment.h
@@ -13029,72 +13011,68 @@ third_party/protobuf/src/google/protobuf/compiler/csharp/csharp_wrapper_field.h
 third_party/protobuf/src/google/protobuf/compiler/importer.cc
 third_party/protobuf/src/google/protobuf/compiler/importer.h
 third_party/protobuf/src/google/protobuf/compiler/importer_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_context.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_context.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_doc_comment.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_doc_comment.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_doc_comment_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_field_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_field_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_enum_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_extension.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_extension.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_extension_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_extension_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_file.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_file.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_generator.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_generator_factory.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_generator_factory.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_helpers.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_helpers.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_kotlin_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_kotlin_generator.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_map_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_map_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_map_field_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_map_field_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_builder.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_builder.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_builder_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_builder_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_field_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_field_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_message_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_name_resolver.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_name_resolver.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_names.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_options.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_plugin_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_primitive_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_primitive_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_primitive_field_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_primitive_field_lite.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_service.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_service.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_shared_code_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_shared_code_generator.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_string_field.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_string_field.h
-third_party/protobuf/src/google/protobuf/compiler/java/java_string_field_lite.cc
-third_party/protobuf/src/google/protobuf/compiler/java/java_string_field_lite.h
-third_party/protobuf/src/google/protobuf/compiler/js/js_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/js/js_generator.h
-third_party/protobuf/src/google/protobuf/compiler/js/well_known_types_embed.cc
-third_party/protobuf/src/google/protobuf/compiler/js/well_known_types_embed.h
+third_party/protobuf/src/google/protobuf/compiler/java/context.cc
+third_party/protobuf/src/google/protobuf/compiler/java/context.h
+third_party/protobuf/src/google/protobuf/compiler/java/doc_comment.cc
+third_party/protobuf/src/google/protobuf/compiler/java/doc_comment.h
+third_party/protobuf/src/google/protobuf/compiler/java/doc_comment_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/java/enum.cc
+third_party/protobuf/src/google/protobuf/compiler/java/enum.h
+third_party/protobuf/src/google/protobuf/compiler/java/enum_field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/enum_field.h
+third_party/protobuf/src/google/protobuf/compiler/java/enum_field_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/enum_field_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/enum_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/enum_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/extension.cc
+third_party/protobuf/src/google/protobuf/compiler/java/extension.h
+third_party/protobuf/src/google/protobuf/compiler/java/extension_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/extension_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/field.h
+third_party/protobuf/src/google/protobuf/compiler/java/file.cc
+third_party/protobuf/src/google/protobuf/compiler/java/file.h
+third_party/protobuf/src/google/protobuf/compiler/java/generator.cc
+third_party/protobuf/src/google/protobuf/compiler/java/generator.h
+third_party/protobuf/src/google/protobuf/compiler/java/generator_factory.cc
+third_party/protobuf/src/google/protobuf/compiler/java/generator_factory.h
+third_party/protobuf/src/google/protobuf/compiler/java/helpers.cc
+third_party/protobuf/src/google/protobuf/compiler/java/helpers.h
+third_party/protobuf/src/google/protobuf/compiler/java/kotlin_generator.cc
+third_party/protobuf/src/google/protobuf/compiler/java/kotlin_generator.h
+third_party/protobuf/src/google/protobuf/compiler/java/map_field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/map_field.h
+third_party/protobuf/src/google/protobuf/compiler/java/map_field_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/map_field_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/message.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message.h
+third_party/protobuf/src/google/protobuf/compiler/java/message_builder.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message_builder.h
+third_party/protobuf/src/google/protobuf/compiler/java/message_builder_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message_builder_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/message_field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message_field.h
+third_party/protobuf/src/google/protobuf/compiler/java/message_field_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message_field_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/message_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/message_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/name_resolver.cc
+third_party/protobuf/src/google/protobuf/compiler/java/name_resolver.h
+third_party/protobuf/src/google/protobuf/compiler/java/names.h
+third_party/protobuf/src/google/protobuf/compiler/java/options.h
+third_party/protobuf/src/google/protobuf/compiler/java/plugin_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/java/primitive_field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/primitive_field.h
+third_party/protobuf/src/google/protobuf/compiler/java/primitive_field_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/primitive_field_lite.h
+third_party/protobuf/src/google/protobuf/compiler/java/service.cc
+third_party/protobuf/src/google/protobuf/compiler/java/service.h
+third_party/protobuf/src/google/protobuf/compiler/java/shared_code_generator.cc
+third_party/protobuf/src/google/protobuf/compiler/java/shared_code_generator.h
+third_party/protobuf/src/google/protobuf/compiler/java/string_field.cc
+third_party/protobuf/src/google/protobuf/compiler/java/string_field.h
+third_party/protobuf/src/google/protobuf/compiler/java/string_field_lite.cc
+third_party/protobuf/src/google/protobuf/compiler/java/string_field_lite.h
 third_party/protobuf/src/google/protobuf/compiler/main.cc
 third_party/protobuf/src/google/protobuf/compiler/mock_code_generator.cc
 third_party/protobuf/src/google/protobuf/compiler/mock_code_generator.h
@@ -13131,13 +13109,13 @@ third_party/protobuf/src/google/protobuf/compiler/php/php_generator.cc
 third_party/protobuf/src/google/protobuf/compiler/php/php_generator.h
 third_party/protobuf/src/google/protobuf/compiler/plugin.cc
 third_party/protobuf/src/google/protobuf/compiler/plugin.h
-third_party/protobuf/src/google/protobuf/compiler/python/python_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/python/python_generator.h
-third_party/protobuf/src/google/protobuf/compiler/python/python_helpers.cc
-third_party/protobuf/src/google/protobuf/compiler/python/python_helpers.h
-third_party/protobuf/src/google/protobuf/compiler/python/python_plugin_unittest.cc
-third_party/protobuf/src/google/protobuf/compiler/python/python_pyi_generator.cc
-third_party/protobuf/src/google/protobuf/compiler/python/python_pyi_generator.h
+third_party/protobuf/src/google/protobuf/compiler/python/generator.cc
+third_party/protobuf/src/google/protobuf/compiler/python/generator.h
+third_party/protobuf/src/google/protobuf/compiler/python/helpers.cc
+third_party/protobuf/src/google/protobuf/compiler/python/helpers.h
+third_party/protobuf/src/google/protobuf/compiler/python/plugin_unittest.cc
+third_party/protobuf/src/google/protobuf/compiler/python/pyi_generator.cc
+third_party/protobuf/src/google/protobuf/compiler/python/pyi_generator.h
 third_party/protobuf/src/google/protobuf/compiler/ruby/ruby_generator.cc
 third_party/protobuf/src/google/protobuf/compiler/ruby/ruby_generator.h
 third_party/protobuf/src/google/protobuf/compiler/ruby/ruby_generator_unittest.cc
@@ -13157,6 +13135,7 @@ third_party/protobuf/src/google/protobuf/drop_unknown_fields_test.cc
 third_party/protobuf/src/google/protobuf/dynamic_message.cc
 third_party/protobuf/src/google/protobuf/dynamic_message.h
 third_party/protobuf/src/google/protobuf/dynamic_message_unittest.cc
+third_party/protobuf/src/google/protobuf/endian.h
 third_party/protobuf/src/google/protobuf/explicitly_constructed.h
 third_party/protobuf/src/google/protobuf/extension_set.cc
 third_party/protobuf/src/google/protobuf/extension_set.h
@@ -13456,9 +13435,9 @@ third_party/re2/src/CMakeLists.txt
 third_party/re2/src/python/setup.py
 third_party/re2/src/re2/testing/re2_test.cc
 third_party/re2/src/util/pcre.h
+third_party/rust/PRESUBMIT.py
 third_party/rust/aho_corasick/v1/BUILD.gn
 third_party/rust/anyhow/v1/BUILD.gn
-third_party/rust/autocfg/v1/BUILD.gn
 third_party/rust/bytemuck/v1/BUILD.gn
 third_party/rust/cxx/v1/BUILD.gn
 third_party/rust/cxxbridge_cmd/v1/BUILD.gn
@@ -13468,7 +13447,6 @@ third_party/rust/heck/v0_4/BUILD.gn
 third_party/rust/itoa/v1/BUILD.gn
 third_party/rust/lazy_static/v1/BUILD.gn
 third_party/rust/memchr/v2/BUILD.gn
-third_party/rust/memoffset/v0_6/BUILD.gn
 third_party/rust/proc_macro2/v1/BUILD.gn
 third_party/rust/prost/v0_12/BUILD.gn
 third_party/rust/prost_derive/v0_12/BUILD.gn
@@ -13488,7 +13466,6 @@ third_party/rust/semver/v1/BUILD.gn
 third_party/rust/serde/v1/BUILD.gn
 third_party/rust/serde_derive/v1/BUILD.gn
 third_party/rust/serde_json/v1/BUILD.gn
-third_party/rust/serde_json_lenient/v0_1/BUILD.gn
 third_party/rust/serde_json_lenient/v0_2/BUILD.gn
 third_party/rust/strum/v0_25/BUILD.gn
 third_party/rust/strum_macros/v0_25/BUILD.gn
@@ -13624,7 +13601,9 @@ third_party/skia/modules/pathkit/chaining.js
 third_party/skia/modules/pathkit/helper.js
 third_party/skia/modules/pathkit/npm-asmjs/package.json
 third_party/skia/modules/pathkit/npm-wasm/package.json
+third_party/skia/modules/skottie/src/effects/SkSLEffect.cpp
 third_party/skia/modules/skottie/src/layers/TextLayer.cpp
+third_party/skia/modules/skunicode/BUILD.gn
 third_party/skia/modules/skunicode/src/SkUnicode_icu.cpp
 third_party/skia/modules/svg/src/SkSVGOpenTypeSVGDecoder.cpp
 third_party/skia/platform_tools/android/tradefed/upload_dm_results.py
@@ -13705,6 +13684,7 @@ third_party/skia/third_party/etc1/etc1.cpp
 third_party/skia/third_party/etc1/etc1.h
 third_party/skia/third_party/freetype2/include/freetype-android/freetype/config/ftoption.h
 third_party/skia/third_party/freetype2/include/freetype-no-type1/freetype/config/ftoption.h
+third_party/skia/third_party/icu_bidi/BUILD.gn
 third_party/skia/tools/abandon_gerrit_cls.py
 third_party/skia/tools/add_codereview_message.py
 third_party/skia/tools/bloaty_treemap.py
@@ -13948,6 +13928,7 @@ third_party/tflite/src/tensorflow/core/util/example_proto_fast_parsing_test.cc
 third_party/tflite/src/tensorflow/examples/speech_commands/generate_streaming_test_wav.py
 third_party/tflite/src/tensorflow/examples/speech_commands/models.py
 third_party/tflite/src/tensorflow/examples/speech_commands/train.py
+third_party/tflite/src/tensorflow/lite/core/c/common.h
 third_party/tflite/src/tensorflow/lite/delegates/gpu/android_hardware_buffer.h
 third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate.h
 third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate_c_api.h
@@ -14008,7 +13989,6 @@ third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/status.cc
 third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/env.cc
 third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stacktrace.cc
 third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stacktrace_handler.cc
-third_party/tflite/src/third_party/xla/xla/mlir_hlo/mhlo/transforms/chlo_legalize_to_hlo/chlo_legalize_to_hlo.cc
 third_party/tflite/src/third_party/xla/xla/pjrt/c/pjrt_c_api.h
 third_party/tflite/src/third_party/xla/xla/pjrt/pjrt_api.cc
 third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/transpose.h
@@ -14656,6 +14636,7 @@ third_party/wpt_tools/wpt/websockets/handlers/send-backpressure_wsh.py
 third_party/wuffs/BUILD.gn
 third_party/wuffs/src/release/c/wuffs-v0.3.c
 third_party/xdg-utils/scripts/desc/xdg-settings.xml
+third_party/xnnpack/generate_build_gn.py
 third_party/xnnpack/src/CMakeLists.txt
 third_party/zlib/deflate.c
 third_party/zlib/google/compression_utils_portable.cc
@@ -14748,6 +14729,7 @@ tools/chrome_extensions/open_my_editor/ext/cr-content.js
 tools/chrome_extensions/open_my_editor/ext/cs-content.js
 tools/chrome_extensions/open_my_editor/ext/manifest.json
 tools/clang/blink_gc_plugin/BlinkGCPlugin.cpp
+tools/clang/iterator_checker/tests/PRESUBMIT.py
 tools/clang/plugins/ChromeClassTester.cpp
 tools/clang/plugins/tests/bad_raw_ptr_cast_in_the_wild.cpp
 tools/clang/plugins/tests/raw_ptr_to_stack_allocated.cpp
@@ -14941,6 +14923,7 @@ tools/metrics/histograms/metadata/cryptohome/histograms.xml
 tools/metrics/histograms/metadata/custom_tabs/enums.xml
 tools/metrics/histograms/metadata/custom_tabs/histograms.xml
 tools/metrics/histograms/metadata/data/histograms.xml
+tools/metrics/histograms/metadata/desktop/histograms.xml
 tools/metrics/histograms/metadata/dev/enums.xml
 tools/metrics/histograms/metadata/dev/histograms.xml
 tools/metrics/histograms/metadata/disk/histograms.xml
@@ -14992,6 +14975,8 @@ tools/metrics/histograms/metadata/language/histograms.xml
 tools/metrics/histograms/metadata/leveldb_proto/histograms.xml
 tools/metrics/histograms/metadata/local/histograms.xml
 tools/metrics/histograms/metadata/login/histograms.xml
+tools/metrics/histograms/metadata/mac/enums.xml
+tools/metrics/histograms/metadata/mac/histograms.xml
 tools/metrics/histograms/metadata/magic_stack/enums.xml
 tools/metrics/histograms/metadata/magic_stack/histograms.xml
 tools/metrics/histograms/metadata/media/enums.xml
@@ -15069,6 +15054,7 @@ tools/metrics/histograms/metadata/sb_client/enums.xml
 tools/metrics/histograms/metadata/sb_client/histograms.xml
 tools/metrics/histograms/metadata/scanning/enums.xml
 tools/metrics/histograms/metadata/scanning/histograms.xml
+tools/metrics/histograms/metadata/scheduler/enums.xml
 tools/metrics/histograms/metadata/scheduler/histograms.xml
 tools/metrics/histograms/metadata/search/histograms.xml
 tools/metrics/histograms/metadata/security/enums.xml
@@ -15108,6 +15094,7 @@ tools/metrics/histograms/metadata/ukm/histograms.xml
 tools/metrics/histograms/metadata/uma/enums.xml
 tools/metrics/histograms/metadata/uma/histograms.xml
 tools/metrics/histograms/metadata/update_engine/histograms.xml
+tools/metrics/histograms/metadata/user_education/histograms.xml
 tools/metrics/histograms/metadata/v8/enums.xml
 tools/metrics/histograms/metadata/v8/histograms.xml
 tools/metrics/histograms/metadata/variations/enums.xml
@@ -15410,6 +15397,7 @@ tools/run-swarmed.py
 tools/rust/build_bindgen.py
 tools/rust/build_rust.py
 tools/sample_clang_tidy_results.py
+tools/search_engine_choice/download_search_engine_icons.py
 tools/search_engine_choice/generate_search_engine_icons.py
 tools/search_engine_choice/generate_search_engine_icons_config.json
 tools/site_compare/commands/measure.py
@@ -15605,6 +15593,7 @@ ui/ozone/platform/wayland/host/shell_popup_wrapper.cc
 ui/ozone/platform/wayland/host/wayland_clipboard.cc
 ui/ozone/platform/wayland/host/wayland_exchange_data_provider_unittest.cc
 ui/ozone/platform/wayland/host/wayland_output.h
+ui/ozone/platform/wayland/host/wayland_window.cc
 ui/ozone/platform/x11/test/os_exchange_data_provider_x11_unittest.cc
 ui/ozone/platform/x11/x11_window.cc
 ui/resources/PRESUBMIT.py
@@ -15740,6 +15729,7 @@ v8/tools/callstats.py
 v8/tools/clusterfuzz/js_fuzzer/package.json
 v8/tools/cppgc/gen_cmake.py
 v8/tools/dev/gm.py
+v8/tools/dev/setup-reclient.py
 v8/tools/grokdump.py
 v8/tools/heap-snapshot-processor.py
 v8/tools/heap-stats/index.html
diff --git a/patches/core/bromite/disable-fetching-field-trials.patch b/patches/core/bromite/disable-fetching-field-trials.patch
index 76274e3b67..12925572eb 100644
--- a/patches/core/bromite/disable-fetching-field-trials.patch
+++ b/patches/core/bromite/disable-fetching-field-trials.patch
@@ -10,7 +10,7 @@ Subject: Disable fetching of all field trials
 
 --- a/chrome/browser/flags/android/java/src/org/chromium/chrome/browser/flags/ChromeFeatureList.java
 +++ b/chrome/browser/flags/android/java/src/org/chromium/chrome/browser/flags/ChromeFeatureList.java
-@@ -50,7 +50,7 @@ public abstract class ChromeFeatureList
+@@ -51,7 +51,7 @@ public abstract class ChromeFeatureList
       * |kFeaturesExposedToJava| in chrome/browser/flags/android/chrome_feature_list.cc
       */
      public static String getFieldTrialParamByFeature(String featureName, String paramName) {
@@ -19,7 +19,7 @@ Subject: Disable fetching of all field trials
      }
  
      /**
-@@ -62,8 +62,7 @@ public abstract class ChromeFeatureList
+@@ -63,8 +63,7 @@ public abstract class ChromeFeatureList
       */
      public static boolean getFieldTrialParamByFeatureAsBoolean(
              String featureName, String paramName, boolean defaultValue) {
@@ -29,7 +29,7 @@ Subject: Disable fetching of all field trials
      }
  
      /**
-@@ -75,8 +74,7 @@ public abstract class ChromeFeatureList
+@@ -76,8 +75,7 @@ public abstract class ChromeFeatureList
       */
      public static int getFieldTrialParamByFeatureAsInt(
              String featureName, String paramName, int defaultValue) {
@@ -39,7 +39,7 @@ Subject: Disable fetching of all field trials
      }
  
      /**
-@@ -88,8 +86,7 @@ public abstract class ChromeFeatureList
+@@ -89,8 +87,7 @@ public abstract class ChromeFeatureList
       */
      public static double getFieldTrialParamByFeatureAsDouble(
              String featureName, String paramName, double defaultValue) {
diff --git a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
index 009036aaa8..eccfe74a05 100644
--- a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
+++ b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2378,7 +2378,6 @@ static_library("browser") {
+@@ -2425,7 +2425,6 @@ static_library("browser") {
      "//components/reporting/util:task_runner_context",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -8,7 +8,7 @@
      "//components/safe_browsing/content/browser:safe_browsing_service",
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
-@@ -3773,8 +3772,6 @@ static_library("browser") {
+@@ -3829,8 +3828,6 @@ static_library("browser") {
        "download/download_commands.h",
        "download/download_crx_util.cc",
        "download/download_crx_util.h",
@@ -30,7 +30,7 @@
  namespace subresource_filter {
  class RulesetService;
  }
-@@ -219,9 +215,6 @@ class BrowserProcess {
+@@ -222,9 +218,6 @@ class BrowserProcess {
    // on this platform (or this is a unit test).
    virtual StatusTray* status_tray() = 0;
  
@@ -42,7 +42,7 @@
    virtual subresource_filter::RulesetService*
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -73,7 +73,6 @@
+@@ -75,7 +75,6 @@
  #include "chrome/browser/printing/print_job_manager.h"
  #include "chrome/browser/profiles/profile_manager.h"
  #include "chrome/browser/resource_coordinator/resource_coordinator_parts.h"
@@ -50,7 +50,7 @@
  #include "chrome/browser/shell_integration.h"
  #include "chrome/browser/site_isolation/prefs_observer.h"
  #include "chrome/browser/ssl/secure_origin_prefs_observer.h"
-@@ -446,8 +445,6 @@ void BrowserProcessImpl::StartTearDown()
+@@ -452,8 +451,6 @@ void BrowserProcessImpl::StartTearDown()
  #endif
    metrics_services_manager_.reset();
    intranet_redirect_detector_.reset();
@@ -59,7 +59,7 @@
    network_time_tracker_.reset();
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS)
-@@ -1118,14 +1115,6 @@ StatusTray* BrowserProcessImpl::status_t
+@@ -1122,14 +1119,6 @@ StatusTray* BrowserProcessImpl::status_t
    return status_tray_.get();
  }
  
@@ -74,7 +74,7 @@
  subresource_filter::RulesetService*
  BrowserProcessImpl::subresource_filter_ruleset_service() {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
-@@ -1391,26 +1380,6 @@ void BrowserProcessImpl::CreateBackgroun
+@@ -1429,26 +1418,6 @@ void BrowserProcessImpl::CreateBackgroun
  #endif
  }
  
@@ -103,15 +103,15 @@
    created_subresource_filter_ruleset_service_ = true;
 --- a/chrome/browser/browser_process_impl.h
 +++ b/chrome/browser/browser_process_impl.h
-@@ -196,7 +196,6 @@ class BrowserProcessImpl : public Browse
+@@ -197,7 +197,6 @@ class BrowserProcessImpl : public Browse
        std::unique_ptr<BackgroundModeManager> manager) override;
  #endif
    StatusTray* status_tray() override;
 -  safe_browsing::SafeBrowsingService* safe_browsing_service() override;
    subresource_filter::RulesetService* subresource_filter_ruleset_service()
        override;
- 
-@@ -356,9 +355,6 @@ class BrowserProcessImpl : public Browse
+   subresource_filter::RulesetService*
+@@ -360,9 +359,6 @@ class BrowserProcessImpl : public Browse
    std::unique_ptr<BackgroundModeManager> background_mode_manager_;
  #endif
  
@@ -131,7 +131,7 @@
  #include "chrome/browser/safe_browsing/verdict_cache_manager_factory.h"
  #include "chrome/browser/search_engines/template_url_service_factory.h"
  #include "chrome/browser/share/share_history.h"
-@@ -639,10 +638,6 @@ void ChromeBrowsingDataRemoverDelegate::
+@@ -641,10 +640,6 @@ void ChromeBrowsingDataRemoverDelegate::
      base::RecordAction(UserMetricsAction("ClearBrowsingData_Cookies"));
  
      network::mojom::NetworkContext* safe_browsing_context = nullptr;
@@ -144,7 +144,7 @@
      browsing_data::RemoveFederatedSiteSettingsData(delete_begin_, delete_end_,
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5091,10 +5091,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5169,10 +5169,6 @@ ChromeContentBrowserClient::CreateThrott
    throttles.push_back(std::make_unique<PolicyBlocklistNavigationThrottle>(
        handle, handle->GetWebContents()->GetBrowserContext()));
  
@@ -155,7 +155,7 @@
    throttles.push_back(std::make_unique<SSLErrorNavigationThrottle>(
        handle,
        base::BindOnce(&HandleSSLErrorWrapper), base::BindOnce(&IsInHostedApp),
-@@ -5146,16 +5142,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5224,16 +5220,6 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -172,7 +172,7 @@
    if (base::FeatureList::IsEnabled(safe_browsing::kDelayedWarnings)) {
      throttles.push_back(
          std::make_unique<safe_browsing::DelayedWarningNavigationThrottle>(
-@@ -5448,8 +5434,6 @@ bool ChromeContentBrowserClient::IsPlugi
+@@ -5534,8 +5520,6 @@ bool ChromeContentBrowserClient::IsPlugi
  void ChromeContentBrowserClient::InitOnUIThread() {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
  
@@ -207,7 +207,7 @@
  }  // namespace
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
-@@ -502,13 +502,6 @@ void ChromeDownloadManagerDelegate::SetD
+@@ -504,13 +504,6 @@ void ChromeDownloadManagerDelegate::SetD
  
    download_manager_ = dm;
  
@@ -221,7 +221,7 @@
    if (download_manager_) {
      download_manager_->AddObserver(this);
    }
-@@ -924,17 +917,6 @@ void ChromeDownloadManagerDelegate::Choo
+@@ -933,17 +926,6 @@ void ChromeDownloadManagerDelegate::Choo
  void ChromeDownloadManagerDelegate::SanitizeSavePackageResourceName(
      base::FilePath* filename,
      const GURL& source_url) {
@@ -241,7 +241,7 @@
  void ChromeDownloadManagerDelegate::SanitizeDownloadParameters(
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -114,7 +114,7 @@ class DownloadItemModelData : public bas
+@@ -119,7 +119,7 @@ class DownloadItemModelData : public bas
  
    // Danger level of the file determined based on the file type and whether
    // there was a user action associated with the download.
@@ -250,7 +250,7 @@
  
    // Whether the download is currently being revived.
    bool is_being_revived_ = false;
-@@ -531,13 +531,13 @@ void DownloadItemModel::SetShouldPreferO
+@@ -535,13 +535,13 @@ void DownloadItemModel::SetShouldPreferO
    data->should_prefer_opening_in_browser_ = preference;
  }
  
@@ -267,7 +267,7 @@
    DownloadItemModelData* data = DownloadItemModelData::GetOrCreate(download_);
    data->danger_level_ = danger_level;
  }
-@@ -714,9 +714,6 @@ bool DownloadItemModel::IsCommandEnabled
+@@ -748,9 +748,6 @@ bool DownloadItemModel::IsCommandEnabled
        // filename. Don't base an "Always open" decision based on it. Also
        // exclude extensions.
        return download_->CanOpenDownload() &&
@@ -364,7 +364,7 @@
  #include "chrome/browser/download/download_file_icon_extractor.h"
  #include "chrome/browser/download/download_open_prompt.h"
  #include "chrome/browser/download/download_prefs.h"
-@@ -1380,9 +1379,6 @@ DownloadsAcceptDangerFunction::Downloads
+@@ -1378,9 +1377,6 @@ DownloadsAcceptDangerFunction::Downloads
  
  DownloadsAcceptDangerFunction::~DownloadsAcceptDangerFunction() {}
  
@@ -374,7 +374,7 @@
  ExtensionFunction::ResponseAction DownloadsAcceptDangerFunction::Run() {
    std::optional<downloads::AcceptDanger::Params> params =
        downloads::AcceptDanger::Params::Create(args());
-@@ -1420,42 +1416,7 @@ void DownloadsAcceptDangerFunction::Prom
+@@ -1418,42 +1414,7 @@ void DownloadsAcceptDangerFunction::Prom
      return;
    }
    RecordApiFunctions(DOWNLOADS_FUNCTION_ACCEPT_DANGER);
@@ -500,7 +500,7 @@
            referrer_entries)));
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
-@@ -731,18 +731,6 @@ void WebstorePrivateBeginInstallWithMani
+@@ -692,18 +692,6 @@ void WebstorePrivateBeginInstallWithMani
  
  void WebstorePrivateBeginInstallWithManifest3Function::
      ReportFrictionAcceptedEvent() {
@@ -519,7 +519,7 @@
  }
  
  void WebstorePrivateBeginInstallWithManifest3Function::OnInstallPromptDone(
-@@ -1255,54 +1243,9 @@ WebstorePrivateGetReferrerChainFunction:
+@@ -1202,54 +1190,9 @@ WebstorePrivateGetReferrerChainFunction:
  
  ExtensionFunction::ResponseAction
  WebstorePrivateGetReferrerChainFunction::Run() {
@@ -655,7 +655,7 @@
  #include "chrome/browser/sessions/exit_type_service.h"
  #include "chrome/browser/sharing/sharing_service_factory.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
-@@ -643,17 +642,6 @@ void ProfileImpl::LoadPrefsForNormalStar
+@@ -640,17 +639,6 @@ void ProfileImpl::LoadPrefsForNormalStar
  
    mojo::PendingRemote<prefs::mojom::TrackedPreferenceValidationDelegate>
        pref_validation_delegate;
@@ -703,7 +703,7 @@
  
    if (is_android) {
      deps += [ "//chrome/browser/password_manager/android:utils" ]
-@@ -505,6 +507,7 @@ static_library("advanced_protection") {
+@@ -506,6 +508,7 @@ static_library("advanced_protection") {
  }
  
  source_set("metrics_collector") {
@@ -711,7 +711,7 @@
    sources = [
      "safe_browsing_metrics_collector_factory.cc",
      "safe_browsing_metrics_collector_factory.h",
-@@ -524,6 +527,7 @@ source_set("metrics_collector") {
+@@ -525,6 +528,7 @@ source_set("metrics_collector") {
      "//components/safe_browsing/core/common:safe_browsing_prefs",
      "//content/public/browser",
    ]
@@ -817,7 +817,7 @@
  
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -5251,7 +5251,6 @@ static_library("ui") {
+@@ -5327,7 +5327,6 @@ static_library("ui") {
        "views/download/bubble/download_dialog_view.h",
        "views/download/bubble/download_toolbar_button_view.cc",
        "views/download/bubble/download_toolbar_button_view.h",
@@ -827,7 +827,7 @@
        "views/download/download_item_view.cc",
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -483,22 +483,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -486,22 +486,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    //     See https://crbug.com/910288.
    resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
        web_contents);
@@ -973,14 +973,14 @@
    bool IsDeletingHistoryAllowed();
 --- a/chrome/browser/ui/webui/interstitials/interstitial_ui.cc
 +++ b/chrome/browser/ui/webui/interstitials/interstitial_ui.cc
-@@ -280,68 +280,6 @@ CreateHttpsOnlyModePage(content::WebCont
+@@ -275,69 +275,6 @@ CreateHttpsOnlyModePage(content::WebCont
        security_interstitials::https_only_mode::HttpInterstitialState{});
  }
  
 -std::unique_ptr<security_interstitials::SecurityInterstitialPage>
 -CreateSafeBrowsingBlockingPage(content::WebContents* web_contents) {
 -  safe_browsing::SBThreatType threat_type =
--      safe_browsing::SB_THREAT_TYPE_URL_MALWARE;
+-      safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
 -  GURL request_url("http://example.com");
 -  std::string url_param;
 -  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "url",
@@ -996,15 +996,16 @@
 -  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "type",
 -                                 &type_param)) {
 -    if (type_param == "malware") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_MALWARE;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
 -    } else if (type_param == "phishing") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_PHISHING;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_PHISHING;
 -    } else if (type_param == "unwanted") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_UNWANTED;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_UNWANTED;
 -    } else if (type_param == "clientside_phishing") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING;
+-      threat_type =
+-          safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING;
 -    } else if (type_param == "billing") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_BILLING;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_BILLING;
 -    }
 -  }
 -  auto* primary_main_frame = web_contents->GetPrimaryMainFrame();
@@ -1042,7 +1043,7 @@
  std::unique_ptr<EnterpriseBlockPage> CreateEnterpriseBlockPage(
      content::WebContents* web_contents) {
    const GURL kRequestUrl("https://enterprise-block.example.net");
-@@ -352,94 +290,6 @@ std::unique_ptr<EnterpriseBlockPage> Cre
+@@ -348,95 +285,6 @@ std::unique_ptr<EnterpriseBlockPage> Cre
                                                          kRequestUrl));
  }
  
@@ -1060,7 +1061,8 @@
 -  resource.url = kRequestUrl;
 -  resource.is_subresource = false;
 -  resource.is_subframe = false;
--  resource.threat_type = safe_browsing::SB_THREAT_TYPE_MANAGED_POLICY_WARN;
+-  resource.threat_type =
+-      safe_browsing::SBThreatType::SB_THREAT_TYPE_MANAGED_POLICY_WARN;
 -  resource.render_process_id = primary_main_frame_id.child_id;
 -  resource.render_frame_token = primary_main_frame->GetFrameToken().value();
 -  resource.threat_source =
@@ -1079,7 +1081,7 @@
 -std::unique_ptr<TestSafeBrowsingBlockingPageQuiet>
 -CreateSafeBrowsingQuietBlockingPage(content::WebContents* web_contents) {
 -  safe_browsing::SBThreatType threat_type =
--      safe_browsing::SB_THREAT_TYPE_URL_MALWARE;
+-      safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
 -  GURL request_url("http://example.com");
 -  std::string url_param;
 -  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "url",
@@ -1093,15 +1095,15 @@
 -  if (net::GetValueForKeyInQuery(web_contents->GetVisibleURL(), "type",
 -                                 &type_param)) {
 -    if (type_param == "malware") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_MALWARE;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
 -    } else if (type_param == "phishing") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_PHISHING;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_PHISHING;
 -    } else if (type_param == "unwanted") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_UNWANTED;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_UNWANTED;
 -    } else if (type_param == "billing") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_BILLING;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_BILLING;
 -    } else if (type_param == "giant") {
--      threat_type = safe_browsing::SB_THREAT_TYPE_URL_MALWARE;
+-      threat_type = safe_browsing::SBThreatType::SB_THREAT_TYPE_URL_MALWARE;
 -      is_giant_webview = true;
 -    }
 -  }
@@ -1137,7 +1139,7 @@
  #if BUILDFLAG(ENABLE_CAPTIVE_PORTAL_DETECTION)
  std::unique_ptr<CaptivePortalBlockingPage> CreateCaptivePortalBlockingPage(
      content::WebContents* web_contents) {
-@@ -546,12 +396,8 @@ void InterstitialHTMLSource::StartDataRe
+@@ -543,12 +391,8 @@ void InterstitialHTMLSource::StartDataRe
      interstitial_delegate = CreateMITMSoftwareBlockingPage(web_contents);
    } else if (path_without_query == "/blocked-interception") {
      interstitial_delegate = CreateBlockedInterceptionBlockingPage(web_contents);
@@ -1150,7 +1152,7 @@
    } else if (path_without_query == "/clock") {
      interstitial_delegate = CreateBadClockBlockingPage(web_contents);
    } else if (path_without_query == "/lookalike") {
-@@ -566,16 +412,12 @@ void InterstitialHTMLSource::StartDataRe
+@@ -563,12 +407,7 @@ void InterstitialHTMLSource::StartDataRe
      interstitial_delegate = CreateHttpsOnlyModePage(web_contents);
    }
  
@@ -1159,28 +1161,22 @@
 -        CreateSafeBrowsingQuietBlockingPage(web_contents);
 -    html = blocking_page->GetHTML();
 -    interstitial_delegate = std::move(blocking_page);
- #if BUILDFLAG(ENABLE_SUPERVISED_USERS)
 -  } else if (path_without_query == "/supervised_user") {
 +  if (path_without_query == "/supervised_user") {
      html = GetSupervisedUserInterstitialHTML(path);
-+  } else
- #endif
--  } else if (interstitial_delegate.get()) {
-+  if (interstitial_delegate.get()) {
+   } else if (interstitial_delegate.get()) {
      html = interstitial_delegate.get()->GetHTMLContents();
-   } else {
-     html = ui::ResourceBundle::GetSharedInstance().LoadDataResourceString(
 --- a/chrome/renderer/chrome_content_renderer_client.cc
 +++ b/chrome/renderer/chrome_content_renderer_client.cc
-@@ -103,7 +103,6 @@
- #include "components/pdf/common/constants.h"
+@@ -106,7 +106,6 @@
+ #include "components/pdf/common/pdf_util.h"
  #include "components/permissions/features.h"
  #include "components/safe_browsing/buildflags.h"
 -#include "components/safe_browsing/content/renderer/threat_dom_details.h"
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/subresource_filter/content/renderer/subresource_filter_agent.h"
  #include "components/subresource_filter/content/renderer/unverified_ruleset_dealer.h"
-@@ -467,12 +466,8 @@ void ChromeContentRendererClient::Render
+@@ -465,12 +464,8 @@ void ChromeContentRendererClient::Render
    subresource_filter_ruleset_dealer_ =
        std::make_unique<subresource_filter::UnverifiedRulesetDealer>();
  
diff --git a/patches/core/inox-patchset/0009-disable-google-ipv6-probes.patch b/patches/core/inox-patchset/0009-disable-google-ipv6-probes.patch
index 833b8c8dd6..7a7be6d3ee 100644
--- a/patches/core/inox-patchset/0009-disable-google-ipv6-probes.patch
+++ b/patches/core/inox-patchset/0009-disable-google-ipv6-probes.patch
@@ -1,6 +1,6 @@
 --- a/net/dns/host_resolver_manager.cc
 +++ b/net/dns/host_resolver_manager.cc
-@@ -150,10 +150,10 @@ const size_t kMaxHostLength = 4096;
+@@ -151,10 +151,10 @@ const size_t kMaxHostLength = 4096;
  // cached.
  const int kIPv6ProbePeriodMs = 1000;
  
@@ -13,4 +13,4 @@
 +                                     0x00, 0x00, 0x00, 0x01};
  
  // True if |hostname| ends with either ".local" or ".local.".
- bool ResemblesMulticastDNSName(base::StringPiece hostname) {
+ bool ResemblesMulticastDNSName(std::string_view hostname) {
diff --git a/patches/core/inox-patchset/0021-disable-rlz.patch b/patches/core/inox-patchset/0021-disable-rlz.patch
index cd9263e6ae..f3d9592245 100644
--- a/patches/core/inox-patchset/0021-disable-rlz.patch
+++ b/patches/core/inox-patchset/0021-disable-rlz.patch
@@ -2,7 +2,7 @@
 
 --- a/BUILD.gn
 +++ b/BUILD.gn
-@@ -459,14 +459,6 @@ group("gn_all") {
+@@ -460,14 +460,6 @@ group("gn_all") {
        deps += [ "//chromeos:chromeos_unittests" ]
      }
  
diff --git a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
index 13fe08b5be..9719116e2b 100644
--- a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
+++ b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
@@ -112,7 +112,7 @@ by default.
      scoped_refptr<base::SequencedTaskRunner> task_runner)
 --- a/chrome/browser/media/webrtc/webrtc_log_uploader.cc
 +++ b/chrome/browser/media/webrtc/webrtc_log_uploader.cc
-@@ -523,7 +523,7 @@ void WebRtcLogUploader::UploadCompressed
+@@ -525,7 +525,7 @@ void WebRtcLogUploader::UploadCompressed
            }
          })");
  
@@ -178,7 +178,7 @@ by default.
                base::ToLowerASCII(bdict_file));
 --- a/chrome/browser/ui/dialogs/outdated_upgrade_bubble.cc
 +++ b/chrome/browser/ui/dialogs/outdated_upgrade_bubble.cc
-@@ -42,7 +42,7 @@ const char* kUpdateBrowserRedirectUrl =
+@@ -44,7 +44,7 @@ const char* kUpdateBrowserRedirectUrl =
  #else
      // The URL to be used to re-install Chrome when auto-update failed for
      // too long.
@@ -227,7 +227,7 @@ by default.
  
 --- a/chrome/installer/setup/google_chrome_behaviors.cc
 +++ b/chrome/installer/setup/google_chrome_behaviors.cc
-@@ -37,7 +37,7 @@ namespace installer {
+@@ -36,7 +36,7 @@ namespace installer {
  namespace {
  
  constexpr std::wstring_view kUninstallSurveyUrl(
@@ -366,7 +366,7 @@ by default.
 +const char kSecurityOrigin[] = "trk:220:https://translate.googleapis.com/";
  
  // The feature is explicitly disabled on Webview and Weblayer.
- // TODO(crbug.com/1292622): Enable the feature on Webview.
+ // TODO(crbug.com/40819484): Enable the feature on Webview.
 --- a/components/variations/variations_url_constants.cc
 +++ b/components/variations/variations_url_constants.cc
 @@ -8,7 +8,7 @@ namespace variations {
@@ -380,7 +380,7 @@ by default.
      "http://clientservices.googleapis.com/chrome-variations/seed";
 --- a/content/browser/speech/network_speech_recognition_engine_impl.cc
 +++ b/content/browser/speech/network_speech_recognition_engine_impl.cc
-@@ -34,7 +34,7 @@ namespace content {
+@@ -35,7 +35,7 @@ namespace content {
  namespace {
  
  const char kWebServiceBaseUrl[] =
@@ -416,7 +416,7 @@ by default.
    GURL url(base::WideToUTF16(args[0]));
 --- a/extensions/common/extension_urls.cc
 +++ b/extensions/common/extension_urls.cc
-@@ -30,10 +30,10 @@ bool IsSourceFromAnExtension(const std::
+@@ -32,10 +32,10 @@ bool IsSourceFromAnExtension(const std::
  
  namespace extension_urls {
  
diff --git a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
index 0d90b35bff..32774da651 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-incident-reporting.patch
@@ -56,7 +56,7 @@ the URL so we get notified if this happens again in the future).
  IncidentReportingService::IncidentReportingService(
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -333,7 +333,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
+@@ -371,7 +371,7 @@ SafeBrowsingUIManager* SafeBrowsingServi
  }
  
  void SafeBrowsingService::RegisterAllDelayedAnalysis() {
diff --git a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
index bf17296955..370302ca30 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
@@ -13,7 +13,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
 
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -245,6 +245,10 @@ void ClientSideDetectionService::StartCl
+@@ -249,6 +249,10 @@ void ClientSideDetectionService::StartCl
      return;
    }
  
@@ -24,7 +24,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
    std::string request_data;
    request->SerializeToString(&request_data);
  
-@@ -326,6 +330,7 @@ void ClientSideDetectionService::StartCl
+@@ -330,6 +334,7 @@ void ClientSideDetectionService::StartCl
        base::BindOnce(&WebUIInfoSingleton::AddToClientPhishingRequestsSent,
                       base::Unretained(WebUIInfoSingleton::GetInstance()),
                       std::move(request), access_token));
diff --git a/patches/core/ungoogled-chromium/block-requests.patch b/patches/core/ungoogled-chromium/block-requests.patch
index 7ca5801943..c28a904500 100644
--- a/patches/core/ungoogled-chromium/block-requests.patch
+++ b/patches/core/ungoogled-chromium/block-requests.patch
@@ -48,8 +48,8 @@
  
 --- a/components/affiliations/core/browser/hash_affiliation_fetcher.cc
 +++ b/components/affiliations/core/browser/hash_affiliation_fetcher.cc
-@@ -53,6 +53,9 @@ HashAffiliationFetcher::HashAffiliationF
- HashAffiliationFetcher::~HashAffiliationFetcher() = default;
+@@ -121,6 +121,9 @@ AffiliationFetcherDelegate* HashAffiliat
+ }
  
  void HashAffiliationFetcher::StartRequest(
 +    const std::vector<FacetURI>& a, RequestInfo b) {}
@@ -60,14 +60,14 @@
    requested_facet_uris_ = facet_uris;
 --- a/components/affiliations/core/browser/hash_affiliation_fetcher.h
 +++ b/components/affiliations/core/browser/hash_affiliation_fetcher.h
-@@ -22,6 +22,7 @@ class HashAffiliationFetcher : public Af
- 
+@@ -37,6 +37,7 @@ class HashAffiliationFetcher : public Af
+   // AffiliationFetcherInterface
    void StartRequest(const std::vector<FacetURI>& facet_uris,
                      RequestInfo request_info) override;
 +  void DeadStartRequest(const std::vector<FacetURI>& a, RequestInfo b);
- 
-   // AffiliationFetcherInterface
    const std::vector<FacetURI>& GetRequestedFacetURIs() const override;
+ 
+   // Builds the URL for the Affiliation API's lookup method.
 --- a/components/assist_ranker/ranker_url_fetcher.cc
 +++ b/components/assist_ranker/ranker_url_fetcher.cc
 @@ -31,6 +31,7 @@ bool RankerURLFetcher::Request(
diff --git a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
index e07f8b7164..2ffc135314 100644
--- a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
+++ b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/browser/autocomplete/chrome_autocomplete_scheme_classifier.cc
 +++ b/chrome/browser/autocomplete/chrome_autocomplete_scheme_classifier.cc
-@@ -58,6 +58,7 @@ ChromeAutocompleteSchemeClassifier::GetI
+@@ -56,6 +56,7 @@ ChromeAutocompleteSchemeClassifier::GetI
    if (base::IsStringASCII(scheme) &&
        (ProfileIOData::IsHandledProtocol(scheme) ||
         base::EqualsCaseInsensitiveASCII(scheme, content::kViewSourceScheme) ||
@@ -60,7 +60,7 @@
      return GURL(parts.scheme.is_valid() ? text : FixupPath(text));
 --- a/content/browser/child_process_security_policy_impl.cc
 +++ b/content/browser/child_process_security_policy_impl.cc
-@@ -836,6 +836,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
+@@ -825,6 +825,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
    RegisterWebSafeScheme(url::kWssScheme);
  #endif  // BUILDFLAG(ENABLE_WEBSOCKETS)
    RegisterWebSafeScheme(url::kDataScheme);
@@ -70,7 +70,7 @@
    // other origins, so we should not treat them as web safe. Remove callers of
 --- a/net/BUILD.gn
 +++ b/net/BUILD.gn
-@@ -988,6 +988,8 @@ component("net") {
+@@ -996,6 +996,8 @@ component("net") {
      "url_request/referrer_policy.h",
      "url_request/static_http_user_agent_settings.cc",
      "url_request/static_http_user_agent_settings.h",
@@ -181,7 +181,7 @@
  #include "net/url_request/url_request_context.h"
  #include "net/url_request/url_request_job_factory.h"
  #include "url/url_constants.h"
-@@ -561,6 +562,9 @@ std::unique_ptr<URLRequestContext> URLRe
+@@ -577,6 +578,9 @@ std::unique_ptr<URLRequestContext> URLRe
    }
    protocol_handlers_.clear();
  
@@ -191,17 +191,6 @@
    context->set_job_factory(std::move(job_factory));
  
    if (cookie_deprecation_label_.has_value()) {
---- a/url/url_constants.cc
-+++ b/url/url_constants.cc
-@@ -42,6 +42,8 @@ const char kMailToScheme[] = "mailto";
- const char16_t kMailToScheme16[] = u"mailto";
- const char kTelScheme[] = "tel";
- const char16_t kTelScheme16[] = u"tel";
-+const char kTraceScheme[] = "trk";
-+const char16_t kTraceScheme16[] = u"trk";
- const char kUrnScheme[] = "urn";
- const char16_t kUrnScheme16[] = u"urn";
- const char kUuidInPackageScheme[] = "uuid-in-package";
 --- a/url/url_constants.h
 +++ b/url/url_constants.h
 @@ -45,6 +45,8 @@ inline constexpr char kMailToScheme[] =
diff --git a/patches/core/ungoogled-chromium/disable-crash-reporter.patch b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
index bf1b3cdb90..c40ec847c6 100644
--- a/patches/core/ungoogled-chromium/disable-crash-reporter.patch
+++ b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -2514,24 +2514,6 @@ void ChromeContentBrowserClient::AppendE
+@@ -2548,24 +2548,6 @@ void ChromeContentBrowserClient::AppendE
      command_line->AppendSwitchASCII(switches::kMetricsClientID,
                                      client_info->client_id);
    }
@@ -44,18 +44,18 @@
                              const base::FilePath& exe_path,
 --- a/components/gwp_asan/client/gwp_asan.cc
 +++ b/components/gwp_asan/client/gwp_asan.cc
-@@ -239,6 +239,11 @@ bool IsMutuallyExclusiveFeatureAllowed(c
+@@ -241,6 +241,11 @@ bool IsMutuallyExclusiveFeatureAllowed(c
  
  // Exported for testing.
  GWP_ASAN_EXPORT std::optional<AllocatorSettings> GetAllocatorSettings(
-+    const base::Feature& a, bool b, const char* c) {
++    const base::Feature& a, bool b) {
 +  return std::nullopt;
 +}
 +[[maybe_unused]]
 +std::optional<AllocatorSettings> DeadGetAllocatorSettings(
      const base::Feature& feature,
-     bool boost_sampling,
-     const char* process_type) {
+     bool boost_sampling) {
+   if (!base::FeatureList::IsEnabled(feature))
 --- a/third_party/crashpad/crashpad/client/crashpad_client_linux.cc
 +++ b/third_party/crashpad/crashpad/client/crashpad_client_linux.cc
 @@ -748,8 +748,6 @@ void CrashpadClient::CrashWithoutDump(co
diff --git a/patches/core/ungoogled-chromium/disable-google-host-detection.patch b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
index be73298613..f864c94fcf 100644
--- a/patches/core/ungoogled-chromium/disable-google-host-detection.patch
+++ b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
@@ -521,7 +521,7 @@
 -  const base::StringPiece hostname = url.host_piece();
 -  if (registry_length == 0 || registry_length == std::string::npos ||
 -      registry_length >= hostname.length()) {
--    return std::optional<std::string>();
+-    return std::nullopt;
 -  }
 -
 -  // Removes the tld and the preceding dot.
@@ -533,12 +533,11 @@
 -
 -  if (!base::EndsWith(hostname_minus_registry, ".google",
 -                      base::CompareCase::INSENSITIVE_ASCII)) {
--    return std::optional<std::string>();
+     return std::nullopt;
 -  }
 -
 -  return std::string(hostname_minus_registry.substr(
 -      0, hostname_minus_registry.length() - strlen(".google")));
-+  return std::optional<std::string>();
  }
  
  bool IsGoogleHostname(const GURL& url) {
diff --git a/patches/core/ungoogled-chromium/disable-mei-preload.patch b/patches/core/ungoogled-chromium/disable-mei-preload.patch
index bdbf4a3579..0ddf5c4d38 100644
--- a/patches/core/ungoogled-chromium/disable-mei-preload.patch
+++ b/patches/core/ungoogled-chromium/disable-mei-preload.patch
@@ -7,7 +7,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -369,7 +369,6 @@ if (!is_android && !is_mac) {
+@@ -372,7 +372,6 @@ if (!is_android && !is_mac) {
        }
  
        data_deps += [
@@ -15,7 +15,7 @@
          "//third_party/widevine/cdm",
        ]
        if (invoker.collect_inputs_only) {
-@@ -1215,7 +1214,6 @@ if (is_win) {
+@@ -1218,7 +1217,6 @@ if (is_win) {
        ":optimization_guide_library",
        ":swiftshader_library",
        ":widevine_cdm_library",
diff --git a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
index 942236e3ee..edc5c143d9 100644
--- a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
+++ b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
@@ -11,7 +11,7 @@
               "AttributionReportingTriggerContextId",
 --- a/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
 +++ b/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
-@@ -123,7 +123,7 @@ std::set<browsing_topics::Topic> GetTopi
+@@ -125,7 +125,7 @@ std::set<browsing_topics::Topic> GetTopi
  
  // static
  bool PrivacySandboxSettingsImpl::IsAllowed(Status status) {
@@ -20,7 +20,7 @@
  }
  
  // static
-@@ -744,7 +744,7 @@ void PrivacySandboxSettingsImpl::SetTopi
+@@ -757,7 +757,7 @@ void PrivacySandboxSettingsImpl::SetTopi
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxRestricted() const {
@@ -29,7 +29,7 @@
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxCurrentlyUnrestricted() const {
-@@ -813,11 +813,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
+@@ -826,11 +826,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
      return Status::kIncognitoProfile;
    }
  
diff --git a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
index cf3a0743f2..691e4ae384 100644
--- a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
+++ b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/media/webrtc/webrtc_log_uploader.cc
 +++ b/chrome/browser/media/webrtc/webrtc_log_uploader.cc
-@@ -175,31 +175,13 @@ void WebRtcLogUploader::OnLoggingStopped
+@@ -176,31 +176,13 @@ void WebRtcLogUploader::OnLoggingStopped
    DCHECK(meta_data.get());
    DCHECK(!upload_done_data.paths.directory.empty());
  
@@ -35,7 +35,7 @@
    } else {
      main_task_runner_->PostTask(
          FROM_HERE,
-@@ -216,28 +198,7 @@ void WebRtcLogUploader::PrepareMultipart
+@@ -217,28 +199,7 @@ void WebRtcLogUploader::PrepareMultipart
    DCHECK(!compressed_log.empty());
    DCHECK(meta_data.get());
  
@@ -65,7 +65,7 @@
  }
  
  void WebRtcLogUploader::UploadStoredLog(
-@@ -303,48 +264,6 @@ void WebRtcLogUploader::LoggingStoppedDo
+@@ -305,48 +266,6 @@ void WebRtcLogUploader::LoggingStoppedDo
    DCHECK(log_buffer.get());
    DCHECK(!log_paths.directory.empty());
  
@@ -116,7 +116,7 @@
  
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -100,7 +100,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -107,7 +107,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterStringPref(prefs::kWebRTCUDPPortRange, std::string());
    registry->RegisterBooleanPref(prefs::kWebRtcEventLogCollectionAllowed, false);
    registry->RegisterListPref(prefs::kWebRtcLocalIpsAllowedUrls);
diff --git a/patches/core/ungoogled-chromium/disable-webstore-urls.patch b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
index 42bed4dc2c..b3b415ac8e 100644
--- a/patches/core/ungoogled-chromium/disable-webstore-urls.patch
+++ b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
 +++ b/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
-@@ -707,12 +707,6 @@ std::vector<url::Origin> ChromeContentBr
+@@ -720,12 +720,6 @@ std::vector<url::Origin> ChromeContentBr
      GetOriginsRequiringDedicatedProcess() {
    std::vector<url::Origin> list;
  
diff --git a/patches/core/ungoogled-chromium/doh-changes.patch b/patches/core/ungoogled-chromium/doh-changes.patch
index 3f8745958f..40ea63cd41 100644
--- a/patches/core/ungoogled-chromium/doh-changes.patch
+++ b/patches/core/ungoogled-chromium/doh-changes.patch
@@ -1,6 +1,6 @@
 --- a/chrome/common/chrome_features.cc
 +++ b/chrome/common/chrome_features.cc
-@@ -363,12 +363,7 @@ BASE_FEATURE(kDisruptiveNotificationPerm
+@@ -361,12 +361,7 @@ BASE_FEATURE(kDisruptiveNotificationPerm
  // Enable DNS over HTTPS (DoH).
  BASE_FEATURE(kDnsOverHttps,
               "DnsOverHttps",
@@ -15,7 +15,7 @@
  // Set whether fallback to insecure DNS is allowed by default. This setting may
 --- a/net/dns/public/doh_provider_entry.cc
 +++ b/net/dns/public/doh_provider_entry.cc
-@@ -165,30 +165,6 @@ const DohProviderEntry::List& DohProvide
+@@ -166,30 +166,6 @@ const DohProviderEntry::List& DohProvide
            /*display_globally=*/false, /*display_countries=*/{"EE", "DE"},
            LoggingLevel::kNormal),
        new DohProviderEntry(
diff --git a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
index dac7012edd..efe1d891f7 100644
--- a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
+++ b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -934,8 +934,6 @@ if (is_win) {
+@@ -937,8 +937,6 @@ if (is_win) {
  
    bundle_data("chrome_framework_resources") {
      sources = [
@@ -14,7 +14,7 @@
        # from disk image and Keystone promotion (if so enabled).  It
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -847,10 +847,6 @@ static_library("browser") {
+@@ -853,10 +853,6 @@ static_library("browser") {
      "navigation_predictor/navigation_predictor_metrics_document_data.h",
      "navigation_predictor/navigation_predictor_preconnect_client.cc",
      "navigation_predictor/navigation_predictor_preconnect_client.h",
@@ -25,7 +25,7 @@
      "navigation_predictor/search_engine_preconnector.cc",
      "navigation_predictor/search_engine_preconnector.h",
      "net/chrome_mojo_proxy_resolver_factory.cc",
-@@ -963,10 +959,6 @@ static_library("browser") {
+@@ -969,10 +965,6 @@ static_library("browser") {
      "optimization_guide/chrome_prediction_model_store.h",
      "optimization_guide/model_execution/chrome_on_device_model_service_controller.cc",
      "optimization_guide/model_execution/chrome_on_device_model_service_controller.h",
@@ -52,14 +52,14 @@
  }
  
 -base::TimeDelta MLModelExecutionTimerInterval() {
--  static int timer_interval = base::GetFieldTrialParamByFeatureAsInt(
--      blink::features::kPreloadingHeuristicsMLModel, "timer_interval", 100);
+-  static int timer_interval =
+-      blink::features::kPreloadingModelTimerInterval.Get();
 -  return base::Milliseconds(timer_interval);
 -}
  
  bool MaySendTraffic() {
    // TODO(b/290223353): Due to concerns about the amount of traffic this feature
-@@ -363,69 +356,6 @@ void NavigationPredictor::ProcessPointer
+@@ -364,71 +357,6 @@ void NavigationPredictor::ProcessPointer
  }
  
  void NavigationPredictor::OnMLModelExecutionTimerFired() {
@@ -104,12 +104,14 @@
 -  inputs.percent_vertical_distance =
 -      static_cast<int>(anchor.ratio_distance_root_top * 100);
 -
--  inputs.is_same_origin = anchor.is_same_host;
+-  inputs.is_same_host = anchor.is_same_host;
 -  auto to_timedelta = [this](std::optional<base::TimeTicks> ts) {
 -    return ts.has_value() ? NowTicks() - ts.value() : base::TimeDelta();
 -  };
--  inputs.entered_viewport_to_left_viewport =
--      to_timedelta(anchor.entered_viewport_timestamp);
+-  // TODO(329691634): Using the real viewport entry time for
+-  // `entered_viewport_to_left_viewport` produces low quality results.
+-  // We could remove it from the model, if we can't get this to be useful.
+-  inputs.entered_viewport_to_left_viewport = base::TimeDelta();
 -  inputs.hover_dwell_time = to_timedelta(anchor.pointer_over_timestamp);
 -  inputs.pointer_hovering_over_count = anchor.pointer_hovering_over_count;
 -  if (model_score_callback_) {
@@ -139,7 +141,7 @@
  #include "chrome/browser/net/dns_probe_service_factory.h"
  #include "chrome/browser/net/profile_network_context_service_factory.h"
  #include "chrome/browser/notifications/metrics/notification_metrics_logger_factory.h"
-@@ -933,7 +932,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -931,7 +930,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #endif
    ModelTypeStoreServiceFactory::GetInstance();
    NavigationPredictorKeyedServiceFactory::GetInstance();
@@ -147,7 +149,7 @@
  #if BUILDFLAG(IS_CHROMEOS_ASH)
    NearbySharingServiceFactory::GetInstance();
    if (base::FeatureList::IsEnabled(ash::features::kNearbyPresence)) {
-@@ -980,9 +978,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -978,9 +976,6 @@ void ChromeBrowserMainExtraPartsProfiles
    }
  #endif
    OpenerHeuristicServiceFactory::GetInstance();
@@ -167,7 +169,7 @@
  #include "chrome/browser/permissions/adaptive_quiet_notification_permission_ui_enabler.h"
  #include "chrome/browser/prefs/incognito_mode_prefs.h"
  #include "chrome/browser/profiles/delete_profile_helper.h"
-@@ -1545,9 +1544,6 @@ void ProfileManager::DoFinalInitForServi
+@@ -1543,9 +1542,6 @@ void ProfileManager::DoFinalInitForServi
    // Ensure NavigationPredictorKeyedService is started.
    NavigationPredictorKeyedServiceFactory::GetForProfile(profile);
  
@@ -315,10 +317,10 @@
  #include "chrome/browser/profiles/profile.h"
 -#include "chrome/browser/screen_ai/screen_ai_service_router.h"
 -#include "chrome/browser/screen_ai/screen_ai_service_router_factory.h"
+ #include "chrome/browser/translate/chrome_translate_client.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/browser_finder.h"
- #include "chrome/browser/ui/views/side_panel/read_anything/read_anything_controller.h"
-@@ -206,15 +204,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
+@@ -214,15 +212,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
          highlightGranularity);
    }
  
@@ -336,7 +338,7 @@
  }
 --- a/chrome/test/chromedriver/BUILD.gn
 +++ b/chrome/test/chromedriver/BUILD.gn
-@@ -407,7 +407,7 @@ source_set("lib") {
+@@ -405,7 +405,7 @@ source_set("lib") {
    }
  }
  
@@ -379,7 +381,7 @@
  fuzzer_test("update_client_protocol_serializer_fuzzer") {
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -773,10 +773,6 @@ if (is_apple) {
+@@ -766,10 +766,6 @@ if (is_apple) {
        deps = [ "//third_party/icu:icudata" ]
      }
  
diff --git a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
index d93ef5595d..4f2c860bc3 100644
--- a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
+++ b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -635,8 +635,6 @@ static_library("browser") {
+@@ -639,8 +639,6 @@ static_library("browser") {
      "internal_auth.h",
      "interstitials/chrome_settings_page_helper.cc",
      "interstitials/chrome_settings_page_helper.h",
@@ -11,7 +11,7 @@
      "invalidation/profile_invalidation_provider_factory.cc",
      "invalidation/profile_invalidation_provider_factory.h",
      "k_anonymity_service/k_anonymity_service_client.cc",
-@@ -3789,9 +3787,6 @@ static_library("browser") {
+@@ -3845,9 +3843,6 @@ static_library("browser") {
        "enterprise/connectors/analysis/analysis_service_settings.h",
        "enterprise/connectors/analysis/analysis_settings.cc",
        "enterprise/connectors/analysis/analysis_settings.h",
@@ -21,7 +21,7 @@
        "enterprise/connectors/analysis/content_analysis_dialog.cc",
        "enterprise/connectors/analysis/content_analysis_dialog.h",
        "enterprise/connectors/analysis/content_analysis_downloads_delegate.cc",
-@@ -4100,10 +4095,6 @@ static_library("browser") {
+@@ -4159,10 +4154,6 @@ static_library("browser") {
        "new_tab_page/modules/recipes/recipes_service_factory.h",
        "new_tab_page/modules/recipes/time_format_util.cc",
        "new_tab_page/modules/recipes/time_format_util.h",
@@ -31,16 +31,16 @@
 -      "new_tab_page/modules/safe_browsing/safe_browsing_prefs.h",
        "new_tab_page/modules/v2/history_clusters/history_clusters_page_handler_v2.cc",
        "new_tab_page/modules/v2/history_clusters/history_clusters_page_handler_v2.h",
-       "new_tab_page/modules/v2/tab_resumption/tab_resumption_page_handler.cc",
-@@ -4581,7 +4572,6 @@ static_library("browser") {
+       "new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.cc",
+@@ -4644,7 +4635,6 @@ static_library("browser") {
        "//chrome/browser/new_tab_page/modules/history_clusters/discount:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/photos:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/recipes:mojo_bindings",
 -      "//chrome/browser/new_tab_page/modules/safe_browsing:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/history_clusters:mojo_bindings",
+       "//chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/tab_resumption:mojo_bindings",
-       "//chrome/browser/policy:path_parser",
-@@ -6423,10 +6413,6 @@ static_library("browser") {
+@@ -6497,10 +6487,6 @@ static_library("browser") {
      sources += [
        "enterprise/chrome_browser_main_extra_parts_enterprise.cc",
        "enterprise/chrome_browser_main_extra_parts_enterprise.h",
@@ -51,7 +51,7 @@
        "enterprise/connectors/device_trust/attestation/browser/attestation_switches.cc",
        "enterprise/connectors/device_trust/attestation/browser/attestation_switches.h",
        "enterprise/connectors/device_trust/attestation/browser/attester.h",
-@@ -7992,9 +7978,14 @@ static_library("browser") {
+@@ -8006,9 +7992,14 @@ static_library("browser") {
        "//components/safe_browsing/content/browser:safe_browsing_blocking_page",
        "//components/safe_browsing/content/browser/download:download_stats",
        "//components/safe_browsing/content/common:file_type_policies",
@@ -69,7 +69,7 @@
      sources += [
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5124,11 +5124,13 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5202,11 +5202,13 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -83,7 +83,7 @@
  
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    MaybeAddThrottle(browser_switcher::BrowserSwitcherNavigationThrottle::
-@@ -6957,26 +6959,7 @@ ChromeContentBrowserClient::GetSafeBrows
+@@ -7030,26 +7032,7 @@ ChromeContentBrowserClient::GetSafeBrows
      const std::vector<std::string>& allowlist_domains) {
    DCHECK_CURRENTLY_ON(content::BrowserThread::UI);
  
@@ -111,7 +111,7 @@
  }
  
  safe_browsing::RealTimeUrlLookupServiceBase*
-@@ -6997,11 +6980,6 @@ ChromeContentBrowserClient::GetUrlLookup
+@@ -7070,11 +7053,6 @@ ChromeContentBrowserClient::GetUrlLookup
          GetForProfile(profile);
    }
  #endif
@@ -123,7 +123,7 @@
    return nullptr;
  }
  
-@@ -7013,32 +6991,7 @@ ChromeContentBrowserClient::GetAsyncChec
+@@ -7086,32 +7064,7 @@ ChromeContentBrowserClient::GetAsyncChec
      safe_browsing::hash_realtime_utils::HashRealTimeSelection
          hash_realtime_selection,
      int frame_tree_node_id) {
@@ -196,9 +196,16 @@
        break;
      case DownloadCommands::RETRY:
        RetryDownload(model.get(), command);
+@@ -386,6 +374,4 @@ DownloadBubbleUIController::GetWeakPtr()
+ }
+ 
+ void DownloadBubbleUIController::SetDeepScanNoticeSeen() {
+-  profile_->GetPrefs()->SetBoolean(
+-      prefs::kSafeBrowsingAutomaticDeepScanningIPHSeen, true);
+ }
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
-@@ -149,7 +149,6 @@ using content::DownloadManager;
+@@ -151,7 +151,6 @@ using content::DownloadManager;
  using download::DownloadItem;
  using download::DownloadPathReservationTracker;
  using download::PathValidationResult;
@@ -206,7 +213,7 @@
  using ConnectionType = net::NetworkChangeNotifier::ConnectionType;
  
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -645,15 +644,6 @@ bool ChromeDownloadManagerDelegate::Shou
+@@ -655,15 +654,6 @@ bool ChromeDownloadManagerDelegate::Shou
  #endif
  
    bool should_open = download_prefs_->IsAutoOpenEnabled(url, path);
@@ -222,7 +229,7 @@
  
    return should_open;
  }
-@@ -1633,7 +1623,6 @@ void ChromeDownloadManagerDelegate::OnDo
+@@ -1640,7 +1630,6 @@ void ChromeDownloadManagerDelegate::OnDo
      DownloadItemModel model(item);
      model.DetermineAndSetShouldPreferOpeningInBrowser(
          target_info.target_path, target_info.is_filetype_handled_safely);
@@ -230,7 +237,7 @@
    }
    if (ShouldBlockFile(item, target_info.danger_type)) {
      MaybeReportDangerousDownloadBlocked(
-@@ -1714,59 +1703,6 @@ bool ChromeDownloadManagerDelegate::IsOp
+@@ -1721,53 +1710,6 @@ bool ChromeDownloadManagerDelegate::IsOp
  bool ChromeDownloadManagerDelegate::ShouldBlockFile(
      download::DownloadItem* item,
      download::DownloadDangerType danger_type) const {
@@ -245,12 +252,6 @@
 -  if (IsDangerTypeBlocked(danger_type))
 -    return true;
 -
--  // TODO(crbug/1061111): Move this into IsDangerTypeBlocked once the UX is
--  // ready.
--  if (danger_type ==
--      download::DOWNLOAD_DANGER_TYPE_BLOCKED_UNSUPPORTED_FILETYPE)
--    return true;
--
 -  bool file_type_dangerous =
 -      (item && DownloadItemModel(item).GetDangerLevel() !=
 -                   DownloadFileType::NOT_DANGEROUS);
@@ -290,7 +291,7 @@
  
    return false;
  }
-@@ -1781,7 +1717,6 @@ void ChromeDownloadManagerDelegate::Mayb
+@@ -1782,7 +1724,6 @@ void ChromeDownloadManagerDelegate::Mayb
      service->MaybeSendDangerousDownloadOpenedReport(download,
                                                      show_download_in_folder);
    }
@@ -298,15 +299,15 @@
    if (!download->GetAutoOpened()) {
      download::DownloadContent download_content =
          download::DownloadContentFromMimeType(download->GetMimeType(), false);
-@@ -1789,6 +1724,7 @@ void ChromeDownloadManagerDelegate::Mayb
+@@ -1790,6 +1731,7 @@ void ChromeDownloadManagerDelegate::Mayb
          download->GetDangerType(), download_content, base::Time::Now(),
          download->GetEndTime(), show_download_in_folder);
    }
 +#endif
  }
  
- void ChromeDownloadManagerDelegate::CheckDownloadAllowed(
-@@ -1846,8 +1782,7 @@ void ChromeDownloadManagerDelegate::Chec
+ void ChromeDownloadManagerDelegate::MaybeSendDangerousDownloadCanceledReport(
+@@ -1880,8 +1822,7 @@ void ChromeDownloadManagerDelegate::Chec
    DCHECK(download_item);
    DCHECK(download_item->IsSavePackageDownload());
  
@@ -318,7 +319,7 @@
  
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -910,30 +910,6 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -960,30 +960,6 @@ void DownloadItemModel::ExecuteCommand(D
  }
  
  TailoredWarningType DownloadItemModel::GetTailoredWarningType() const {
@@ -498,7 +499,7 @@
 -  // We add the request here in case we never actually uploaded anything, so it
 -  // wasn't added in OnGetRequestData
 -  safe_browsing::WebUIInfoSingleton::GetInstance()->AddToDeepScanRequests(
--      request->per_profile_request(), /*access_token*/ "",
+-      request->per_profile_request(), /*access_token*/ "", /*upload_info*/ "",
 -      request->content_analysis_request());
 -  safe_browsing::WebUIInfoSingleton::GetInstance()->AddToDeepScanResponses(
 -      /*token=*/"", safe_browsing::BinaryUploadService::ResultToString(result),
@@ -522,7 +523,7 @@
    void OnGotFileInfo(
 --- a/chrome/browser/enterprise/connectors/connectors_service.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_service.cc
-@@ -452,37 +452,8 @@ std::optional<std::string> ConnectorsSer
+@@ -453,37 +453,8 @@ std::optional<std::string> ConnectorsSer
    return std::nullopt;
  }
  
@@ -663,29 +664,32 @@
    const base::Value::List* enabled_opt_in_events_value =
 --- a/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 +++ b/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
-@@ -49,20 +49,6 @@ void RunPendingNavigationCallback(
+@@ -65,12 +65,6 @@ void RunPendingNavigationCallback(
    auto* user_data = GetUserData(web_contents);
    DCHECK(user_data);
  
--  // TODO: Move this logic out of this class and into DataProtectionPageUserData
--  if (!user_data->watermark_text().empty() && user_data->rt_lookup_response() &&
--      !user_data->rt_lookup_response()->threat_info().empty() &&
--      user_data->rt_lookup_response()->threat_info(0).verdict_type() ==
--          safe_browsing::RTLookupResponse::ThreatInfo::SAFE) {
--    // For warn/block+watermark verdicts, a security event is reported as part
--    // of the interstitial page appearing. For SAFE verdicts no interstitial is
--    // shown, so the report indicating a watermark was shown to the user must be
--    // done separately here.
+-  if (ShouldReportWatermark(user_data)) {
 -    MaybeTriggerUrlFilteringInterstitialEvent(
 -        web_contents, web_contents->GetLastCommittedURL(),
 -        /*threat_type=*/"", *user_data->rt_lookup_response());
 -  }
 -
-   std::move(callback).Run(user_data->watermark_text());
+   std::move(callback).Run(user_data->settings());
  }
  
-@@ -218,16 +204,6 @@ void DataProtectionNavigationObserver::C
-     std::move(callback).Run(std::string());
+@@ -161,9 +155,7 @@ void LogVerdictSource(
+ 
+ bool IsScreenshotAllowedByDataControls(content::BrowserContext* context,
+                                        const GURL& url) {
+-  auto* rules =
+-      data_controls::RulesServiceFactory::GetForBrowserContext(context);
+-  return rules ? !rules->BlockScreenshots(url) : true;
++  return true;
+ }
+ 
+ }  // namespace
+@@ -186,16 +178,6 @@ void DataProtectionNavigationObserver::C
+     std::move(callback).Run(UrlSettings::None());
      return;
    }
 -
@@ -701,24 +705,45 @@
  }
  
  // static
-@@ -245,14 +221,7 @@ void DataProtectionNavigationObserver::G
-     return;
-   }
- 
--  auto* lookup_service = safe_browsing::
--      ChromeEnterpriseRealTimeUrlLookupServiceFactory::GetForProfile(profile);
--  if (lookup_service && web_contents->GetLastCommittedURL().is_valid()) {
--    DoStringLookup(lookup_service, web_contents->GetLastCommittedURL(),
--                   GetIdentifier(profile), std::move(callback), web_contents);
+@@ -228,35 +210,9 @@ void DataProtectionNavigationObserver::G
+       GetPageFromWebContents(web_contents), identifier,
+       IsScreenshotAllowedByDataControls(profile, url));
+ 
+-  auto* lookup_service =
+-      g_lookup_service
+-          ? g_lookup_service
+-          : safe_browsing::ChromeEnterpriseRealTimeUrlLookupServiceFactory::
+-                GetForProfile(profile);
+-  if (lookup_service) {
+-    auto lookup_callback = base::BindOnce(
+-        [](const std::string& identifier,
+-           DataProtectionNavigationObserver::Callback callback,
+-           base::WeakPtr<content::WebContents> web_contents,
+-           std::unique_ptr<safe_browsing::RTLookupResponse> response) {
+-          if (web_contents) {
+-            DataProtectionPageUserData::UpdateRTLookupResponse(
+-                GetPageFromWebContents(web_contents.get()), identifier,
+-                std::move(response));
+-            auto* user_data = GetUserData(web_contents.get());
+-            DCHECK(user_data);
+-            std::move(callback).Run(user_data->settings());
+-          }
+-        },
+-        std::move(identifier), std::move(callback), web_contents->GetWeakPtr());
+-
+-    DoLookup(lookup_service, web_contents->GetLastCommittedURL(),
+-             GetIdentifier(profile), std::move(lookup_callback), web_contents);
 -  } else {
-     std::move(callback).Run(std::string());
+     ud = GetUserData(web_contents);
+     DCHECK(ud);
+     std::move(callback).Run(ud->settings());
 -  }
  }
  
- DataProtectionNavigationObserver::DataProtectionNavigationObserver(
+ // static
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -221,7 +221,6 @@ void ContextInfoFetcher::Fetch(ContextIn
+@@ -222,7 +222,6 @@ void ContextInfoFetcher::Fetch(ContextIn
        GetAnalysisConnectorProviders(enterprise_connectors::BULK_DATA_ENTRY);
    info.on_print_providers =
        GetAnalysisConnectorProviders(enterprise_connectors::PRINT);
@@ -726,7 +751,7 @@
    info.on_security_event_providers = GetOnSecurityEventProviders();
    info.browser_version = version_info::GetVersionNumber();
    info.site_isolation_enabled =
-@@ -278,11 +277,6 @@ std::vector<std::string> ContextInfoFetc
+@@ -279,11 +278,6 @@ std::vector<std::string> ContextInfoFetc
    return connectors_service_->GetAnalysisServiceProviderNames(connector);
  }
  
@@ -824,7 +849,7 @@
  }  // namespace utils
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -313,10 +313,6 @@ static_library("extensions") {
+@@ -315,10 +315,6 @@ static_library("extensions") {
      "api/runtime/chrome_runtime_api_delegate.h",
      "api/safe_browsing_private/safe_browsing_private_api.cc",
      "api/safe_browsing_private/safe_browsing_private_api.h",
@@ -835,7 +860,7 @@
      "api/safe_browsing_private/safe_browsing_util.cc",
      "api/safe_browsing_private/safe_browsing_util.h",
      "api/search/search_api.cc",
-@@ -655,8 +651,6 @@ static_library("extensions") {
+@@ -657,8 +653,6 @@ static_library("extensions") {
      "menu_manager_factory.h",
      "navigation_extension_enabler.cc",
      "navigation_extension_enabler.h",
@@ -903,7 +928,7 @@
  CookiesSetFunction::CookiesSetFunction()
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -92,16 +92,8 @@ api::enterprise_reporting_private::Conte
+@@ -93,16 +93,8 @@ api::enterprise_reporting_private::Conte
    info.third_party_blocking_enabled = signals.third_party_blocking_enabled;
    info.os_firewall = ToInfoSettingValue(signals.os_firewall);
    info.system_dns_servers = std::move(signals.system_dns_servers);
@@ -922,7 +947,7 @@
    info.enterprise_profile_id = signals.enterprise_profile_id;
 --- a/chrome/browser/extensions/api/settings_private/prefs_util.cc
 +++ b/chrome/browser/extensions/api/settings_private/prefs_util.cc
-@@ -341,8 +341,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -343,8 +343,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kBoolean;
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
        settings_api::PrefType::kNumber;
@@ -1087,9 +1112,9 @@
  #include "chrome/browser/extensions/installed_loader.h"
 -#include "chrome/browser/extensions/omaha_attributes_handler.h"
  #include "chrome/browser/extensions/pending_extension_manager.h"
- #include "chrome/browser/extensions/permissions_updater.h"
+ #include "chrome/browser/extensions/permissions/permissions_updater.h"
  #include "chrome/browser/extensions/profile_util.h"
-@@ -233,7 +232,6 @@ void ExtensionService::BlocklistExtensio
+@@ -229,7 +228,6 @@ void ExtensionService::BlocklistExtensio
    blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(
        extension_id, BitMapBlocklistState::BLOCKLISTED_MALWARE,
        extension_prefs_);
@@ -1097,7 +1122,7 @@
  }
  
  void ExtensionService::GreylistExtensionForTest(
-@@ -241,7 +239,6 @@ void ExtensionService::GreylistExtension
+@@ -237,7 +235,6 @@ void ExtensionService::GreylistExtension
      const BitMapBlocklistState& state) {
    blocklist_prefs::SetSafeBrowsingExtensionBlocklistState(extension_id, state,
                                                            extension_prefs_);
@@ -1105,7 +1130,7 @@
  }
  
  bool ExtensionService::OnExternalExtensionUpdateUrlFound(
-@@ -409,9 +406,6 @@ ExtensionService::ExtensionService(
+@@ -405,9 +402,6 @@ ExtensionService::ExtensionService(
        safe_browsing_verdict_handler_(extension_prefs,
                                       ExtensionRegistry::Get(profile),
                                       this),
@@ -1115,7 +1140,7 @@
        extension_telemetry_service_verdict_handler_(
            extension_prefs,
            ExtensionRegistry::Get(profile),
-@@ -944,17 +938,6 @@ bool ExtensionService::IsExtensionEnable
+@@ -940,17 +934,6 @@ bool ExtensionService::IsExtensionEnable
    return extension_registrar_.IsExtensionEnabled(extension_id);
  }
  
@@ -1133,7 +1158,7 @@
  void ExtensionService::PerformActionBasedOnExtensionTelemetryServiceVerdicts(
      const Blocklist::BlocklistStateMap& blocklist_state_map) {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
-@@ -964,89 +947,6 @@ void ExtensionService::PerformActionBase
+@@ -960,89 +943,6 @@ void ExtensionService::PerformActionBase
    error_controller_->ShowErrorIfNeeded();
  }
  
@@ -1354,8 +1379,8 @@
 -#include "chrome/browser/safe_browsing/download_protection/download_protection_util.h"
  #include "chrome/browser/ui/file_system_access_dialogs.h"
  #include "chrome/common/chrome_paths.h"
- #include "chrome/common/pdf_util.h"
-@@ -426,90 +425,6 @@ bool ShouldBlockAccessToPath(const base:
+ #include "chrome/grit/generated_resources.h"
+@@ -426,89 +425,6 @@ bool ShouldBlockAccessToPath(const base:
    return true;
  }
  
@@ -1419,7 +1444,6 @@
 -    case Result::POTENTIALLY_UNWANTED:
 -    case Result::BLOCKED_PASSWORD_PROTECTED:
 -    case Result::BLOCKED_TOO_LARGE:
--    case Result::BLOCKED_UNSUPPORTED_FILE_TYPE:
 -    case Result::DANGEROUS_ACCOUNT_COMPROMISE:
 -    case Result::BLOCKED_SCAN_FAILED:
 -      return ChromeFileSystemAccessPermissionContext::AfterWriteCheckResult::
@@ -1446,7 +1470,7 @@
  std::string GenerateLastPickedDirectoryKey(const std::string& id) {
    return id.empty() ? kDefaultLastPickedDirectoryKey
                      : base::StrCat({kCustomLastPickedDirectoryKey, "-", id});
-@@ -529,13 +444,7 @@ std::string_view GetGrantKeyFromGrantTyp
+@@ -528,13 +444,7 @@ std::string_view GetGrantKeyFromGrantTyp
  bool FileHasDangerousExtension(const url::Origin& origin,
                                 const base::FilePath& path,
                                 Profile* profile) {
@@ -1461,7 +1485,7 @@
  }
  
  }  // namespace
-@@ -1693,29 +1602,6 @@ void ChromeFileSystemAccessPermissionCon
+@@ -1701,29 +1611,6 @@ void ChromeFileSystemAccessPermissionCon
        std::move(callback));
  }
  
@@ -1556,7 +1580,7 @@
  #include "chrome/browser/safe_browsing/user_interaction_observer.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
  #include "chrome/browser/sync/sync_service_factory.h"
-@@ -898,6 +897,7 @@ autofill::LanguageCode ChromePasswordMan
+@@ -910,6 +909,7 @@ autofill::LanguageCode ChromePasswordMan
    return autofill::LanguageCode();
  }
  
@@ -1564,7 +1588,7 @@
  safe_browsing::PasswordProtectionService*
  ChromePasswordManagerClient::GetPasswordProtectionService() const {
    return safe_browsing::ChromePasswordProtectionService::
-@@ -917,6 +917,7 @@ void ChromePasswordManagerClient::CheckS
+@@ -929,6 +929,7 @@ void ChromePasswordManagerClient::CheckS
    }
  }
  #endif  // defined(ON_FOCUS_PING_ENABLED)
@@ -1572,7 +1596,7 @@
  
  #if !BUILDFLAG(IS_ANDROID)
  void ChromePasswordManagerClient::MaybeReportEnterpriseLoginEvent(
-@@ -924,28 +925,10 @@ void ChromePasswordManagerClient::MaybeR
+@@ -936,28 +937,10 @@ void ChromePasswordManagerClient::MaybeR
      bool is_federated,
      const url::Origin& federated_origin,
      const std::u16string& login_user_name) const {
@@ -1601,7 +1625,7 @@
  }
  #endif
  
-@@ -1565,6 +1548,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1605,6 +1588,7 @@ bool ChromePasswordManagerClient::IsPass
      is_enabled = false;
    }
  
@@ -1609,7 +1633,7 @@
    // SafeBrowsing Delayed Warnings experiment can delay some SafeBrowsing
    // warnings until user interaction. If the current page has a delayed warning,
    // it'll have a user interaction observer attached. Disable password
-@@ -1575,6 +1559,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1615,6 +1599,7 @@ bool ChromePasswordManagerClient::IsPass
      observer->OnPasswordSaveOrAutofillDenied();
      is_enabled = false;
    }
@@ -1619,7 +1643,7 @@
      password_manager::BrowserSavePasswordProgressLogger logger(
 --- a/chrome/browser/password_manager/chrome_password_manager_client.h
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.h
-@@ -233,6 +233,7 @@ class ChromePasswordManagerClient
+@@ -235,6 +235,7 @@ class ChromePasswordManagerClient
    void AnnotateNavigationEntry(bool has_password_field) override;
    autofill::LanguageCode GetPageLanguage() const override;
  
@@ -1627,7 +1651,7 @@
    safe_browsing::PasswordProtectionService* GetPasswordProtectionService()
        const override;
  
-@@ -240,6 +241,7 @@ class ChromePasswordManagerClient
+@@ -242,6 +243,7 @@ class ChromePasswordManagerClient
    void CheckSafeBrowsingReputation(const GURL& form_action,
                                     const GURL& frame_url) override;
  #endif
@@ -1637,7 +1661,7 @@
  #if !BUILDFLAG(IS_ANDROID)
 --- a/chrome/browser/permissions/chrome_permissions_client.cc
 +++ b/chrome/browser/permissions/chrome_permissions_client.cc
-@@ -393,16 +393,6 @@ void ChromePermissionsClient::OnPromptRe
+@@ -394,16 +394,6 @@ void ChromePermissionsClient::OnPromptRe
        PermissionRevocationRequest::ExemptOriginFromFutureRevocations(profile,
                                                                       origin);
      }
@@ -1822,7 +1846,7 @@
  }
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -108,6 +108,7 @@
+@@ -107,6 +107,7 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
  #include "components/proxy_config/proxy_policy_handler.h"
@@ -1830,7 +1854,7 @@
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
  #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
  #include "components/safe_browsing/core/common/safe_browsing_prefs.h"
-@@ -2234,8 +2235,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2240,8 +2241,6 @@ std::unique_ptr<ConfigurationPolicyHandl
    handlers->AddHandler(
        std::make_unique<bookmarks::ManagedBookmarksPolicyHandler>(
            chrome_schema));
@@ -1839,7 +1863,7 @@
    handlers->AddHandler(std::make_unique<syncer::SyncPolicyHandler>());
    handlers->AddHandler(
        std::make_unique<URLBlocklistPolicyHandler>(key::kURLBlocklist));
-@@ -2332,20 +2331,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2338,20 +2337,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            prefs::kSafeBrowsingEnterpriseRealTimeUrlCheckMode,
            prefs::kSafeBrowsingEnterpriseRealTimeUrlCheckScope, chrome_schema));
  
@@ -1862,15 +1886,15 @@
  
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -281,7 +281,6 @@
- #include "chrome/browser/new_tab_page/modules/drive/drive_service.h"
+@@ -277,7 +277,6 @@
+ #include "chrome/browser/new_tab_page/modules/file_suggestion/drive_service.h"
  #include "chrome/browser/new_tab_page/modules/photos/photos_service.h"
  #include "chrome/browser/new_tab_page/modules/recipes/recipes_service.h"
 -#include "chrome/browser/new_tab_page/modules/safe_browsing/safe_browsing_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/tab_resumption/tab_resumption_page_handler.h"
  #include "chrome/browser/new_tab_page/promos/promo_service.h"
  #include "chrome/browser/policy/developer_tools_policy_handler.h"
-@@ -1915,7 +1914,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1965,7 +1964,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    media_router::RegisterProfilePrefs(registry);
    NewTabPageHandler::RegisterProfilePrefs(registry);
    NewTabPageUI::RegisterProfilePrefs(registry);
@@ -1880,7 +1904,7 @@
    PinnedTabCodec::RegisterProfilePrefs(registry);
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -784,9 +784,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -782,9 +782,6 @@ void ChromeBrowserMainExtraPartsProfiles
    enterprise_connectors::DeviceTrustConnectorServiceFactory::GetInstance();
    enterprise_connectors::DeviceTrustServiceFactory::GetInstance();
  #endif
@@ -1890,7 +1914,7 @@
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
      BUILDFLAG(IS_ANDROID)
    enterprise_idle::IdleServiceFactory::GetInstance();
-@@ -1101,23 +1098,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1099,23 +1096,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if !BUILDFLAG(IS_ANDROID)
    ResetReportUploaderFactory::GetInstance();
  #endif
@@ -2101,7 +2125,7 @@
  }  // namespace
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -598,7 +598,6 @@ static_library("ui") {
+@@ -611,7 +611,6 @@ static_library("ui") {
      "//components/renderer_context_menu",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -2109,7 +2133,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/core/browser/db:database_manager",
-@@ -4127,8 +4126,6 @@ static_library("ui") {
+@@ -4182,8 +4181,6 @@ static_library("ui") {
        "startup/web_app_startup_utils.h",
        "tab_contents/chrome_web_contents_menu_helper.cc",
        "tab_contents/chrome_web_contents_menu_helper.h",
@@ -2118,7 +2142,7 @@
        "views/autofill/payments/virtual_card_selection_dialog_view.cc",
        "views/autofill/payments/virtual_card_selection_dialog_view.h",
        "views/autofill/payments/webauthn_dialog_view.cc",
-@@ -5798,8 +5795,6 @@ static_library("ui") {
+@@ -5874,8 +5871,6 @@ static_library("ui") {
        "views/safe_browsing/prompt_for_scanning_modal_dialog.h",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.cc",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.h",
@@ -2137,6 +2161,42 @@
  #include "chrome/browser/ui/color/chrome_color_id.h"
  #include "chrome/browser/ui/download/download_item_mode.h"
  #include "chrome/grit/generated_resources.h"
+@@ -366,11 +365,5 @@ void DownloadBubbleRowViewInfo::Reset()
+ }
+ 
+ bool DownloadBubbleRowViewInfo::ShouldShowDeepScanNotice() const {
+-  return model_->GetDangerType() ==
+-             download::DOWNLOAD_DANGER_TYPE_PROMPT_FOR_SCANNING &&
+-         safe_browsing::IsEnhancedProtectionEnabled(
+-             *model_->profile()->GetPrefs()) &&
+-         base::FeatureList::IsEnabled(
+-             safe_browsing::kDeepScanningPromptRemoval);
+-  ;
++  return false;
+ }
+--- a/chrome/browser/ui/exclusive_access/fullscreen_controller.cc
++++ b/chrome/browser/ui/exclusive_access/fullscreen_controller.cc
+@@ -112,20 +112,6 @@ void RecordWebsiteStateAtApiRequest(hist
+ void CheckUrlForAllowlistAndRecordMetric(
+     const GURL& url,
+     history::HistoryLastVisitResult result) {
+-  if (!g_browser_process->safe_browsing_service() ||
+-      !g_browser_process->safe_browsing_service()->database_manager()) {
+-    RecordWebsiteStateAtApiRequest(result, std::nullopt);
+-    return;
+-  }
+-  g_browser_process->safe_browsing_service()
+-      ->database_manager()
+-      ->CheckUrlForHighConfidenceAllowlist(
+-          url, "RT" /*realtime*/,
+-          base::BindOnce(
+-              [](history::HistoryLastVisitResult result, bool on_allowlist) {
+-                RecordWebsiteStateAtApiRequest(result, on_allowlist);
+-              },
+-              result));
+ }
+ 
+ }  // namespace
 --- a/chrome/browser/ui/javascript_dialogs/javascript_tab_modal_dialog_manager_delegate_desktop.cc
 +++ b/chrome/browser/ui/javascript_dialogs/javascript_tab_modal_dialog_manager_delegate_desktop.cc
 @@ -16,6 +16,7 @@
@@ -2165,7 +2225,7 @@
  void JavaScriptTabModalDialogManagerDelegateDesktop::DidCloseDialog() {
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -373,7 +373,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -375,7 +375,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    if (!autofill_client_provider.uses_platform_autofill()) {
      ChromePasswordManagerClient::CreateForWebContents(web_contents);
    }
@@ -2183,7 +2243,29 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/browser_element_identifiers.h"
-@@ -165,66 +164,16 @@ void DownloadBubbleContentsView::Process
+@@ -40,21 +39,6 @@ namespace {
+ 
+ void MaybeSendDownloadReport(content::BrowserContext* browser_context,
+                              download::DownloadItem* download) {
+-  if (download->GetURL().is_empty() || browser_context->IsOffTheRecord()) {
+-    return;
+-  }
+-
+-  safe_browsing::SafeBrowsingService* service =
+-      g_browser_process->safe_browsing_service();
+-  if (!service) {
+-    return;
+-  }
+-
+-  service->SendDownloadReport(download,
+-                              safe_browsing::ClientSafeBrowsingReportRequest::
+-                                  DANGEROUS_DOWNLOAD_RECOVERY,
+-                              /*did_proceed=*/true,
+-                              /*show_download_in_folder=*/std::nullopt);
+ }
+ 
+ }  // namespace
+@@ -189,69 +173,16 @@ void DownloadBubbleContentsView::Process
      const ContentId& id,
      DownloadItemWarningData::DeepScanTrigger trigger,
      base::optional_ref<const std::string> password) {
@@ -2227,9 +2309,11 @@
 -
 -  protection_service->CancelChecksForDownload(item);
 -
+-  content::BrowserContext* browser_context =
+-      content::DownloadItemUtils::GetBrowserContext(item);
 -  DownloadCoreService* download_core_service =
--      DownloadCoreServiceFactory::GetForBrowserContext(
--          content::DownloadItemUtils::GetBrowserContext(item));
+-      DownloadCoreServiceFactory::GetForBrowserContext(browser_context);
+-
 -  DCHECK(download_core_service);
 -  ChromeDownloadManagerDelegate* delegate =
 -      download_core_service->GetDownloadManagerDelegate();
@@ -2242,6 +2326,7 @@
 -        safe_browsing::DownloadCheckResult::PROMPT_FOR_LOCAL_PASSWORD_SCANNING);
 -  } else if (command == DownloadCommands::BYPASS_DEEP_SCANNING) {
 -    LogLocalDecryptionEvent(safe_browsing::DeepScanEvent::kPromptBypassed);
+-    MaybeSendDownloadReport(browser_context, item);
 -    delegate->CheckClientDownloadDone(
 -        item->GetId(), safe_browsing::DownloadCheckResult::UNKNOWN);
 -  } else {
@@ -2250,38 +2335,6 @@
  }
  
  bool DownloadBubbleContentsView::IsEncryptedArchive(const ContentId& id) {
---- a/chrome/browser/ui/views/download/bubble/download_toolbar_button_view.cc
-+++ b/chrome/browser/ui/views/download/bubble/download_toolbar_button_view.cc
-@@ -792,29 +792,6 @@ void DownloadToolbarButtonView::ShowIphP
-     return;
-   }
- #endif
--
--  // Notify users that we're removing the ESB deep scanning
--  // prompt. Users should only see the prompt if:
--  // - They're not incognito, since we don't want to imply deep scans
--  //   happen incognito
--  // - They're ESB users, since this isn't relevant to SSB users
--  // - They didn't opt-in with the friendlier settings strings, since
--  //   then they should know this is possible.
--  // - chrome://settings/security currently shows the friendlier
--  //   settings strings, so that clicking "Settings" on the IPH would
--  //   show them strings saying this is possible.
--  if (!profile->IsOffTheRecord() &&
--      safe_browsing::IsEnhancedProtectionEnabled(*profile->GetPrefs()) &&
--      !profile->GetPrefs()->GetBoolean(
--          prefs::kSafeBrowsingEsbOptInWithFriendlierSettings) &&
--      base::FeatureList::IsEnabled(
--          safe_browsing::kFriendlierSafeBrowsingSettingsEnhancedProtection) &&
--      browser_->window()->MaybeShowFeaturePromo(
--          feature_engagement::kIPHDeepScanPromptRemovalFeature)) {
--    profile->GetPrefs()->SetBoolean(
--        prefs::kSafeBrowsingAutomaticDeepScanningIPHSeen, true);
--    return;
--  }
- }
- 
- void DownloadToolbarButtonView::OnPartialViewClosed() {
 --- a/chrome/browser/ui/views/download/download_item_view.cc
 +++ b/chrome/browser/ui/views/download/download_item_view.cc
 @@ -38,7 +38,6 @@
@@ -2292,7 +2345,7 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/color/chrome_color_id.h"
-@@ -817,9 +816,7 @@ void DownloadItemView::UpdateLabels() {
+@@ -824,9 +823,7 @@ void DownloadItemView::UpdateLabels() {
    deep_scanning_label_->SetVisible(mode_ ==
                                     download::DownloadItemMode::kDeepScanning);
    if (deep_scanning_label_->GetVisible()) {
@@ -2303,7 +2356,7 @@
                         ? IDS_PROMPT_DEEP_SCANNING_DOWNLOAD
                         : IDS_PROMPT_DEEP_SCANNING_APP_DOWNLOAD;
      const std::u16string filename = ElidedFilename(*deep_scanning_label_);
-@@ -845,11 +842,15 @@ void DownloadItemView::UpdateButtons() {
+@@ -852,11 +849,15 @@ void DownloadItemView::UpdateButtons() {
    }
  
    const bool allow_open_during_deep_scan =
@@ -2319,7 +2372,7 @@
    open_button_->SetEnabled((mode_ == download::DownloadItemMode::kNormal) ||
                             prompt_to_scan || allow_open_during_deep_scan);
  
-@@ -1274,7 +1275,9 @@ void DownloadItemView::ShowContextMenuIm
+@@ -1280,7 +1281,9 @@ void DownloadItemView::ShowContextMenuIm
  }
  
  void DownloadItemView::OpenDownloadDuringAsyncScanning() {
@@ -2375,7 +2428,7 @@
  std::unique_ptr<RenderViewContextMenuBase>
 --- a/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
-@@ -485,9 +485,6 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+@@ -470,9 +470,6 @@ WebUIFactoryFunction GetWebUIFactoryFunc
    }
    if (url.host_piece() == chrome::kChromeUIPredictorsHost)
      return &NewWebUI<PredictorsUI>;
@@ -2579,7 +2632,7 @@
  // DownloadsDOMHandler, private: --------------------------------------------
 --- a/chrome/browser/ui/webui/management/management_ui_handler.cc
 +++ b/chrome/browser/ui/webui/management/management_ui_handler.cc
-@@ -1112,12 +1112,6 @@ base::Value::Dict ManagementUIHandler::G
+@@ -1101,12 +1101,6 @@ base::Value::Dict ManagementUIHandler::G
                                    &info);
    }
  
@@ -2717,7 +2770,7 @@
                                 std::move(callback),
 --- a/chrome/common/webui_url_constants.cc
 +++ b/chrome/common/webui_url_constants.cc
-@@ -729,7 +729,6 @@ const char* const kChromeHostURLs[] = {
+@@ -725,7 +725,6 @@ const char* const kChromeHostURLs[] = {
      kChromeUISuggestInternalsHost,
  #endif
      kChromeUINTPTilesInternalsHost,
@@ -2727,20 +2780,22 @@
      kChromeUITabSearchHost,
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -1929,8 +1929,6 @@ if (!is_android) {
+@@ -1924,9 +1924,6 @@ if (!is_android) {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser",
 -      "//components/safe_browsing/content/browser:client_side_detection",
+-      "//components/safe_browsing/content/browser:client_side_detection_images_cache",
 -      "//components/safe_browsing/content/browser:client_side_detection_service",
        "//components/safe_browsing/content/browser:safe_browsing_service",
        "//components/safe_browsing/content/browser/password_protection",
        "//components/safe_browsing/content/browser/password_protection:test_support",
-@@ -6957,8 +6955,6 @@ test("unit_tests") {
+@@ -6986,9 +6983,6 @@ test("unit_tests") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser",
 -    "//components/safe_browsing/content/browser:client_side_detection",
+-    "//components/safe_browsing/content/browser:client_side_detection_images_cache",
 -    "//components/safe_browsing/content/browser:client_side_detection_service",
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/password_protection:mock_password_protection",
@@ -2780,7 +2835,7 @@
  # These two flags are equivalent, but `enable_print_content_analysis` still
 --- a/components/password_manager/content/browser/content_password_manager_driver.cc
 +++ b/components/password_manager/content/browser/content_password_manager_driver.cc
-@@ -540,7 +540,7 @@ void ContentPasswordManagerDriver::Check
+@@ -558,7 +558,7 @@ void ContentPasswordManagerDriver::Check
    if (!password_manager::bad_message::CheckFrameNotPrerendering(
            render_frame_host_))
      return;
@@ -2791,7 +2846,7 @@
  }
 --- a/components/password_manager/core/browser/password_manager_client.h
 +++ b/components/password_manager/core/browser/password_manager_client.h
-@@ -397,11 +397,14 @@ class PasswordManagerClient {
+@@ -405,11 +405,14 @@ class PasswordManagerClient {
    // Returns the current best guess as to the page's display language.
    virtual autofill::LanguageCode GetPageLanguage() const;
  
@@ -2826,8 +2881,8 @@
 +# }
 --- a/components/safe_browsing/content/common/safe_browsing.mojom
 +++ b/components/safe_browsing/content/common/safe_browsing.mojom
-@@ -159,7 +159,6 @@ interface PhishingDetector {
-         mojo_base.mojom.ByteString request_proto);
+@@ -158,7 +158,6 @@ interface PhishingDetector {
+         mojo_base.mojom.ProtoWrapper? request);
  };
  
 -[EnableIf=full_safe_browsing]
@@ -2869,30 +2924,32 @@
 +++ b/components/safe_browsing/core/browser/hashprefix_realtime/ohttp_key_service.cc
 @@ -11,7 +11,6 @@
  #include "components/prefs/pref_service.h"
- #include "components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/safe_browsing/core/browser/utils/backoff_operator.h"
+ #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/safe_browsing/core/common/utils.h"
  #include "google_apis/google_api_keys.h"
  #include "net/base/net_errors.h"
-@@ -110,15 +109,7 @@ constexpr net::NetworkTrafficAnnotationT
+@@ -110,17 +109,7 @@ constexpr net::NetworkTrafficAnnotationT
    )");
  
  bool IsEnabled(PrefService* pref_service) {
 -  // If this class has been created, it is already known that the session is not
 -  // off-the-record and that the user's location is eligible, so
 -  // |is_off_the_record| is passed through as false and
--  // |stored_permanent_country| as nullopt.
+-  // |stored_permanent_country| as nullopt. |latest_country| is passed through
+-  // as null because it is not used.
 -  return safe_browsing::hash_realtime_utils::DetermineHashRealTimeSelection(
 -             /*is_off_the_record=*/false, pref_service,
--             /*stored_permanent_country=*/std::nullopt) ==
+-             /*stored_permanent_country=*/std::nullopt,
+-             /*latest_country=*/std::nullopt) ==
 -         safe_browsing::hash_realtime_utils::HashRealTimeSelection::
 -             kHashRealTimeService;
 +  return false;
  }
  
  GURL GetKeyFetchingUrl() {
-@@ -367,25 +358,9 @@ void OhttpKeyService::MaybeStartServerTr
+@@ -369,25 +358,9 @@ void OhttpKeyService::MaybeStartServerTr
  }
  
  void OhttpKeyService::PopulateKeyFromPref() {
diff --git a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
index c241e32f90..697d338871 100644
--- a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
+++ b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
@@ -12,7 +12,7 @@
  #include "components/url_formatter/url_fixer.h"
  #include "components/user_prefs/user_prefs.h"
  #include "components/visitedlink/browser/visitedlink_writer.h"
-@@ -506,8 +505,6 @@ void AwBrowserContext::RebuildTable(
+@@ -513,8 +512,6 @@ void AwBrowserContext::BuildVisitedLinkT
  }
  
  void AwBrowserContext::SetExtendedReportingAllowed(bool allowed) {
@@ -23,15 +23,15 @@
  // TODO(amalova): Make sure NetworkContextParams is configured correctly when
 --- a/chrome/browser/android/signin/signin_manager_android.cc
 +++ b/chrome/browser/android/signin/signin_manager_android.cc
-@@ -17,7 +17,6 @@
- #include "chrome/browser/sync/sync_service_factory.h"
- #include "chrome/common/pref_names.h"
+@@ -32,7 +32,6 @@
+ #include "components/policy/core/common/policy_switches.h"
  #include "components/prefs/pref_service.h"
+ #include "components/signin/internal/identity_manager/account_tracker_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
- #include "components/sync/service/sync_service.h"
- #include "google_apis/gaia/gaia_auth_util.h"
- 
-@@ -109,9 +108,6 @@ class ProfileDataRemover : public conten
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/account_managed_status_finder.h"
+ #include "components/signin/public/identity_manager/accounts_cookie_mutator.h"
+@@ -111,9 +110,6 @@ class ProfileDataRemover : public conten
        // All the Profile data has been wiped. Clear the last signed in username
        // as well, so that the next signin doesn't trigger the account
        // change dialog.
@@ -41,7 +41,7 @@
      }
  
      origin_runner_->PostTask(FROM_HERE, std::move(callback_));
-@@ -149,11 +145,6 @@ SigninManagerAndroid::SigninManagerAndro
+@@ -151,11 +147,6 @@ SigninManagerAndroid::SigninManagerAndro
    DCHECK(user_cloud_policy_manager_);
    DCHECK(user_policy_signin_service_);
  
@@ -53,7 +53,7 @@
    force_browser_signin_.Init(prefs::kForceBrowserSignin,
                               g_browser_process->local_state());
  
-@@ -189,7 +180,7 @@ SigninManagerAndroid::ManagementCredenti
+@@ -191,7 +182,7 @@ SigninManagerAndroid::ManagementCredenti
  SigninManagerAndroid::ManagementCredentials::~ManagementCredentials() = default;
  
  bool SigninManagerAndroid::IsSigninAllowed() const {
@@ -64,7 +64,7 @@
  jboolean SigninManagerAndroid::IsSigninAllowedByPolicy(JNIEnv* env) const {
 --- a/chrome/browser/android/signin/signin_manager_android.h
 +++ b/chrome/browser/android/signin/signin_manager_android.h
-@@ -124,9 +124,6 @@ class SigninManagerAndroid : public Keye
+@@ -125,9 +125,6 @@ class SigninManagerAndroid : public Keye
  
    const raw_ptr<Profile> profile_ = nullptr;
  
@@ -182,10 +182,10 @@
  }
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -285,7 +285,6 @@
- #include "components/safe_browsing/core/browser/realtime/url_lookup_service.h"
+@@ -292,7 +292,6 @@
  #include "components/safe_browsing/core/browser/url_checker_delegate.h"
  #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/security_interstitials/content/insecure_form_navigation_throttle.h"
  #include "components/security_interstitials/content/ssl_error_handler.h"
@@ -202,7 +202,7 @@
  #include "content/public/browser/browser_task_traits.h"
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -818,8 +818,6 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -866,8 +866,6 @@ void DownloadItemModel::ExecuteCommand(D
  #if BUILDFLAG(FULL_SAFE_BROWSING)
        CompleteSafeBrowsingScan();
  #endif
@@ -211,7 +211,7 @@
        [[fallthrough]];
      case DownloadCommands::KEEP:
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -886,24 +884,9 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -936,24 +934,9 @@ void DownloadItemModel::ExecuteCommand(D
        DownloadUIModel::ExecuteCommand(download_commands, command);
        break;
      case DownloadCommands::DEEP_SCAN: {
@@ -276,7 +276,7 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/user_prefs/user_prefs.h"
-@@ -382,8 +381,7 @@ std::string ConnectorsService::GetManage
+@@ -383,8 +382,7 @@ std::string ConnectorsService::GetManage
  
    std::optional<policy::PolicyScope> scope = std::nullopt;
    for (const char* scope_pref :
@@ -286,7 +286,7 @@
          ConnectorScopePref(AnalysisConnector::FILE_DOWNLOADED),
          ConnectorScopePref(AnalysisConnector::BULK_DATA_ENTRY),
          ConnectorScopePref(AnalysisConnector::PRINT),
-@@ -435,20 +433,6 @@ std::string ConnectorsService::GetManage
+@@ -436,20 +434,6 @@ std::string ConnectorsService::GetManage
  
  std::optional<std::string> ConnectorsService::GetDMTokenForRealTimeUrlCheck()
      const {
@@ -354,7 +354,7 @@
        Profile::FromBrowserContext(
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -233,12 +233,6 @@ void ContextInfoFetcher::Fetch(ContextIn
+@@ -234,12 +234,6 @@ void ContextInfoFetcher::Fetch(ContextIn
    info.third_party_blocking_enabled =
        utils::GetThirdPartyBlockingEnabled(g_browser_process->local_state());
  
@@ -449,7 +449,7 @@
  void TokenManagedProfileCreationDelegate::OnManagedProfileInitialized(
 --- a/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
 +++ b/chrome/browser/extensions/api/enterprise_reporting_private/enterprise_reporting_private_api.cc
-@@ -98,45 +98,10 @@ api::enterprise_reporting_private::Conte
+@@ -99,45 +99,10 @@ api::enterprise_reporting_private::Conte
    info.built_in_dns_client_enabled = signals.built_in_dns_client_enabled;
    info.enterprise_profile_id = signals.enterprise_profile_id;
  
@@ -523,7 +523,7 @@
 +  return false;
  }
  
- base::StringPiece GetOAuth2MintTokenFlowVersion() {
+ std::string_view GetOAuth2MintTokenFlowVersion() {
 --- a/chrome/browser/extensions/api/preference/preference_api.cc
 +++ b/chrome/browser/extensions/api/preference/preference_api.cc
 @@ -24,7 +24,6 @@
@@ -635,7 +635,7 @@
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/supervised_user/core/common/pref_names.h"
  #include "components/translate/core/browser/translate_pref_names.h"
-@@ -303,8 +301,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -305,8 +303,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
  #endif
  
    // Privacy page
@@ -644,7 +644,7 @@
    (*s_allowlist)[::prefs::kDnsOverHttpsMode] = settings_api::PrefType::kString;
    (*s_allowlist)[::prefs::kDnsOverHttpsTemplates] =
        settings_api::PrefType::kString;
-@@ -327,16 +323,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -329,16 +325,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kBoolean;
  
    // Security page
@@ -663,7 +663,7 @@
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
-@@ -736,9 +736,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
+@@ -727,9 +727,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
  IN_PROC_BROWSER_TEST_F(ExtensionWebstorePrivateGetReferrerChainApiTest,
                         GetReferrerChainForNonSafeBrowsingUser) {
    PrefService* pref_service = browser()->profile()->GetPrefs();
@@ -728,15 +728,15 @@
  }  // namespace extensions
 --- a/chrome/browser/extensions/extension_service.cc
 +++ b/chrome/browser/extensions/extension_service.cc
-@@ -76,7 +76,6 @@
+@@ -75,7 +75,6 @@
  #include "components/crx_file/id_util.h"
  #include "components/favicon_base/favicon_url_parser.h"
  #include "components/policy/core/common/policy_pref_names.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/supervised_user/core/common/buildflags.h"
+ #include "components/supervised_user/core/browser/supervised_user_preferences.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/render_process_host.h"
-@@ -551,10 +550,7 @@ void ExtensionService::Init() {
+@@ -547,10 +546,7 @@ void ExtensionService::Init() {
  
    LoadExtensionsFromCommandLineFlag(::switches::kDisableExtensionsExcept);
    if (load_command_line_extensions) {
@@ -758,7 +758,7 @@
  #include "content/public/browser/browser_thread.h"
  #include "content/public/common/url_constants.h"
  #include "extensions/browser/allowlist_state.h"
-@@ -1131,19 +1130,6 @@ void InstalledLoader::RecordExtensionsMe
+@@ -1130,19 +1129,6 @@ void InstalledLoader::RecordExtensionsMe
      base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabled2",
                                  disabled_not_allowlisted_count);
    }
@@ -802,7 +802,7 @@
      {"spellingServiceEnabled", spellcheck::prefs::kSpellCheckUseSpellingService,
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -61,7 +61,6 @@
+@@ -64,7 +64,6 @@
  #include "components/prefs/pref_registry_simple.h"
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
@@ -810,7 +810,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/first_party_sets_handler.h"
-@@ -1098,15 +1097,8 @@ void ProfileNetworkContextService::Confi
+@@ -1167,15 +1166,8 @@ void ProfileNetworkContextService::Confi
  
    network_context_params->enable_certificate_reporting = true;
  
@@ -985,7 +985,7 @@
  }  // namespace policy
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -110,15 +110,12 @@
+@@ -109,14 +109,11 @@
  #include "components/proxy_config/proxy_policy_handler.h"
  #include "components/safe_browsing/buildflags.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
@@ -995,7 +995,6 @@
  #include "components/search_engines/search_engines_pref_names.h"
  #include "components/security_interstitials/core/https_only_mode_policy_handler.h"
  #include "components/security_interstitials/core/pref_names.h"
- #include "components/services/storage/public/cpp/storage_prefs.h"
  #include "components/signin/public/base/signin_buildflags.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/spellcheck/spellcheck_buildflags.h"
@@ -1080,17 +1079,17 @@
  #endif  // #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX)
          // || BUILDFLAG(IS_WIN) || BUILDFLAG(IS_FUCHSIA) || BUILDFLAG(IS_MAC)
  #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_WIN) \
-@@ -1741,9 +1708,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1749,9 +1716,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kUnmanagedDeviceSignalsConsentFlowEnabled,
      device_signals::prefs::kUnmanagedDeviceSignalsConsentFlowEnabled,
      base::Value::Type::BOOLEAN },
 -  { key::kProfileSeparationDomainExceptionList,
 -    prefs::kProfileSeparationDomainExceptionList,
 -    base::Value::Type::LIST },
-   { key::kCustomProfileLabel,
-     prefs::kCustomProfileLabel,
-     base::Value::Type::STRING },
-@@ -1807,9 +1771,6 @@ const PolicyToPreferenceMapEntry kSimple
+ #endif // BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
+ #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) \
+     || BUILDFLAG(IS_FUCHSIA)
+@@ -1812,9 +1776,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kImportDialogAutofillFormData,
      base::Value::Type::BOOLEAN },
  
@@ -1100,7 +1099,7 @@
    { key::kHardwareAccelerationModeEnabled,
      prefs::kHardwareAccelerationModeEnabled,
      base::Value::Type::BOOLEAN },
-@@ -2090,9 +2051,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -2096,9 +2057,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kGoogleSearchSidePanelEnabled,
      prefs::kGoogleSearchSidePanelEnabled,
      base::Value::Type::BOOLEAN },
@@ -1110,7 +1109,7 @@
  #endif  // BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_FUCHSIA)
    { key::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
      policy_prefs::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
-@@ -2324,12 +2282,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2330,12 +2288,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            SimpleSchemaValidatingPolicyHandler::RECOMMENDED_ALLOWED,
            SimpleSchemaValidatingPolicyHandler::MANDATORY_ALLOWED));
  
@@ -1123,7 +1122,7 @@
  
    handlers->AddHandler(
        std::make_unique<NtpCustomBackgroundEnabledPolicyHandler>());
-@@ -2520,21 +2472,7 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2526,21 +2478,7 @@ std::unique_ptr<ConfigurationPolicyHandl
            key::kBrowserContextAwareAccessSignalsAllowlist,
            enterprise_connectors::kBrowserContextAwareAccessSignalsAllowlistPref,
            chrome_schema));
@@ -1145,7 +1144,7 @@
    handlers->AddHandler(std::make_unique<IntRangePolicyHandler>(
        key::kProfileReauthPrompt, enterprise_signin::prefs::kProfileReauthPrompt,
        static_cast<int>(enterprise_signin::ProfileReauthPrompt::kDoNotPrompt),
-@@ -2597,24 +2535,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2629,24 +2567,6 @@ std::unique_ptr<ConfigurationPolicyHandl
  #else   // BUILDFLAG(IS_CHROMEOS)
    std::vector<std::unique_ptr<ConfigurationPolicyHandler>>
        signin_legacy_policies;
@@ -1172,7 +1171,7 @@
        std::make_unique<BrowserSigninPolicyHandler>(chrome_schema)));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -157,7 +157,6 @@
+@@ -158,14 +158,12 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/proxy_config/pref_proxy_config_tracker_impl.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
@@ -1180,15 +1179,14 @@
  #include "components/search_engines/template_url_prepopulate_data.h"
  #include "components/security_interstitials/content/insecure_form_blocking_page.h"
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
-@@ -165,7 +164,6 @@
+ #include "components/segmentation_platform/embedder/default_model/device_switcher_result_dispatcher.h"
  #include "components/segmentation_platform/public/segmentation_platform_service.h"
- #include "components/services/storage/public/cpp/storage_prefs.h"
  #include "components/sessions/core/session_id_generator.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
- #include "components/subresource_filter/content/browser/ruleset_service.h"
-@@ -1509,7 +1507,6 @@ void RegisterLocalState(PrefRegistrySimp
+ #include "components/subresource_filter/content/shared/browser/ruleset_service.h"
+@@ -1549,7 +1547,6 @@ void RegisterLocalState(PrefRegistrySimp
    PushMessagingServiceImpl::RegisterPrefs(registry);
  #endif
    RegisterScreenshotPrefs(registry);
@@ -1196,7 +1194,7 @@
    secure_origin_allowlist::RegisterPrefs(registry);
    segmentation_platform::SegmentationPlatformService::RegisterLocalStatePrefs(
        registry);
-@@ -1798,8 +1795,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1851,8 +1848,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    QuietNotificationPermissionUiState::RegisterProfilePrefs(registry);
    RegisterBrowserUserPrefs(registry);
    RegisterPrefersDefaultScrollbarStylesPrefs(registry);
@@ -1205,7 +1203,7 @@
    SearchPrefetchService::RegisterProfilePrefs(registry);
    blocked_content::SafeBrowsingTriggeredPopupBlocker::RegisterProfilePrefs(
        registry);
-@@ -2340,20 +2335,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
+@@ -2396,20 +2391,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
    chrome_browser_net::secure_dns::MigrateProbesSettingToOrFromBackup(
        profile_prefs);
  
@@ -1226,7 +1224,7 @@
  
    // TODO(326079444): After experiment is over, update the deprecated date and
    // allow this to be cleaned up.
-@@ -2612,9 +2593,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
+@@ -2668,9 +2649,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
    // If the sync (old) pref still exists, copy it to signin (new),
    // and clear the sync part of the pref.
    if (profile_prefs->HasPrefPath(kSync_ExplicitBrowserSignin)) {
@@ -1236,7 +1234,7 @@
      profile_prefs->ClearPref(kSync_ExplicitBrowserSignin);
    }
  
-@@ -2706,10 +2684,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
+@@ -2762,10 +2740,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
    // Added 03/2024.
    profile_prefs->ClearPref(kDefaultSearchProviderChoicePendingDeprecated);
  
@@ -1244,8 +1242,8 @@
 -  // TODO(crbug.com/40282890): Remove ~one year after full launch.
 -  browser_sync::MaybeMigrateSyncingUserToSignedIn(profile_path, profile_prefs);
 -
-   // Added 04/2024.
-   profile_prefs->ClearPref(kOmniboxInstantKeywordUsed);
+   // Added 03/2024.
+   profile_prefs->ClearPref(kShowInternalAccessibilityTree);
  
 --- a/chrome/browser/prefs/chrome_command_line_pref_store.cc
 +++ b/chrome/browser/prefs/chrome_command_line_pref_store.cc
@@ -1276,10 +1274,10 @@
  #include "components/search_engines/default_search_manager.h"
  #include "components/search_engines/search_engines_pref_names.h"
 -#include "components/signin/public/base/signin_pref_names.h"
- #include "components/supervised_user/core/common/buildflags.h"
+ #include "components/supervised_user/core/browser/supervised_user_pref_store.h"
  #include "components/sync/base/features.h"
  #include "components/sync/base/model_type.h"
-@@ -130,9 +128,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -126,9 +124,6 @@ const prefs::TrackedPreferenceMetadata k
      {5, extensions::pref_names::kExtensions, EnforcementLevel::NO_ENFORCEMENT,
       PrefTrackingStrategy::SPLIT, ValueType::IMPERSONAL},
  #endif
@@ -1289,7 +1287,7 @@
      {7, prefs::kSearchProviderOverrides, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #if !BUILDFLAG(IS_ANDROID)
-@@ -156,16 +151,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -152,16 +147,6 @@ const prefs::TrackedPreferenceMetadata k
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
      // kSyncRemainingRollbackTries is deprecated and will be removed a few
      // releases after M50.
@@ -1362,9 +1360,9 @@
  #include "components/profile_metrics/state.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/account_info.h"
- #include "components/supervised_user/core/common/buildflags.h"
+ #include "components/supervised_user/core/common/supervised_user_constants.h"
  #include "ui/base/resource/resource_bundle.h"
-@@ -478,7 +477,7 @@ bool ProfileAttributesEntry::IsUsingDefa
+@@ -470,7 +469,7 @@ bool ProfileAttributesEntry::IsUsingDefa
  }
  
  bool ProfileAttributesEntry::IsSignedInWithCredentialProvider() const {
@@ -1373,7 +1371,7 @@
  }
  
  bool ProfileAttributesEntry::IsDasherlessManagement() const {
-@@ -676,7 +675,6 @@ void ProfileAttributesEntry::SetLastDown
+@@ -668,7 +667,6 @@ void ProfileAttributesEntry::SetLastDown
  }
  
  void ProfileAttributesEntry::SetSignedInWithCredentialProvider(bool value) {
@@ -1414,15 +1412,15 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
 --- a/chrome/browser/profiles/profile_manager.cc
 +++ b/chrome/browser/profiles/profile_manager.cc
-@@ -88,7 +88,6 @@
+@@ -90,7 +90,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
- #include "components/supervised_user/core/common/buildflags.h"
-@@ -1978,8 +1977,7 @@ void ProfileManager::AddProfileToStorage
+ #include "components/supervised_user/core/browser/child_account_service.h"
+@@ -1976,8 +1975,7 @@ void ProfileManager::AddProfileToStorage
        entry->SetAuthInfo(account_info.gaia, username,
                           is_consented_primary_account);
  
@@ -1432,7 +1430,7 @@
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS_ASH)
        // Sign out if force-sign-in policy is enabled and profile is not signed
-@@ -2028,14 +2026,13 @@ void ProfileManager::AddProfileToStorage
+@@ -2026,14 +2024,13 @@ void ProfileManager::AddProfileToStorage
  
    init_params.is_ephemeral = IsForceEphemeralProfilesEnabled(profile);
    init_params.is_signed_in_with_credential_provider =
@@ -1470,7 +1468,7 @@
  #if BUILDFLAG(IS_CHROMEOS_LACROS)
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
-@@ -845,7 +845,7 @@
+@@ -888,7 +888,7 @@
            </category-setting-exceptions>
          </settings-subpage>
        </template>
@@ -1481,7 +1479,7 @@
            <settings-subpage page-title="$i18n{siteSettingsAds}"
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.ts
-@@ -101,7 +101,7 @@ export class SettingsPrivacyPageElement
+@@ -102,7 +102,7 @@ export class SettingsPrivacyPageElement
        enableSafeBrowsingSubresourceFilter_: {
          type: Boolean,
          value() {
@@ -1492,7 +1490,7 @@
  
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -67,192 +67,6 @@
+@@ -71,192 +71,6 @@
        <img id="banner" alt=""
            src="chrome://settings/images/safe_browsing_banner.svg">
      </picture>
@@ -1616,7 +1614,7 @@
 -                  </li>
 -                </ul>
 -                <div id="learnMoreLabelContainer" class="cr-secondary-text">
--                  $i18nRaw{enhancedProtectionLearnMoreLabel}
+-                  $i18nRaw{safeBrowsingEnhancedLearnMoreLabel}
 -                </div>
 -              </div>
 -            </div>
@@ -1685,7 +1683,7 @@
      <div class="cr-row first">
        <h2>$i18n{advancedPageTitle}</h2>
      </div>
-@@ -366,11 +180,3 @@
+@@ -406,11 +220,3 @@
          on-click="onAdvancedProtectionProgramLinkClick_"
          external>
      </cr-link-row>
@@ -1699,7 +1697,7 @@
 -    </template>
 --- a/chrome/browser/resources/settings/privacy_page/security_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.ts
-@@ -275,17 +275,6 @@ export class SettingsSecurityPageElement
+@@ -292,17 +292,6 @@ export class SettingsSecurityPageElement
      super.ready();
  
      CrSettingsPrefs.initialized.then(() => {
@@ -1717,7 +1715,7 @@
        // The HTTPS-First Mode generated pref should never be set to
        // ENABLED_INCOGNITO if the feature flag is not enabled.
        if (!loadTimeData.getBoolean('enableHttpsFirstModeNewSettings')) {
-@@ -295,10 +284,6 @@ export class SettingsSecurityPageElement
+@@ -312,10 +301,6 @@ export class SettingsSecurityPageElement
        }
      });
  
@@ -1728,7 +1726,7 @@
      // Initialize the last focus time on page load.
      this.lastFocusTime_ = HatsBrowserProxyImpl.getInstance().now();
    }
-@@ -422,8 +407,7 @@ export class SettingsSecurityPageElement
+@@ -439,8 +424,7 @@ export class SettingsSecurityPageElement
    }
  
    private getDisabledExtendedSafeBrowsing_(): boolean {
@@ -1770,7 +1768,7 @@
      if (is_under_advanced_protection_)
        ScheduleNextRefresh();
    } else {
-@@ -257,20 +254,10 @@ void AdvancedProtectionStatusManager::Ca
+@@ -259,20 +256,10 @@ void AdvancedProtectionStatusManager::Ca
  
  void AdvancedProtectionStatusManager::UpdateLastRefreshTime() {
    last_refreshed_ = base::Time::Now();
@@ -1822,7 +1820,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_constants.h"
  #include "components/safe_browsing/core/common/utils.h"
  #include "components/security_interstitials/core/unsafe_resource.h"
-@@ -1316,14 +1315,6 @@ bool ChromePasswordProtectionService::Ha
+@@ -1313,14 +1312,6 @@ bool ChromePasswordProtectionService::Ha
  }
  
  void ChromePasswordProtectionService::OnWarningTriggerChanged() {
@@ -1837,7 +1835,7 @@
    // Clears captured enterprise password hashes or GSuite sync password hashes.
    password_manager::PasswordReuseManager* reuse_manager =
        GetPasswordReuseManager();
-@@ -1496,7 +1487,7 @@ PrefService* ChromePasswordProtectionSer
+@@ -1493,7 +1484,7 @@ PrefService* ChromePasswordProtectionSer
  }
  
  bool ChromePasswordProtectionService::IsSafeBrowsingEnabled() {
@@ -1846,7 +1844,7 @@
  }
  
  bool ChromePasswordProtectionService::IsExtendedReporting() {
-@@ -1516,39 +1507,7 @@ bool ChromePasswordProtectionService::Is
+@@ -1513,39 +1504,7 @@ bool ChromePasswordProtectionService::Is
  bool ChromePasswordProtectionService::IsPingingEnabled(
      LoginReputationClientRequest::TriggerType trigger_type,
      ReusedPasswordAccountType password_type) {
@@ -1887,7 +1885,7 @@
  }
  
  RequestOutcome ChromePasswordProtectionService::GetPingNotSentReason(
-@@ -1804,23 +1763,6 @@ MaybeCreateCommitDeferringCondition(
+@@ -1801,23 +1760,6 @@ MaybeCreateCommitDeferringCondition(
               : nullptr;
  }
  
@@ -1951,7 +1949,7 @@
  #include "components/sync/service/sync_service.h"
 --- a/chrome/browser/safe_browsing/download_protection/check_client_download_request.cc
 +++ b/chrome/browser/safe_browsing/download_protection/check_client_download_request.cc
-@@ -38,7 +38,6 @@
+@@ -39,7 +39,6 @@
  #include "components/safe_browsing/content/common/file_type_policies.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -2191,16 +2189,16 @@
 --- a/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
 @@ -90,7 +90,6 @@
- #include "components/safe_browsing/core/browser/safe_browsing_metrics_collector.h"
  #include "components/safe_browsing/core/browser/verdict_cache_manager.h"
  #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/safe_browsing/core/common/web_ui_constants.h"
  #include "components/security_interstitials/content/security_interstitial_controller_client.h"
  #include "components/security_interstitials/content/security_interstitial_tab_helper.h"
 --- a/chrome/browser/safe_browsing/safe_browsing_service.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_service.cc
-@@ -162,7 +162,6 @@ bool SafeBrowsingService::IsUserEligible
+@@ -196,7 +196,6 @@ bool SafeBrowsingService::IsUserEligible
  
  SafeBrowsingService::SafeBrowsingService()
      : services_delegate_(ServicesDelegate::Create(this)),
@@ -2208,7 +2206,7 @@
        shutdown_(false),
        enabled_(false),
        enabled_by_prefs_(false) {}
-@@ -294,9 +293,6 @@ TriggerManager* SafeBrowsingService::tri
+@@ -332,9 +331,6 @@ TriggerManager* SafeBrowsingService::tri
  
  PasswordProtectionService* SafeBrowsingService::GetPasswordProtectionService(
      Profile* profile) const {
@@ -2218,7 +2216,7 @@
    return nullptr;
  }
  
-@@ -378,9 +374,6 @@ void SafeBrowsingService::OnProfileAdded
+@@ -416,9 +412,6 @@ void SafeBrowsingService::OnProfileAdded
    std::unique_ptr<PrefChangeRegistrar> registrar =
        std::make_unique<PrefChangeRegistrar>();
    registrar->Init(pref_service);
@@ -2228,7 +2226,7 @@
    // ClientSideDetectionService will need to be refresh the models
    // renderers have if extended-reporting changes.
    registrar->Add(prefs::kSafeBrowsingScoutReportingEnabled,
-@@ -409,14 +402,6 @@ void SafeBrowsingService::OnProfileAdded
+@@ -447,14 +440,6 @@ void SafeBrowsingService::OnProfileAdded
                            NoCachedPopulationReason::kChangeMbbPref));
    user_population_prefs_[pref_service] = std::move(registrar);
  
@@ -2243,7 +2241,7 @@
  
    // Record the current enhanced protection pref state for regular profiles only
    if (profiles::IsRegularUserProfile(profile)) {
-@@ -467,18 +452,6 @@ void SafeBrowsingService::RefreshState()
+@@ -505,18 +490,6 @@ void SafeBrowsingService::RefreshState()
  
    // Check if any profile requires the service to be active.
    enabled_by_prefs_ = false;
@@ -2288,7 +2286,7 @@
    // Get current enabled status. Must be called on IO thread.
    bool enabled() const {
      DCHECK_CURRENTLY_ON(content::BrowserThread::IO);
-@@ -313,10 +303,6 @@ class SafeBrowsingService : public SafeB
+@@ -326,10 +316,6 @@ class SafeBrowsingService : public SafeB
  
    std::unique_ptr<ProxyConfigMonitor> proxy_config_monitor_;
  
@@ -2486,7 +2484,7 @@
  #include "components/signin/core/browser/signin_header_helper.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/identity_test_utils.h"
- #include "components/supervised_user/core/common/buildflags.h"
+ #include "components/supervised_user/core/browser/supervised_user_settings_service.h"
  #include "components/user_manager/user.h"
 --- a/chrome/browser/signin/dice_browsertest.cc
 +++ b/chrome/browser/signin/dice_browsertest.cc
@@ -2535,7 +2533,7 @@
    // TODO(b/314079566): Consider merging the different similar pref counts into
    // a single pref where the email hash maps to multiple values, includes the
    // following two prefs and `kProfileCreationInterceptionDeclinedPref` above.
-@@ -1393,16 +1384,6 @@ void DiceWebSigninInterceptor::
+@@ -1397,16 +1388,6 @@ void DiceWebSigninInterceptor::
            g_browser_process->browser_policy_connector(),
            g_browser_process->system_network_context_manager()
                ->GetSharedURLLoaderFactory());
@@ -2670,7 +2668,7 @@
    UpdateUnconsentedPrimaryAccount();
    identity_manager_observation_.Observe(&identity_manager_.get());
  }
-@@ -210,16 +205,6 @@ CoreAccountInfo SigninManager::ComputeUn
+@@ -215,16 +210,6 @@ CoreAccountInfo SigninManager::ComputeUn
          signin::ConsentLevel::kSync);
    }
  
@@ -2689,23 +2687,62 @@
        IsValidUnconsentedPrimaryAccount(current_primary_account);
 --- a/chrome/browser/signin/signin_promo_util.cc
 +++ b/chrome/browser/signin/signin_promo_util.cc
-@@ -8,7 +8,6 @@
- #include "chrome/browser/profiles/profile.h"
+@@ -9,7 +9,6 @@
  #include "chrome/browser/signin/identity_manager_factory.h"
  #include "components/prefs/pref_service.h"
+ #include "components/signin/public/base/consent_level.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
- #include "net/base/network_change_notifier.h"
-@@ -36,7 +35,7 @@ bool ShouldShowPromo(Profile* profile) {
-     return false;
+@@ -18,47 +17,7 @@
+ namespace signin {
  
-   // Don't show if sign-in is not allowed.
+ bool ShouldShowPromo(Profile& profile, ConsentLevel promo_type) {
+-#if BUILDFLAG(IS_CHROMEOS_ASH)
+-  // There's no need to show the sign in promo on cros since cros users are
+-  // already logged in.
+-  return false;
+-#else
+-
+-  // Don't bother if we don't have any kind of network connection.
+-  if (net::NetworkChangeNotifier::IsOffline())
+-    return false;
+-
+-  // Consider original profile even if an off-the-record profile was
+-  // passed to this method as sign-in state is only defined for the
+-  // primary profile.
+-  Profile* original_profile = profile.GetOriginalProfile();
+-
+-  // Don't show for supervised child profiles.
+-  if (original_profile->IsChild())
+-    return false;
+-
+-  // Don't show if sign in is not allowed.
 -  if (!original_profile->GetPrefs()->GetBoolean(prefs::kSigninAllowed))
-+  if (true)
      return false;
+-
+-  IdentityManager* identity_manager =
+-      IdentityManagerFactory::GetForProfile(original_profile);
+-
+-  // No promo if the user is already syncing.
+-  if (identity_manager->HasPrimaryAccount(ConsentLevel::kSync)) {
+-    return false;
+-  }
+-
+-  // Sync Promos are always shown when the user is not syncing.
+-  if (promo_type == ConsentLevel::kSync) {
+-    return true;
+-  }
+-
+-  // Signin promo is shown if the user is not signed in or needs to reauth.
+-  return !identity_manager->HasPrimaryAccount(ConsentLevel::kSignin) ||
+-         identity_manager->HasAccountWithRefreshTokenInPersistentErrorState(
+-             identity_manager->GetPrimaryAccountId(ConsentLevel::kSignin));
+-#endif
+ }
  
-   // Display the signin promo if the user is not signed in.
+ bool ShouldShowSignInPromo(Profile& profile,
 --- a/chrome/browser/signin/signin_ui_util.cc
 +++ b/chrome/browser/signin/signin_ui_util.cc
 @@ -41,7 +41,6 @@
@@ -2861,7 +2898,7 @@
  
 --- a/chrome/browser/ssl/ssl_browsertest.cc
 +++ b/chrome/browser/ssl/ssl_browsertest.cc
-@@ -93,7 +93,6 @@
+@@ -94,7 +94,6 @@
  #include "components/policy/policy_constants.h"
  #include "components/prefs/testing_pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2891,7 +2928,7 @@
  #include "components/sync/service/sync_service.h"
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -78,7 +78,6 @@
+@@ -81,7 +81,6 @@
  #include "components/sessions/core/tab_restore_service.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2911,7 +2948,7 @@
  #include "ui/events/keycodes/dom/dom_code.h"
 --- a/chrome/browser/ui/chrome_pages.cc
 +++ b/chrome/browser/ui/chrome_pages.cc
-@@ -77,7 +77,6 @@
+@@ -80,7 +80,6 @@
  #if !BUILDFLAG(IS_ANDROID)
  #include "base/metrics/histogram_functions.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
@@ -3055,6 +3092,34 @@
    return std::make_unique<SafetyHubSafeBrowsingResult>(
        SafeBrowsingState::kDisabledByUser);
  }
+--- a/chrome/browser/ui/signin/signin_view_controller.cc
++++ b/chrome/browser/ui/signin/signin_view_controller.cc
+@@ -26,7 +26,6 @@
+ #include "components/prefs/pref_service.h"
+ #include "components/signin/public/base/consent_level.h"
+ #include "components/signin/public/base/signin_buildflags.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/account_info.h"
+ #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
+@@ -235,17 +234,6 @@ void SigninViewController::SignoutOrReau
+           &SigninViewController::SignoutOrReauthWithPromptWithUnsyncedDataTypes,
+           weak_ptr_factory_.GetWeakPtr(), reauth_access_point,
+           profile_signout_source, token_signout_source);
+-  // Fetch the unsynced datatypes, as this is required to decide whether the
+-  // confirmation prompt is needed.
+-  if (sync_service &&
+-      switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-          switches::ExplicitBrowserSigninPhase::kFull) &&
+-      profile->GetPrefs()->GetBoolean(prefs::kExplicitBrowserSignin)) {
+-    sync_service->GetTypesWithUnsyncedData(
+-        syncer::TypesRequiringUnsyncedDataCheckOnSignout(),
+-        std::move(signout_prompt_with_datatypes));
+-    return;
+-  }
+   // Dice users don't see the prompt, pass empty datatypes.
+   std::move(signout_prompt_with_datatypes).Run(syncer::ModelTypeSet());
+ }
 --- a/chrome/browser/ui/startup/first_run_service.cc
 +++ b/chrome/browser/ui/startup/first_run_service.cc
 @@ -33,7 +33,6 @@
@@ -3116,7 +3181,7 @@
  void SetFirstRunFinished(FirstRunService::FinishedReason reason) {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -94,7 +94,6 @@
+@@ -96,7 +96,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/profile_metrics/browser_profile_type.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3124,7 +3189,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/vector_icons/vector_icons.h"
-@@ -524,62 +523,7 @@ int ProfileSubMenuModel::GetAndIncrement
+@@ -531,62 +530,7 @@ int ProfileSubMenuModel::GetAndIncrement
  }
  
  bool ProfileSubMenuModel::BuildSyncSection() {
@@ -3209,15 +3274,15 @@
  #include "components/signin/public/identity_manager/identity_test_utils.h"
 --- a/chrome/browser/ui/views/profiles/profile_menu_view.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view.cc
-@@ -65,7 +65,6 @@
- #include "chrome/grit/theme_resources.h"
+@@ -66,7 +66,6 @@
  #include "components/signin/core/browser/signin_error_controller.h"
  #include "components/signin/public/base/consent_level.h"
+ #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
-@@ -643,7 +642,6 @@ void ProfileMenuView::BuildAutofillButto
+@@ -656,7 +655,6 @@ void ProfileMenuView::BuildAutofillButto
  
  void ProfileMenuView::BuildSyncInfo() {
    Profile* profile = browser()->profile();
@@ -3227,7 +3292,7 @@
    if (!SyncServiceFactory::IsSyncAllowed(profile)) {
 --- a/chrome/browser/ui/views/profiles/profile_menu_view_browsertest.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view_browsertest.cc
-@@ -69,7 +69,6 @@
+@@ -74,7 +74,6 @@
  #include "components/password_manager/core/common/password_manager_features.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
@@ -3308,7 +3373,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/zoom/page_zoom.h"
  #include "components/zoom/zoom_controller.h"
-@@ -352,67 +351,6 @@ void AddSignedInChipToProfileMenuItem(
+@@ -347,67 +346,6 @@ void AddSignedInChipToProfileMenuItem(
      const int horizontal_padding,
      std::vector<base::CallbackListSubscription>&
          profile_menu_subscription_list) {
@@ -3420,7 +3485,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
-@@ -154,8 +153,6 @@ content::WebUIDataSource* CreateAndAddHi
+@@ -155,8 +154,6 @@ content::WebUIDataSource* CreateAndAddHi
    source->AddBoolean("allowDeletingHistory", allow_deleting_history);
  
    source->AddBoolean("isGuestSession", profile->IsGuestSession());
@@ -3523,7 +3588,7 @@
  #include "components/user_prefs/user_prefs.h"
 --- a/chrome/browser/ui/webui/settings/people_handler.cc
 +++ b/chrome/browser/ui/webui/settings/people_handler.cc
-@@ -48,7 +48,6 @@
+@@ -50,7 +50,6 @@
  #include "components/signin/core/browser/signin_error_controller.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3531,7 +3596,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
-@@ -327,10 +326,6 @@ void PeopleHandler::OnJavascriptAllowed(
+@@ -340,10 +339,6 @@ void PeopleHandler::OnJavascriptAllowed(
    PrefService* prefs = profile_->GetPrefs();
    profile_pref_registrar_ = std::make_unique<PrefChangeRegistrar>();
    profile_pref_registrar_->Init(prefs);
@@ -3539,9 +3604,9 @@
 -      prefs::kSigninAllowed,
 -      base::BindRepeating(&PeopleHandler::UpdateSyncStatus,
 -                          base::Unretained(this)));
- 
-   signin::IdentityManager* identity_manager(
-       IdentityManagerFactory::GetInstance()->GetForProfile(profile_));
+ #if BUILDFLAG(ENABLE_DICE_SUPPORT)
+   profile_pref_registrar_->Add(
+       prefs::kChromeSigninInterceptionUserChoice,
 --- a/chrome/browser/ui/webui/settings/safety_check_handler.cc
 +++ b/chrome/browser/ui/webui/settings/safety_check_handler.cc
 @@ -30,7 +30,6 @@
@@ -3554,7 +3619,7 @@
  #include "content/public/browser/storage_partition.h"
 --- a/chrome/browser/ui/webui/settings/safety_hub_handler.cc
 +++ b/chrome/browser/ui/webui/settings/safety_hub_handler.cc
-@@ -40,7 +40,6 @@
+@@ -41,7 +41,6 @@
  #include "components/content_settings/core/common/features.h"
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/permissions/constants.h"
@@ -3562,7 +3627,7 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
-@@ -112,15 +111,6 @@ SafetyHubHandler::PermissionsData GetUnu
+@@ -119,15 +118,6 @@ SafetyHubHandler::PermissionsData GetUnu
  
  // Returns the state of Safe Browsing setting.
  SafeBrowsingState GetSafeBrowsingState(PrefService* pref_service) {
@@ -3580,15 +3645,15 @@
  
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -82,7 +82,6 @@
- #include "components/privacy_sandbox/privacy_sandbox_features.h"
- #include "components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.h"
+@@ -79,7 +79,6 @@
+ #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/strings/grit/components_branded_strings.h"
-@@ -3427,11 +3426,6 @@ void AddSiteSettingsStrings(content::Web
+@@ -3227,11 +3226,6 @@ void AddSiteSettingsStrings(content::Web
    html_source->AddLocalizedStrings(kSensorsLocalizedStrings);
  
    html_source->AddBoolean(
@@ -3603,14 +3668,14 @@
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
 @@ -100,7 +100,6 @@
- #include "components/safe_browsing/core/common/features.h"
+ #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
- #include "components/search_engines/search_engine_choice_utils.h"
+ #include "components/search_engines/search_engine_choice/search_engine_choice_utils.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/sync/base/features.h"
  #include "content/public/browser/url_data_source.h"
  #include "content/public/browser/web_contents.h"
-@@ -306,9 +305,7 @@ SettingsUI::SettingsUI(content::WebUI* w
+@@ -314,9 +313,7 @@ SettingsUI::SettingsUI(content::WebUI* w
    }
  #endif  // BUILDFLAG(IS_WIN) && BUILDFLAG(GOOGLE_CHROME_BRANDING)
  
@@ -3678,7 +3743,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
 --- a/chrome/browser/ui/webui/signin/managed_user_profile_notice_handler.cc
 +++ b/chrome/browser/ui/webui/signin/managed_user_profile_notice_handler.cc
-@@ -32,7 +32,6 @@
+@@ -33,7 +33,6 @@
  #include "chrome/grit/generated_resources.h"
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/prefs/pref_service.h"
@@ -3686,7 +3751,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/strings/grit/components_strings.h"
  #include "content/public/browser/web_contents.h"
-@@ -320,23 +319,6 @@ base::Value::Dict ManagedUserProfileNoti
+@@ -342,23 +341,6 @@ base::Value::Dict ManagedUserProfileNoti
                     profile_creation_required_by_policy_
                         ? IDS_ENTERPRISE_PROFILE_WELCOME_CREATE_PROFILE_BUTTON
                         : IDS_WELCOME_SIGNIN_VIEW_SIGNIN));
@@ -3772,7 +3837,7 @@
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper.cc
 @@ -48,7 +48,6 @@
- #include "components/search_engines/search_engine_choice_utils.h"
+ #include "components/search_engines/search_engine_choice/search_engine_choice_utils.h"
  #include "components/signin/core/browser/account_reconcilor.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
@@ -3799,7 +3864,7 @@
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "third_party/skia/include/core/SkColor.h"
  
-@@ -222,28 +221,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
+@@ -223,28 +222,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
      std::move(callback).Run(signin::SIGNIN_CHOICE_CANCEL);
      return;
    }
@@ -3827,7 +3892,7 @@
 -#endif
    DCHECK(!prompt_for_new_profile);
    browser_->signin_view_controller()->ShowModalManagedUserNoticeDialog(
-       account_info, /*profile_creation_required_by_policy=*/false,
+       account_info, /*is_oidc_account=*/false,
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_unittest.cc
 @@ -60,7 +60,6 @@
@@ -3895,64 +3960,61 @@
            "searchSuggestEnabled": {
              "$ref": "types.ChromeSetting",
              "value": ["searchSuggestEnabled", {"type":"boolean"}],
---- a/components/autofill/core/browser/personal_data_manager.cc
-+++ b/components/autofill/core/browser/personal_data_manager.cc
-@@ -72,7 +72,6 @@
- #include "components/history/core/browser/history_types.h"
+--- a/components/autofill/core/browser/address_data_manager.cc
++++ b/components/autofill/core/browser/address_data_manager.cc
+@@ -22,7 +22,6 @@
+ #include "components/autofill/core/common/autofill_clock.h"
+ #include "components/autofill/core/common/autofill_prefs.h"
  #include "components/prefs/pref_service.h"
- #include "components/signin/public/base/consent_level.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
- #include "components/signin/public/identity_manager/account_info.h"
- #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -847,47 +846,7 @@ AutofillImageFetcherBase* PersonalDataMa
+ #include "components/sync/base/features.h"
+ #include "components/sync/base/model_type.h"
+@@ -276,23 +275,7 @@ void AddressDataManager::RemoveProfile(c
  }
  
- bool PersonalDataManager::IsAutofillSyncToggleAvailable() const {
--  auto is_unsupported_passphrase_user = [&] {
--    if (!sync_service_) {
-       return false;
--    }
--    return sync_service_->GetUserSettings()->IsUsingExplicitPassphrase() &&
--           !base::FeatureList::IsEnabled(
--               syncer::kSyncEnableContactInfoDataTypeForCustomPassphraseUsers);
--  };
--  auto is_unsupported_dasher_user = [&] {
--    if (!account_status_finder_) {
--      return false;
--    }
--    using StatusOutcome = signin::AccountManagedStatusFinder::Outcome;
--    StatusOutcome outcome = account_status_finder_->GetOutcome();
--    return outcome == StatusOutcome::kEnterprise &&
--           !base::FeatureList::IsEnabled(
--               syncer::kSyncEnableContactInfoDataTypeForDasherUsers);
--  };
--  auto is_child_account = [&] {
--    if (!sync_service_ || !identity_manager_ ||
--        !identity_manager_->AreRefreshTokensLoaded()) {
--      return false;
--    }
--    return identity_manager_
--               ->FindExtendedAccountInfo(sync_service_->GetAccountInfo())
--               .capabilities.is_subject_to_parental_controls() ==
--           signin::Tribool::kTrue;
--  };
+ bool AddressDataManager::IsEligibleForAddressAccountStorage() const {
+-  if (!sync_service_) {
+     return false;
+-  }
+-
+-  if (::switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-          ::switches::ExplicitBrowserSigninPhase::kFull)) {
+-    return contact_info_precondition_checker_ &&
+-           contact_info_precondition_checker_->GetPreconditionState() ==
+-               syncer::ModelTypeController::PreconditionState::
+-                   kPreconditionsMet &&
+-           sync_service_->GetUserSettings()->GetSelectedTypes().Has(
+-               syncer::UserSelectableType::kAutofill);
+-  }
+-
+-  // The CONTACT_INFO data type is only running for eligible users. See
+-  // ContactInfoModelTypeController.
+-  return sync_service_->GetActiveDataTypes().Has(syncer::CONTACT_INFO);
+ }
+ 
+ bool AddressDataManager::IsCountryEligibleForAccountStorage(
+@@ -563,19 +546,7 @@ bool AddressDataManager::IsAutofillUserS
+ }
+ 
+ bool AddressDataManager::IsAutofillSyncToggleAvailable() const {
 -  return sync_service_ && !sync_service_->GetAccountInfo().IsEmpty() &&
 -         !sync_service_->HasSyncConsent() &&
 -         !sync_service_->GetUserSettings()->IsTypeManagedByPolicy(
 -             syncer::UserSelectableType::kAutofill) &&
--         !is_unsupported_passphrase_user() && !is_unsupported_dasher_user() &&
--         !is_child_account() &&
+-         contact_info_precondition_checker_ &&
+-         contact_info_precondition_checker_->GetPreconditionState() ==
+-             syncer::ModelTypeController::PreconditionState::
+-                 kPreconditionsMet &&
 -         base::FeatureList::IsEnabled(
 -             syncer::kSyncEnableContactInfoDataTypeInTransportMode) &&
--         base::FeatureList::IsEnabled(
--             syncer::kSyncDecoupleAddressPaymentSettings) &&
 -         ::switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
 -             ::switches::ExplicitBrowserSigninPhase::kFull) &&
 -         pref_service_->GetBoolean(::prefs::kExplicitBrowserSignin);
++  return false;
  }
  
- void PersonalDataManager::AddFullServerCreditCardForTesting(
+ void AddressDataManager::SetAutofillSelectableTypeEnabled(bool enabled) {
 --- a/components/browser_sync/BUILD.gn
 +++ b/components/browser_sync/BUILD.gn
 @@ -17,8 +17,6 @@ static_library("browser_sync") {
@@ -3974,7 +4036,7 @@
  
  namespace feed {
  namespace {
-@@ -177,9 +176,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
+@@ -172,9 +171,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
    snippets_enabled_by_dse_.Init(prefs::kEnableSnippetsByDse, profile_prefs,
                                  preference_change_callback);
    has_stored_data_.Init(feed::prefs::kHasStoredData, profile_prefs);
@@ -4013,6 +4075,30 @@
  #include "base/ranges/algorithm.h"
  #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
  #include "third_party/re2/src/re2/re2.h"
+--- a/components/password_manager/core/browser/features/password_manager_features_util_common.cc
++++ b/components/password_manager/core/browser/features/password_manager_features_util_common.cc
+@@ -9,7 +9,6 @@
+ #include "components/password_manager/core/browser/features/password_features.h"
+ #include "components/password_manager/core/common/password_manager_pref_names.h"
+ #include "components/prefs/pref_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/sync/base/features.h"
+ #include "components/sync/service/sync_service.h"
+@@ -81,13 +80,6 @@ bool IsUserEligibleForAccountStorage(con
+     case syncer::SyncService::TransportState::DISABLED:
+       return false;
+     case syncer::SyncService::TransportState::PAUSED:
+-      if (switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-              switches::ExplicitBrowserSigninPhase::kFull) &&
+-          // `prefs::kExplicitBrowserSignin` is false for users who signed in
+-          // implicitly through the Dice web signin in a previous run.
+-          pref_service->GetBoolean(::prefs::kExplicitBrowserSignin)) {
+-        break;
+-      }
+       return false;
+     case syncer::SyncService::TransportState::START_DEFERRED:
+     case syncer::SyncService::TransportState::INITIALIZING:
 --- a/components/password_manager/core/browser/features/password_manager_features_util_desktop.cc
 +++ b/components/password_manager/core/browser/features/password_manager_features_util_desktop.cc
 @@ -15,7 +15,6 @@
@@ -4023,15 +4109,20 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/sync/base/pref_names.h"
-@@ -406,11 +405,7 @@ bool ShouldShowAccountStorageSettingTogg
- }
- 
- bool IsAccountStorageEnabledByDefault(const PrefService* prefs) {
--  // When signin is explicit, account storage is enabled by default. Users who
--  // disabled it manually should not be prompted to re-enable it.
--  return prefs->GetBoolean(::prefs::kExplicitBrowserSignin) &&
--         switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
--             switches::ExplicitBrowserSigninPhase::kFull);
+@@ -402,16 +401,7 @@ bool ShouldShowAccountStorageSettingTogg
+ }
+ 
+ bool AreAccountStorageOptInPromosAllowed() {
+-  // Disallow promos when kExplicitBrowserSigninUIOnDesktop is on.
+-  // - For users who went through explicit sign-in, account storage is enabled
+-  //   by default. If they bothered to disable this feature, they should not be
+-  //   spammed into re-enabling it.
+-  // - Users who went through implicit sign-in will be migrated to explicit
+-  //   sign-in in the future, at which point the above applies. In the meantime,
+-  //   it's not worth keeping the promos UI. Most users in this group have seen
+-  //   the promo by now and have accepted *if* they want the feature.
+-  return !switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-      switches::ExplicitBrowserSigninPhase::kFull);
 +  return false;
  }
  
@@ -4089,7 +4180,7 @@
  namespace password_manager {
 --- a/components/password_manager/core/browser/password_reuse_detector_impl.cc
 +++ b/components/password_manager/core/browser/password_reuse_detector_impl.cc
-@@ -18,7 +18,6 @@
+@@ -20,7 +20,6 @@
  #include "components/password_manager/core/browser/password_store/password_store_consumer.h"
  #include "components/password_manager/core/browser/password_store/psl_matching_helper.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -4097,7 +4188,7 @@
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "url/gurl.h"
  
-@@ -206,9 +205,7 @@ PasswordReuseDetectorImpl::CheckNonGaiaE
+@@ -208,9 +207,7 @@ PasswordReuseDetectorImpl::CheckNonGaiaE
    // Skips password reuse check if |domain| matches enterprise login URL or
    // enterprise change password URL.
    GURL page_url(domain);
@@ -4110,7 +4201,7 @@
  
 --- a/components/password_manager/core/browser/password_reuse_manager_impl.cc
 +++ b/components/password_manager/core/browser/password_reuse_manager_impl.cc
-@@ -23,7 +23,6 @@
+@@ -24,7 +24,6 @@
  #include "components/password_manager/core/browser/password_store_signin_notifier.h"
  #include "components/password_manager/core/common/password_manager_features.h"
  #include "components/prefs/pref_service.h"
@@ -4118,7 +4209,7 @@
  #include "components/signin/public/base/consent_level.h"
  #include "google_apis/gaia/gaia_auth_util.h"
  
-@@ -374,21 +373,6 @@ void PasswordReuseManagerImpl::ScheduleP
+@@ -375,21 +374,6 @@ void PasswordReuseManagerImpl::ScheduleP
  }
  
  void PasswordReuseManagerImpl::ScheduleEnterprisePasswordURLUpdate() {
@@ -4267,9 +4358,9 @@
  #include "components/safe_browsing/content/browser/unsafe_resource_util.h"
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/safe_browsing/core/common/utils.h"
  #include "components/security_interstitials/content/security_interstitial_controller_client.h"
  #include "components/security_interstitials/content/settings_page_helper.h"
- #include "components/security_interstitials/core/metrics_helper.h"
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
 @@ -36,7 +36,6 @@
@@ -4425,7 +4516,7 @@
  #include "content/public/browser/global_routing_id.h"
  #include "services/network/public/mojom/cookie_manager.mojom.h"
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -1807,17 +1806,7 @@ std::string SerializeHitReport(const Hit
+@@ -1823,17 +1822,7 @@ std::string SerializeHitReport(const Hit
    }
    hit_report_dict.Set("threat_source", threat_source);
    std::string extended_reporting_level;
@@ -4443,7 +4534,7 @@
    hit_report_dict.Set("extended_reporting_level", extended_reporting_level);
    hit_report_dict.Set("is_enhanced_protection",
                        hit_report.is_enhanced_protection);
-@@ -2912,18 +2901,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
+@@ -3091,18 +3080,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
    AllowJavascript();
    DCHECK(!args.empty());
    std::string callback_id = args[0].GetString();
@@ -4774,64 +4865,6 @@
  };
  
  }  // namespace safe_browsing
---- a/components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.cc
-+++ b/components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.cc
-@@ -11,7 +11,6 @@
- #include "build/branding_buildflags.h"
- #include "components/prefs/pref_service.h"
- #include "components/safe_browsing/core/common/features.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/safe_browsing/core/common/utils.h"
- #include "components/variations/service/variations_service.h"
- 
-@@ -96,45 +95,11 @@ HashRealTimeSelection DetermineHashRealT
-     PrefService* prefs,
-     std::optional<std::string> stored_permanent_country,
-     bool log_usage_histograms) {
--  // All prefs used in this method must match the ones returned by
--  // |GetHashRealTimeSelectionConfiguringPrefs| so that consumers listening for
--  // changes can receive them correctly.
--  struct Requirement {
--    std::string failed_requirement_histogram_suffix;
--    bool passes_requirement;
--  } requirements[] = {
--      {"IneligibleForSessionOrLocation",
--       hash_realtime_utils::IsHashRealTimeLookupEligibleInSessionAndLocation(
--           stored_permanent_country)},
--      {"OffTheRecord", !is_off_the_record},
--      {"NotStandardProtection", safe_browsing::GetSafeBrowsingState(*prefs) ==
--                                    SafeBrowsingState::STANDARD_PROTECTION},
--      {"NotAllowedByPolicy",
--       safe_browsing::AreHashPrefixRealTimeLookupsAllowedByPolicy(*prefs)}};
--  bool can_do_lookup = true;
--  for (const auto& requirement : requirements) {
--    if (!requirement.passes_requirement) {
--      can_do_lookup = false;
--    }
--    if (log_usage_histograms) {
--      base::UmaHistogramBoolean(
--          base::StrCat({"SafeBrowsing.HPRT.Ineligible.",
--                        requirement.failed_requirement_histogram_suffix}),
--          !requirement.passes_requirement);
--    }
--  }
--  return can_do_lookup ?
--#if BUILDFLAG(IS_ANDROID)
--                       HashRealTimeSelection::kDatabaseManager
--#else
--                       HashRealTimeSelection::kHashRealTimeService
--#endif
--                       : HashRealTimeSelection::kNone;
-+  return HashRealTimeSelection::kNone;
- }
- 
- std::vector<const char*> GetHashRealTimeSelectionConfiguringPrefs() {
--  return {prefs::kSafeBrowsingEnabled, prefs::kSafeBrowsingEnhanced,
--          prefs::kHashPrefixRealTimeChecksAllowedByPolicy};
-+  return {};
- }
- 
- GoogleChromeBrandingPretenderForTesting::
 --- a/components/safe_browsing/core/browser/password_protection/password_protection_service_base.h
 +++ b/components/safe_browsing/core/browser/password_protection/password_protection_service_base.h
 @@ -28,7 +28,6 @@
@@ -4842,7 +4875,7 @@
  #include "components/sessions/core/session_id.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -150,10 +149,6 @@ class PasswordProtectionServiceBase : pu
+@@ -149,10 +148,6 @@ class PasswordProtectionServiceBase : pu
    // Returns if the warning UI is enabled.
    bool IsWarningEnabled(ReusedPasswordAccountType password_type);
  
@@ -4855,7 +4888,7 @@
    // policy.
 --- a/components/safe_browsing/core/browser/ping_manager.cc
 +++ b/components/safe_browsing/core/browser/ping_manager.cc
-@@ -348,7 +348,7 @@ GURL PingManager::SafeBrowsingHitUrl(
+@@ -479,7 +479,7 @@ GURL PingManager::SafeBrowsingHitUrl(
           hit_report->threat_type == SB_THREAT_TYPE_URL_BINARY_MALWARE ||
           hit_report->threat_type == SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING);
    std::string url =
@@ -5354,7 +5387,7 @@
  }  // namespace safe_browsing
 --- a/components/safe_browsing/core/common/BUILD.gn
 +++ b/components/safe_browsing/core/common/BUILD.gn
-@@ -6,22 +6,8 @@ import("//build/config/features.gni")
+@@ -6,21 +6,8 @@ import("//build/config/features.gni")
  import("//components/safe_browsing/buildflags.gni")
  import("//mojo/public/tools/bindings/mojom.gni")
  
@@ -5367,7 +5400,6 @@
 -  configs += [ "//build/config/compiler:wexit_time_destructors" ]
 -
 -  deps = [
--    ":common",
 -    "//components/pref_registry:pref_registry",
 -    "//components/prefs",
 -    "//net:net",
@@ -5379,6 +5411,79 @@
  }
  
  source_set("safe_browsing_policy_handler") {
+--- a/components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.cc
++++ b/components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.cc
+@@ -11,7 +11,6 @@
+ #include "build/branding_buildflags.h"
+ #include "components/prefs/pref_service.h"
+ #include "components/safe_browsing/core/common/features.h"
+-#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/safe_browsing/core/common/utils.h"
+ #include "components/variations/service/variations_service.h"
+ 
+@@ -106,60 +105,11 @@ HashRealTimeSelection DetermineHashRealT
+     std::optional<std::string> stored_permanent_country,
+     std::optional<std::string> latest_country,
+     bool log_usage_histograms) {
+-  // All prefs used in this method must match the ones returned by
+-  // |GetHashRealTimeSelectionConfiguringPrefs| so that consumers listening for
+-  // changes can receive them correctly.
+-  struct Requirement {
+-    std::string failed_requirement_histogram_suffix;
+-    bool passes_requirement;
+-  } requirements[] = {
+-      {"IneligibleForSessionOrLocation",
+-       hash_realtime_utils::IsHashRealTimeLookupEligibleInSessionAndLocation(
+-           stored_permanent_country)},
+-      {"OffTheRecord", !is_off_the_record},
+-      {"NotStandardProtection", safe_browsing::GetSafeBrowsingState(*prefs) ==
+-                                    SafeBrowsingState::STANDARD_PROTECTION},
+-      {"NotAllowedByPolicy",
+-       safe_browsing::AreHashPrefixRealTimeLookupsAllowedByPolicy(*prefs)}};
+-  bool can_do_lookup = true;
+-  for (const auto& requirement : requirements) {
+-    if (!requirement.passes_requirement) {
+-      can_do_lookup = false;
+-    }
+-    if (log_usage_histograms) {
+-      base::UmaHistogramBoolean(
+-          base::StrCat({"SafeBrowsing.HPRT.Ineligible.",
+-                        requirement.failed_requirement_histogram_suffix}),
+-          !requirement.passes_requirement);
+-    }
+-  }
+-  if (log_usage_histograms) {
+-    base::UmaHistogramBoolean(
+-        "SafeBrowsing.HPRT.WouldBeIneligibleForSessionOrLatestCountry",
+-        !hash_realtime_utils::IsHashRealTimeLookupEligibleInSessionAndLocation(
+-            latest_country));
+-    base::UmaHistogramBoolean(
+-        "SafeBrowsing.HPRT.Ineligible.NoGoogleChromeBranding",
+-        !HasGoogleChromeBranding());
+-    base::UmaHistogramBoolean(
+-        "SafeBrowsing.HPRT.Ineligible.FeatureOff",
+-        !base::FeatureList::IsEnabled(kHashPrefixRealTimeLookups));
+-    base::UmaHistogramBoolean(
+-        "SafeBrowsing.HPRT.Ineligible.IneligibleForLocation",
+-        !IsHashRealTimeLookupEligibleInLocation(stored_permanent_country));
+-  }
+-  return can_do_lookup ?
+-#if BUILDFLAG(IS_ANDROID)
+-                       HashRealTimeSelection::kDatabaseManager
+-#else
+-                       HashRealTimeSelection::kHashRealTimeService
+-#endif
+-                       : HashRealTimeSelection::kNone;
++  return HashRealTimeSelection::kNone;
+ }
+ 
+ std::vector<const char*> GetHashRealTimeSelectionConfiguringPrefs() {
+-  return {prefs::kSafeBrowsingEnabled, prefs::kSafeBrowsingEnhanced,
+-          prefs::kHashPrefixRealTimeChecksAllowedByPolicy};
++  return {};
+ }
+ 
+ GoogleChromeBrandingPretenderForTesting::
 --- a/components/safe_browsing/core/common/safe_browsing_policy_handler.cc
 +++ b/components/safe_browsing/core/common/safe_browsing_policy_handler.cc
 @@ -13,7 +13,6 @@
@@ -5665,7 +5770,7 @@
    previously_authenticated_ =
        identity_manager_->HasPrimaryAccount(signin::ConsentLevel::kSync);
 -
--  // TODO(crbug.com/1121923): Refactor to use signin::PersistentRepeatingTimer
+-  // TODO(crbug.com/40715763): Refactor to use signin::PersistentRepeatingTimer
 -  // instead.
 -  Time previous = Time::FromSecondsSinceUnixEpoch(
 -      pref_service_->GetDouble(prefs::kGaiaCookiePeriodicReportTime));
@@ -6083,10 +6188,10 @@
  #include "components/signin/public/webdata/token_web_data.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
-@@ -26,7 +26,6 @@
- #include "components/signin/internal/identity_manager/profile_oauth2_token_service.h"
+@@ -27,7 +27,6 @@
  #include "components/signin/public/base/account_consistency_method.h"
  #include "components/signin/public/base/device_id_helper.h"
+ #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/base/test_signin_client.h"
@@ -6280,7 +6385,7 @@
    const bool existed_primary_account_with_sync =
        !last_gaia_id_with_sync_enabled.empty();
  
-@@ -688,36 +575,6 @@ PrimaryAccountChangeEvent::State Primary
+@@ -688,27 +575,6 @@ PrimaryAccountChangeEvent::State Primary
  void PrimaryAccountManager::ComputeExplicitBrowserSignin(
      const PrimaryAccountChangeEvent& event_details,
      ScopedPrefCommit& scoped_pref_commit) {
@@ -6296,18 +6401,9 @@
 -          event_details.GetAccessPoint().value();
 -
 -      if (access_point == signin_metrics::AccessPoint::ACCESS_POINT_UNKNOWN ||
--          (access_point ==
--               signin_metrics::AccessPoint::ACCESS_POINT_WEB_SIGNIN &&
--           !switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
--               switches::ExplicitBrowserSigninPhase::kFull))) {
+-          access_point ==
+-              signin_metrics::AccessPoint::ACCESS_POINT_WEB_SIGNIN) {
 -        scoped_pref_commit.ClearPref(prefs::kExplicitBrowserSignin);
--      } else if (access_point ==
--                     signin_metrics::AccessPoint::ACCESS_POINT_WEB_SIGNIN &&
--                 switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
--                     switches::ExplicitBrowserSigninPhase::kFull)) {
--        // If a web sign in occurs, we do not want to clear the explicit signin
--        // pref, since it might be a result of previously accepting the bubble.
--        // Therefore we just keep the value as is.
 -      } else {
 -        // All others access points are explicit sign ins except the Web
 -        // Signin event.
@@ -6356,7 +6452,7 @@
  #include "google_apis/gaia/gaia_constants.h"
  #include "google_apis/gaia/google_service_auth_error.h"
  #include "google_apis/gaia/oauth2_access_token_consumer.h"
-@@ -137,8 +136,6 @@ bool ProfileOAuth2TokenService::HasRefre
+@@ -93,8 +92,6 @@ bool ProfileOAuth2TokenService::HasRefre
  // static
  void ProfileOAuth2TokenService::RegisterProfilePrefs(
      PrefRegistrySimple* registry) {
@@ -6479,7 +6575,7 @@
  
  namespace switches {
  
-@@ -36,11 +35,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
+@@ -49,11 +48,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsBoundSessionCredentialsEnabled(const PrefService* profile_prefs) {
@@ -6498,10 +6594,10 @@
  #include "base/strings/utf_string_conversions.h"
  #include "components/prefs/pref_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
  #include "third_party/icu/source/i18n/unicode/regex.h"
- 
- namespace signin {
-@@ -56,8 +55,7 @@ bool IsUsernameAllowedByPattern(base::St
+@@ -58,22 +57,13 @@ bool IsUsernameAllowedByPattern(base::St
  
  bool IsUsernameAllowedByPatternFromPrefs(const PrefService* prefs,
                                           const std::string& username) {
@@ -6510,17 +6606,32 @@
 +  return true;
  }
  
+ bool IsImplicitBrowserSigninOrExplicitDisabled(
+     IdentityManager* identity_manager,
+     PrefService* prefs) {
+-  if (!switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-          switches::ExplicitBrowserSigninPhase::kFull)) {
+-    return true;
+-  }
+-
+-  // The feature is enabled, check if the user is implicitly signed in.
+-  // Signed out users or signed in explicitly should return false.
+-  return identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSignin) &&
+-         !prefs->GetBoolean(prefs::kExplicitBrowserSignin);
++  return false;
+ }
+ 
  }  // namespace signin
 --- a/components/signin/public/identity_manager/identity_utils_unittest.cc
 +++ b/components/signin/public/identity_manager/identity_utils_unittest.cc
-@@ -7,7 +7,6 @@
- #include "components/prefs/pref_registry_simple.h"
+@@ -11,7 +11,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/prefs/testing_pref_service.h"
+ #include "components/signin/public/base/consent_level.h"
 -#include "components/signin/public/base/signin_pref_names.h"
- #include "testing/gtest/include/gtest/gtest.h"
- 
- namespace {
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
+ #include "components/signin/public/identity_manager/identity_test_environment.h"
 --- a/components/signin/public/identity_manager/primary_account_mutator_unittest.cc
 +++ b/components/signin/public/identity_manager/primary_account_mutator_unittest.cc
 @@ -16,7 +16,6 @@
@@ -6566,7 +6677,18 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/features.h"
  #include "components/sync/base/passphrase_enums.h"
-@@ -271,22 +270,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
+@@ -222,9 +221,7 @@ bool SyncPrefs::IsInitialSyncFeatureSetu
+ }
+ 
+ bool SyncPrefs::IsExplicitBrowserSignin() const {
+-  return switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
+-             switches::ExplicitBrowserSigninPhase::kFull) &&
+-         pref_service_->GetBoolean(::prefs::kExplicitBrowserSignin);
++  return false;
+ }
+ 
+ #if !BUILDFLAG(IS_CHROMEOS_ASH)
+@@ -278,22 +275,6 @@ UserSelectableTypeSet SyncPrefs::GetSele
                   type == UserSelectableType::kAutofill) {
  #if BUILDFLAG(IS_ANDROID) || BUILDFLAG(IS_IOS)
          type_enabled = true;
@@ -6609,7 +6731,7 @@
    kSyncedDefaultSearchProviderGUID = 49,
    kPrefForceTriggerTranslateCount = 50,
    // kPrefNeverPromptSitesDeprecated = 51, (deprecated)
-@@ -255,16 +252,9 @@ constexpr auto kCommonSyncablePrefsAllow
+@@ -201,16 +198,9 @@ constexpr auto kCommonSyncablePrefsAllow
          {payments::kCanMakePaymentEnabled,
           {syncable_prefs_ids::kCanMakePaymentEnabled, syncer::PREFERENCES,
            PrefSensitivity::kNone, MergeBehavior::kNone}},
@@ -6623,6 +6745,6 @@
 -        {prefs::kSafeBrowsingEnabled,
 -         {syncable_prefs_ids::kSafeBrowsingEnabled, syncer::PREFERENCES,
 -          PrefSensitivity::kNone, MergeBehavior::kNone}},
- // TODO(crbug.com/1434910): Maybe move to chrome_syncable_prefs_database.cc,
+ // TODO(crbug.com/40904479): Maybe move to chrome_syncable_prefs_database.cc,
  // see bug.
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_IOS)
diff --git a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
index 45ae2a293b..c0a6a41b4e 100644
--- a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
+++ b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
@@ -7,7 +7,7 @@
 -      "name": "Google",
 -      "keyword": "google.com",
 -      "favicon_url": "https://www.google.com/images/branding/product/ico/googleg_alldp.ico",
--      "search_url": "{google:baseURL}search?q={searchTerms}&{google:RLZ}{google:originalQueryForSuggestion}{google:assistedQueryStats}{google:searchFieldtrialParameter}{google:iOSSearchLanguage}{google:prefetchSource}{google:searchClient}{google:sourceId}{google:contextualSearchVersion}ie={inputEncoding}",
+-      "search_url": "{google:baseURL}search?q={searchTerms}&{google:RLZ}{google:originalQueryForSuggestion}{google:assistedQueryStats}{google:searchFieldtrialParameter}{google:language}{google:prefetchSource}{google:searchClient}{google:sourceId}{google:contextualSearchVersion}ie={inputEncoding}",
 -      "suggest_url": "{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:currentPageUrl}{google:pageClassification}{google:clientCacheTimeToLive}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}",
 -      "image_url": "{google:baseSearchByImageURL}upload",
 -      "image_translate_url": "{google:baseSearchByImageURL}upload?filtertype=tr&{imageTranslateSourceLocale}{imageTranslateTargetLocale}",
diff --git a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
index dedbe3d065..49937dd8a7 100644
--- a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
+++ b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
@@ -1,15 +1,15 @@
 # Disables translation and removes the "Translate to" context menu when --translate-script-url flag is not set
 --- a/chrome/browser/renderer_context_menu/render_view_context_menu.cc
 +++ b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
-@@ -167,6 +167,7 @@
- #include "components/spellcheck/spellcheck_buildflags.h"
- #include "components/strings/grit/components_strings.h"
- #include "components/supervised_user/core/common/buildflags.h"
+@@ -172,6 +172,7 @@
+ #include "components/supervised_user/core/browser/supervised_user_preferences.h"
+ #include "components/supervised_user/core/browser/supervised_user_service.h"
+ #include "components/supervised_user/core/browser/supervised_user_url_filter.h"
 +#include "components/translate/core/common/translate_switches.h"
  #include "components/translate/core/browser/translate_download_manager.h"
  #include "components/translate/core/browser/translate_manager.h"
  #include "components/translate/core/browser/translate_prefs.h"
-@@ -2199,6 +2200,7 @@ void RenderViewContextMenu::AppendPageIt
+@@ -2206,6 +2207,7 @@ void RenderViewContextMenu::AppendPageIt
      menu_model_.AddSeparator(ui::NORMAL_SEPARATOR);
  
    if (CanTranslate(/*menu_logging=*/true)) {
diff --git a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
index f286e73fad..4c4efce2f7 100644
--- a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
+++ b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
@@ -9,7 +9,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2562,6 +2562,7 @@ static_library("browser") {
+@@ -2615,6 +2615,7 @@ static_library("browser") {
      "//third_party/libyuv",
      "//third_party/metrics_proto",
      "//third_party/re2",
@@ -19,7 +19,7 @@
      "//third_party/widevine/cdm:headers",
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -169,6 +169,7 @@
+@@ -170,6 +170,7 @@
  #include "components/translate/core/common/translate_util.h"
  #include "components/trusted_vault/features.h"
  #include "components/ui_devtools/switches.h"
@@ -44,7 +44,7 @@
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -250,6 +250,7 @@ source_set("browser") {
+@@ -252,6 +252,7 @@ source_set("browser") {
      "//third_party/libyuv",
      "//third_party/re2",
      "//third_party/sqlite",
@@ -54,7 +54,7 @@
      "//tools/v8_context_snapshot:buildflags",
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -77,6 +77,7 @@
+@@ -78,6 +78,7 @@
  #include "components/services/storage/public/cpp/quota_error_or.h"
  #include "components/services/storage/public/mojom/cache_storage_control.mojom.h"
  #include "components/tracing/common/tracing_switches.h"
@@ -62,7 +62,7 @@
  #include "components/viz/common/switches.h"
  #include "components/viz/host/gpu_client.h"
  #include "content/browser/bad_message.h"
-@@ -3440,6 +3441,8 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3449,6 +3450,8 @@ void RenderProcessHostImpl::PropagateBro
      switches::kEnableWebGLImageChromium,
      switches::kEnableWebGPUDeveloperFeatures,
      switches::kFileUrlPathAlias,
@@ -73,7 +73,7 @@
      switches::kForceGpuMemAvailableMb,
 --- a/content/child/BUILD.gn
 +++ b/content/child/BUILD.gn
-@@ -106,6 +106,7 @@ target(link_target_type, "child") {
+@@ -105,6 +105,7 @@ target(link_target_type, "child") {
      "//third_party/blink/public/common:buildflags",
      "//third_party/blink/public/strings",
      "//third_party/ced",
@@ -83,7 +83,7 @@
      "//ui/events/blink",
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -39,6 +39,7 @@
+@@ -40,6 +40,7 @@
  #include "third_party/blink/public/common/loader/referrer_utils.h"
  #include "third_party/blink/public/common/switches.h"
  #include "third_party/blink/public/platform/web_runtime_features.h"
@@ -91,7 +91,7 @@
  #include "ui/accessibility/accessibility_features.h"
  #include "ui/base/ui_base_features.h"
  #include "ui/events/blink/blink_features.h"
-@@ -508,6 +509,10 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -498,6 +499,10 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kEnableWebGPUDeveloperFeatures, true},
        {wrf::EnableWebGPUExperimentalFeatures, switches::kEnableUnsafeWebGPU,
         true},
@@ -124,7 +124,7 @@
  #include "base/ranges/algorithm.h"
  #include "base/task/single_thread_task_runner.h"
  #include "base/time/time.h"
-@@ -934,6 +935,11 @@ Document::Document(const DocumentInit& i
+@@ -932,6 +933,11 @@ Document::Document(const DocumentInit& i
    TRACE_EVENT_WITH_FLOW0("blink", "Document::Document", TRACE_ID_LOCAL(this),
                           TRACE_EVENT_FLAG_FLOW_OUT);
    DCHECK(agent_);
@@ -136,7 +136,7 @@
    if (base::FeatureList::IsEnabled(features::kDelayAsyncScriptExecution) &&
        features::kDelayAsyncScriptExecutionDelayByDefaultParam.Get()) {
      script_runner_delayer_->Activate();
-@@ -1046,6 +1052,14 @@ const Position Document::PositionAdjuste
+@@ -1047,6 +1053,14 @@ const Position Document::PositionAdjuste
    return Position::BeforeNode(*shadow_host);
  }
  
@@ -153,7 +153,7 @@
      selector_query_cache_ = std::make_unique<SelectorQueryCache>();
 --- a/third_party/blink/renderer/core/dom/document.h
 +++ b/third_party/blink/renderer/core/dom/document.h
-@@ -532,6 +532,10 @@ class CORE_EXPORT Document : public Cont
+@@ -539,6 +539,10 @@ class CORE_EXPORT Document : public Cont
      has_xml_declaration_ = has_xml_declaration ? 1 : 0;
    }
  
@@ -164,7 +164,7 @@
    AtomicString visibilityState() const;
    bool IsPageVisible() const;
    bool hidden() const;
-@@ -2533,6 +2537,9 @@ class CORE_EXPORT Document : public Cont
+@@ -2566,6 +2570,9 @@ class CORE_EXPORT Document : public Cont
  
    base::ElapsedTimer start_time_;
  
@@ -176,7 +176,7 @@
  
 --- a/third_party/blink/renderer/core/dom/element.cc
 +++ b/third_party/blink/renderer/core/dom/element.cc
-@@ -2344,6 +2344,11 @@ DOMRectList* Element::getClientRects() {
+@@ -2413,6 +2413,11 @@ DOMRectList* Element::getClientRects() {
    DCHECK(element_layout_object);
    GetDocument().AdjustQuadsForScrollAndAbsoluteZoom(quads,
                                                      *element_layout_object);
@@ -188,7 +188,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -2371,6 +2376,9 @@ gfx::RectF Element::GetBoundingClientRec
+@@ -2440,6 +2445,9 @@ gfx::RectF Element::GetBoundingClientRec
    DCHECK(element_layout_object);
    GetDocument().AdjustRectForScrollAndAbsoluteZoom(result,
                                                     *element_layout_object);
@@ -266,7 +266,7 @@
                const TextDirection&,
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -78,6 +78,9 @@
+@@ -83,6 +83,9 @@
  #include "ui/gfx/geometry/quad_f.h"
  #include "ui/gfx/geometry/skia_conversions.h"
  
@@ -276,7 +276,7 @@
  namespace blink {
  
  BASE_FEATURE(kDisableCanvasOverdrawOptimization,
-@@ -3166,8 +3169,22 @@ TextMetrics* BaseRenderingContext2D::mea
+@@ -3205,8 +3208,22 @@ TextMetrics* BaseRenderingContext2D::mea
    const CanvasRenderingContext2DState& state = GetState();
    TextDirection direction = ToTextDirection(state.GetDirection(), canvas);
  
@@ -303,7 +303,7 @@
  void BaseRenderingContext2D::SnapshotStateForFilter() {
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1716,6 +1716,7 @@ component("platform") {
+@@ -1733,6 +1733,7 @@ component("platform") {
      "//cc/mojo_embedder",
      "//components/paint_preview/common",
      "//components/search_engines:search_engine_utils",
@@ -328,7 +328,7 @@
  }  // namespace blink
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1781,6 +1781,12 @@
+@@ -1746,6 +1746,12 @@
        status: "experimental",
      },
      {
diff --git a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
index 39052e3ed6..8f8411a9d7 100644
--- a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
+++ b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
@@ -34,7 +34,7 @@ approach to change color components.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -3443,6 +3443,7 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3452,6 +3452,7 @@ void RenderProcessHostImpl::PropagateBro
      switches::kFileUrlPathAlias,
      switches::kFingerprintingClientRectsNoise,
      switches::kFingerprintingCanvasMeasureTextNoise,
@@ -44,7 +44,7 @@ approach to change color components.
      switches::kForceGpuMemAvailableMb,
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -513,6 +513,8 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -503,6 +503,8 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kFingerprintingClientRectsNoise, true},
        {wrf::EnableFingerprintingCanvasMeasureTextNoise,
         switches::kFingerprintingCanvasMeasureTextNoise, true},
@@ -65,15 +65,7 @@ approach to change color components.
  };
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -68,6 +68,7 @@
- #include "third_party/blink/renderer/platform/graphics/image_data_buffer.h"
- #include "third_party/blink/renderer/platform/graphics/memory_managed_paint_recorder.h"
- #include "third_party/blink/renderer/platform/graphics/skia/skia_utils.h"
-+#include "third_party/blink/renderer/platform/graphics/static_bitmap_image.h"
- #include "third_party/blink/renderer/platform/graphics/stroke_data.h"
- #include "third_party/blink/renderer/platform/graphics/video_frame_image_util.h"
- #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
-@@ -2492,6 +2493,9 @@ ImageData* BaseRenderingContext2D::getIm
+@@ -2530,6 +2530,9 @@ ImageData* BaseRenderingContext2D::getIm
            snapshot->PaintImageForCurrentFrame().GetSkImageInfo().bounds();
        DCHECK(!bounds.intersect(SkIRect::MakeXYWH(sx, sy, sw, sh)));
      }
@@ -85,7 +77,7 @@ approach to change color components.
    return image_data;
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1669,7 +1669,9 @@ component("platform") {
+@@ -1686,7 +1686,9 @@ component("platform") {
      "//third_party/blink/renderer:non_test_config",
    ]
  
@@ -322,7 +314,7 @@ approach to change color components.
    // Methods overridden by all sub-classes
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1787,6 +1787,9 @@
+@@ -1752,6 +1752,9 @@
        name: "FingerprintingCanvasMeasureTextNoise",
      },
      {
diff --git a/patches/extra/bromite/flag-max-connections-per-host.patch b/patches/extra/bromite/flag-max-connections-per-host.patch
index e9f961b3d5..6539c52034 100644
--- a/patches/extra/bromite/flag-max-connections-per-host.patch
+++ b/patches/extra/bromite/flag-max-connections-per-host.patch
@@ -17,7 +17,7 @@ with limited CPU/memory resources and it is disabled by default.
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2278,6 +2278,7 @@ static_library("browser") {
+@@ -2323,6 +2323,7 @@ static_library("browser") {
      "//components/net_log",
      "//components/network_hints/common:mojo_bindings",
      "//components/network_session_configurator/browser",
@@ -49,12 +49,13 @@ with limited CPU/memory resources and it is disabled by default.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -21,11 +21,13 @@
+@@ -21,12 +21,14 @@
  #include "base/functional/callback.h"
  #include "base/functional/callback_helpers.h"
  #include "base/location.h"
 +#include "base/logging.h"
  #include "base/memory/ptr_util.h"
+ #include "base/metrics/histogram_functions.h"
  #include "base/metrics/histogram_macros.h"
  #include "base/notreached.h"
  #include "base/path_service.h"
@@ -63,7 +64,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "base/synchronization/waitable_event.h"
  #include "base/task/sequenced_task_runner.h"
  #include "base/task/single_thread_task_runner.h"
-@@ -104,6 +106,7 @@
+@@ -107,6 +109,7 @@
  #include "components/metrics/metrics_service.h"
  #include "components/metrics_services_manager/metrics_services_manager.h"
  #include "components/metrics_services_manager/metrics_services_manager_client.h"
@@ -71,7 +72,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "components/network_time/network_time_tracker.h"
  #include "components/os_crypt/async/browser/os_crypt_async.h"
  #include "components/permissions/permissions_client.h"
-@@ -135,6 +138,7 @@
+@@ -140,6 +143,7 @@
  #include "media/media_buildflags.h"
  #include "mojo/public/cpp/bindings/pending_receiver.h"
  #include "net/log/net_log.h"
@@ -79,7 +80,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "ppapi/buildflags/buildflags.h"
  #include "printing/buildflags/buildflags.h"
  #include "services/network/public/cpp/features.h"
-@@ -377,6 +381,18 @@ void BrowserProcessImpl::Init() {
+@@ -383,6 +387,18 @@ void BrowserProcessImpl::Init() {
    pref_change_registrar_.Add(metrics::prefs::kMetricsReportingEnabled,
                               base::BindRepeating(&ApplyMetricsReportingPolicy));
  
@@ -100,9 +101,9 @@ with limited CPU/memory resources and it is disabled by default.
  
 --- a/chrome/browser/flag_descriptions.cc
 +++ b/chrome/browser/flag_descriptions.cc
-@@ -2333,6 +2333,10 @@ const char kUndoAutofillDescription[] =
-     "Allows reverting Autofill filling operations. Replaces Clear Form "
-     "functionality";
+@@ -2244,6 +2244,10 @@ const char kLogJsConsoleMessagesDescript
+     "Enable logging JS console messages in system logs, please note that they "
+     "may contain PII.";
  
 +const char kMaxConnectionsPerHostName[] = "Maximum connections per host";
 +const char kMaxConnectionsPerHostDescription[] =
@@ -113,9 +114,9 @@ with limited CPU/memory resources and it is disabled by default.
  const char kMediaRouterCastAllowAllIPsDescription[] =
 --- a/chrome/browser/flag_descriptions.h
 +++ b/chrome/browser/flag_descriptions.h
-@@ -1330,6 +1330,9 @@ extern const char kLogJsConsoleMessagesD
- extern const char kUndoAutofillName[];
- extern const char kUndoAutofillDescription[];
+@@ -1297,6 +1297,9 @@ extern const char kLocationBarModelOptim
+ extern const char kLogJsConsoleMessagesName[];
+ extern const char kLogJsConsoleMessagesDescription[];
  
 +extern const char kMaxConnectionsPerHostName[];
 +extern const char kMaxConnectionsPerHostDescription[];
diff --git a/patches/extra/inox-patchset/0006-modify-default-prefs.patch b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
index cbe89d625a..03a40ad89f 100644
--- a/patches/extra/inox-patchset/0006-modify-default-prefs.patch
+++ b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
@@ -12,7 +12,7 @@
  void BackgroundModeManager::RegisterProfile(Profile* profile) {
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -1483,7 +1483,7 @@ void ChromeContentBrowserClient::Registe
+@@ -1520,7 +1520,7 @@ void ChromeContentBrowserClient::Registe
  void ChromeContentBrowserClient::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(prefs::kDisable3DAPIs, false);
@@ -23,7 +23,7 @@
    // used for mapping the command-line flags).
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -381,7 +381,7 @@ void ProfileNetworkContextService::Updat
+@@ -428,7 +428,7 @@ void ProfileNetworkContextService::Updat
  void ProfileNetworkContextService::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(embedder_support::kAlternateErrorPagesEnabled,
@@ -67,7 +67,7 @@
      </cr-dialog>
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -84,7 +84,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -91,7 +91,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterBooleanPref(prefs::kWebAppCreateInAppsMenu, true);
    registry->RegisterBooleanPref(prefs::kWebAppCreateInQuickLaunchBar, true);
    registry->RegisterBooleanPref(
@@ -98,7 +98,7 @@
        prefs::kAutofillPaymentCvcStorage, true,
 --- a/components/bookmarks/browser/bookmark_utils.cc
 +++ b/components/bookmarks/browser/bookmark_utils.cc
-@@ -490,7 +490,7 @@ bool DoesBookmarkContainWords(const std:
+@@ -491,7 +491,7 @@ bool DoesBookmarkContainWords(const std:
  
  void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -109,7 +109,7 @@
    registry->RegisterBooleanPref(
 --- a/components/content_settings/core/browser/cookie_settings.cc
 +++ b/components/content_settings/core/browser/cookie_settings.cc
-@@ -94,7 +94,7 @@ void CookieSettings::RegisterProfilePref
+@@ -93,7 +93,7 @@ void CookieSettings::RegisterProfilePref
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterIntegerPref(
        prefs::kCookieControlsMode,
@@ -120,7 +120,7 @@
  
 --- a/components/password_manager/core/browser/password_manager.cc
 +++ b/components/password_manager/core/browser/password_manager.cc
-@@ -254,14 +254,14 @@ base::CallbackListSubscription AddSyncEn
+@@ -269,14 +269,14 @@ void MaybeNudgeToUpdateGMSCoreWhenSaving
  void PasswordManager::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
diff --git a/patches/extra/inox-patchset/0008-restore-classic-ntp.patch b/patches/extra/inox-patchset/0008-restore-classic-ntp.patch
index fe37cfba9b..8fe67b8e18 100644
--- a/patches/extra/inox-patchset/0008-restore-classic-ntp.patch
+++ b/patches/extra/inox-patchset/0008-restore-classic-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/search/search.cc
 +++ b/chrome/browser/search/search.cc
-@@ -184,33 +184,8 @@ struct NewTabURLDetails {
+@@ -179,33 +179,8 @@ struct NewTabURLDetails {
      const GURL local_url(default_is_google
                               ? chrome::kChromeUINewTabPageURL
                               : chrome::kChromeUINewTabPageThirdPartyURL);
diff --git a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
index 67a95967a1..4fc001efff 100644
--- a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
+++ b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
@@ -5,7 +5,7 @@ Subject: [PATCH 56/66] browser: disable profile auto-import on first run
 
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1651,11 +1651,6 @@ int ChromeBrowserMainParts::PreMainMessa
+@@ -1647,11 +1647,6 @@ int ChromeBrowserMainParts::PreMainMessa
    // and preferences have been registered since some of the import code depends
    // on preferences.
    if (first_run::IsChromeFirstRun()) {
diff --git a/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch b/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
index 68039f789a..b69eab4bd2 100644
--- a/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
+++ b/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
@@ -12,7 +12,7 @@ it as hidden as it was before?
 
 --- a/net/cert/x509_util.cc
 +++ b/net/cert/x509_util.cc
-@@ -286,7 +286,7 @@ bool GetTLSServerEndPointChannelBinding(
+@@ -299,7 +299,7 @@ bool GetTLSServerEndPointChannelBinding(
  }
  
  // RSA keys created by CreateKeyAndSelfSignedCert will be of this length.
diff --git a/patches/extra/iridium-browser/updater-disable-auto-update.patch b/patches/extra/iridium-browser/updater-disable-auto-update.patch
index b6b1cccb7f..edfc3b2623 100644
--- a/patches/extra/iridium-browser/updater-disable-auto-update.patch
+++ b/patches/extra/iridium-browser/updater-disable-auto-update.patch
@@ -16,7 +16,7 @@ the case anyway, since we are based off Chromium, not Chrome.
 
 --- a/chrome/browser/app_controller_mac.mm
 +++ b/chrome/browser/app_controller_mac.mm
-@@ -972,7 +972,7 @@ class AppControllerNativeThemeObserver :
+@@ -990,7 +990,7 @@ class AppControllerNativeThemeObserver :
    CFStringRef checkInterval = CFSTR("checkInterval");
    CFPropertyListRef plist = CFPreferencesCopyAppValue(checkInterval, app);
    if (!plist) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
index 3c101de47c..c05e8c1a8e 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser.cc
 +++ b/chrome/browser/ui/browser.cc
-@@ -139,6 +139,8 @@
+@@ -142,6 +142,8 @@
  #include "chrome/browser/ui/tabs/tab_utils.h"
  #include "chrome/browser/ui/ui_features.h"
  #include "chrome/browser/ui/unload_controller.h"
@@ -9,7 +9,7 @@
  #include "chrome/browser/ui/web_applications/app_browser_controller.h"
  #include "chrome/browser/ui/web_applications/web_app_launch_utils.h"
  #include "chrome/browser/ui/webui/signin/login_ui_service.h"
-@@ -481,6 +483,7 @@ Browser::Browser(const CreateParams& par
+@@ -491,6 +493,7 @@ Browser::Browser(const CreateParams& par
        omit_from_session_restore_(params.omit_from_session_restore),
        should_trigger_session_restore_(params.should_trigger_session_restore),
        cancel_download_confirmation_state_(NOT_PROMPTED),
@@ -33,7 +33,7 @@
    unload_controller_.ResetTryToCloseWindow();
  }
  
-@@ -2951,6 +2956,62 @@ bool Browser::CanCloseWithInProgressDown
+@@ -2968,6 +2973,62 @@ bool Browser::CanCloseWithInProgressDown
    return false;
  }
  
@@ -96,7 +96,7 @@
  void Browser::InProgressDownloadResponse(bool cancel_downloads) {
    if (cancel_downloads) {
      cancel_download_confirmation_state_ = RESPONSE_RECEIVED;
-@@ -2969,6 +3030,22 @@ void Browser::InProgressDownloadResponse
+@@ -2986,6 +3047,22 @@ void Browser::InProgressDownloadResponse
  
    std::move(warn_before_closing_callback_)
        .Run(WarnBeforeClosingResult::kDoNotClose);
@@ -129,7 +129,7 @@
  #include "chrome/browser/ui/signin/signin_view_controller.h"
  #include "chrome/browser/ui/tabs/tab_strip_model_observer.h"
  #include "chrome/browser/ui/unload_controller.h"
-@@ -1130,12 +1131,17 @@ class Browser : public TabStripModelObse
+@@ -1169,12 +1170,17 @@ class Browser : public TabStripModelObse
    // Returns true if the window can close, false otherwise.
    bool CanCloseWithInProgressDownloads();
  
@@ -147,7 +147,7 @@
    // Called when all warnings have completed when attempting to close the
    // browser directly (e.g. via hotkey, close button, terminate signal, etc.)
    // Used as a WarnBeforeClosingCallback by HandleBeforeClose().
-@@ -1305,6 +1311,8 @@ class Browser : public TabStripModelObse
+@@ -1342,6 +1348,8 @@ class Browser : public TabStripModelObse
    // when the browser is closed with in-progress downloads.
    CancelDownloadConfirmationState cancel_download_confirmation_state_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
index 9d84208600..ca5d5a676b 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -880,10 +880,14 @@ bool HandleNewTabPageLocationOverride(
+@@ -881,10 +881,14 @@ bool HandleNewTabPageLocationOverride(
  
    // Don't change the URL when incognito mode.
    if (profile->IsOffTheRecord())
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
index f8a22c4357..00923f7e58 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
@@ -11,7 +11,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -205,6 +205,8 @@ BASE_FEATURE(kAutofillSendUnidentifiedKe
+@@ -199,6 +199,8 @@ BASE_FEATURE(kAutofillSendUnidentifiedKe
               "AutofillSendUnidentifiedKeyAfterFill",
               base::FEATURE_DISABLED_BY_DEFAULT);
  
@@ -50,7 +50,7 @@
    Node* inner_node = event.InnerNode();
 --- a/third_party/blink/renderer/core/input/mouse_event_manager.cc
 +++ b/third_party/blink/renderer/core/input/mouse_event_manager.cc
-@@ -648,8 +648,14 @@ WebInputEventResult MouseEventManager::H
+@@ -649,8 +649,14 @@ WebInputEventResult MouseEventManager::H
  
    bool single_click = event.Event().click_count <= 1;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
index 5195bf2fe0..79fb3783e5 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
@@ -41,7 +41,7 @@
  #include "base/feature_list.h"
  #include "base/format_macros.h"
  #include "base/functional/bind.h"
-@@ -408,6 +409,15 @@ AutocompleteController::AutocompleteCont
+@@ -418,6 +419,15 @@ AutocompleteController::AutocompleteCont
        steady_state_omnibox_position_(
            metrics::OmniboxEventProto::UNKNOWN_POSITION) {
    provider_types &= ~OmniboxFieldTrial::GetDisabledProviderTypes();
@@ -79,7 +79,7 @@
  #include "base/feature_list.h"
  #include "base/functional/bind.h"
  #include "base/functional/callback.h"
-@@ -644,6 +645,9 @@ void SearchProvider::Run(bool query_is_p
+@@ -647,6 +648,9 @@ void SearchProvider::Run(bool query_is_p
  }
  
  void SearchProvider::DoHistoryQuery(bool minimal_changes) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
index 413a5aff03..ae6a2a252e 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
@@ -25,18 +25,6 @@
      return false;
  
    return true;
---- a/chrome/browser/ui/views/location_bar/location_bar_view.cc
-+++ b/chrome/browser/ui/views/location_bar/location_bar_view.cc
-@@ -358,7 +358,8 @@ void LocationBarView::Init() {
- 
-     params.types_enabled.push_back(PageActionIconType::kSendTabToSelf);
-     params.types_enabled.push_back(PageActionIconType::kClickToCall);
--    params.types_enabled.push_back(PageActionIconType::kQRCodeGenerator);
-+    if (!base::FeatureList::IsEnabled(kDisableQRGenerator))
-+      params.types_enabled.push_back(PageActionIconType::kQRCodeGenerator);
-     if (base::FeatureList::IsEnabled(kWebOTPCrossDevice))
-       params.types_enabled.push_back(PageActionIconType::kSmsRemoteFetcher);
-     params.types_enabled.push_back(PageActionIconType::kManagePasswords);
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -64,4 +64,8 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
index c884d961df..b6ce52a2f9 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
@@ -1,5 +1,17 @@
 # Add flag to disable automatic search engine collection
 
+--- a/chrome/browser/ui/tab_helpers.cc
++++ b/chrome/browser/ui/tab_helpers.cc
+@@ -486,7 +486,9 @@ void TabHelpers::AttachTabHelpers(WebCon
+   resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
+       web_contents);
+   SafetyTipWebContentsObserver::CreateForWebContents(web_contents);
++  if (!base::CommandLine::ForCurrentProcess()->HasSwitch("disable-search-engine-collection")) {
+   SearchEngineTabHelper::CreateForWebContents(web_contents);
++  }
+   SecurityStateTabHelper::CreateForWebContents(web_contents);
+   if (site_engagement::SiteEngagementService::IsEnabled()) {
+     site_engagement::SiteEngagementService::Helper::CreateForWebContents(
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -12,4 +12,8 @@
@@ -13,7 +25,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/renderer/chrome_render_frame_observer.cc
 +++ b/chrome/renderer/chrome_render_frame_observer.cc
-@@ -257,14 +257,16 @@ void ChromeRenderFrameObserver::DidFinis
+@@ -256,14 +256,16 @@ void ChromeRenderFrameObserver::DidFinis
    if (frame->Parent() || frame->IsInFencedFrameTree())
      return;
  
@@ -69,7 +81,7 @@
        search_engine_choice_service_(search_engine_choice_service),
        search_terms_data_(std::move(search_terms_data)),
        web_data_service_(web_data_service),
-@@ -520,8 +528,8 @@ bool TemplateURLService::CanAddAutogener
+@@ -527,8 +535,8 @@ bool TemplateURLService::CanAddAutogener
    // that may interfere with search queries).  An easy heuristic for this is
    // whether the user has a TemplateURL that has been manually modified (e.g.,
    // renamed) connected to the same host.
@@ -80,7 +92,7 @@
  }
  
  bool TemplateURLService::IsPrepopulatedOrDefaultProviderByPolicy(
-@@ -1912,6 +1920,8 @@ SyncDataMap TemplateURLService::CreateGU
+@@ -1926,6 +1934,8 @@ SyncDataMap TemplateURLService::CreateGU
  }
  
  void TemplateURLService::Init() {
@@ -89,7 +101,7 @@
    if (client_)
      client_->SetOwner(this);
  
-@@ -2087,6 +2097,9 @@ void TemplateURLService::ChangeToLoadedS
+@@ -2101,6 +2111,9 @@ void TemplateURLService::ChangeToLoadedS
  
  bool TemplateURLService::CanAddAutogeneratedKeywordForHost(
      const std::string& host) const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
index 9d3c5a06da..6c877bdbd0 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -1389,7 +1389,8 @@ void BrowserCommandController::InitComma
+@@ -1415,7 +1415,8 @@ void BrowserCommandController::InitComma
    command_updater_.UpdateCommandEnabled(IDC_WINDOW_CLOSE_OTHER_TABS,
                                          normal_window);
  
@@ -55,7 +55,7 @@
 @@ -60,4 +60,8 @@
       "Clear data on exit",
       "Clears all browsing data on exit. ungoogled-chromium flag",
-      kOsDesktop, FEATURE_VALUE_TYPE(browsing_data::features::kClearDataOnExit)},
+      kOsDesktop, FEATURE_VALUE_TYPE(features::kClearDataOnExit)},
 +    {"remove-tabsearch-button",
 +     "Remove Tabsearch Button",
 +     "Removes the tabsearch button from the tabstrip. ungoogled-chromium flag",
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
index ea9bc5db41..8d69b705ef 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
@@ -1,13 +1,31 @@
+--- a/chrome/browser/browser_features.cc
++++ b/chrome/browser/browser_features.cc
+@@ -422,4 +422,5 @@ BASE_FEATURE(kWebUsbDeviceDetection,
+              "WebUsbDeviceDetection",
+              base::FEATURE_ENABLED_BY_DEFAULT);
+ 
++BASE_FEATURE(kClearDataOnExit, "ClearDataOnExit", base::FEATURE_DISABLED_BY_DEFAULT);
+ }  // namespace features
+--- a/chrome/browser/browser_features.h
++++ b/chrome/browser/browser_features.h
+@@ -157,6 +157,7 @@ BASE_DECLARE_FEATURE(kUseOsCryptAsyncFor
+ 
+ BASE_DECLARE_FEATURE(kWebUsbDeviceDetection);
+ 
++BASE_DECLARE_FEATURE(kClearDataOnExit);
+ }  // namespace features
+ 
+ #endif  // CHROME_BROWSER_BROWSER_FEATURES_H_
 --- a/chrome/browser/browsing_data/chrome_browsing_data_lifetime_manager.cc
 +++ b/chrome/browser/browsing_data/chrome_browsing_data_lifetime_manager.cc
-@@ -29,6 +29,7 @@
- #include "chrome/common/chrome_switches.h"
- #include "chrome/common/pref_names.h"
- #include "components/browsing_data/core/browsing_data_policies_utils.h"
-+#include "components/browsing_data/core/features.h"
- #include "components/browsing_data/core/pref_names.h"
- #include "components/keep_alive_registry/keep_alive_types.h"
- #include "components/keep_alive_registry/scoped_keep_alive.h"
+@@ -19,6 +19,7 @@
+ #include "base/task/task_traits.h"
+ #include "base/values.h"
+ #include "build/build_config.h"
++#include "chrome/browser/browser_features.h"
+ #include "chrome/browser/browser_process.h"
+ #include "chrome/browser/browsing_data/chrome_browsing_data_remover_constants.h"
+ #include "chrome/browser/browsing_data/chrome_browsing_data_remover_delegate.h"
 @@ -147,6 +148,21 @@ class BrowsingDataRemoverObserver
  #endif
  };
@@ -35,7 +53,7 @@
        browsing_data::prefs::kClearBrowsingDataOnExitList);
  
 -  if (!data_types.empty() &&
-+  bool cdoe = base::FeatureList::IsEnabled(browsing_data::features::kClearDataOnExit);
++  bool cdoe = base::FeatureList::IsEnabled(features::kClearDataOnExit);
 +  if (cdoe || (!data_types.empty() &&
        IsConditionSatisfiedForBrowsingDataRemoval(GetSyncTypesForPolicyPref(
 -          profile_, browsing_data::prefs::kClearBrowsingDataOnExitList))) {
@@ -63,26 +81,5 @@
 +    {"clear-data-on-exit",
 +     "Clear data on exit",
 +     "Clears all browsing data on exit. ungoogled-chromium flag",
-+     kOsDesktop, FEATURE_VALUE_TYPE(browsing_data::features::kClearDataOnExit)},
++     kOsDesktop, FEATURE_VALUE_TYPE(features::kClearDataOnExit)},
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
---- a/components/browsing_data/core/features.cc
-+++ b/components/browsing_data/core/features.cc
-@@ -7,6 +7,8 @@
- #include "build/build_config.h"
- 
- namespace browsing_data::features {
-+BASE_FEATURE(kClearDataOnExit, "ClearDataOnExit", base::FEATURE_DISABLED_BY_DEFAULT);
-+
- BASE_FEATURE(kEnableBrowsingDataLifetimeManager,
-              "BrowsingDataLifetimeManager",
-              base::FEATURE_ENABLED_BY_DEFAULT);
---- a/components/browsing_data/core/features.h
-+++ b/components/browsing_data/core/features.h
-@@ -8,6 +8,7 @@
- #include "base/feature_list.h"
- 
- namespace browsing_data::features {
-+BASE_DECLARE_FEATURE(kClearDataOnExit);
- 
- // Enable BrowsingDataLifetimeManager that periodically delete browsing data as
- // defined by the BrowsingDataLifetime policy.
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
index c630502f4f..785c9aa090 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
@@ -8,7 +8,7 @@
  #include "base/containers/adapters.h"
  #include "base/containers/contains.h"
  #include "base/containers/flat_map.h"
-@@ -1981,6 +1982,10 @@ void TabStripModel::CloseTabs(base::span
+@@ -2088,6 +2089,10 @@ void TabStripModel::CloseTabs(base::span
      return;
    }
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
index 93027842a6..fc29259392 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -1254,6 +1254,8 @@ WindowOpenDisposition NavigationPolicyTo
+@@ -1252,6 +1252,8 @@ WindowOpenDisposition NavigationPolicyTo
      case blink::kWebNavigationPolicyNewWindow:
        return WindowOpenDisposition::NEW_WINDOW;
      case blink::kWebNavigationPolicyNewPopup:
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
index eb5097e135..bbf2d6129a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-extensions-menu.patch
@@ -16,7 +16,7 @@
  #include "chrome/common/pref_names.h"
  #include "chrome/grit/generated_resources.h"
  #include "components/feature_engagement/public/event_constants.h"
-@@ -533,6 +535,17 @@ void ExtensionsToolbarContainer::AnchorA
+@@ -528,6 +530,17 @@ void ExtensionsToolbarContainer::AnchorA
    widget->widget_delegate()->AsBubbleDialogDelegate()->SetAnchorView(
        anchor_view && anchor_view->GetVisible() ? anchor_view
                                                 : GetExtensionsButton());
@@ -34,7 +34,7 @@
    widget->Show();
  }
  
-@@ -941,6 +954,9 @@ void ExtensionsToolbarContainer::UpdateC
+@@ -936,6 +949,9 @@ void ExtensionsToolbarContainer::UpdateC
  }
  
  bool ExtensionsToolbarContainer::ShouldContainerBeVisible() const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
index 5119208d96..02f1f39c2a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -1968,6 +1968,10 @@ void BrowserView::UpdateExclusiveAccessE
+@@ -1960,6 +1960,10 @@ void BrowserView::UpdateExclusiveAccessE
      ExclusiveAccessBubbleHideCallback bubble_first_hide_callback,
      bool notify_download,
      bool force_update) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
index 09bf29c5d1..e3d8c874b4 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/tabs/tab.cc
 +++ b/chrome/browser/ui/views/tabs/tab.cc
-@@ -1069,7 +1069,11 @@ void Tab::UpdateIconVisibility() {
+@@ -1070,7 +1070,11 @@ void Tab::UpdateIconVisibility() {
    if (IsActive()) {
      // Close button is shown on active tabs regardless of the size.
      showing_close_button_ = true;
@@ -12,7 +12,7 @@
  
      showing_alert_indicator_ =
          has_alert_icon && alert_icon_width <= available_width;
-@@ -1094,6 +1098,8 @@ void Tab::UpdateIconVisibility() {
+@@ -1095,6 +1099,8 @@ void Tab::UpdateIconVisibility() {
      }
  
      showing_close_button_ = large_enough_for_close_button;
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
index bc867a078e..d105f0ca90 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -3816,10 +3816,12 @@ const FeatureEntry::FeatureVariation kDe
+@@ -3919,10 +3919,12 @@ const FeatureEntry::FeatureVariation kDe
  #include "chrome/browser/ungoogled_flag_choices.h"
  #include "chrome/browser/bromite_flag_choices.h"
  #include "chrome/browser/ungoogled_platform_flag_choices.h"
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
index 4bc14702b9..94e98a7f61 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
@@ -19,7 +19,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -156,6 +156,8 @@ static_library("common_lib") {
+@@ -159,6 +159,8 @@ static_library("common_lib") {
      "pref_names_util.cc",
      "pref_names_util.h",
      "ref_counted_util.h",
@@ -28,7 +28,7 @@
      "search/instant_mojom_traits.h",
      "search/instant_types.cc",
      "search/instant_types.h",
-@@ -264,6 +266,7 @@ static_library("common_lib") {
+@@ -268,6 +270,7 @@ static_library("common_lib") {
      "//components/no_state_prefetch/common:mojo_bindings",
      "//components/page_load_metrics/common:common",
      "//components/pdf/common:constants",
@@ -38,7 +38,7 @@
    if (is_android || enable_library_cdms) {
 --- a/chrome/common/chrome_features.cc
 +++ b/chrome/common/chrome_features.cc
-@@ -998,6 +998,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
+@@ -990,6 +990,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
  // referrers instead of their ordinary behavior.
  BASE_FEATURE(kNoReferrers, "NoReferrers", base::FEATURE_DISABLED_BY_DEFAULT);
  
@@ -55,7 +55,7 @@
  // on-screen until dismissed, they are instead shown for a very long time.
 --- a/chrome/common/chrome_features.h
 +++ b/chrome/common/chrome_features.h
-@@ -592,6 +592,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
+@@ -601,6 +601,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
  
  COMPONENT_EXPORT(CHROME_FEATURES) BASE_DECLARE_FEATURE(kNoReferrers);
  
@@ -152,8 +152,8 @@
 +#endif  // CHROME_COMMON_REFERRER_SANITIZER_H_
 --- a/chrome/test/chromedriver/BUILD.gn
 +++ b/chrome/test/chromedriver/BUILD.gn
-@@ -359,8 +359,7 @@ source_set("lib") {
-     "//base/third_party/dynamic_annotations",
+@@ -357,8 +357,7 @@ source_set("lib") {
+     "//base",
      "//build:branding_buildflags",
      "//build:chromeos_buildflags",
 -    "//chrome/common:constants",
@@ -173,7 +173,7 @@
    disallowed_extension_deps_ = [
      # Components should largely not depend on //extensions. Since // extensions
      # is not a component target and is linked with //chrome, depending on most
-@@ -832,7 +832,7 @@ test("components_unittests") {
+@@ -839,7 +839,7 @@ test("components_unittests") {
    # On other platforms, no components should depend on Chrome.
    # Since //chrome depends on //extensions, we also only assert_no_deps on
    # extensions targets for non-lacros builds.
@@ -182,7 +182,7 @@
      assert_no_deps = [ "//chrome/*" ]
      assert_no_deps += disallowed_extension_deps_
    }
-@@ -1113,7 +1113,7 @@ if (use_blink) {
+@@ -1124,7 +1124,7 @@ if (use_blink) {
      # dependency. On other platforms, no components should depend on Chrome.
      # Since //chrome depends on //extensions, we also only assert_no_deps on
      # extensions targets for non-lacros builds.
@@ -201,7 +201,7 @@
  #include "components/viz/host/host_frame_sink_manager.h"
  #include "content/browser/blob_storage/chrome_blob_storage_context.h"
  #include "content/browser/browsing_topics/header_util.h"
-@@ -398,10 +399,10 @@ void AddAdditionalRequestHeaders(
+@@ -385,10 +386,10 @@ void AddAdditionalRequestHeaders(
        net::HttpRequestHeaders::kUserAgent,
        ComputeUserAgentValue(*headers, user_agent_override, browser_context));
  
@@ -218,7 +218,7 @@
    if (NeedsHTTPOrigin(headers, method)) {
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -56,6 +56,7 @@
+@@ -55,6 +55,7 @@
  #include "build/chromeos_buildflags.h"
  #include "cc/base/switches.h"
  #include "cc/trees/ukm_manager.h"
@@ -226,7 +226,7 @@
  #include "content/common/associated_interfaces.mojom.h"
  #include "content/common/content_navigation_policy.h"
  #include "content/common/content_switches_internal.h"
-@@ -4544,10 +4545,13 @@ void RenderFrameImpl::WillSendRequestInt
+@@ -4542,10 +4543,13 @@ void RenderFrameImpl::WillSendRequestInt
  
    request.SetHasUserGesture(frame_->HasTransientUserActivation());
  
@@ -246,8 +246,8 @@
  void RenderFrameImpl::DidLoadResourceFromMemoryCache(
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -299,6 +299,7 @@ static_library("content_shell_lib") {
-     "//base/third_party/dynamic_annotations",
+@@ -280,6 +280,7 @@ static_library("content_shell_lib") {
+     "//base:base_static",
      "//build:chromeos_buildflags",
      "//cc/base",
 +    "//chrome/common",
diff --git a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
index 83ae56cf7a..5f6f35f992 100644
--- a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
+++ b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
@@ -35,7 +35,7 @@
  // https://vasilvv.github.io/httpbis-alps/draft-vvv-httpbis-alps.html.
 --- a/net/dns/host_resolver_manager.cc
 +++ b/net/dns/host_resolver_manager.cc
-@@ -150,11 +150,6 @@ const size_t kMaxHostLength = 4096;
+@@ -151,11 +151,6 @@ const size_t kMaxHostLength = 4096;
  // cached.
  const int kIPv6ProbePeriodMs = 1000;
  
@@ -45,9 +45,9 @@
 -                                     0x00, 0x00, 0x00, 0x01};
 -
  // True if |hostname| ends with either ".local" or ".local.".
- bool ResemblesMulticastDNSName(base::StringPiece hostname) {
+ bool ResemblesMulticastDNSName(std::string_view hostname) {
    return hostname.ends_with(".local") || hostname.ends_with(".local.");
-@@ -1351,33 +1346,10 @@ int HostResolverManager::StartIPv6Reacha
+@@ -1388,33 +1383,10 @@ int HostResolverManager::StartIPv6Reacha
      return OK;
    }
  
diff --git a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
index 4811b05caf..c2e59a92b5 100644
--- a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
+++ b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
@@ -427,7 +427,7 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -848,7 +848,8 @@ void TemplateURLService::IncrementUsageC
+@@ -862,7 +862,8 @@ void TemplateURLService::IncrementUsageC
  void TemplateURLService::ResetTemplateURL(TemplateURL* url,
                                            const std::u16string& title,
                                            const std::u16string& keyword,
@@ -437,7 +437,7 @@
    DCHECK(!IsCreatedByExtension(url));
    DCHECK(!keyword.empty());
    DCHECK(!search_url.empty());
-@@ -863,6 +864,7 @@ void TemplateURLService::ResetTemplateUR
+@@ -877,6 +878,7 @@ void TemplateURLService::ResetTemplateUR
    data.safe_for_autoreplace = false;
    data.last_modified = clock_->Now();
    data.is_active = TemplateURLData::ActiveStatus::kTrue;
diff --git a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
index 4d9d343d36..731ac904f4 100644
--- a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
+++ b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -3812,7 +3812,13 @@ const FeatureEntry::FeatureVariation kDe
+@@ -3915,7 +3915,13 @@ const FeatureEntry::FeatureVariation kDe
  // calculate and verify checksum.
  //
  // When adding a new choice, add it to the end of the list.
diff --git a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
index 5d49d87e9e..0f34927729 100644
--- a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
+++ b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -96,7 +96,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -103,7 +103,7 @@ void RegisterBrowserUserPrefs(user_prefs
                                  false);
  #endif
    registry->RegisterStringPref(prefs::kWebRTCIPHandlingPolicy,
diff --git a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
index e34261c5ee..08f6f13e6d 100644
--- a/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
+++ b/patches/extra/ungoogled-chromium/disable-capture-all-screens.patch
@@ -1,9 +1,25 @@
 --- a/chrome/browser/media/webrtc/capture_policy_utils.cc
 +++ b/chrome/browser/media/webrtc/capture_policy_utils.cc
-@@ -141,69 +141,12 @@ void RegisterProfilePrefs(PrefRegistrySi
+@@ -241,89 +241,13 @@ void RegisterProfilePrefs(PrefRegistrySi
  }
  
  bool IsGetAllScreensMediaAllowedForAnySite(content::BrowserContext* context) {
+-// TODO(b/40272166): Implement for Lacros.
+-#if BUILDFLAG(IS_CHROMEOS_ASH)
+-  policy::MultiScreenCapturePolicyService* multi_capture_policy_service =
+-      policy::MultiScreenCapturePolicyServiceFactory::GetForBrowserContext(
+-          context);
+-  if (!multi_capture_policy_service) {
+-    return false;
+-  }
+-
+-  if (multi_capture_policy_service->GetAllowListSize() > 0u) {
+-    return true;
+-  }
+-#endif  // BUILDFLAG(IS_CHROMEOS_ASH)
+-
+-// TODO(b/329064666): Remove the checks below once the pivot to IWAs is
+-// complete.
 -#if BUILDFLAG(IS_CHROMEOS)
 -  Profile* profile = Profile::FromBrowserContext(context);
 -  if (!profile) {
@@ -37,36 +53,40 @@
 -#endif
  }
  
- bool IsGetAllScreensMediaAllowed(content::BrowserContext* context,
-                                  const GURL& url) {
--#if BUILDFLAG(IS_CHROMEOS)
+ void CheckGetAllScreensMediaAllowed(content::BrowserContext* context,
+                                     const GURL& url,
+                                     base::OnceCallback<void(bool)> callback) {
+-#if BUILDFLAG(IS_CHROMEOS_LACROS)
 -  Profile* profile = Profile::FromBrowserContext(context);
 -  if (!profile) {
--    return false;
+-    std::move(callback).Run(false);
+-    return;
 -  }
--
--#if BUILDFLAG(IS_CHROMEOS_LACROS)
 -  // To ensure that a user is informed at login time that capturing of all
 -  // screens can happen (for privacy reasons), this API is only available on
 -  // primary profiles.
 -  if (!profile->IsMainProfile()) {
--    return false;
+-    std::move(callback).Run(false);
+-    return;
 -  }
 -#endif  // BUILDFLAG(IS_CHROMEOS_LACROS)
 -
--  HostContentSettingsMap* host_content_settings_map =
--      HostContentSettingsMapFactory::GetForProfile(profile);
--  if (!host_content_settings_map) {
--    return false;
+-#if BUILDFLAG(IS_CHROMEOS)
+-  crosapi::mojom::MultiCaptureService* multi_capture_service =
+-      GetMultiCaptureService();
+-  if (multi_capture_service) {
+-    multi_capture_service->IsMultiCaptureAllowed(
+-        url, base::BindOnce(&IsGetAllScreensMediaAllowedForIwaResultReceived,
+-                            std::move(callback), std::move(url), context));
+-  } else {
+-    // If the multi capture service is not available with the required version,
+-    // fall back to the original flow using the deprecated policy.
+-    IsGetAllScreensMediaAllowedForIwaResultReceived(
+-        std::move(callback), std::move(url), context, /*result=*/false);
 -  }
--  ContentSetting auto_accept_enabled =
--      host_content_settings_map->GetContentSetting(
--          url, url, ContentSettingsType::ALL_SCREEN_CAPTURE);
--  return auto_accept_enabled == ContentSetting::CONTENT_SETTING_ALLOW;
 -#else
--  // This API is currently only available on ChromeOS and Linux.
-   return false;
--#endif
+   std::move(callback).Run(false);
+-#endif  // BUILDFLAG(IS_CHROMEOS)
  }
  
  #if !BUILDFLAG(IS_ANDROID)
diff --git a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
index cda819416d..b1aa4376c2 100644
--- a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
+++ b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
@@ -142,7 +142,7 @@
  }  // namespace download
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -97,7 +97,6 @@ source_set("browser") {
+@@ -96,7 +96,6 @@ source_set("browser") {
      "//components/payments/mojom",
      "//components/power_monitor",
      "//components/services/filesystem:lib",
diff --git a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch b/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
index 4c76e25437..827efa37f3 100644
--- a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
+++ b/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
@@ -1,6 +1,6 @@
 --- a/components/optimization_guide/core/optimization_guide_features.cc
 +++ b/components/optimization_guide/core/optimization_guide_features.cc
-@@ -53,7 +53,7 @@ BASE_FEATURE(kOptimizationHints,
+@@ -54,7 +54,7 @@ BASE_FEATURE(kOptimizationHints,
  // Enables fetching from a remote Optimization Guide Service.
  BASE_FEATURE(kRemoteOptimizationGuideFetching,
               "OptimizationHintsFetching",
diff --git a/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch b/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
index e88fd44dd8..90c8b3910b 100644
--- a/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
+++ b/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
@@ -3,7 +3,7 @@
 
 --- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
 +++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
-@@ -3868,8 +3868,7 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -3869,8 +3869,7 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_RENDERER))));
          }
@@ -13,7 +13,7 @@
        }
        SynthesizeGLError(
            GL_INVALID_ENUM, "getParameter",
-@@ -3883,8 +3882,7 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -3884,8 +3883,7 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_VENDOR))));
          }
diff --git a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
index 96074d0f03..c6169beec1 100644
--- a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
+++ b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
@@ -2,7 +2,7 @@
 
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -1733,7 +1733,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
+@@ -1792,7 +1792,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
  // crbug.com/988956.
  BASE_FEATURE(kPrefetchPrivacyChanges,
               "PrefetchPrivacyChanges",
diff --git a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
index 7f3e7920cf..b09bfc5157 100644
--- a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
+++ b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/browser_commands.cc
 +++ b/chrome/browser/ui/browser_commands.cc
-@@ -534,11 +534,6 @@ int GetContentRestrictions(const Browser
+@@ -535,11 +535,6 @@ int GetContentRestrictions(const Browser
      CoreTabHelper* core_tab_helper =
          CoreTabHelper::FromWebContents(current_tab);
      content_restrictions = core_tab_helper->content_restrictions();
@@ -14,7 +14,7 @@
    }
    return content_restrictions;
  }
-@@ -1664,8 +1659,7 @@ bool CanSavePage(const Browser* browser)
+@@ -1682,8 +1677,7 @@ bool CanSavePage(const Browser* browser)
        DownloadPrefs::DownloadRestriction::ALL_FILES) {
      return false;
    }
diff --git a/patches/extra/ungoogled-chromium/first-run-page.patch b/patches/extra/ungoogled-chromium/first-run-page.patch
index 2737819a07..bcd53207ea 100644
--- a/patches/extra/ungoogled-chromium/first-run-page.patch
+++ b/patches/extra/ungoogled-chromium/first-run-page.patch
@@ -10,7 +10,7 @@
  
 --- a/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
-@@ -61,6 +61,7 @@
+@@ -63,6 +63,7 @@
  #include "chrome/browser/ui/webui/suggest_internals/suggest_internals_ui.h"
  #include "chrome/browser/ui/webui/sync_internals/sync_internals_ui.h"
  #include "chrome/browser/ui/webui/translate_internals/translate_internals_ui.h"
@@ -18,7 +18,7 @@
  #include "chrome/browser/ui/webui/usb_internals/usb_internals_ui.h"
  #include "chrome/browser/ui/webui/user_actions/user_actions_ui.h"
  #include "chrome/browser/ui/webui/version/version_ui.h"
-@@ -837,6 +838,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+@@ -809,6 +810,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
      return &NewWebUI<privacy_sandbox_internals::PrivacySandboxInternalsUI>;
    }
  
@@ -169,7 +169,7 @@
 +#endif  // CHROME_BROWSER_UI_WEBUI_UNGOOGLED_FIRST_RUN_H_
 --- a/chrome/common/webui_url_constants.cc
 +++ b/chrome/common/webui_url_constants.cc
-@@ -673,6 +673,7 @@ const char kExtensionConfigureCommandsSu
+@@ -671,6 +671,7 @@ const char kExtensionConfigureCommandsSu
  // Add hosts here to be included in chrome://chrome-urls (about:about).
  // These hosts will also be suggested by BuiltinProvider.
  const char* const kChromeHostURLs[] = {
diff --git a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
index ce2435b002..516fed06f2 100644
--- a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
+++ b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/startup/bad_flags_prompt.cc
 +++ b/chrome/browser/ui/startup/bad_flags_prompt.cc
-@@ -73,7 +73,6 @@ const char* const kBadFlags[] = {
+@@ -74,7 +74,6 @@ const char* const kBadFlags[] = {
      // These flags disable sandbox-related security.
      sandbox::policy::switches::kDisableGpuSandbox,
      sandbox::policy::switches::kDisableSeccompFilterSandbox,
diff --git a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
index 39fbeb96ef..6fa71c7f55 100644
--- a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
+++ b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
@@ -45,7 +45,7 @@
 --- a/chrome/browser/resources/extensions/sidebar.html
 +++ b/chrome/browser/resources/extensions/sidebar.html
 @@ -71,14 +71,3 @@
-     <paper-ripple></paper-ripple>
+     <cr-ripple></cr-ripple>
    </a>
  </iron-selector>
 -<div>
@@ -56,12 +56,12 @@
 -    <span id="discover-more-text" class="cr-secondary-text"
 -        on-click="onMoreExtensionsClick_"
 -        inner-h-t-m-l="[[discoverMoreText_]]"></span>
--    <paper-ripple></paper-ripple>
+-    <cr-ripple></cr-ripple>
 -  </div>
 -</div>
 --- a/chrome/browser/resources/extensions/sidebar.ts
 +++ b/chrome/browser/resources/extensions/sidebar.ts
-@@ -51,21 +51,11 @@ export class ExtensionsSidebarElement ex
+@@ -50,21 +50,11 @@ export class ExtensionsSidebarElement ex
         * displayed.
         */
        selectedPath_: String,
@@ -83,7 +83,7 @@
  
    /**
     * The ID of the listener on |navigation|. Stored so that the
-@@ -121,13 +111,6 @@ export class ExtensionsSidebarElement ex
+@@ -120,13 +110,6 @@ export class ExtensionsSidebarElement ex
      }
    }
  
@@ -101,14 +101,14 @@
 +++ b/chrome/browser/resources/history/side_bar.html
 @@ -87,13 +87,6 @@
          $i18n{historyMenuItem}
-         <paper-ripple></paper-ripple>
+         <cr-ripple></cr-ripple>
        </a>
 -      <a id="syncedTabs" role="menuitem" href="/syncedTabs"
 -          class="page-item cr-nav-menu-item"
 -          path="syncedTabs" on-click="onItemClick_">
 -        <iron-icon icon="cr:phonelink"></iron-icon>
 -        $i18n{openTabsMenuItem}
--        <paper-ripple></paper-ripple>
+-        <cr-ripple></cr-ripple>
 -      </a>
        <!-- tabindex is needed below because <a> without href attribute is not
              focusable in sequential keyboard navigation by default. -->
@@ -150,16 +150,18 @@
        <template is="dom-if" if="[[!captionSettingsOpensExternally_]]">
 --- a/chrome/browser/resources/settings/about_page/about_page.html
 +++ b/chrome/browser/resources/settings/about_page/about_page.html
-@@ -120,9 +120,6 @@
+@@ -120,11 +120,6 @@
          </div>
        </template>
  </if>
--      <cr-link-row class="hr" id="help" on-click="onHelpClick_"
--          label="$i18n{aboutGetHelpUsingChrome}"
--          external></cr-link-row>
+-      <template is="dom-if" if="[[!showGetTheMostOutOfChromeSection_]]">
+-        <cr-link-row class="hr" id="help" on-click="onHelpClick_"
+-            label="$i18n{aboutGetHelpUsingChrome}"
+-            external></cr-link-row>
+-      </template>
  <if expr="_google_chrome">
-       <cr-link-row class="hr" id="reportIssue" on-click="onReportIssueClick_"
-           hidden="[[!prefs.feedback_allowed.value]]"
+       <template is="dom-if" if="[[!showGetTheMostOutOfChromeSection_]]">
+         <cr-link-row class="hr" id="reportIssue" on-click="onReportIssueClick_"
 --- a/chrome/browser/resources/settings/appearance_page/appearance_page.html
 +++ b/chrome/browser/resources/settings/appearance_page/appearance_page.html
 @@ -30,11 +30,11 @@
@@ -180,7 +182,7 @@
              <div class="separator"></div>
 --- a/chrome/browser/resources/settings/appearance_page/appearance_page.ts
 +++ b/chrome/browser/resources/settings/appearance_page/appearance_page.ts
-@@ -428,8 +428,8 @@ export class SettingsAppearancePageEleme
+@@ -412,8 +412,8 @@ export class SettingsAppearancePageEleme
        return;
      }
  
@@ -190,7 +192,7 @@
      switch (this.systemTheme_) {
        case SystemTheme.GTK:
          i18nId = 'gtkTheme';
-@@ -441,11 +441,8 @@ export class SettingsAppearancePageEleme
+@@ -425,11 +425,8 @@ export class SettingsAppearancePageEleme
          i18nId = 'classicTheme';
          break;
      }
@@ -205,7 +207,7 @@
    /** @return Whether applied theme is set by policy. */
 --- a/chrome/browser/resources/settings/autofill_page/payments_section.html
 +++ b/chrome/browser/resources/settings/autofill_page/payments_section.html
-@@ -94,11 +94,6 @@
+@@ -95,11 +95,6 @@
    </div>
  </template>
  
@@ -240,16 +242,16 @@
  import '../safety_hub/safety_hub_entry_point.js';
 --- a/chrome/browser/resources/settings/privacy_page/personalization_options.html
 +++ b/chrome/browser/resources/settings/privacy_page/personalization_options.html
-@@ -13,7 +13,7 @@
-         padding-inline-start: 0;
-       }
+@@ -21,7 +21,7 @@
+ 
      </style>
+ 
 -<if expr="not is_chromeos">
 +<if expr="False">
-     <!-- Signout is not supported yet on lacros, https://crbug.com/1217645 -->
-     <settings-toggle-button id="signinAllowedToggle"
-         class="hr"
-@@ -51,12 +51,6 @@
+     <cr-radio-group id="chromeSigninUserChoiceRadioGroup"
+         class="hr radio-group-content"
+         hidden="[[!chromeSigninUserChoiceInfo_.shouldShowSettings]]"
+@@ -90,12 +90,6 @@
      </settings-toggle-button>
  </if><!-- not chromeos -->
  </if><!-- _google_chrome -->
@@ -264,9 +266,9 @@
            class="hr"
 --- a/chrome/browser/resources/settings/privacy_page/personalization_options.ts
 +++ b/chrome/browser/resources/settings/privacy_page/personalization_options.ts
-@@ -187,10 +187,6 @@ export class SettingsPersonalizationOpti
-     this.addWebUiListener('metrics-reporting-change', setMetricsReportingPref);
-     this.browserProxy_.getMetricsReporting().then(setMetricsReportingPref);
+@@ -214,10 +214,6 @@ export class SettingsPersonalizationOpti
+         'chrome-signin-user-choice-info-change',
+         this.setChromeSigninUserChoiceInfo_.bind(this));
      // </if>
 -
 -    this.registerHelpBubble(
@@ -295,12 +297,11 @@
                start-icon="settings:visibility-off"
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -173,10 +173,3 @@
-         sub-label="$i18n{chromeCertificatesDescription}"
-         on-click="onChromeCertificatesClick_"></cr-link-row>
+@@ -214,9 +214,3 @@
+       </cr-link-row>
+ </if>
  
--    <cr-link-row id="advanced-protection-program-link"
--        class="hr"
+-    <cr-link-row id="advanced-protection-program-link" class="hr"
 -        label="$i18n{advancedProtectionProgramTitle}"
 -        sub-label="$i18n{advancedProtectionProgramDesc}"
 -        on-click="onAdvancedProtectionProgramLinkClick_"
@@ -333,7 +334,7 @@
              aria-description="$i18n{opensInNewTab}" on-click="onHelpClick_">
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -850,19 +850,9 @@ void ExtensionsMenuModel::Build(Browser*
+@@ -857,19 +857,9 @@ void ExtensionsMenuModel::Build(Browser*
    SetElementIdentifierAt(
        GetIndexOfCommandId(IDC_EXTENSIONS_SUBMENU_MANAGE_EXTENSIONS).value(),
        kManageExtensionsMenuItem);
@@ -386,7 +387,7 @@
  
 --- a/chrome/browser/ui/views/profiles/profile_menu_view.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view.cc
-@@ -181,6 +181,7 @@ void ProfileMenuView::BuildMenu() {
+@@ -187,6 +187,7 @@ void ProfileMenuView::BuildMenu() {
  }
  
  gfx::ImageSkia ProfileMenuView::GetSyncIcon() const {
@@ -394,9 +395,9 @@
    Profile* profile = browser()->profile();
    if (profile->IsOffTheRecord() || profile->IsGuestSession())
      return gfx::ImageSkia();
-@@ -565,15 +566,7 @@ void ProfileMenuView::BuildIdentity() {
+@@ -578,15 +579,7 @@ void ProfileMenuView::BuildIdentity() {
          ui::ImageModel::FromImage(account_info.account_image),
-         badge_image_model, menu_title_, menu_subtitle_, management_label_);
+         badge_image_model, menu_title_, menu_subtitle_, management_label);
    } else {
 -    if (switches::IsExplicitBrowserSigninUIOnDesktopEnabled(
 -            switches::ExplicitBrowserSigninPhase::kExperimental) &&
@@ -410,10 +411,10 @@
 +    menu_title_ = std::u16string();
      // The email may be empty.
      menu_subtitle_ = base::UTF8ToUTF16(account_info.email);
-     management_label_ = std::u16string();
+     std::u16string management_label;
 --- a/chrome/browser/ui/views/sad_tab_view.cc
 +++ b/chrome/browser/ui/views/sad_tab_view.cc
-@@ -555,9 +555,6 @@ SadTabView::SadTabView(content::WebConte
+@@ -559,9 +559,6 @@ SadTabView::SadTabView(content::WebConte
    auto* actions_container =
        container->AddChildView(std::make_unique<views::FlexLayoutView>());
    actions_container->SetCrossAxisAlignment(views::LayoutAlignment::kCenter);
@@ -423,7 +424,7 @@
    action_button_ =
        actions_container->AddChildView(std::make_unique<views::MdTextButton>(
            base::BindRepeating(&SadTabView::PerformAction,
-@@ -650,22 +647,6 @@ void SadTabView::AttachToWebView() {
+@@ -654,22 +651,6 @@ void SadTabView::AttachToWebView() {
    }
  }
  
@@ -448,8 +449,8 @@
    // Specify the maximum message and title width explicitly.
 --- a/media/base/media_switches.cc
 +++ b/media/base/media_switches.cc
-@@ -947,7 +947,7 @@ const base::FeatureParam<std::string> kM
- #endif  // BUILDFLAG(IS_WIN)
+@@ -938,7 +938,7 @@ BASE_FEATURE(kOnDeviceWebSpeech,
+              base::FEATURE_DISABLED_BY_DEFAULT);
  
  // Enables the Live Caption feature on supported devices.
 -BASE_FEATURE(kLiveCaption, "LiveCaption", base::FEATURE_ENABLED_BY_DEFAULT);
@@ -459,7 +460,7 @@
  // getDisplayMedia captures. Note: This flag does not control if the "Share this
 --- a/ui/views/controls/menu/menu_item_view.cc
 +++ b/ui/views/controls/menu/menu_item_view.cc
-@@ -823,7 +823,7 @@ void MenuItemView::SetAlerted() {
+@@ -824,7 +824,7 @@ void MenuItemView::SetAlerted() {
  }
  
  bool MenuItemView::ShouldShowNewBadge() const {
diff --git a/pruning.list b/pruning.list
index 81ebcb513b..cc08d0538a 100644
--- a/pruning.list
+++ b/pruning.list
@@ -1303,6 +1303,7 @@ net/data/ssl/certificates/client-nokey.p12
 net/data/ssl/certificates/client-null-password.p12
 net/data/ssl/certificates/client.p12
 net/data/ssl/certificates/client_1.pk8
+net/data/ssl/certificates/client_1_u16_password.p12
 net/data/ssl/certificates/client_2.pk8
 net/data/ssl/certificates/client_3.pk8
 net/data/ssl/certificates/client_4.pk8
@@ -7310,6 +7311,7 @@ third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execut
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/cosh.bin
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/cross.bin
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/degrees.bin
+third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/derivatives.bin
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/determinant.bin
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/distance.bin
 third_party/dawn/third_party/webgpu-cts/src/resources/cache/webgpu/shader/execution/dot.bin
@@ -7392,6 +7394,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-last-cluster-max-duration.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-multiple-frames.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/cls-single-frame.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/extension-tracks-and-marks.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/fenced-frame-fledge.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/forced-layouts-and-no-gpu.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/generic-about-tracing.json.gz
@@ -7451,6 +7454,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev-with-commit.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-dev.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/web-sockets.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/wrong-main-frame-bug.json.gz
 third_party/devtools-frontend/src/test/e2e/resources/media/corrupt.webm
 third_party/devtools-frontend/src/test/e2e/resources/media/fisch.webm
 third_party/devtools-frontend/src/test/e2e/resources/network/webbundle.wbn
@@ -10970,6 +10974,7 @@ third_party/icu/source/data/in/coll/ucadata-unihan.icu
 third_party/icu/source/data/in/nfc.nrm
 third_party/icu/source/data/in/nfkc.nrm
 third_party/icu/source/data/in/nfkc_cf.nrm
+third_party/icu/source/data/in/nfkc_scf.nrm
 third_party/icu/source/data/in/pnames.icu
 third_party/icu/source/data/in/ubidi.icu
 third_party/icu/source/data/in/ucase.icu
@@ -13461,6 +13466,7 @@ third_party/openscreen/src/cast/streaming/sender_report_parser_fuzzer_seeds/comp
 third_party/openscreen/src/cast/streaming/sender_report_parser_fuzzer_seeds/rtcp_packet_with_no_sender_report.bin
 third_party/openscreen/src/cast/streaming/sender_report_parser_fuzzer_seeds/sender_report_with_report_block.bin
 third_party/openscreen/src/cast/streaming/sender_report_parser_fuzzer_seeds/sender_report_without_report_block.bin
+third_party/openscreen/src/osp/impl/quic/certificates/openscreen.key
 third_party/openscreen/src/test/data/cast/common/certificate/testsuite/testsuite1.pb
 third_party/openscreen/src/test/data/cast/receiver/channel/auth_challenge.pb
 third_party/openscreen/src/test/data/cast/receiver/channel/auth_response.pb
@@ -13586,6 +13592,7 @@ third_party/protobuf/php/src/GPBMetadata/Google/Protobuf/Struct.php
 third_party/protobuf/php/src/GPBMetadata/Google/Protobuf/Timestamp.php
 third_party/protobuf/php/src/GPBMetadata/Google/Protobuf/Type.php
 third_party/protobuf/php/src/GPBMetadata/Google/Protobuf/Wrappers.php
+third_party/protobuf/php/tests/generated_previous/GPBMetadata/ProtoPrevious/TestPreviouslyUnreservedMessage.php
 third_party/protobuf/src/google/protobuf/testdata/bad_utf8_string
 third_party/protobuf/src/google/protobuf/testdata/golden_message
 third_party/protobuf/src/google/protobuf/testdata/golden_message_maps
@@ -13624,17 +13631,17 @@ third_party/quic_trace/src/examples/example.json.gz
 third_party/quic_trace/src/examples/example.qtr
 third_party/r8/custom_d8.jar
 third_party/r8/custom_r8.jar
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/testdata/fowler/dat/basic.dat
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/crash-7eb3351f0965e5d6c1cb98aa8585949ef96531ff
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/crash-8760b19b25d74e3603d4c643e9c7404fdd3631f9
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/crash-cd33b13df59ea9d74503986f9d32a270dd43cc04
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/minimized-from-8760b19b25d74e3603d4c643e9c7404fdd3631f9
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-3ab758ea520027fefd3f00e1384d9aeef155739e
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-5345fccadf3812c53c3ccc7af5aa2741b7b2106c
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-6bd643eec330166e4ada91da2d3f284268481085
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-93c73a43581f205f9aaffd9c17e52b34b17becd0
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-9ca9cc9929fee1fcbb847a78384effb8b98ea18a
-third_party/rust/chromium_crates_io/vendor/regex-1.10.3/tests/fuzz/testdata/slow-unit-b8a052f4254802edbe5f569b6ce6e9b6c927e9d6
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/testdata/fowler/dat/basic.dat
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/crash-7eb3351f0965e5d6c1cb98aa8585949ef96531ff
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/crash-8760b19b25d74e3603d4c643e9c7404fdd3631f9
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/crash-cd33b13df59ea9d74503986f9d32a270dd43cc04
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/minimized-from-8760b19b25d74e3603d4c643e9c7404fdd3631f9
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-3ab758ea520027fefd3f00e1384d9aeef155739e
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-5345fccadf3812c53c3ccc7af5aa2741b7b2106c
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-6bd643eec330166e4ada91da2d3f284268481085
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-93c73a43581f205f9aaffd9c17e52b34b17becd0
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-9ca9cc9929fee1fcbb847a78384effb8b98ea18a
+third_party/rust/chromium_crates_io/vendor/regex-1.10.4/tests/fuzz/testdata/slow-unit-b8a052f4254802edbe5f569b6ce6e9b6c927e9d6
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.6/tests/fuzz/testdata/deserialize_dense_crash-9486fb7c8a93b12c12a62166b43d31640c0208a9
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.6/tests/fuzz/testdata/deserialize_dense_minimized-from-9486fb7c8a93b12c12a62166b43d31640c0208a9
 third_party/rust/chromium_crates_io/vendor/regex-automata-0.4.6/tests/fuzz/testdata/deserialize_sparse_crash-0da59c0434eaf35e5a6b470fa9244bb79c72b000
@@ -14713,6 +14720,7 @@ third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/cos.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/cosh.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/cross.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/degrees.bin
+third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/derivatives.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/determinant.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/distance.bin
 third_party/webgpu-cts/src/src/resources/cache/webgpu/shader/execution/dot.bin
