From 6128ec656039f48c5fa18daa774abb5b385c2879 Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Wed, 27 Aug 2025 17:27:06 -0500
Subject: [PATCH] Update to Chromium 140.0.7339.80

---
 chromium_version.txt                          |   2 +-
 devutils/update_lists.py                      |   1 +
 domain_substitution.list                      | 364 ++++----
 ...01-fix-building-without-safebrowsing.patch |  44 +-
 ...03-disable-autofill-download-manager.patch |   9 +-
 .../0005-disable-default-extensions.patch     |   2 +-
 .../core/inox-patchset/0021-disable-rlz.patch |   2 +-
 ...refixes-to-possibly-evil-connections.patch |  17 +-
 ...sable-reporting-of-safebrowsing-over.patch |   4 +-
 .../ungoogled-chromium/block-requests.patch   |   4 +-
 .../block-trk-and-subdomains.patch            |   8 +-
 .../disable-crash-reporter.patch              |   2 +-
 .../disable-fonts-googleapis-references.patch |   2 +-
 .../ungoogled-chromium/disable-gaia.patch     |   7 +-
 .../disable-google-host-detection.patch       |  21 +-
 .../disable-mei-preload.patch                 |  10 +-
 .../disable-privacy-sandbox.patch             |   8 +-
 .../disable-webrtc-log-uploader.patch         |   2 +-
 .../extensions-manifestv2.patch               |   4 +-
 .../fix-building-with-prunned-binaries.patch  | 398 +++++---
 .../fix-building-without-safebrowsing.patch   | 388 +++++---
 .../fix-learn-doubleclick-hsts.patch          |   2 +-
 .../remove-unused-preferences-fields.patch    | 855 +++++++++++-------
 .../toggle-translation-via-switch.patch       |   4 +-
 ...g-flags-client-rects-and-measuretext.patch |  50 +-
 ...ngerprinting-canvas-image-data-noise.patch |  14 +-
 .../flag-max-connections-per-host.patch       |  12 +-
 .../debian/disable/google-api-warning.patch   |   2 +-
 .../0006-modify-default-prefs.patch           |  14 +-
 .../0016-chromium-sandbox-pie.patch           |   2 +-
 ...ble-profile-auto-import-on-first-run.patch |   2 +-
 ...e-default-key-length-for-newly-gener.patch |  23 -
 .../updater-disable-auto-update.patch         |   2 +-
 .../add-flag-for-bookmark-bar-ntp.patch       |  20 +-
 .../add-flag-for-close-confirmation.patch     |  20 +-
 .../add-flag-for-custom-ntp.patch             |   2 +-
 .../add-flag-for-disabling-link-drag.patch    |   2 +-
 .../add-flag-for-grab-handle.patch            |   2 +-
 .../add-flag-for-incognito-themes.patch       |   2 +-
 ...g-for-omnibox-autocomplete-filtering.patch |   6 +-
 .../add-flag-for-qr-generator.patch           |   6 +-
 ...dd-flag-for-search-engine-collection.patch |  16 +-
 .../add-flag-for-tab-hover-cards.patch        |   6 +-
 .../add-flag-for-tabsearch-button.patch       |  16 +-
 .../add-flag-to-clear-data-on-exit.patch      |   4 +-
 ...d-flag-to-close-window-with-last-tab.patch |   4 +-
 ...g-to-configure-extension-downloading.patch |   2 +-
 .../add-flag-to-convert-popups-to-tabs.patch  |   2 +-
 .../add-flag-to-disable-tls-grease.patch      |   2 +-
 ...add-flag-to-force-punycode-hostnames.patch |   6 +-
 .../add-flag-to-hide-crashed-bubble.patch     |   2 +-
 .../add-flag-to-hide-fullscreen-exit-ui.patch |   2 +-
 .../add-flag-to-hide-tab-close-buttons.patch  |   4 +-
 .../add-flag-to-reduce-system-info.patch      |   6 +-
 .../add-flag-to-show-avatar-button.patch      |   2 +-
 ...dd-flag-to-spoof-webgl-renderer-info.patch |   4 +-
 .../add-flags-for-existing-switches.patch     |   2 +-
 ...add-flags-for-referrer-customization.patch |  10 +-
 .../add-ipv6-probing-option.patch             |   4 +-
 .../add-suggestions-url-field.patch           |  38 +-
 .../add-ungoogled-flag-headers.patch          |   2 +-
 .../default-webrtc-ip-handling-policy.patch   |   4 +-
 .../disable-ai-search-shortcuts.patch         |  59 +-
 .../disable-download-quarantine.patch         |  51 +-
 .../disable-downloads-page-referrer-url.patch |  14 +-
 .../disable-remote-optimization-guide.patch   |  11 -
 ...ertificate-transparency-and-add-flag.patch |   2 +-
 ...ble-default-prefetch-privacy-changes.patch |  13 -
 .../enable-menu-on-reload-button.patch        |   2 +-
 .../enable-page-saving-on-more-pages.patch    |   4 +-
 .../enable-paste-and-go-new-tab-button.patch  |  10 +-
 .../ungoogled-chromium/first-run-page.patch   |   8 +-
 .../prepopulated-search-engines.patch         |   2 +-
 ...e-disable-setuid-sandbox-as-bad-flag.patch |   4 +-
 .../remove-uneeded-ui.patch                   | 138 +--
 patches/series                                |   3 -
 patches/upstream-fixes/glue_core_pools.patch  |   2 +-
 .../upstream-fixes/missing-dependencies.patch |  16 +-
 pruning.list                                  |  31 +-
 79 files changed, 1624 insertions(+), 1225 deletions(-)
 delete mode 100644 patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
 delete mode 100644 patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
 delete mode 100644 patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch

diff --git a/chromium_version.txt b/chromium_version.txt
index e8ee507bdf..8cf022dce2 100644
--- a/chromium_version.txt
+++ b/chromium_version.txt
@@ -1 +1 @@
-139.0.7258.154
+140.0.7339.80
diff --git a/devutils/update_lists.py b/devutils/update_lists.py
index 002a926f2b..66df6c3b09 100755
--- a/devutils/update_lists.py
+++ b/devutils/update_lists.py
@@ -79,6 +79,7 @@
     '*.mp3',
     '*.wav',
     '*.flac',
+    '*.car',
     '*.icns',
     '*.woff',
     '*.woff2',
diff --git a/domain_substitution.list b/domain_substitution.list
index 6c92f849cf..bb29f4a279 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -1,6 +1,8 @@
 BUILD.gn
 PRESUBMIT.py
 PRESUBMIT_test.py
+agents/extensions/perf/gemini-extension.json
+agents/prompts/PRESUBMIT.py
 ash/accelerators/accelerator_notifications.cc
 ash/accelerators/ash_accelerator_configuration_unittest.cc
 ash/ambient/ambient_controller.cc
@@ -18,10 +20,7 @@ ash/app_list/views/app_list_view_pixeltest.cc
 ash/ash_strings.grd
 ash/assistant/PRESUBMIT.py
 ash/assistant/assistant_setup_controller.cc
-ash/assistant/ui/main_stage/assistant_onboarding_view_unittest.cc
-ash/assistant/ui/main_stage/suggestion_chip_view_unittest.cc
 ash/assistant/util/deep_link_util.cc
-ash/assistant/util/deep_link_util_unittest.cc
 ash/auth/views/auth_header_view_pixeltest.cc
 ash/birch/birch_item.cc
 ash/birch/birch_item_unittest.cc
@@ -57,7 +56,6 @@ ash/login/ui/login_remove_account_dialog_unittest.cc
 ash/metrics/demo_session_metrics_recorder_unittest.cc
 ash/projector/projector_metadata_model.cc
 ash/public/cpp/android_intent_helper_unittest.cc
-ash/public/cpp/child_accounts/parent_access_controller.h
 ash/public/cpp/system_notification_builder_unittest.cc
 ash/quick_insert/model/quick_insert_link_suggester.cc
 ash/quick_insert/model/quick_insert_link_suggester_unittest.cc
@@ -274,10 +272,10 @@ base/android/jni_string.cc
 base/android/meminfo_dump_provider.cc
 base/android/requires_api.h
 base/android/resource_exclusions.gni
+base/android/virtual_document_path.h
 base/apple/foundation_util_unittest.mm
 base/apple/owned_objc.h
 base/apple/owned_objc_types.h
-base/atomicops.h
 base/barrier_callback.h
 base/base_paths_win.cc
 base/base_switches.cc
@@ -333,6 +331,7 @@ base/power_monitor/energy_monitor_android.h
 base/power_monitor/power_monitor_device_source_android.cc
 base/power_monitor/speed_limit_observer_win.cc
 base/process/launch.h
+base/process/launch_mac.cc
 base/process/launch_posix.cc
 base/process/process_handle_win.cc
 base/process/process_info.h
@@ -462,8 +461,6 @@ build/config/compiler/compiler.gni
 build/config/fuchsia/BUILD.gn
 build/config/linux/pkg_config.gni
 build/config/locales.gni
-build/config/nacl/BUILD.gn
-build/config/nacl/rules.gni
 build/config/ozone.gni
 build/config/rust.gni
 build/config/sanitizers/sanitizers.gni
@@ -482,8 +479,9 @@ build/ios/presubmit_support.py
 build/linux/install-chromeos-fonts.py
 build/linux/unbundle/remove_bundled_libraries.py
 build/mac_toolchain.py
+build/mcp_servers/PRESUBMIT.py
 build/nocompile.gni
-build/rust/rustc_wrapper.py
+build/rust/gni_impl/rustc_wrapper.py
 build/rust/std/rules/BUILD.gn
 build/sanitizers/lsan_suppressions.cc
 build/sanitizers/tsan_suppressions.cc
@@ -491,7 +489,6 @@ build/skia_gold_common/PRESUBMIT.py
 build/toolchain/check_rewrapper_cfg.py
 build/toolchain/cros_toolchain.gni
 build/toolchain/gcc_toolchain.gni
-build/toolchain/nacl/BUILD.gn
 build/toolchain/win/midl.py
 build/toolchain/win/rc/rc.py
 build/util/lib/common/google_storage_helper.py
@@ -508,7 +505,6 @@ cc/input/browser_controls_offset_manager.cc
 cc/input/scroll_state.h
 cc/input/scrollbar_controller.h
 cc/metrics/average_lag_tracker.h
-cc/metrics/ukm_smoothness_data.h
 cc/paint/paint_image.h
 cc/paint/tone_map_util.cc
 cc/raster/one_copy_raster_buffer_provider.cc
@@ -529,6 +525,7 @@ chrome/app/chromium_strings.grd
 chrome/app/delay_load_failure_hook_win.cc
 chrome/app/extensions_strings.grdp
 chrome/app/generated_resources.grd
+chrome/app/glic_strings.grdp
 chrome/app/google_chrome_strings.grd
 chrome/app/media_router_strings.grdp
 chrome/app/nearby_share_strings.grdp
@@ -664,7 +661,6 @@ chrome/browser/ash/arc/session/arc_session_manager_unittest.cc
 chrome/browser/ash/arc/tracing/arc_app_performance_tracing.cc
 chrome/browser/ash/arc/tracing/overview_tracing_handler.cc
 chrome/browser/ash/assistant/assistant_util.cc
-chrome/browser/ash/assistant/assistant_util_unittest.cc
 chrome/browser/ash/attestation/attestation_ca_client.cc
 chrome/browser/ash/attestation/attestation_ca_client_unittest.cc
 chrome/browser/ash/attestation/platform_verification_flow_unittest.cc
@@ -780,6 +776,7 @@ chrome/browser/ash/login/test/login_manager_mixin.cc
 chrome/browser/ash/login/test/login_manager_mixin.h
 chrome/browser/ash/login/users/default_user_image/default_user_images.cc
 chrome/browser/ash/login/users/multi_user_sign_in_policy_controller_unittest.cc
+chrome/browser/ash/login/webview_login_browsertest.cc
 chrome/browser/ash/login/wizard_controller_browsertest.cc
 chrome/browser/ash/magic_boost/magic_boost_controller_ash.cc
 chrome/browser/ash/magic_boost/magic_boost_controller_ash_unittest.cc
@@ -856,7 +853,7 @@ chrome/browser/autocomplete/autocomplete_browsertest.cc
 chrome/browser/autocomplete/chrome_autocomplete_provider_client_browsertest.cc
 chrome/browser/autocomplete/chrome_autocomplete_scheme_classifier_unittest.cc
 chrome/browser/autocomplete/search_provider_unittest.cc
-chrome/browser/autocomplete/tab_matcher_desktop_unittest.cc
+chrome/browser/autocomplete/tab_matcher_desktop_browsertest.cc
 chrome/browser/autofill/android/save_update_address_profile_prompt_controller_unittest.cc
 chrome/browser/autofill/autofill_browsertest.cc
 chrome/browser/autofill/autofill_captured_sites_interactive_uitest.cc
@@ -938,15 +935,16 @@ chrome/browser/content_settings/content_settings_pref_provider_unittest.cc
 chrome/browser/content_settings/host_content_settings_map_unittest.cc
 chrome/browser/content_settings/javascript_optimizer_provider_android_unittest.cc
 chrome/browser/content_settings/sound_content_setting_observer_unittest.cc
-chrome/browser/contextual_cueing/zero_state_suggestions_page_data_browsertest.cc
+chrome/browser/contextual_cueing/zero_state_suggestions_browsertest.cc
 chrome/browser/custom_handlers/protocol_handler_registry_browsertest.cc
 chrome/browser/data_sharing/desktop/data_sharing_conversion_utils_unittest.cc
 chrome/browser/data_sharing/desktop/data_sharing_service_browsertest.cc
 chrome/browser/device_identity/device_oauth2_token_service_unittest.cc
 chrome/browser/device_notifications/device_connection_tracker_unittest.cc
-chrome/browser/devtools/aida_client.cc
+chrome/browser/devtools/aida_client.h
 chrome/browser/devtools/device/adb/adb_client_socket_browsertest.cc
 chrome/browser/devtools/device/adb/mock_adb_server.cc
+chrome/browser/devtools/device/usb/android_rsa.cc
 chrome/browser/devtools/devtools_browsertest.cc
 chrome/browser/devtools/devtools_ui_bindings.cc
 chrome/browser/devtools/devtools_ui_bindings_unittest.cc
@@ -968,7 +966,7 @@ chrome/browser/enterprise/connectors/analysis/content_analysis_delegate_browsert
 chrome/browser/enterprise/connectors/analysis/content_analysis_delegate_unittest.cc
 chrome/browser/enterprise/connectors/analysis/content_analysis_dialog_browsertest.cc
 chrome/browser/enterprise/connectors/analysis/content_analysis_downloads_delegate_unittest.cc
-chrome/browser/enterprise/connectors/analysis/content_analysis_info.cc
+chrome/browser/enterprise/connectors/analysis/content_analysis_info_browsertest.cc
 chrome/browser/enterprise/connectors/analysis/file_transfer_analysis_delegate_unittest.cc
 chrome/browser/enterprise/connectors/analysis/page_print_request_handler_unittest.cc
 chrome/browser/enterprise/connectors/device_trust/attestation/ash/ash_attestation_cleanup_manager_unittest.cc
@@ -984,6 +982,7 @@ chrome/browser/enterprise/connectors/device_trust/signals/decorators/browser/bro
 chrome/browser/enterprise/connectors/device_trust/test/test_constants.cc
 chrome/browser/enterprise/connectors/reporting/extension_telemetry_event_router_unittest.cc
 chrome/browser/enterprise/connectors/reporting/reporting_event_router_unittest.cc
+chrome/browser/enterprise/connectors/test/active_user_test_mixin.cc
 chrome/browser/enterprise/connectors/test/deep_scanning_test_utils.cc
 chrome/browser/enterprise/data_controls/chrome_rules_service_unittest.cc
 chrome/browser/enterprise/data_controls/reporting_service_unittest.cc
@@ -1015,6 +1014,7 @@ chrome/browser/extensions/api/activity_log_private/activity_log_private_api_unit
 chrome/browser/extensions/api/bookmark_manager_private/bookmark_manager_private_api_unittest.cc
 chrome/browser/extensions/api/bookmarks/bookmarks_apitest.cc
 chrome/browser/extensions/api/braille_display_private/braille_display_private_apitest.cc
+chrome/browser/extensions/api/certificate_provider/certificate_provider_apitest.cc
 chrome/browser/extensions/api/content_settings/content_settings_apitest.cc
 chrome/browser/extensions/api/context_menus/extension_context_menu_browsertest.cc
 chrome/browser/extensions/api/debugger/debugger_apitest.cc
@@ -1078,7 +1078,7 @@ chrome/browser/extensions/content_script_apitest.cc
 chrome/browser/extensions/convert_user_script_unittest.cc
 chrome/browser/extensions/crx_installer_browsertest.cc
 chrome/browser/extensions/cws_info_service.cc
-chrome/browser/extensions/desktop_android/desktop_android_extensions_browsertest.cc
+chrome/browser/extensions/desktop_android_extensions_browsertest.cc
 chrome/browser/extensions/extension_action_runner_unittest.cc
 chrome/browser/extensions/extension_browser_window_helper.cc
 chrome/browser/extensions/extension_browsertest.cc
@@ -1090,8 +1090,6 @@ chrome/browser/extensions/extension_override_apitest.cc
 chrome/browser/extensions/extension_prefs_unittest.cc
 chrome/browser/extensions/extension_service_test_base.cc
 chrome/browser/extensions/extension_service_unittest.cc
-chrome/browser/extensions/extension_sync_data_unittest.cc
-chrome/browser/extensions/extension_sync_service_unittest.cc
 chrome/browser/extensions/extension_tab_util_browsertest.cc
 chrome/browser/extensions/extension_tab_util_unittest.cc
 chrome/browser/extensions/extension_unload_browsertest.cc
@@ -1121,6 +1119,8 @@ chrome/browser/extensions/permissions_url_constants.cc
 chrome/browser/extensions/policy_handlers_unittest.cc
 chrome/browser/extensions/process_management_browsertest.cc
 chrome/browser/extensions/script_injection_tracker_browsertest.cc
+chrome/browser/extensions/sync/extension_sync_data_unittest.cc
+chrome/browser/extensions/sync/extension_sync_service_unittest.cc
 chrome/browser/extensions/updater/chrome_extension_downloader_factory.cc
 chrome/browser/extensions/updater/chrome_update_client_config.cc
 chrome/browser/extensions/updater/extension_updater_unittest.cc
@@ -1153,10 +1153,14 @@ chrome/browser/glic/fre/glic_fre_controller_unittest.cc
 chrome/browser/glic/fre/glic_fre_page_handler.cc
 chrome/browser/glic/glic_metrics_unittest.cc
 chrome/browser/glic/glic_user_status_browsertest.cc
+chrome/browser/glic/host/glic_annotation_manager_interactive_uitest.cc
 chrome/browser/glic/host/glic_cookie_synchronizer.cc
 chrome/browser/glic/host/glic_cookie_synchronizer_unittest.cc
 chrome/browser/glic/host/glic_page_handler.cc
 chrome/browser/glic/host/glic_ui.cc
+chrome/browser/glic/host/guest_util_unittest.cc
+chrome/browser/glic/media/glic_media_link_helper.cc
+chrome/browser/glic/media/glic_media_link_helper_unittest.cc
 chrome/browser/google/google_update_win.cc
 chrome/browser/guest_view/web_view/context_menu_content_type_web_view.cc
 chrome/browser/hid/chrome_hid_delegate_unittest.cc
@@ -1208,6 +1212,7 @@ chrome/browser/media/router/providers/cast/cast_media_route_provider_unittest.cc
 chrome/browser/media/router/providers/dial/dial_activity_manager_unittest.cc
 chrome/browser/media/router/providers/dial/dial_media_route_provider.cc
 chrome/browser/media/router/providers/dial/dial_media_route_provider_unittest.cc
+chrome/browser/media/webrtc/desktop_capture_devices_util_win.cc
 chrome/browser/media/webrtc/display_media_access_handler_unittest.cc
 chrome/browser/media/webrtc/webrtc_browsertest_common.cc
 chrome/browser/media/webrtc/webrtc_event_log_uploader.cc
@@ -1222,7 +1227,6 @@ chrome/browser/metrics/perf/perf_events_collector.cc
 chrome/browser/metrics/usage_scenario/tab_usage_scenario_tracker.cc
 chrome/browser/metrics/usage_scenario/tab_usage_scenario_tracker_unittest.cc
 chrome/browser/metrics/variations/variations_http_headers_browsertest.cc
-chrome/browser/nacl_host/nacl_infobar_delegate.cc
 chrome/browser/navigation_predictor/anchor_element_preloader_browsertest.cc
 chrome/browser/navigation_predictor/navigation_predictor_browsertest.cc
 chrome/browser/navigation_predictor/navigation_predictor_preconnect_client_browsertest.cc
@@ -1270,6 +1274,8 @@ chrome/browser/new_tab_page/modules/v2/calendar/outlook_calendar_page_handler.cc
 chrome/browser/new_tab_page/modules/v2/calendar/outlook_calendar_page_handler_unittest.cc
 chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler.cc
 chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption/most_relevant_tab_resumption_page_handler_unittest.cc
+chrome/browser/new_tab_page/modules/v2/tab_groups/tab_groups_page_handler.cc
+chrome/browser/new_tab_page/modules/v2/tab_groups/tab_groups_page_handler_unittest.cc
 chrome/browser/new_tab_page/new_tab_page_util_browsertest.cc
 chrome/browser/new_tab_page/one_google_bar/one_google_bar_loader_impl.cc
 chrome/browser/new_tab_page/promos/promo_service_unittest.cc
@@ -1315,24 +1321,15 @@ chrome/browser/page_load_metrics/observers/prefetch_page_load_metrics_observer_u
 chrome/browser/page_load_metrics/observers/protocol_page_load_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/scheme_page_load_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/security_state_page_load_metrics_observer_browsertest.cc
-chrome/browser/page_load_metrics/observers/service_worker_page_load_metrics_observer.cc
-chrome/browser/page_load_metrics/observers/service_worker_page_load_metrics_observer_unittest.cc
 chrome/browser/partnerbookmarks/partner_bookmarks_reader.cc
-chrome/browser/password_check/android/password_check_manager_unittest.cc
 chrome/browser/password_manager/android/account_storage_notice/BUILD.gn
 chrome/browser/password_manager/android/all_passwords_bottom_sheet_controller_unittest.cc
-chrome/browser/password_manager/android/built_in_backend_to_android_backend_migrator_unittest.cc
 chrome/browser/password_manager/android/chromesync_status_code.h
 chrome/browser/password_manager/android/credential_leak_controller_android_unittest.cc
-chrome/browser/password_manager/android/password_checkup_launcher_helper.h
-chrome/browser/password_manager/android/password_checkup_launcher_helper_impl.h
-chrome/browser/password_manager/android/password_manager_android_util_unittest.cc
 chrome/browser/password_manager/android/password_manager_settings_service_android_impl_unittest.cc
-chrome/browser/password_manager/android/password_manager_settings_service_android_migration_impl_unittest.cc
 chrome/browser/password_manager/android/password_settings_updater_android_bridge_helper_impl_unittest.cc
 chrome/browser/password_manager/android/password_store_android_account_backend_unittest.cc
 chrome/browser/password_manager/android/password_store_android_backend_bridge_helper_impl_unittest.cc
-chrome/browser/password_manager/android/password_store_backend_migration_decorator_unittest.cc
 chrome/browser/password_manager/android/unified_password_manager_proto_utils_unittest.cc
 chrome/browser/password_manager/chrome_password_manager_client_unittest.cc
 chrome/browser/password_manager/password_change_delegate_impl_unittest.cc
@@ -1353,7 +1350,7 @@ chrome/browser/permissions/notifications_engagement_service_unittest.cc
 chrome/browser/permissions/permission_context_base_permissions_policy_unittest.cc
 chrome/browser/permissions/permission_element_origin_trial_browsertest.cc
 chrome/browser/permissions/permissions_security_model_interactive_uitest.cc
-chrome/browser/permissions/prediction_service_browsertest.cc
+chrome/browser/permissions/prediction_service/prediction_service_browsertest.cc
 chrome/browser/permissions/quiet_permission_prompt_model_android.cc
 chrome/browser/platform_util_win.cc
 chrome/browser/policy/cloud/cloud_policy_browsertest.cc
@@ -1385,7 +1382,6 @@ chrome/browser/predictors/loading_predictor_browsertest.cc
 chrome/browser/predictors/loading_predictor_config.h
 chrome/browser/predictors/loading_predictor_unittest.cc
 chrome/browser/predictors/loading_stats_collector_unittest.cc
-chrome/browser/predictors/preconnect_manager_unittest.cc
 chrome/browser/predictors/resource_prefetch_predictor_tables_unittest.cc
 chrome/browser/predictors/resource_prefetch_predictor_unittest.cc
 chrome/browser/prefetch/prefetch_browsertest.cc
@@ -1411,7 +1407,6 @@ chrome/browser/privacy_sandbox/notice/desktop_entrypoint_handlers_browsertest.cc
 chrome/browser/privacy_sandbox/privacy_sandbox_activity_types_service.h
 chrome/browser/privacy_sandbox/privacy_sandbox_service_impl_unittest.cc
 chrome/browser/privacy_sandbox/privacy_sandbox_utils_unittest.cc
-chrome/browser/private_network_access/private_network_device_chooser_controller_unittest.cc
 chrome/browser/process_singleton_posix.cc
 chrome/browser/process_singleton_posix_unittest.cc
 chrome/browser/process_singleton_win.cc
@@ -1569,6 +1564,7 @@ chrome/browser/resources/hangout_services/manifest_v2.json
 chrome/browser/resources/hangout_services/manifest_v3.json
 chrome/browser/resources/inspect/inspect.html
 chrome/browser/resources/key_value_pair_viewer_shared/key_value_pair_entry.ts
+chrome/browser/resources/management/management_ui.ts
 chrome/browser/resources/media/mei_preload/manifest.json
 chrome/browser/resources/media/webrtc_logs.ts
 chrome/browser/resources/media_router/cast_feedback/cast_feedback_ui.ts
@@ -1609,8 +1605,6 @@ chrome/browser/resources/settings/settings_shared.css
 chrome/browser/resources/side_panel/read_anything/read_anything_toolbar.ts
 chrome/browser/resources/side_panel/read_anything/voice_language_util.ts
 chrome/browser/resources/suggest_internals/request.ts
-chrome/browser/resources/tts_engine/background.ts
-chrome/browser/resources/tts_engine/manifest.json
 chrome/browser/resources/usb_internals/descriptor_panel.ts
 chrome/browser/resources/webstore_app/manifest.json
 chrome/browser/resources/webui_gallery/demos/card/card_demo.ts
@@ -1636,7 +1630,6 @@ chrome/browser/safe_browsing/download_protection/download_feedback.cc
 chrome/browser/safe_browsing/download_protection/download_protection_delegate_android.cc
 chrome/browser/safe_browsing/download_protection/download_protection_delegate_desktop.cc
 chrome/browser/safe_browsing/download_protection/download_protection_service_unittest.cc
-chrome/browser/safe_browsing/download_protection/ppapi_download_request.cc
 chrome/browser/safe_browsing/extension_telemetry/extension_telemetry_service_browsertest.cc
 chrome/browser/safe_browsing/extension_telemetry/extension_telemetry_uploader.cc
 chrome/browser/safe_browsing/extension_telemetry/potential_password_theft_signal_processor_unittest.cc
@@ -1680,6 +1673,7 @@ chrome/browser/sharing_hub/sharing_hub_model_unittest.cc
 chrome/browser/shell_integration_linux_unittest.cc
 chrome/browser/signin/account_id_from_account_info_unittest.cc
 chrome/browser/signin/accounts_policy_manager_unittest.cc
+chrome/browser/signin/binding_key_registration_token_helper_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_cookie_controller_impl_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_cookie_observer_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_cookie_refresh_service_impl_browsertest.cc
@@ -1693,7 +1687,6 @@ chrome/browser/signin/bound_session_credentials/bound_session_registration_fetch
 chrome/browser/signin/bound_session_credentials/bound_session_registration_fetcher_impl_unittest.cc
 chrome/browser/signin/bound_session_credentials/bound_session_registration_fetcher_param_unittest.cc
 chrome/browser/signin/bound_session_credentials/dice_bound_session_cookie_service_unittest.cc
-chrome/browser/signin/bound_session_credentials/registration_token_helper_unittest.cc
 chrome/browser/signin/bound_session_credentials/session_binding_helper_unittest.cc
 chrome/browser/signin/bound_session_credentials/throttled_gaia_auth_fetcher_unittest.cc
 chrome/browser/signin/chrome_signin_client_browsertest.cc
@@ -1717,10 +1710,11 @@ chrome/browser/signin/process_dice_header_delegate_impl_unittest.cc
 chrome/browser/signin/signin_manager_unittest.cc
 chrome/browser/signin/signin_promo_unittest.cc
 chrome/browser/signin/signin_ui_util.cc
-chrome/browser/signin/signin_ui_util_unittest.cc
+chrome/browser/signin/signin_ui_util_browsertest.cc
 chrome/browser/signin/signin_util_unittest.cc
 chrome/browser/signin/signin_util_win_browsertest.cc
 chrome/browser/smart_card/smart_card_reader_tracker_impl.h
+chrome/browser/ssl/ask_before_http_dialog_controller.cc
 chrome/browser/ssl/cert_verifier_platform_browser_test.h
 chrome/browser/ssl/connection_help_tab_helper.cc
 chrome/browser/ssl/https_first_mode_settings_tracker_unittest.cc
@@ -1746,6 +1740,7 @@ chrome/browser/supervised_user/supervised_user_google_auth_navigation_throttle_u
 chrome/browser/supervised_user/supervised_user_navigation_observer_android_browsertest.cc
 chrome/browser/supervised_user/supervised_user_navigation_throttle_browsertest.cc
 chrome/browser/supervised_user/supervised_user_pending_state_navigation_browsertest.cc
+chrome/browser/supervised_user/supervised_user_service_android_browsertest.cc
 chrome/browser/supervised_user/supervised_user_service_browsertest.cc
 chrome/browser/supervised_user/supervised_user_test_util.cc
 chrome/browser/supervised_user/supervised_user_url_filter_extensions_unittest.cc
@@ -1793,10 +1788,10 @@ chrome/browser/task_manager/sampling/shared_sampler_win_defines.h
 chrome/browser/themes/theme_syncable_service.cc
 chrome/browser/translate/translate_manager_browsertest.cc
 chrome/browser/trusted_vault/trusted_vault_encryption_keys_tab_helper_browsertest.cc
+chrome/browser/ui/android/extensions/extension_action_popup_contents.cc
 chrome/browser/ui/android/strings/android_chrome_strings.grd
 chrome/browser/ui/ash/app_list/app_list_interactive_uitest.cc
 chrome/browser/ui/ash/arc/arc_open_url_delegate_impl_browsertest.cc
-chrome/browser/ui/ash/assistant/assistant_state_client_unittest.cc
 chrome/browser/ui/ash/birch/birch_browsertest.cc
 chrome/browser/ui/ash/birch/birch_calendar_fetcher.cc
 chrome/browser/ui/ash/birch/birch_calendar_fetcher_unittest.cc
@@ -1840,8 +1835,9 @@ chrome/browser/ui/ash/wallpaper/wallpaper_controller_client_impl.cc
 chrome/browser/ui/ash/web_view/ash_web_view_impl_browsertest.cc
 chrome/browser/ui/ash/wm/coral_browsertest.cc
 chrome/browser/ui/autofill/address_editor_controller_unittest.cc
+chrome/browser/ui/autofill/autofill_keyboard_accessory_controller_impl.cc
 chrome/browser/ui/autofill/chrome_autofill_client.cc
-chrome/browser/ui/autofill/delete_address_profile_dialog_controller_impl_unittest.cc
+chrome/browser/ui/autofill/delete_address_profile_dialog_controller_impl_browsertest.cc
 chrome/browser/ui/autofill/payments/offer_notification_bubble_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/save_card_bubble_controller_impl.cc
 chrome/browser/ui/blocked_content/popup_blocker_browsertest.cc
@@ -1857,10 +1853,9 @@ chrome/browser/ui/browser_content_setting_bubble_model_delegate.cc
 chrome/browser/ui/browser_finder.h
 chrome/browser/ui/browser_finder_unittest.cc
 chrome/browser/ui/browser_focus_uitest.cc
-chrome/browser/ui/browser_instant_controller_unittest.cc
+chrome/browser/ui/browser_instant_controller_browsertest.cc
 chrome/browser/ui/browser_navigator_browsertest.cc
 chrome/browser/ui/browser_navigator_browsertest_chromeos.cc
-chrome/browser/ui/browser_navigator_iwa_browsertest.cc
 chrome/browser/ui/browser_navigator_params.h
 chrome/browser/ui/browser_tabstrip_browsertest_chromeos.cc
 chrome/browser/ui/chrome_pages.cc
@@ -1880,6 +1875,7 @@ chrome/browser/ui/crypto_module_password_dialog_nss.cc
 chrome/browser/ui/dialogs/outdated_upgrade_bubble.cc
 chrome/browser/ui/extensions/controlled_home_bubble_delegate_unittest.cc
 chrome/browser/ui/extensions/extension_action_view_controller_browsertest.cc
+chrome/browser/ui/extensions/extension_uninstall_dialog_impl_browsertest.cc
 chrome/browser/ui/extensions/hosted_app_browsertest.cc
 chrome/browser/ui/extensions/installation_error_infobar_delegate.cc
 chrome/browser/ui/file_system_access/file_system_access_permission_dialog_browsertest.cc
@@ -1924,7 +1920,12 @@ chrome/browser/ui/safety_hub/password_status_check_service_unittest.cc
 chrome/browser/ui/search/ntp_user_data_logger_unittest.cc
 chrome/browser/ui/search/search_tab_helper.h
 chrome/browser/ui/search/third_party_ntp_browsertest.cc
+chrome/browser/ui/search_engines/template_url_table_model_unittest.cc
 chrome/browser/ui/signin/cookie_clear_on_exit_migration_notice_browsertest.cc
+chrome/browser/ui/signin/dice_migration_service.cc
+chrome/browser/ui/signin/dice_migration_service_browsertest.cc
+chrome/browser/ui/signin/dice_migration_service_interactive_uitest.cc
+chrome/browser/ui/signin/dice_migration_service_pixel_browsertest.cc
 chrome/browser/ui/signin/promos/signin_promo_tab_helper_browsertest.cc
 chrome/browser/ui/signin/signin_view_controller.cc
 chrome/browser/ui/signin/signin_view_controller_browsertest.cc
@@ -1941,15 +1942,16 @@ chrome/browser/ui/tab_helpers.h
 chrome/browser/ui/tab_sharing/tab_sharing_infobar_delegate_unittest.cc
 chrome/browser/ui/tabs/pinned_tab_codec_browsertest.cc
 chrome/browser/ui/tabs/pinned_tab_service_browsertest.cc
+chrome/browser/ui/tabs/saved_tab_groups/collaboration_messaging_page_action_controller_unittest.cc
 chrome/browser/ui/tabs/saved_tab_groups/collaboration_messaging_tab_data_unittest.cc
 chrome/browser/ui/tabs/saved_tab_groups/instant_message_queue_processor_unittest.cc
 chrome/browser/ui/tabs/saved_tab_groups/saved_tab_group_keyed_service_unittest.cc
 chrome/browser/ui/tabs/saved_tab_groups/tab_group_sync_delegate_browsertest.cc
+chrome/browser/ui/tabs/tab_list_interface_observer.h
 chrome/browser/ui/tabs/tab_strip_api/tab_strip_service_impl_browsertest.cc
 chrome/browser/ui/tabs/tab_strip_model_unittest.cc
 chrome/browser/ui/test/popup_browsertest.cc
 chrome/browser/ui/toolbar/app_menu_model_interactive_uitest.cc
-chrome/browser/ui/toolbar/cast/cast_contextual_menu.cc
 chrome/browser/ui/toolbar/cast/cast_toolbar_button_util.cc
 chrome/browser/ui/toolbar/location_bar_model_unittest.cc
 chrome/browser/ui/url_identity_unittest.cc
@@ -1984,7 +1986,6 @@ chrome/browser/ui/views/download/bubble/download_bubble_contents_view_unittest.c
 chrome/browser/ui/views/download/bubble/download_bubble_security_view_unittest.cc
 chrome/browser/ui/views/extensions/device_chooser_extension_browsertest.cc
 chrome/browser/ui/views/extensions/extension_install_dialog_view_browsertest.cc
-chrome/browser/ui/views/extensions/extension_uninstall_dialog_view_browsertest.cc
 chrome/browser/ui/views/file_system_access/file_system_access_usage_bubble_view_browsertest.cc
 chrome/browser/ui/views/frame/browser_root_view_browsertest.cc
 chrome/browser/ui/views/frame/browser_view.h
@@ -2010,7 +2011,6 @@ chrome/browser/ui/views/page_info/about_this_site_side_panel_coordinator_browser
 chrome/browser/ui/views/page_info/merchant_trust_side_panel_coordinator.cc
 chrome/browser/ui/views/page_info/page_info_bubble_view_browsertest.cc
 chrome/browser/ui/views/page_info/page_info_bubble_view_sync_browsertest.cc
-chrome/browser/ui/views/page_info/page_info_history_controller.h
 chrome/browser/ui/views/page_info/safety_tip_page_info_bubble_view_browsertest.cc
 chrome/browser/ui/views/passwords/password_bubble_browsertest.cc
 chrome/browser/ui/views/passwords/password_bubble_interactive_uitest.cc
@@ -2026,7 +2026,7 @@ chrome/browser/ui/views/profiles/dice_web_signin_interception_bubble_view_browse
 chrome/browser/ui/views/profiles/dice_web_signin_interception_bubble_view_unittest.cc
 chrome/browser/ui/views/profiles/first_run_interactive_uitest.cc
 chrome/browser/ui/views/profiles/profile_menu_view_browsertest.cc
-chrome/browser/ui/views/profiles/profile_picker_dice_sign_in_provider_browsertest.cc
+chrome/browser/ui/views/profiles/profile_picker_sign_in_provider_browsertest.cc
 chrome/browser/ui/views/profiles/profile_picker_ui_browsertest.cc
 chrome/browser/ui/views/profiles/profile_picker_view_browsertest.cc
 chrome/browser/ui/views/profiles/profiles_pixel_test_utils.cc
@@ -2045,6 +2045,7 @@ chrome/browser/ui/views/tabs/recent_activity_bubble_dialog_view_browsertest.cc
 chrome/browser/ui/views/tabs/recent_activity_bubble_dialog_view_interactive_uitest.cc
 chrome/browser/ui/views/tabs/tab_hover_card_controller_interactive_uitest.cc
 chrome/browser/ui/views/translate/translate_bubble_view_interactive_uitest.cc
+chrome/browser/ui/views/user_education/browser_ntp_promos.cc
 chrome/browser/ui/views/user_education/browser_user_education_service.cc
 chrome/browser/ui/views/web_apps/force_installed_preinstalled_deprecated_app_dialog_view.cc
 chrome/browser/ui/views/web_apps/frame_toolbar/web_app_frame_toolbar_browsertest.cc
@@ -2089,6 +2090,7 @@ chrome/browser/ui/webui/commerce/shopping_ui_handler_delegate_browsertest.cc
 chrome/browser/ui/webui/components/components_handler.cc
 chrome/browser/ui/webui/cr_components/history_embeddings/history_embeddings_handler_unittest.cc
 chrome/browser/ui/webui/data_sharing/data_sharing_ui.cc
+chrome/browser/ui/webui/devtools/devtools_ui_data_source.cc
 chrome/browser/ui/webui/devtools/devtools_ui_data_source_unittest.cc
 chrome/browser/ui/webui/discards/graph_dump_impl_unittest.cc
 chrome/browser/ui/webui/extensions/extensions_internals_unittest.cc
@@ -2144,7 +2146,7 @@ chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher.
 chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher.h
 chrome/browser/ui/webui/signin/ash/user_cloud_signin_restriction_policy_fetcher_unittest.cc
 chrome/browser/ui/webui/signin/batch_upload_ui.cc
-chrome/browser/ui/webui/signin/signin_error_handler_unittest.cc
+chrome/browser/ui/webui/signin/signin_error_handler_browsertest.cc
 chrome/browser/ui/webui/signin/sync_confirmation_handler_unittest.cc
 chrome/browser/ui/webui/signin/sync_confirmation_ui.cc
 chrome/browser/ui/webui/signin/turn_sync_on_helper_browsertest.cc
@@ -2167,16 +2169,17 @@ chrome/browser/usb/chrome_usb_delegate_unittest.cc
 chrome/browser/usb/usb_chooser_context_unittest.cc
 chrome/browser/usb/usb_chooser_controller_unittest.cc
 chrome/browser/usb/usb_policy_allowed_devices_unittest.cc
-chrome/browser/usb/web_usb_detector_unittest.cc
-chrome/browser/visited_url_ranking/desktop_tab_model_url_visit_data_fetcher_unittest.cc
+chrome/browser/usb/web_usb_detector_browsertest.cc
+chrome/browser/visited_url_ranking/desktop_tab_model_url_visit_data_fetcher_browsertest.cc
 chrome/browser/vr/PRESUBMIT.py
 chrome/browser/vr/test/gl_test_environment_unittest.cc
 chrome/browser/wallet/android/boarding_pass_detector_unittest.cc
 chrome/browser/web_applications/commands/fetch_manifest_and_install_command.cc
 chrome/browser/web_applications/commands/install_app_from_verified_manifest_command.cc
 chrome/browser/web_applications/commands/install_app_from_verified_manifest_command_browsertest.cc
+chrome/browser/web_applications/isolated_web_apps/browser_navigator_iwa_browsertest.cc
 chrome/browser/web_applications/isolated_web_apps/isolated_web_app_source_unittest.cc
-chrome/browser/web_applications/isolated_web_apps/isolated_web_app_update_manager.h
+chrome/browser/web_applications/isolated_web_apps/policy/isolated_web_app_cache_browsertest.cc
 chrome/browser/web_applications/os_integration/web_app_handler_registration_utils_win.cc
 chrome/browser/web_applications/os_integration/web_app_handler_registration_utils_win.h
 chrome/browser/web_applications/os_integration/web_app_handler_registration_utils_win_unittest.cc
@@ -2397,7 +2400,6 @@ chrome/renderer/autofill/page_passwords_analyser_browsertest.cc
 chrome/renderer/autofill/password_autofill_agent_browsertest.cc
 chrome/renderer/bound_session_credentials/bound_session_request_throttled_in_renderer_manager_unittest.cc
 chrome/renderer/chrome_content_renderer_client_browsertest.cc
-chrome/renderer/chrome_content_renderer_client_unittest.cc
 chrome/renderer/extensions/api/extension_hooks_delegate_unittest.cc
 chrome/renderer/google_accounts_private_api_extension.h
 chrome/renderer/media/flash_embed_rewrite.cc
@@ -2534,8 +2536,6 @@ chrome/updater/win/signing/PRESUBMIT.py
 chrome/updater/win/signing/enterprise_standalone_installer.wxs.xml
 chrome/updater/win/signing/msi_from_standalone.py
 chrome/updater/win/task_scheduler.cc
-chrome/utility/importer/bookmark_html_reader.h
-chrome/utility/importer/bookmark_html_reader_unittest.cc
 chrome/utility/importer/bookmarks_file_importer_unittest.cc
 chrome/utility/importer/firefox_importer.h
 chrome/utility/importer/firefox_importer_unittest.cc
@@ -2772,6 +2772,7 @@ components/bookmarks/managed/managed_bookmarks_policy_handler_unittest.cc
 components/bookmarks/managed/managed_bookmarks_tracker_unittest.cc
 components/breadcrumbs/core/breadcrumb_manager_tab_helper.cc
 components/breadcrumbs/core/breadcrumb_manager_tab_helper.h
+components/breadcrumbs/core/generate_not_user_triggered_actions_test_data.xml
 components/browser_sync/PRESUBMIT.py
 components/browser_sync/sync_internals_message_handler_unittest.cc
 components/browser_ui/strings/android/browser_ui_strings.grd
@@ -2864,7 +2865,7 @@ components/desks_storage/core/desk_test_util.h
 components/desks_storage/core/desk_test_util_unittests.cc
 components/desks_storage/core/local_desk_data_manager_unittests.cc
 components/device_signals/core/browser/browser_utils.cc
-components/device_signals/core/browser/os_signals_collector_unittest.cc
+components/device_signals/core/browser/desktop/desktop_os_signals_collector_unittest.cc
 components/device_signals/core/common/win/platform_utils_win.cc
 components/device_signals/core/common/win/win_types.h
 components/device_signals/core/system_signals/win/wsc_client.h
@@ -2885,6 +2886,7 @@ components/drive/service/drive_service_interface.h
 components/drive/service/fake_drive_service.cc
 components/embedder_support/android/BUILD.gn
 components/endpoint_fetcher/endpoint_fetcher_unittest.cc
+components/enterprise/connectors/core/content_area_user_provider.cc
 components/enterprise/connectors/core/reporting_utils_unittest.cc
 components/enterprise/connectors/core/service_provider_config.cc
 components/enterprise/connectors/core/service_provider_config_unittest.cc
@@ -2918,6 +2920,7 @@ components/favicon_base/favicon_url_parser_unittest.cc
 components/feed/core/v2/api_test/feed_api_stream_unittest.cc
 components/feed/core/v2/feed_network_impl.cc
 components/feed/core/v2/feed_network_impl_unittest.cc
+components/feed/core/v2/feed_stream.cc
 components/feed/core/v2/public/public_types_unittest.cc
 components/feedback/feedback_common.cc
 components/feedback/feedback_common_unittest.cc
@@ -2993,7 +2996,6 @@ components/input/render_widget_host_input_event_router.h
 components/input/render_widget_host_view_input.h
 components/input/touch_action_filter.h
 components/input/utils.cc
-components/invalidation/impl/fcm_invalidation_service_unittest.cc
 components/invalidation/impl/per_user_topic_subscription_manager.cc
 components/invalidation/impl/per_user_topic_subscription_manager_unittest.cc
 components/ip_protection/common/ip_protection_config_http.cc
@@ -3038,7 +3040,6 @@ components/media_router/common/providers/cast/cast_media_source_unittest.cc
 components/media_router/common/providers/cast/certificate/net_trust_store.cc
 components/media_router/common/providers/cast/channel/BUILD.gn
 components/media_router/common/providers/cast/channel/enum_table.h
-components/metrics/content/dwa_web_contents_observer_unittest.cc
 components/metrics/debug/app.ts
 components/metrics/dwa/dwa_entry_builder_unittest.cc
 components/metrics/metrics_state_manager.h
@@ -3051,14 +3052,6 @@ components/metrics/server_urls.grd
 components/mirroring/service/mirror_settings.h
 components/mirroring/service/remoting_sender.h
 components/mirroring/service/rtp_stream.h
-components/nacl/browser/nacl_process_host.cc
-components/nacl/browser/pnacl_host_unittest.cc
-components/nacl/browser/pnacl_translation_cache_unittest.cc
-components/nacl/docs/dev/index.html
-components/nacl/loader/nacl_helper_linux.h
-components/nacl/loader/nacl_listener.cc
-components/nacl/loader/nacl_main_platform_delegate_linux.cc
-components/nacl/renderer/plugin/pnacl_translate_thread.cc
 components/net_log/resources/net_export.html
 components/network_session_configurator/common/network_switch_list.h
 components/network_time/network_time_test_utils.cc
@@ -3076,6 +3069,7 @@ components/offline_pages/core/background/pick_request_task_unittest.cc
 components/offline_pages/core/background/reconcile_task_unittest.cc
 components/offline_pages/core/model/get_pages_task_unittest.cc
 components/omnibox/PRESUBMIT.py
+components/omnibox/browser/aim_eligibility_service.cc
 components/omnibox/browser/autocomplete_controller.cc
 components/omnibox/browser/autocomplete_controller.h
 components/omnibox/browser/autocomplete_controller_metrics_unittest.cc
@@ -3120,7 +3114,6 @@ components/omnibox/browser/omnibox_edit_model.cc
 components/omnibox/browser/omnibox_edit_model.h
 components/omnibox/browser/omnibox_edit_model_unittest.cc
 components/omnibox/browser/omnibox_field_trial.cc
-components/omnibox/browser/omnibox_field_trial.h
 components/omnibox/browser/omnibox_text_util_unittest.cc
 components/omnibox/browser/omnibox_view_unittest.cc
 components/omnibox/browser/on_device_head_provider_unittest.cc
@@ -3144,13 +3137,14 @@ components/omnibox/browser/titled_url_match_utils_unittest.cc
 components/omnibox/browser/zero_suggest_cache_service_unittest.cc
 components/omnibox/browser/zero_suggest_provider_unittest.cc
 components/omnibox/browser/zero_suggest_verbatim_match_provider_unittest.cc
+components/omnibox/common/omnibox_feature_configs.h
 components/omnibox/composebox/composebox_query_controller.cc
 components/omnibox/composebox/composebox_query_controller_unittest.cc
 components/omnibox/resources/omnibox_pedal_synonyms.grd
 components/omnibox_pedal_ui_strings.grdp
 components/omnibox_strings.grdp
 components/optimization_guide/content/browser/page_context_eligibility_unittest.cc
-components/optimization_guide/core/delivery/prediction_manager.cc
+components/optimization_guide/core/delivery/model_provider_registry.cc
 components/optimization_guide/core/delivery/prediction_manager_unittest.cc
 components/optimization_guide/core/filters/hints_component_util_unittest.cc
 components/optimization_guide/core/filters/optimization_filter_unittest.cc
@@ -3188,6 +3182,7 @@ components/page_load_metrics/browser/observers/ad_metrics/ads_page_load_metrics_
 components/page_load_metrics/browser/observers/back_forward_cache_page_load_metrics_observer_unittest.cc
 components/page_load_metrics/browser/observers/core/uma_page_load_metrics_observer_unittest.cc
 components/page_load_metrics/browser/observers/page_load_metrics_observer_content_test_harness.cc
+components/page_load_metrics/browser/observers/service_worker_page_load_metrics_observer.cc
 components/page_load_metrics/browser/observers/use_counter_page_load_metrics_observer.cc
 components/page_load_metrics/browser/observers/use_counter_page_load_metrics_observer_unittest.cc
 components/page_load_metrics/browser/observers/zstd_page_load_metrics_observer_unittest.cc
@@ -3288,6 +3283,7 @@ components/password_manager/core/browser/ui/passwords_grouper.cc
 components/password_manager/core/browser/ui/passwords_grouper.h
 components/password_manager/core/browser/ui/passwords_grouper_unittest.cc
 components/password_manager/core/browser/ui/saved_passwords_presenter_unittest.cc
+components/password_manager/core/browser/undo_password_change_controller_unittest.cc
 components/password_manager/core/browser/well_known_change_password/well_known_change_password_state.cc
 components/password_manager/core/browser/well_known_change_password/well_known_change_password_util_unittest.cc
 components/password_manager/core/common/password_manager_pref_names.h
@@ -3333,11 +3329,13 @@ components/permissions/permission_request_manager.cc
 components/permissions/permission_request_manager_unittest.cc
 components/permissions/permission_uma_util.h
 components/permissions/permission_uma_util_unittest.cc
+components/permissions/prediction_service/permissions_aiv3_handler_unittest.cc
 components/permissions/prediction_service/prediction_common.h
 components/permissions/prediction_service/prediction_model_handler.cc
 components/permissions/prediction_service/prediction_service_base.h
 components/permissions/test/mock_permission_request.h
 components/permissions_strings.grdp
+components/persistent_cache/backend_params_manager.h
 components/plus_addresses/metrics/plus_address_submission_logger_unittest.cc
 components/plus_addresses/plus_address_http_client_impl.cc
 components/plus_addresses/plus_address_http_client_impl_unittest.cc
@@ -3394,6 +3392,7 @@ components/policy/test/data/pref_mapping/DataLeakPreventionRulesList.json
 components/policy/test/data/pref_mapping/DefaultHandlersForFileExtensions.json
 components/policy/test/data/pref_mapping/DeskAPIThirdPartyAllowlist.json
 components/policy/test/data/pref_mapping/DeviceAttributesAllowedForOrigins.json
+components/policy/test/data/pref_mapping/DeviceAttributesBlockedForOrigins.json
 components/policy/test/data/pref_mapping/DeviceAuthenticationURLAllowlist.json
 components/policy/test/data/pref_mapping/DeviceAuthenticationURLBlocklist.json
 components/policy/test/data/pref_mapping/DeviceLoginScreenExtensions.json
@@ -3412,14 +3411,13 @@ components/policy/test/data/pref_mapping/ImagesAllowedForUrls.json
 components/policy/test/data/pref_mapping/ImagesBlockedForUrls.json
 components/policy/test/data/pref_mapping/InsecureContentAllowedForUrls.json
 components/policy/test/data/pref_mapping/InsecureContentBlockedForUrls.json
-components/policy/test/data/pref_mapping/InsecurePrivateNetworkRequestsAllowedForUrls.json
 components/policy/test/data/pref_mapping/JavaScriptAllowedForUrls.json
 components/policy/test/data/pref_mapping/JavaScriptBlockedForUrls.json
 components/policy/test/data/pref_mapping/JavaScriptJitAllowedForSites.json
 components/policy/test/data/pref_mapping/JavaScriptJitBlockedForSites.json
 components/policy/test/data/pref_mapping/JavaScriptOptimizerAllowedForSites.json
 components/policy/test/data/pref_mapping/JavaScriptOptimizerBlockedForSites.json
-components/policy/test/data/pref_mapping/LegacySameSiteCookieBehaviorEnabledForDomainList.json
+components/policy/test/data/pref_mapping/LegacyCookieScopeEnabledForDomainList.json
 components/policy/test/data/pref_mapping/LocalFontsAllowedForUrls.json
 components/policy/test/data/pref_mapping/LocalFontsBlockedForUrls.json
 components/policy/test/data/pref_mapping/LocalNetworkAccessAllowedForUrls.json
@@ -3504,6 +3502,8 @@ components/proxy_config/proxy_policy_handler_unittest.cc
 components/quirks/quirks_client.cc
 components/reading_list/core/offline_url_utils_unittest.cc
 components/reporting/PRESUBMIT.py
+components/reporting/encryption/primitives.cc
+components/reporting/encryption/testing_primitives.cc
 components/reporting/storage/storage_queue_unittest.cc
 components/resources/PRESUBMIT.py
 components/resources/terms/terms_am.html
@@ -3584,6 +3584,7 @@ components/safe_browsing/core/browser/hashprefix_realtime/ohttp_key_service_unit
 components/safe_browsing/core/browser/password_protection/password_protection_service_base.cc
 components/safe_browsing/core/browser/ping_manager_unittest.cc
 components/safe_browsing/core/browser/realtime/chrome_enterprise_url_lookup_service.cc
+components/safe_browsing/core/browser/realtime/fake_url_lookup_service.cc
 components/safe_browsing/core/browser/realtime/url_lookup_service.cc
 components/safe_browsing/core/browser/realtime/url_lookup_service_unittest.cc
 components/safe_browsing/core/browser/sync/sync_utils_unittest.cc
@@ -3604,7 +3605,7 @@ components/saved_tab_groups/internal/saved_tab_group_sync_bridge_unittest.cc
 components/saved_tab_groups/internal/shared_tab_group_account_data_sync_bridge_unittest.cc
 components/saved_tab_groups/internal/shared_tab_group_data_sync_bridge_unittest.cc
 components/saved_tab_groups/internal/tab_group_sync_bridge_mediator_unittest.cc
-components/saved_tab_groups/internal/tab_group_sync_service_unittest.cc
+components/saved_tab_groups/internal/tab_group_sync_service_impl_unittest.cc
 components/saved_tab_groups/public/saved_tab_group_unittest.cc
 components/saved_tab_groups/public/utils_unittest.cc
 components/saved_tab_groups/test_support/saved_tab_group_test_utils.cc
@@ -3736,7 +3737,6 @@ components/subresource_filter/content/browser/content_subresource_filter_web_con
 components/subresource_filter/core/browser/subresource_filter_constants.h
 components/subresource_filter/core/common/PRESUBMIT.py
 components/supervised_user/core/browser/family_link_user_capabilities_unittest.cc
-components/supervised_user/core/browser/family_link_user_log_record_unittest.cc
 components/supervised_user/core/browser/fetcher_config.cc
 components/supervised_user/core/browser/fetcher_config.h
 components/supervised_user/core/browser/kids_chrome_management_url_checker_client_unittest.cc
@@ -3744,6 +3744,7 @@ components/supervised_user/core/browser/list_family_members_service_unittest.cc
 components/supervised_user/core/browser/parallel_fetch_manager_unittest.cc
 components/supervised_user/core/browser/proto_fetcher_status.h
 components/supervised_user/core/browser/proto_fetcher_unittest.cc
+components/supervised_user/core/browser/supervised_user_log_record_unittest.cc
 components/supervised_user/core/browser/supervised_user_metrics_service.h
 components/supervised_user/core/browser/supervised_user_service_unittest.cc
 components/supervised_user/core/browser/supervised_user_settings_service_unittest.cc
@@ -3835,7 +3836,11 @@ components/url_matcher/url_util_unittest.cc
 components/url_pattern_index/PRESUBMIT.py
 components/url_pattern_index/url_pattern_index_unittest.cc
 components/url_pattern_index/url_pattern_unittest.cc
-components/user_data_importer/utility/safari_data_import_manager.h
+components/user_data_importer/content/content_bookmark_parser_utils_unittest.cc
+components/user_data_importer/content/stable_portability_data_importer_unittest.cc
+components/user_data_importer/ios/resources/bookmark_parser.ts
+components/user_data_importer/utility/bookmark_parser.h
+components/user_data_importer/utility/safari_data_importer_unittest.cc
 components/user_education/webui/whats_new_registry.h
 components/user_manager/account_id_util_unittest.cc
 components/user_manager/known_user_unittest.cc
@@ -3968,6 +3973,7 @@ content/browser/loader/keep_alive_url_loader.cc
 content/browser/loader/keep_alive_url_loader.h
 content/browser/loader/keep_alive_url_loader_service.cc
 content/browser/loader/keep_alive_url_loader_service.h
+content/browser/loader/navigation_url_loader_impl.h
 content/browser/loader/prefetch_browsertest.cc
 content/browser/media/audio_stream_monitor_unittest.cc
 content/browser/media/capture/frame_test_util.cc
@@ -3982,8 +3988,9 @@ content/browser/notifications/notification_database_unittest.cc
 content/browser/payments/payment_manager_unittest.cc
 content/browser/permissions/embedded_permission_control_checker_unittest.cc
 content/browser/permissions/permission_controller_impl_unittest.cc
+content/browser/permissions/permission_overrides_unittest.cc
 content/browser/permissions/permission_service_context_unittest.cc
-content/browser/plugin_service_impl_browsertest.cc
+content/browser/preloading/preconnect_manager_impl_unittest.cc
 content/browser/preloading/prefetch/contamination_delay_browsertest.cc
 content/browser/preloading/prefetch/prefetch_container.cc
 content/browser/preloading/prefetch/prefetch_container.h
@@ -4047,7 +4054,6 @@ content/browser/resources/traces_internals/icons.html
 content/browser/sandbox_ipc_linux.h
 content/browser/sandbox_support_win_impl.cc
 content/browser/screen_orientation/screen_orientation_provider_unittest.cc
-content/browser/security/dip/document_isolation_policy_browsertest.cc
 content/browser/serial/serial_unittest.cc
 content/browser/service_host/utility_sandbox_delegate_win.cc
 content/browser/service_worker/service_worker_hid_delegate_observer_unittest.cc
@@ -4125,7 +4131,6 @@ content/public/common/resource_request_body_android.cc
 content/public/test/blink_test_environment.cc
 content/public/test/browser_fuzztest_support.h
 content/public/test/browser_test_utils.h
-content/public/test/permission_overrides_unittest.cc
 content/public/test/test_file_error_injector.h
 content/renderer/PRESUBMIT.py
 content/renderer/accessibility/annotations/ax_image_annotator.cc
@@ -4255,6 +4260,7 @@ content/zygote/zygote_linux.cc
 content/zygote/zygote_linux.h
 content/zygote/zygote_main_linux.cc
 crypto/chaps_support.cc
+crypto/hkdf.h
 crypto/hmac.h
 crypto/hmac_unittest.cc
 crypto/kdf.h
@@ -4350,6 +4356,7 @@ extensions/common/api/networking_onc.idl
 extensions/common/api/networking_private.idl
 extensions/common/api/offscreen.idl
 extensions/common/api/printer_provider.idl
+extensions/common/api/protocol_handlers.idl
 extensions/common/api/serial.idl
 extensions/common/api/socket.idl
 extensions/common/api/sockets_tcp.idl
@@ -4376,6 +4383,7 @@ extensions/common/manifest_handlers/content_capabilities_manifest_unittest.cc
 extensions/common/manifest_handlers/csp_info_unittest.cc
 extensions/common/manifest_handlers/externally_connectable_unittest.cc
 extensions/common/manifest_handlers/oauth2_manifest_unittest.cc
+extensions/common/manifest_handlers/protocol_handler_manifest_unittest.cc
 extensions/common/manifest_handlers/replacement_apps_unittest.cc
 extensions/common/message_bundle.h
 extensions/common/mojom/permission_set_mojom_traits_unittest.cc
@@ -4404,6 +4412,7 @@ extensions/shell/browser/shell_prefs.cc
 extensions/strings/extensions_strings.grd
 extensions/test/extension_background_page_waiter.h
 fuchsia_web/webengine/browser/frame_impl_browsertest.cc
+fuchsia_web/webengine/browser/web_engine_content_browser_client_unittest.cc
 fuchsia_web/webengine/test/data/play_video.html
 gin/thread_isolation.cc
 gin/v8_initializer.cc
@@ -4451,6 +4460,7 @@ google_apis/gaia/oauth2_access_token_manager.cc
 google_apis/gaia/oauth2_api_call_flow_unittest.cc
 google_apis/gaia/oauth2_mint_token_flow_unittest.cc
 google_apis/gaia/oauth_multilogin_result_unittest.cc
+google_apis/gaia/register_bound_session_payload_unittest.cc
 google_apis/gcm/base/mcs_util.cc
 google_apis/gcm/engine/account_mapping_unittest.cc
 google_apis/gcm/engine/gcm_store_impl_unittest.cc
@@ -4496,20 +4506,20 @@ gpu/GLES2/extensions/ANGLE/EGL_ANGLE_sync_control_rate.txt
 gpu/GLES2/extensions/CHROMIUM/EGL_CHROMIUM_sync_control.txt
 gpu/PRESUBMIT.py
 gpu/command_buffer/PRESUBMIT.py
+gpu/command_buffer/client/client_shared_image.cc
 gpu/command_buffer/client/fenced_allocator.h
 gpu/command_buffer/client/shared_memory_limits.h
-gpu/command_buffer/client/test_shared_image_interface.cc
 gpu/command_buffer/service/gles2_cmd_decoder_passthrough.cc
 gpu/command_buffer/service/gles2_cmd_decoder_passthrough_doers.cc
 gpu/command_buffer/service/shader_translator_unittest.cc
+gpu/command_buffer/service/shared_image/d3d_image_backing_factory.cc
 gpu/command_buffer/service/shared_image/dcomp_image_backing_factory.cc
 gpu/command_buffer/service/shared_image/dcomp_surface_image_backing.cc
 gpu/command_buffer/service/shared_image/dxgi_swap_chain_image_representation.cc
 gpu/command_buffer/service/shared_image/ozone_image_backing_factory.cc
 gpu/command_buffer/service/shared_image/shared_image_factory.cc
 gpu/command_buffer/service/shared_image/video_image_reader_image_backing.cc
-gpu/command_buffer/service/shared_image_interface_in_process.cc
-gpu/command_buffer/service/surface_texture_gl_owner.cc
+gpu/command_buffer/service/shared_image_interface_in_process_base.cc
 gpu/config/PRESUBMIT.py
 gpu/config/gpu_control_list_format.txt
 gpu/config/gpu_info_collector_win.cc
@@ -4635,7 +4645,6 @@ media/mojo/mojom/stable/native_pixmap_handle_mojom_traits.cc
 media/mojo/services/media_foundation_service.cc
 media/mojo/services/media_metrics_provider_unittest.cc
 media/mojo/services/mojo_video_encoder_metrics_provider_service_unittest.cc
-media/mojo/services/video_decode_stats_recorder_unittest.cc
 media/mojo/services/watch_time_recorder_unittest.cc
 media/parsers/webp_parser.cc
 media/parsers/webp_parser.h
@@ -4661,6 +4670,7 @@ mojo/PRESUBMIT.py
 mojo/core/channel.h
 mojo/core/node_channel.h
 mojo/core/platform_handle_in_transit.cc
+mojo/public/cpp/platform/named_platform_channel_win.cc
 mojo/public/interfaces/bindings/tests/PRESUBMIT.py
 net/BUILD.gn
 net/PRESUBMIT.py
@@ -4670,7 +4680,6 @@ net/android/network_library.h
 net/android/unittest_support/AndroidManifest.xml
 net/base/address_tracker_linux.cc
 net/base/apple/url_conversions_unittest.mm
-net/base/data_url.cc
 net/base/features.cc
 net/base/file_stream_context.h
 net/base/filename_util.cc
@@ -4716,7 +4725,6 @@ net/data/fuzzer_data/http_security_headers/http_security_header_047.txt
 net/data/parse_certificate_unittest/v3_certificate_template.txt
 net/device_bound_sessions/registration_fetcher.cc
 net/device_bound_sessions/registration_fetcher_param.cc
-net/device_bound_sessions/session_json_utils.cc
 net/device_bound_sessions/session_unittest.cc
 net/device_bound_sessions/unexportable_key_service_factory.cc
 net/disk_cache/blockfile/file_ios.cc
@@ -4724,6 +4732,7 @@ net/disk_cache/disk_cache.h
 net/disk_cache/simple/simple_backend_impl.h
 net/disk_cache/simple/simple_file_enumerator.h
 net/disk_cache/simple/simple_index.cc
+net/disk_cache/sql/sql_entry_impl.cc
 net/dns/address_sorter_posix.cc
 net/dns/context_host_resolver_unittest.cc
 net/dns/dns_config_service_linux_unittest.cc
@@ -4859,7 +4868,6 @@ net/ssl/ssl_key_logger.h
 net/ssl/ssl_platform_key_android.cc
 net/ssl/ssl_platform_key_win_unittest.cc
 net/test/ct_test_util.cc
-net/test/spawned_test_server/local_test_server_win.cc
 net/test/test_certificate_data.h
 net/third_party/mozilla_security_manager/nsNSSCertificateDB.cpp
 net/third_party/mozilla_security_manager/nsNSSCertificateDB.h
@@ -4871,6 +4879,7 @@ net/third_party/nss/ssl/cmpcert.cc
 net/third_party/nss/ssl/cmpcert.h
 net/third_party/quiche/BUILD.gn
 net/third_party/quiche/src/quiche/balsa/balsa_frame_test.cc
+net/third_party/quiche/src/quiche/binary_http/binary_http_message_test.cc
 net/third_party/quiche/src/quiche/blind_sign_auth/blind_sign_auth.cc
 net/third_party/quiche/src/quiche/common/platform/api/quiche_hostname_utils_test.cc
 net/third_party/quiche/src/quiche/http2/core/spdy_protocol.h
@@ -4893,13 +4902,11 @@ net/third_party/quiche/src/quiche/quic/tools/quic_simple_server_stream_test.cc
 net/third_party/quiche/src/quiche/quic/tools/quic_toy_client.cc
 net/tools/print_certificates.py
 net/tools/quic/quic_simple_client_bin.cc
-net/tools/testserver/testserver.py.vpython3
 net/tools/transport_security_state_generator/transport_security_state_generator.cc
 net/url_request/url_request_context_builder_unittest.cc
 net/url_request/url_request_http_job_unittest.cc
 net/url_request/url_request_job_unittest.cc
 net/url_request/url_request_unittest.cc
-net/websockets/websocket_channel_test.cc
 net/websockets/websocket_stream_test.cc
 pdf/loader/document_loader_impl.cc
 pdf/paint_aggregator.h
@@ -4910,45 +4917,6 @@ pdf/pdfium/pdfium_form_filler_unittest.cc
 pdf/pdfium/pdfium_page_unittest.cc
 pdf/pdfium/pdfium_test_base.cc
 pdf/test/PRESUBMIT.py
-ppapi/api/pp_macros.idl
-ppapi/api/ppb_file_system.idl
-ppapi/api/ppb_host_resolver.idl
-ppapi/api/ppb_network_monitor.idl
-ppapi/api/ppb_network_proxy.idl
-ppapi/api/ppb_tcp_socket.idl
-ppapi/api/ppb_udp_socket.idl
-ppapi/c/dev/ppb_var_deprecated.h
-ppapi/c/dev/ppp_class_deprecated.h
-ppapi/c/pp_macros.h
-ppapi/c/ppb_file_system.h
-ppapi/c/ppb_host_resolver.h
-ppapi/c/ppb_network_monitor.h
-ppapi/c/ppb_network_proxy.h
-ppapi/c/ppb_tcp_socket.h
-ppapi/c/ppb_udp_socket.h
-ppapi/cpp/dev/scriptable_object_deprecated.h
-ppapi/cpp/file_system.h
-ppapi/cpp/host_resolver.h
-ppapi/cpp/network_proxy.h
-ppapi/cpp/tcp_socket.h
-ppapi/cpp/udp_socket.h
-ppapi/native_client/src/untrusted/irt_stub/ppapi_plugin_start.c
-ppapi/native_client/tests/breakpad_crash_test/crash_in_syscall.html
-ppapi/native_client/tests/breakpad_crash_test/trusted_crash_in_startup.html
-ppapi/native_client/tests/breakpad_crash_test/untrusted_crash.html
-ppapi/native_client/tests/nacl_browser/inbrowser_test_runner/test_runner.html
-ppapi/native_client/tools/browser_tester/browser_tester.py
-ppapi/native_client/tools/browser_tester/browserdata/nacltest.js
-ppapi/native_client/tools/browser_tester/browsertester/browserlauncher.py
-ppapi/proxy/websocket_resource_unittest.cc
-ppapi/tests/test_network_proxy.cc
-ppapi/tests/test_tcp_socket_private_disallowed.cc
-ppapi/tests/test_url_loader.cc
-ppapi/tests/test_url_request.cc
-ppapi/tests/test_url_util.cc
-ppapi/tests/test_websocket.cc
-ppapi/tests/test_x509_certificate_private.cc
-ppapi/utility/graphics/paint_aggregator.h
 printing/backend/PRESUBMIT.py
 printing/backend/print_backend_win.cc
 printing/backend/win_helper.cc
@@ -5133,7 +5101,6 @@ services/webnn/dml/command_recorder.cc
 services/webnn/dml/context_impl_dml.cc
 services/webnn/dml/graph_builder_dml.h
 services/webnn/dml/graph_impl_dml.cc
-services/webnn/dml/graph_impl_dml.h
 services/webnn/dml/tensor_desc.cc
 services/webnn/dml/utils.cc
 services/webnn/tflite/graph_builder_tflite.cc
@@ -5257,19 +5224,7 @@ third_party/android_deps/libs/com_android_tools_common/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_layoutlib_layoutlib_api/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_sdk_common/3pp/fetch.py
 third_party/android_deps/libs/com_google_android_apps_common_testing_accessibility_framework_accessibility_test_framework/3pp/fetch.py
-third_party/android_deps/libs/com_google_android_gms_play_services_cloud_messaging/3pp/fetch.py
 third_party/android_deps/libs/com_google_ar_impress/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_annotations/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_common/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_common_ktx/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_components/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_datatransport/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_iid/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_iid_interop/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_installations/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_installations_interop/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_measurement_connector/3pp/fetch.py
-third_party/android_deps/libs/com_google_firebase_firebase_messaging/3pp/fetch.py
 third_party/android_deps/licenses/Android_SDK_License-December_9_2016.txt
 third_party/android_toolchain/3pp/fetch.py
 third_party/angle/BUILD.gn
@@ -5365,6 +5320,7 @@ third_party/angle/src/common/aligned_memory.cpp
 third_party/angle/src/common/android_util.cpp
 third_party/angle/src/common/android_util.h
 third_party/angle/src/common/apple_platform_utils.mm
+third_party/angle/src/common/frame_capture_binary_data.cpp
 third_party/angle/src/common/linux/dma_buf_utils.h
 third_party/angle/src/common/mathutil.h
 third_party/angle/src/common/system_utils_posix.cpp
@@ -5476,10 +5432,10 @@ third_party/blink/public/common/frame/user_activation_state.h
 third_party/blink/public/common/input/web_keyboard_event.h
 third_party/blink/public/common/loader/throttling_url_loader.h
 third_party/blink/public/common/origin_trials/trial_token.h
-third_party/blink/public/common/scheduler/PRESUBMIT.py
 third_party/blink/public/common/storage_key/storage_key.h
 third_party/blink/public/common/widget/visual_properties.h
 third_party/blink/public/mojom/permissions_policy/PRESUBMIT.py
+third_party/blink/public/mojom/scheduler/PRESUBMIT.py
 third_party/blink/public/mojom/use_counter/metrics/PRESUBMIT.py
 third_party/blink/public/platform/child_url_loader_factory_bundle.h
 third_party/blink/public/platform/linux/web_sandbox_support.h
@@ -5603,7 +5559,6 @@ third_party/blink/renderer/core/events/keyboard_event.h
 third_party/blink/renderer/core/events/keyboard_event.idl
 third_party/blink/renderer/core/events/mouse_event.cc
 third_party/blink/renderer/core/events/mouse_event.h
-third_party/blink/renderer/core/events/pointer_event.cc
 third_party/blink/renderer/core/events/touch_event.cc
 third_party/blink/renderer/core/events/touch_event_test.cc
 third_party/blink/renderer/core/events/ui_event.cc
@@ -5615,9 +5570,11 @@ third_party/blink/renderer/core/events/wheel_event.h
 third_party/blink/renderer/core/events/wheel_event.idl
 third_party/blink/renderer/core/execution_context/execution_context.h
 third_party/blink/renderer/core/execution_context/navigator_base.cc
+third_party/blink/renderer/core/execution_context/security_context.cc
 third_party/blink/renderer/core/exported/web_plugin_container_impl.cc
 third_party/blink/renderer/core/exported/web_searchable_form_data.cc
 third_party/blink/renderer/core/fetch/fetch_manager.cc
+third_party/blink/renderer/core/fetch/request.cc
 third_party/blink/renderer/core/fetch/response.h
 third_party/blink/renderer/core/fileapi/file_reader_client.h
 third_party/blink/renderer/core/fragment_directive/text_fragment_anchor_metrics_test.cc
@@ -5641,6 +5598,7 @@ third_party/blink/renderer/core/frame/web_frame_test.cc
 third_party/blink/renderer/core/frame/web_frame_widget_impl.cc
 third_party/blink/renderer/core/frame/web_local_frame_impl.cc
 third_party/blink/renderer/core/frame/web_remote_frame_impl.cc
+third_party/blink/renderer/core/geolocation/geolocation.h
 third_party/blink/renderer/core/html/anchor_element_metrics_test.cc
 third_party/blink/renderer/core/html/custom/element_internals.idl
 third_party/blink/renderer/core/html/custom/validity_state_flags.idl
@@ -5777,6 +5735,7 @@ third_party/blink/renderer/core/paint/paint_layer_scrollable_area.h
 third_party/blink/renderer/core/paint/paint_layer_stacking_node.cc
 third_party/blink/renderer/core/paint/paint_layer_stacking_node.h
 third_party/blink/renderer/core/paint/paint_property_tree_builder.cc
+third_party/blink/renderer/core/paint/theme_painter_default.cc
 third_party/blink/renderer/core/paint/theme_painter_default.h
 third_party/blink/renderer/core/paint/timing/first_meaningful_paint_detector.cc
 third_party/blink/renderer/core/paint/timing/first_meaningful_paint_detector.h
@@ -5841,6 +5800,7 @@ third_party/blink/renderer/core/timing/performance_resource_timing.h
 third_party/blink/renderer/core/timing/responsiveness_metrics.cc
 third_party/blink/renderer/core/timing/third_party_script_detector.cc
 third_party/blink/renderer/core/timing/window_performance.cc
+third_party/blink/renderer/core/timing/window_performance.h
 third_party/blink/renderer/core/timing/window_performance_test.cc
 third_party/blink/renderer/core/trustedtypes/generate_eventhandler_names.py
 third_party/blink/renderer/core/view_transition/view_transition_content_element.h
@@ -5862,7 +5822,6 @@ third_party/blink/renderer/modules/credentialmanagement/authentication_credentia
 third_party/blink/renderer/modules/file_system_access/file_system_cloud_identifier.idl
 third_party/blink/renderer/modules/filesystem/dom_file_system_base_test.cc
 third_party/blink/renderer/modules/font_access/font_metadata.h
-third_party/blink/renderer/modules/geolocation/geolocation.h
 third_party/blink/renderer/modules/hid/hid.cc
 third_party/blink/renderer/modules/indexeddb/idb_value_wrapping.cc
 third_party/blink/renderer/modules/manifest/fuzzer_seed_corpus/play_app_url_manifest.json
@@ -5911,6 +5870,7 @@ third_party/blink/renderer/modules/xr/xr_system.cc
 third_party/blink/renderer/platform/PRESUBMIT.py
 third_party/blink/renderer/platform/animation/timing_function.h
 third_party/blink/renderer/platform/audio/audio_destination.h
+third_party/blink/renderer/platform/bindings/bigint.cc
 third_party/blink/renderer/platform/bindings/script_regexp.cc
 third_party/blink/renderer/platform/exported/web_crypto_algorithm.cc
 third_party/blink/renderer/platform/fonts/bitmap_glyphs_block_list.cc
@@ -7334,7 +7294,6 @@ third_party/crashpad/crashpad/tools/generate_dump.cc
 third_party/crashpad/crashpad/util/file/file_io.h
 third_party/crashpad/crashpad/util/file/file_io_test.cc
 third_party/crashpad/crashpad/util/linux/memory_map.cc
-third_party/crashpad/crashpad/util/mac/mac_util.cc
 third_party/crashpad/crashpad/util/misc/paths_fuchsia.cc
 third_party/crashpad/crashpad/util/net/http_transport_socket.cc
 third_party/crashpad/crashpad/util/posix/close_multiple.cc
@@ -7360,7 +7319,7 @@ third_party/cros-components/src/textfield/textfield.ts
 third_party/cros-components/src/tooltip/tooltip.ts
 third_party/cros_system_api/dbus/bluetooth/dbus-constants.h
 third_party/cros_system_api/dbus/shill/dbus-constants.h
-third_party/crossbench/android_protoc/codegen/gen.py
+third_party/crossbench-web-tests/cuj/crossbench/sql_packages/cujs/simultaneous_load/tab_load_durations.sql
 third_party/crossbench/chrome-extension-replay/devtools-recorder/crossbench.html
 third_party/crossbench/config/benchmark/loadline2/google_docs_instrumentation.js
 third_party/crossbench/config/benchmark/loadline2/google_search_phone_instrumentation.js
@@ -7380,9 +7339,11 @@ third_party/crossbench/crossbench/browsers/chromium/applescript.py
 third_party/crossbench/crossbench/browsers/chromium/driver_finder.py
 third_party/crossbench/crossbench/browsers/chromium/webdriver.py
 third_party/crossbench/crossbench/browsers/chromium_based/chromium_based.py
+third_party/crossbench/crossbench/browsers/edge/webdriver.py
 third_party/crossbench/crossbench/browsers/firefox/downloader.py
 third_party/crossbench/crossbench/browsers/firefox/webdriver.py
 third_party/crossbench/crossbench/cli/cli.py
+third_party/crossbench/crossbench/cli/config/extension.py
 third_party/crossbench/crossbench/cli/exception_formatter.py
 third_party/crossbench/crossbench/plt/android_adb.py
 third_party/crossbench/crossbench/probes/chrome_histograms.py
@@ -7393,6 +7354,7 @@ third_party/crossbench/crossbench/probes/profiling/browser_profiling.py
 third_party/crossbench/crossbench/probes/profiling/context/base.py
 third_party/crossbench/crossbench/probes/profiling/enum.py
 third_party/crossbench/crossbench/probes/web_page_replay/recorder.py
+third_party/crossbench/protoc/compile.py
 third_party/crossbench/tests/crossbench/benchmarks/loading/action_runner/test_default_bond_action_runner.py
 third_party/crossbench/tests/crossbench/benchmarks/loading/config/test_example_configs.py
 third_party/crossbench/tests/crossbench/benchmarks/loading/config/test_login.py
@@ -7403,6 +7365,7 @@ third_party/crossbench/tests/crossbench/probes/test_js.py
 third_party/crossbench/tests/crossbench/probes/test_meminfo.py
 third_party/crossbench/tests/crossbench/probes/test_perfetto.py
 third_party/crossbench/tests/crossbench/probes/test_v8_rcs.py
+third_party/crossbench/tests/crossbench/test_config.py
 third_party/crossbench/tests/crossbench/test_env.py
 third_party/crossbench/tests/crossbench/test_parse.py
 third_party/crossbench/tests/end2end/android/test_wpr_record_and_replay.py
@@ -7476,13 +7439,12 @@ third_party/dawn/src/dawn/tests/unittests/validation/RenderPassDescriptorValidat
 third_party/dawn/src/dawn/tests/white_box/SharedTextureMemoryTests_dmabuf.cpp
 third_party/dawn/src/dawn/tests/white_box/VulkanImageWrappingTests_DmaBuf.cpp
 third_party/dawn/src/dawn/utils/WindowsDebugLogger.cpp
+third_party/dawn/src/tint/lang/glsl/writer/writer.cc
 third_party/dawn/src/tint/lang/hlsl/type/rasterizer_ordered_texture_2d.h
-third_party/dawn/src/tint/lang/hlsl/writer/ast_printer/ast_printer.cc
 third_party/dawn/src/tint/lang/hlsl/writer/printer/printer.cc
 third_party/dawn/src/tint/lang/spirv/reader/ast_parser/ast_parser.cc
 third_party/dawn/src/tint/lang/spirv/reader/ast_parser/function.cc
 third_party/dawn/src/tint/lang/spirv/reader/ast_parser/function_cfg_test.cc
-third_party/dawn/src/tint/lang/wgsl/ast/transform/promote_side_effects_to_decl_test.cc
 third_party/dawn/src/tint/lang/wgsl/reader/parser/lexer_test.cc
 third_party/dawn/src/tint/lang/wgsl/resolver/eval_builtin_test.cc
 third_party/dawn/third_party/dxc/include/dxc/Support/Unicode.h
@@ -7671,7 +7633,6 @@ third_party/depot_tools/fetch_configs/crossbench.py
 third_party/depot_tools/fetch_configs/dart.py
 third_party/depot_tools/fetch_configs/depot_tools.py
 third_party/depot_tools/fetch_configs/devtools-frontend.py
-third_party/depot_tools/fetch_configs/devtools-internal.py
 third_party/depot_tools/fetch_configs/gn.py
 third_party/depot_tools/fetch_configs/gyp.py
 third_party/depot_tools/fetch_configs/infra_superproject.py
@@ -7685,6 +7646,7 @@ third_party/depot_tools/fetch_configs/skia.py
 third_party/depot_tools/fetch_configs/skia_buildbot.py
 third_party/depot_tools/fetch_configs/syzygy.py
 third_party/depot_tools/fetch_configs/v8.py
+third_party/depot_tools/fetch_configs/v8_perf.py
 third_party/depot_tools/fetch_configs/web-tests.py
 third_party/depot_tools/fetch_configs/web-workload.py
 third_party/depot_tools/fetch_configs/webpagereplay.py
@@ -7731,6 +7693,8 @@ third_party/depot_tools/man/html/git-thaw.html
 third_party/depot_tools/man/html/git-upstream-diff.html
 third_party/depot_tools/man/src/depot_tools_gerrit_auth.txt
 third_party/depot_tools/man/src/depot_tools_tutorial.txt
+third_party/depot_tools/mcp/buildbucket.py
+third_party/depot_tools/mcp/buildbucket_test.py
 third_party/depot_tools/metadata/dependency_metadata.py
 third_party/depot_tools/metadata/fields/custom/license.py
 third_party/depot_tools/metadata/fields/custom/license_allowlist.py
@@ -7987,8 +7951,8 @@ third_party/devtools-frontend/src/front_end/models/ai_assistance/ExtensionScope.
 third_party/devtools-frontend/src/front_end/models/ai_assistance/agents/FileAgent.ts
 third_party/devtools-frontend/src/front_end/models/ai_assistance/agents/PerformanceAgent.test.ts
 third_party/devtools-frontend/src/front_end/models/ai_assistance/agents/PerformanceAgent.ts
-third_party/devtools-frontend/src/front_end/models/ai_assistance/agents/PerformanceInsightsAgent.test.ts
 third_party/devtools-frontend/src/front_end/models/ai_assistance/data_formatters/PerformanceInsightFormatter.test.ts
+third_party/devtools-frontend/src/front_end/models/ai_assistance/data_formatters/PerformanceInsightFormatter.ts
 third_party/devtools-frontend/src/front_end/models/bindings/ResourceUtils.ts
 third_party/devtools-frontend/src/front_end/models/crux-manager/CrUXManager.test.ts
 third_party/devtools-frontend/src/front_end/models/crux-manager/CrUXManager.ts
@@ -8030,8 +7994,8 @@ third_party/devtools-frontend/src/front_end/models/trace/insights/DocumentLatenc
 third_party/devtools-frontend/src/front_end/models/trace/insights/FontDisplay.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/FontDisplay.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ForcedReflow.ts
+third_party/devtools-frontend/src/front_end/models/trace/insights/INPBreakdown.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ImageDelivery.ts
-third_party/devtools-frontend/src/front_end/models/trace/insights/InteractionToNextPaint.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ModernHTTP.test.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/ModernHTTP.ts
 third_party/devtools-frontend/src/front_end/models/trace/insights/NetworkDependencyTree.test.ts
@@ -8081,6 +8045,7 @@ third_party/devtools-frontend/src/front_end/panels/application/preloading/compon
 third_party/devtools-frontend/src/front_end/panels/autofill/AutofillView.ts
 third_party/devtools-frontend/src/front_end/panels/browser_debugger/DOMBreakpointsSidebarPane.ts
 third_party/devtools-frontend/src/front_end/panels/changes/ChangesView.ts
+third_party/devtools-frontend/src/front_end/panels/common/AiCodeCompletionTeaser.ts
 third_party/devtools-frontend/src/front_end/panels/console/ConsoleViewMessage.ts
 third_party/devtools-frontend/src/front_end/panels/console/ErrorStackParser.test.ts
 third_party/devtools-frontend/src/front_end/panels/coverage/CoverageView.ts
@@ -8122,12 +8087,12 @@ third_party/devtools-frontend/src/front_end/panels/settings/KeybindsSettingsTab.
 third_party/devtools-frontend/src/front_end/panels/settings/SettingsScreen.ts
 third_party/devtools-frontend/src/front_end/panels/settings/components/SyncSection.test.ts
 third_party/devtools-frontend/src/front_end/panels/sources/BreakpointEditDialog.ts
+third_party/devtools-frontend/src/front_end/panels/sources/BreakpointsView.test.ts
+third_party/devtools-frontend/src/front_end/panels/sources/BreakpointsViewUtils.test.ts
+third_party/devtools-frontend/src/front_end/panels/sources/BreakpointsViewUtils.ts
 third_party/devtools-frontend/src/front_end/panels/sources/DebuggerPausedMessage.ts
 third_party/devtools-frontend/src/front_end/panels/sources/SourcesNavigator.ts
 third_party/devtools-frontend/src/front_end/panels/sources/TabbedEditorContainer.ts
-third_party/devtools-frontend/src/front_end/panels/sources/components/BreakpointsView.test.ts
-third_party/devtools-frontend/src/front_end/panels/sources/components/BreakpointsViewUtils.test.ts
-third_party/devtools-frontend/src/front_end/panels/sources/components/BreakpointsViewUtils.ts
 third_party/devtools-frontend/src/front_end/panels/sources/components/HeadersView.test.ts
 third_party/devtools-frontend/src/front_end/panels/sources/components/HeadersView.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/Initiators.test.ts
@@ -8384,10 +8349,12 @@ third_party/devtools-frontend/src/front_end/ui/components/docs/component_docs_st
 third_party/devtools-frontend/src/front_end/ui/components/markdown_view/CodeBlock.ts
 third_party/devtools-frontend/src/front_end/ui/components/markdown_view/MarkdownLinksMap.ts
 third_party/devtools-frontend/src/front_end/ui/components/tooltips/Tooltip.ts
+third_party/devtools-frontend/src/front_end/ui/legacy/DockController.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/RemoteDebuggingTerminatedScreen.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/SearchableView.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.test.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/UIUtils.ts
+third_party/devtools-frontend/src/front_end/ui/legacy/Widget.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/object_ui/CustomPreviewComponent.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/perf_ui/FlameChart.ts
 third_party/devtools-frontend/src/front_end/ui/legacy/components/utils/JSPresentationUtils.test.ts
@@ -8409,7 +8376,6 @@ third_party/devtools-frontend/src/node_modules/@isaacs/cliui/node_modules/ansi-s
 third_party/devtools-frontend/src/node_modules/@isaacs/cliui/node_modules/string-width/package.json
 third_party/devtools-frontend/src/node_modules/@isaacs/cliui/node_modules/strip-ansi/package.json
 third_party/devtools-frontend/src/node_modules/@isaacs/cliui/node_modules/wrap-ansi/package.json
-third_party/devtools-frontend/src/node_modules/@keyv/serialize/node_modules/buffer/index.js
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/cjs/browser-data/browser-data.d.ts
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/cjs/browser-data/browser-data.js
 third_party/devtools-frontend/src/node_modules/@puppeteer/browsers/lib/cjs/browser-data/chrome-headless-shell.js
@@ -8447,6 +8413,7 @@ third_party/devtools-frontend/src/node_modules/@sinonjs/commons/types/prototypes
 third_party/devtools-frontend/src/node_modules/@sinonjs/samsam/lib/create-set.js
 third_party/devtools-frontend/src/node_modules/@sinonjs/samsam/lib/deep-equal.js
 third_party/devtools-frontend/src/node_modules/@sinonjs/samsam/types/create-set.d.ts
+third_party/devtools-frontend/src/node_modules/@stylistic/eslint-plugin/dist/utils.js
 third_party/devtools-frontend/src/node_modules/@tootallnate/quickjs-emscripten/dist/context.d.ts
 third_party/devtools-frontend/src/node_modules/@tootallnate/quickjs-emscripten/dist/context.js
 third_party/devtools-frontend/src/node_modules/@tootallnate/quickjs-emscripten/dist/index.d.ts
@@ -8498,6 +8465,7 @@ third_party/devtools-frontend/src/node_modules/array.prototype.flatmap/package.j
 third_party/devtools-frontend/src/node_modules/arraybuffer.prototype.slice/package.json
 third_party/devtools-frontend/src/node_modules/asap/browser-raw.js
 third_party/devtools-frontend/src/node_modules/astral-regex/package.json
+third_party/devtools-frontend/src/node_modules/async-function/package.json
 third_party/devtools-frontend/src/node_modules/available-typed-arrays/package.json
 third_party/devtools-frontend/src/node_modules/base64-js/package.json
 third_party/devtools-frontend/src/node_modules/basic-ftp/package.json
@@ -8505,8 +8473,11 @@ third_party/devtools-frontend/src/node_modules/binary-extensions/package.json
 third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/package.json
 third_party/devtools-frontend/src/node_modules/body-parser/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/buffer-crc32/package.json
+third_party/devtools-frontend/src/node_modules/buffer/index.js
 third_party/devtools-frontend/src/node_modules/bytes/package.json
+third_party/devtools-frontend/src/node_modules/call-bind-apply-helpers/package.json
 third_party/devtools-frontend/src/node_modules/call-bind/package.json
+third_party/devtools-frontend/src/node_modules/call-bound/package.json
 third_party/devtools-frontend/src/node_modules/callsites/package.json
 third_party/devtools-frontend/src/node_modules/camelcase/package.json
 third_party/devtools-frontend/src/node_modules/caniuse-lite/package.json
@@ -8516,6 +8487,7 @@ third_party/devtools-frontend/src/node_modules/chai/lib/chai/interface/assert.js
 third_party/devtools-frontend/src/node_modules/chai/lib/chai/interface/should.js
 third_party/devtools-frontend/src/node_modules/chai/lib/chai/utils/isNaN.js
 third_party/devtools-frontend/src/node_modules/chai/package.json
+third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/BrowserProcessor.d.ts
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/BrowserProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/ActionDispatcher.js
@@ -8524,6 +8496,7 @@ third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkRequest.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/storage/StorageProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/cjs/utils/uuid.js
+third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/esm/bidiMapper/modules/browser/BrowserProcessor.d.ts
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/esm/bidiMapper/modules/browser/BrowserProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/esm/bidiMapper/modules/context/BrowsingContextProcessor.js
 third_party/devtools-frontend/src/node_modules/chromium-bidi/lib/esm/bidiMapper/modules/input/ActionDispatcher.js
@@ -8588,6 +8561,7 @@ third_party/devtools-frontend/src/node_modules/devtools-protocol/types/protocol-
 third_party/devtools-frontend/src/node_modules/devtools-protocol/types/protocol.d.ts
 third_party/devtools-frontend/src/node_modules/di/package.json
 third_party/devtools-frontend/src/node_modules/diff/dist/diff.js
+third_party/devtools-frontend/src/node_modules/diff/dist/diff.min.js
 third_party/devtools-frontend/src/node_modules/diff/lib/convert/dmp.js
 third_party/devtools-frontend/src/node_modules/diff/lib/index.es6.js
 third_party/devtools-frontend/src/node_modules/diff/package.json
@@ -8596,6 +8570,7 @@ third_party/devtools-frontend/src/node_modules/domutils/lib/esm/stringify.d.ts
 third_party/devtools-frontend/src/node_modules/domutils/lib/esm/stringify.js
 third_party/devtools-frontend/src/node_modules/domutils/lib/stringify.d.ts
 third_party/devtools-frontend/src/node_modules/domutils/lib/stringify.js
+third_party/devtools-frontend/src/node_modules/dunder-proto/package.json
 third_party/devtools-frontend/src/node_modules/end-of-stream/package.json
 third_party/devtools-frontend/src/node_modules/engine.io-parser/build/cjs/index.js
 third_party/devtools-frontend/src/node_modules/engine.io-parser/build/esm/index.js
@@ -8630,6 +8605,8 @@ third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/typed.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/lib/utility.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-import/node_modules/doctrine/package.json
+third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/node_modules/escape-string-regexp/package.json
 third_party/devtools-frontend/src/node_modules/eslint-plugin-jsdoc/src/tagNames.js
 third_party/devtools-frontend/src/node_modules/eslint-plugin-mocha/node_modules/globals/package.json
@@ -8684,6 +8661,7 @@ third_party/devtools-frontend/src/node_modules/functions-have-names/package.json
 third_party/devtools-frontend/src/node_modules/gensync/package.json
 third_party/devtools-frontend/src/node_modules/get-east-asian-width/package.json
 third_party/devtools-frontend/src/node_modules/get-intrinsic/package.json
+third_party/devtools-frontend/src/node_modules/get-proto/package.json
 third_party/devtools-frontend/src/node_modules/get-stream/package.json
 third_party/devtools-frontend/src/node_modules/get-symbol-description/package.json
 third_party/devtools-frontend/src/node_modules/glob-parent/package.json
@@ -8783,6 +8761,7 @@ third_party/devtools-frontend/src/node_modules/log4js/package.json
 third_party/devtools-frontend/src/node_modules/magic-string/dist/magic-string.cjs.js
 third_party/devtools-frontend/src/node_modules/magic-string/dist/magic-string.umd.js
 third_party/devtools-frontend/src/node_modules/make-dir/package.json
+third_party/devtools-frontend/src/node_modules/math-intrinsics/package.json
 third_party/devtools-frontend/src/node_modules/mathml-tag-names/package.json
 third_party/devtools-frontend/src/node_modules/mdn-data/css/at-rules.json
 third_party/devtools-frontend/src/node_modules/mdn-data/css/at-rules.schema.json
@@ -8822,12 +8801,12 @@ third_party/devtools-frontend/src/node_modules/ora/node_modules/strip-ansi/packa
 third_party/devtools-frontend/src/node_modules/ora/package.json
 third_party/devtools-frontend/src/node_modules/os-homedir/package.json
 third_party/devtools-frontend/src/node_modules/os-tmpdir/package.json
+third_party/devtools-frontend/src/node_modules/own-keys/package.json
 third_party/devtools-frontend/src/node_modules/p-limit/package.json
 third_party/devtools-frontend/src/node_modules/p-locate/package.json
 third_party/devtools-frontend/src/node_modules/pac-proxy-agent/dist/index.js
 third_party/devtools-frontend/src/node_modules/pac-resolver/dist/myIpAddress.js
 third_party/devtools-frontend/src/node_modules/parent-module/package.json
-third_party/devtools-frontend/src/node_modules/parse-imports/package.json
 third_party/devtools-frontend/src/node_modules/parse-json/package.json
 third_party/devtools-frontend/src/node_modules/path-exists/package.json
 third_party/devtools-frontend/src/node_modules/path-is-absolute/package.json
@@ -8904,6 +8883,7 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/PuppeteerNode.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/util/encoding.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/es5-iife/puppeteer-core-browser.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/es5-iife/puppeteer-core-browser.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Browser.d.ts
@@ -8940,9 +8920,11 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/PuppeteerNode.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/util/encoding.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/types.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug/package.json
 third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug/src/browser.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/ws/package.json
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Browser.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/BrowserContext.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/ElementHandle.ts
@@ -8966,6 +8948,7 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/util.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/FirefoxLauncher.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/LaunchOptions.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/PuppeteerNode.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/util/encoding.ts
 third_party/devtools-frontend/src/node_modules/qs/package.json
 third_party/devtools-frontend/src/node_modules/randombytes/browser.js
 third_party/devtools-frontend/src/node_modules/raw-body/package.json
@@ -8982,21 +8965,21 @@ third_party/devtools-frontend/src/node_modules/rollup/dist/es/shared/watch.js
 third_party/devtools-frontend/src/node_modules/rollup/dist/shared/index.js
 third_party/devtools-frontend/src/node_modules/rollup/dist/shared/rollup.js
 third_party/devtools-frontend/src/node_modules/safe-array-concat/package.json
+third_party/devtools-frontend/src/node_modules/safe-push-apply/package.json
 third_party/devtools-frontend/src/node_modules/safe-regex-test/package.json
 third_party/devtools-frontend/src/node_modules/safer-buffer/package.json
 third_party/devtools-frontend/src/node_modules/set-function-length/package.json
 third_party/devtools-frontend/src/node_modules/set-function-name/package.json
+third_party/devtools-frontend/src/node_modules/set-proto/package.json
 third_party/devtools-frontend/src/node_modules/shebang-command/package.json
 third_party/devtools-frontend/src/node_modules/shebang-regex/package.json
+third_party/devtools-frontend/src/node_modules/side-channel-list/package.json
+third_party/devtools-frontend/src/node_modules/side-channel-map/package.json
+third_party/devtools-frontend/src/node_modules/side-channel-weakmap/package.json
 third_party/devtools-frontend/src/node_modules/side-channel/package.json
 third_party/devtools-frontend/src/node_modules/sinon/lib/sinon/proxy-invoke.js
 third_party/devtools-frontend/src/node_modules/sinon/lib/sinon/util/core/extend.js
 third_party/devtools-frontend/src/node_modules/sinon/lib/sinon/util/core/get-property-descriptor.js
-third_party/devtools-frontend/src/node_modules/sinon/node_modules/diff/dist/diff.js
-third_party/devtools-frontend/src/node_modules/sinon/node_modules/diff/dist/diff.min.js
-third_party/devtools-frontend/src/node_modules/sinon/node_modules/diff/lib/convert/dmp.js
-third_party/devtools-frontend/src/node_modules/sinon/node_modules/diff/lib/index.es6.js
-third_party/devtools-frontend/src/node_modules/sinon/node_modules/diff/package.json
 third_party/devtools-frontend/src/node_modules/sinon/node_modules/has-flag/package.json
 third_party/devtools-frontend/src/node_modules/sinon/node_modules/supports-color/package.json
 third_party/devtools-frontend/src/node_modules/sinon/pkg/sinon-esm.js
@@ -9026,6 +9009,7 @@ third_party/devtools-frontend/src/node_modules/source-map/lib/source-map-consume
 third_party/devtools-frontend/src/node_modules/source-map/package.json
 third_party/devtools-frontend/src/node_modules/spdx-correct/package.json
 third_party/devtools-frontend/src/node_modules/stdin-discarder/package.json
+third_party/devtools-frontend/src/node_modules/stop-iteration-iterator/package.json
 third_party/devtools-frontend/src/node_modules/streamroller/package.json
 third_party/devtools-frontend/src/node_modules/string-width-cjs/node_modules/ansi-regex/package.json
 third_party/devtools-frontend/src/node_modules/string-width-cjs/node_modules/strip-ansi/package.json
@@ -9047,6 +9031,8 @@ third_party/devtools-frontend/src/node_modules/stylelint/node_modules/@csstools/
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/css-tree/data/patch.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/css-tree/lib/lexer/generic.js
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/css-tree/package.json
+third_party/devtools-frontend/src/node_modules/stylelint/node_modules/debug/package.json
+third_party/devtools-frontend/src/node_modules/stylelint/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/css/at-rules.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/css/at-rules.schema.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/css/functions.json
@@ -9058,6 +9044,8 @@ third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/c
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/css/types.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/css/types.schema.json
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/mdn-data/package.json
+third_party/devtools-frontend/src/node_modules/stylelint/node_modules/postcss/lib/comment.d.ts
+third_party/devtools-frontend/src/node_modules/stylelint/node_modules/postcss/lib/declaration.d.ts
 third_party/devtools-frontend/src/node_modules/stylelint/node_modules/resolve-from/package.json
 third_party/devtools-frontend/src/node_modules/supports-color/package.json
 third_party/devtools-frontend/src/node_modules/supports-hyperlinks/node_modules/has-flag/package.json
@@ -9107,10 +9095,6 @@ third_party/devtools-frontend/src/node_modules/toidentifier/package.json
 third_party/devtools-frontend/src/node_modules/treeify/package.json
 third_party/devtools-frontend/src/node_modules/treeify/treeify.js
 third_party/devtools-frontend/src/node_modules/tsconfig-paths/node_modules/json5/package.json
-third_party/devtools-frontend/src/node_modules/type-fest/package.json
-third_party/devtools-frontend/src/node_modules/type-fest/source/basic.d.ts
-third_party/devtools-frontend/src/node_modules/type-fest/source/entries.d.ts
-third_party/devtools-frontend/src/node_modules/type-fest/source/entry.d.ts
 third_party/devtools-frontend/src/node_modules/typed-array-buffer/package.json
 third_party/devtools-frontend/src/node_modules/typed-array-byte-length/package.json
 third_party/devtools-frontend/src/node_modules/typed-array-byte-offset/package.json
@@ -9198,6 +9182,7 @@ third_party/devtools-frontend/src/node_modules/workerpool/dist/workerpool.js
 third_party/devtools-frontend/src/node_modules/workerpool/dist/workerpool.min.js.LICENSE.txt
 third_party/devtools-frontend/src/node_modules/workerpool/package.json
 third_party/devtools-frontend/src/node_modules/workerpool/src/header.js
+third_party/devtools-frontend/src/node_modules/workerpool/src/validateOptions.js
 third_party/devtools-frontend/src/node_modules/wrap-ansi-cjs/node_modules/ansi-regex/package.json
 third_party/devtools-frontend/src/node_modules/wrap-ansi-cjs/node_modules/ansi-styles/package.json
 third_party/devtools-frontend/src/node_modules/wrap-ansi-cjs/node_modules/color-convert/package.json
@@ -9218,6 +9203,13 @@ third_party/devtools-frontend/src/node_modules/yargs/node_modules/strip-ansi/pac
 third_party/devtools-frontend/src/node_modules/yauzl/package.json
 third_party/devtools-frontend/src/node_modules/yocto-queue/index.d.ts
 third_party/devtools-frontend/src/node_modules/yocto-queue/package.json
+third_party/devtools-frontend/src/node_modules/zod/src/v3/tests/refine.test.ts
+third_party/devtools-frontend/src/node_modules/zod/src/v3/tests/string.test.ts
+third_party/devtools-frontend/src/node_modules/zod/src/v4/classic/tests/refine.test.ts
+third_party/devtools-frontend/src/node_modules/zod/src/v4/classic/tests/string.test.ts
+third_party/devtools-frontend/src/node_modules/zod/src/v4/core/regexes.ts
+third_party/devtools-frontend/src/node_modules/zod/v4/core/regexes.d.ts
+third_party/devtools-frontend/src/node_modules/zod/v4/core/regexes.js
 third_party/devtools-frontend/src/package.json
 third_party/devtools-frontend/src/scripts/build/compress_files.js
 third_party/devtools-frontend/src/scripts/check_external_links.js
@@ -9229,15 +9221,15 @@ third_party/devtools-frontend/src/scripts/eslint_rules/tests/no-imperative-dom-a
 third_party/devtools-frontend/src/scripts/hosted_mode/server.js
 third_party/devtools-frontend/src/scripts/tools/update_goldens.py
 third_party/devtools-frontend/src/test/conductor/resultsdb.ts
-third_party/devtools-frontend/src/test/e2e/console/console-message-format_test.ts
-third_party/devtools-frontend/src/test/e2e/console/console-truncate-long-messages_test.ts
 third_party/devtools-frontend/src/test/e2e/lighthouse/navigation_test.ts
-third_party/devtools-frontend/src/test/e2e/lighthouse/snapshot_test.ts
-third_party/devtools-frontend/src/test/e2e/lighthouse/timespan_test.ts
 third_party/devtools-frontend/src/test/e2e/resources/console/primitives.html
 third_party/devtools-frontend/src/test/e2e/resources/elements/inactive-css-page.html
 third_party/devtools-frontend/src/test/e2e_non_hosted/application/reporting-api_test.ts
+third_party/devtools-frontend/src/test/e2e_non_hosted/console/console-message-format_test.ts
+third_party/devtools-frontend/src/test/e2e_non_hosted/console/console-truncate-long-messages_test.ts
 third_party/devtools-frontend/src/test/e2e_non_hosted/lighthouse/devtools-settings_test.ts
+third_party/devtools-frontend/src/test/e2e_non_hosted/lighthouse/snapshot_test.ts
+third_party/devtools-frontend/src/test/e2e_non_hosted/lighthouse/timespan_test.ts
 third_party/devtools-frontend/src/test/perf/report/report.ts
 third_party/devtools-frontend/src/third_party/blink/public/devtools_protocol/browser_protocol.json
 third_party/devtools-frontend/src/third_party/pyjson5/src/benchmarks/chromium.linux.json
@@ -10164,8 +10156,6 @@ third_party/ffmpeg/libavcodec/diracdec.c
 third_party/ffmpeg/libavcodec/diractab.c
 third_party/ffmpeg/libavcodec/diractab.h
 third_party/ffmpeg/libavcodec/dxv.c
-third_party/ffmpeg/libavcodec/dxv.h
-third_party/ffmpeg/libavcodec/dxvenc.c
 third_party/ffmpeg/libavcodec/eac3_data.c
 third_party/ffmpeg/libavcodec/eac3_data.h
 third_party/ffmpeg/libavcodec/eac3dec.c
@@ -10444,6 +10434,7 @@ third_party/ffmpeg/tests/checkasm/vf_colorspace.c
 third_party/ffmpeg/tests/checkasm/videodsp.c
 third_party/ffmpeg/tests/checkasm/vp9dsp.c
 third_party/ffmpeg/tests/checkasm/vvc_alf.c
+third_party/ffmpeg/tests/checkasm/vvc_sao.c
 third_party/ffmpeg/tools/target_dec_fuzzer.c
 third_party/flac/include/share/compat.h
 third_party/flatbuffers/src/android/app/src/main/cpp/CMakeLists.txt
@@ -10467,6 +10458,7 @@ third_party/freetype/src/include/freetype/freetype.h
 third_party/freetype/src/include/freetype/ftcolor.h
 third_party/freetype/src/include/freetype/ftdriver.h
 third_party/freetype/src/include/freetype/ftimage.h
+third_party/freetype/src/include/freetype/ftmm.h
 third_party/freetype/src/include/freetype/ftwinfnt.h
 third_party/freetype/src/include/freetype/ttnameid.h
 third_party/freetype/src/src/autofit/afadjust.c
@@ -10478,7 +10470,6 @@ third_party/freetype/src/src/sfnt/sfobjs.c
 third_party/freetype/src/src/sfnt/ttcmap.c
 third_party/freetype/src/src/sfnt/ttcolr.c
 third_party/freetype/src/src/sfnt/ttcpal.c
-third_party/freetype/src/src/sfnt/ttgpos.c
 third_party/freetype/src/src/sfnt/ttsvg.c
 third_party/freetype/src/src/truetype/ttinterp.h
 third_party/fuchsia-gn-sdk/src/gen_fidl_response_file.py
@@ -11258,7 +11249,6 @@ third_party/libaom/source/libaom/av1/common/x86/av1_inv_txfm_ssse3.c
 third_party/libaom/source/libaom/av1/encoder/block.h
 third_party/libaom/source/libaom/av1/encoder/encodemb.c
 third_party/libaom/source/libaom/av1/encoder/encoder.h
-third_party/libaom/source/libaom/av1/encoder/hash_motion.c
 third_party/libaom/source/libaom/av1/encoder/intra_mode_search.c
 third_party/libaom/source/libaom/av1/encoder/mcomp.c
 third_party/libaom/source/libaom/av1/encoder/mv_prec.c
@@ -11474,8 +11464,10 @@ third_party/libwebp/src/src/dsp/filters_neon.c
 third_party/libwebp/src/src/dsp/filters_sse2.c
 third_party/libwebp/src/src/dsp/lossless.c
 third_party/libwebp/src/src/dsp/lossless.h
+third_party/libwebp/src/src/dsp/lossless_avx2.c
 third_party/libwebp/src/src/dsp/lossless_common.h
 third_party/libwebp/src/src/dsp/lossless_enc.c
+third_party/libwebp/src/src/dsp/lossless_enc_avx2.c
 third_party/libwebp/src/src/dsp/lossless_enc_neon.c
 third_party/libwebp/src/src/dsp/lossless_enc_sse2.c
 third_party/libwebp/src/src/dsp/lossless_enc_sse41.c
@@ -11594,6 +11586,8 @@ third_party/material_web_components/components-chromium/node_modules/@material/w
 third_party/material_web_components/components-chromium/node_modules/@material/web/internal/events/form-label-activation.js
 third_party/material_web_components/components-chromium/node_modules/@material/web/labs/behaviors/constraint-validation.d.ts
 third_party/material_web_components/components-chromium/node_modules/@material/web/labs/behaviors/constraint-validation.js
+third_party/material_web_components/components-chromium/node_modules/@material/web/labs/behaviors/custom-state-set.d.ts
+third_party/material_web_components/components-chromium/node_modules/@material/web/labs/behaviors/custom-state-set.js
 third_party/material_web_components/components-chromium/node_modules/@material/web/labs/behaviors/validators/text-field-validator.d.ts
 third_party/material_web_components/components-chromium/node_modules/@material/web/menu/internal/controllers/surfacePositionController.d.ts
 third_party/material_web_components/components-chromium/node_modules/@material/web/menu/internal/controllers/surfacePositionController.js
@@ -12485,6 +12479,7 @@ third_party/pdfium/third_party/libopenjpeg/t2.c
 third_party/pdfium/tools/lsan/lsan_suppressions.txt
 third_party/pdfium/xfa/fgas/font/cfgas_fontmgr.cpp
 third_party/pefile_py3/pefile.py
+third_party/perfetto/CONTRIBUTORS.txt
 third_party/perfetto/gn/standalone/BUILD.gn
 third_party/perfetto/gn/standalone/toolchain/msvc.gni
 third_party/perfetto/include/perfetto/base/build_config.h
@@ -12555,6 +12550,7 @@ third_party/perfetto/src/trace_processor/importers/fuchsia/fuchsia_trace_tokeniz
 third_party/perfetto/src/trace_processor/importers/fuchsia/fuchsia_trace_utils.h
 third_party/perfetto/src/trace_processor/importers/ninja/ninja_log_parser.cc
 third_party/perfetto/src/trace_processor/importers/proto/android_probes_parser.cc
+third_party/perfetto/src/trace_processor/importers/proto/heap_graph_tracker.cc
 third_party/perfetto/src/trace_processor/importers/proto/heap_graph_tracker_unittest.cc
 third_party/perfetto/src/trace_processor/importers/proto/statsd_module.cc
 third_party/perfetto/src/trace_processor/importers/proto/system_probes_parser.cc
@@ -12578,6 +12574,7 @@ third_party/perfetto/test/trace_processor/diff_tests/parser/chrome/tests_v8.py
 third_party/perfetto/test/trace_processor/diff_tests/parser/simpleperf/tests.py
 third_party/perfetto/test/vts/AndroidTest.xml
 third_party/perfetto/tools/download_changed_screenshots.py
+third_party/perfetto/tools/release_sdk.py
 third_party/perfetto/ui/.eslintrc.js
 third_party/perfetto/ui/release/build_all_channels.py
 third_party/perfetto/ui/src/assets/bigtrace.html
@@ -13950,8 +13947,8 @@ third_party/rust/lazy_static/v1/BUILD.gn
 third_party/rust/memchr/v2/BUILD.gn
 third_party/rust/miniz_oxide/v0_8/BUILD.gn
 third_party/rust/proc_macro2/v1/BUILD.gn
-third_party/rust/prost/v0_13/BUILD.gn
-third_party/rust/prost_derive/v0_13/BUILD.gn
+third_party/rust/prost/v0_14/BUILD.gn
+third_party/rust/prost_derive/v0_14/BUILD.gn
 third_party/rust/qr_code/v2/BUILD.gn
 third_party/rust/quote/v1/BUILD.gn
 third_party/rust/regex_automata/v0_4/BUILD.gn
@@ -13967,6 +13964,11 @@ third_party/rust/stable_deref_trait/v1/BUILD.gn
 third_party/rust/strck/v1/BUILD.gn
 third_party/rust/strum/v0_27/BUILD.gn
 third_party/rust/strum_macros/v0_27/BUILD.gn
+third_party/rust/symphonia/v0_5/BUILD.gn
+third_party/rust/symphonia_bundle_flac/v0_5/BUILD.gn
+third_party/rust/symphonia_core/v0_5/BUILD.gn
+third_party/rust/symphonia_metadata/v0_5/BUILD.gn
+third_party/rust/symphonia_utils_xiph/v0_5/BUILD.gn
 third_party/rust/syn/v2/BUILD.gn
 third_party/rust/termcolor/v1/BUILD.gn
 third_party/rust/unicode_ident/v1/BUILD.gn
@@ -14005,10 +14007,7 @@ third_party/skia/build_overrides/partition_alloc.gni
 third_party/skia/demos.skia.org/demos/image_decode_web_worker/index.html
 third_party/skia/demos.skia.org/demos/mesh2d/index.html
 third_party/skia/demos.skia.org/demos/path_performance/index.html
-third_party/skia/demos.skia.org/demos/spreadsheet/index.html
 third_party/skia/demos.skia.org/demos/web_worker/index.html
-third_party/skia/demos.skia.org/demos/web_worker/main.js
-third_party/skia/demos.skia.org/demos/web_worker/worker.js
 third_party/skia/demos.skia.org/demos/webgpu/index.html
 third_party/skia/example/external_client/src/ganesh_gl.cpp
 third_party/skia/example/external_client/src/gl_context_helper.mm
@@ -14095,13 +14094,8 @@ third_party/skia/modules/canvaskit/htmlcanvas/canvas2dcontext.js
 third_party/skia/modules/canvaskit/htmlcanvas/font.js
 third_party/skia/modules/canvaskit/htmlcanvas/path2d.js
 third_party/skia/modules/canvaskit/interface.js
-third_party/skia/modules/canvaskit/npm_build/bidi.html
-third_party/skia/modules/canvaskit/npm_build/example.html
-third_party/skia/modules/canvaskit/npm_build/extra.html
-third_party/skia/modules/canvaskit/npm_build/multicanvas.html
 third_party/skia/modules/canvaskit/npm_build/package.json
 third_party/skia/modules/canvaskit/npm_build/paragraphs.html
-third_party/skia/modules/canvaskit/npm_build/shaping.html
 third_party/skia/modules/canvaskit/npm_build/types/index.d.ts
 third_party/skia/modules/canvaskit/tests/canvas_test.js
 third_party/skia/modules/canvaskit/tests/core_test.js
@@ -14112,8 +14106,6 @@ third_party/skia/modules/pathkit/chaining.js
 third_party/skia/modules/pathkit/helper.js
 third_party/skia/modules/pathkit/npm-asmjs/package.json
 third_party/skia/modules/pathkit/npm-wasm/package.json
-third_party/skia/modules/pathops/src/SkOpAngle.cpp
-third_party/skia/modules/pathops/src/SkPathOpsOp.cpp
 third_party/skia/modules/skottie/src/effects/SkSLEffect.cpp
 third_party/skia/modules/skottie/src/layers/TextLayer.cpp
 third_party/skia/modules/skunicode/BUILD.gn
@@ -14133,6 +14125,7 @@ third_party/skia/site/about/_index.html
 third_party/skia/specs/web-img-decode/proposed/impl/impl.js
 third_party/skia/src/base/SkLeanWindows.h
 third_party/skia/src/codec/SkCodec.cpp
+third_party/skia/src/codec/SkCrabbyAvifCodec.cpp
 third_party/skia/src/codec/SkWebpCodec.cpp
 third_party/skia/src/codec/SkWuffsCodec.cpp
 third_party/skia/src/codec/SkXmp.cpp
@@ -14165,6 +14158,8 @@ third_party/skia/src/gpu/graphite/render/AnalyticRRectRenderStep.cpp
 third_party/skia/src/gpu/graphite/render/PerEdgeAAQuadRenderStep.cpp
 third_party/skia/src/gpu/tessellate/Tessellation.cpp
 third_party/skia/src/opts/SkRasterPipeline_opts.h
+third_party/skia/src/pathops/SkOpAngle.cpp
+third_party/skia/src/pathops/SkPathOpsOp.cpp
 third_party/skia/src/pdf/SkPDFFont.cpp
 third_party/skia/src/ports/SkFontHost_FreeType.cpp
 third_party/skia/src/ports/SkFontHost_FreeType_common.cpp
@@ -14420,6 +14415,7 @@ third_party/tflite/src/tensorflow/lite/core/c/common.h
 third_party/tflite/src/tensorflow/lite/delegates/gpu/android_hardware_buffer.h
 third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate.h
 third_party/tflite/src/tensorflow/lite/delegates/nnapi/nnapi_delegate_c_api.h
+third_party/tflite/src/tensorflow/lite/delegates/xnnpack/windows_util.cc
 third_party/tflite/src/tensorflow/lite/experimental/acceleration/mini_benchmark/libjpeg_decoder.cc
 third_party/tflite/src/tensorflow/lite/experimental/acceleration/mini_benchmark/runner.cc
 third_party/tflite/src/tensorflow/lite/g3doc/api_docs/c/group/tflite.html
@@ -15092,12 +15088,13 @@ tools/crates/create_update_cl.py
 tools/crates/gnrt/lib/test_metadata.json
 tools/crates/gnrt/lib/test_metadata2.json
 tools/crates/gnrt/lib/test_metadata3.json
+tools/crates/gnrt/lib/test_metadata4.json
 tools/crbug/crbug.js
 tools/crbug/pinpoint.js
 tools/crbug/user-activity.js
 tools/cygprofile/PRESUBMIT.py
 tools/cygprofile/android_profile_tool.py
-tools/cygprofile/orderfile_generator_backend.py
+tools/cygprofile/generate_orderfile_full.py
 tools/determinism/compare_build_artifacts.py
 tools/disable_tests/PRESUBMIT.py
 tools/disable_tests/disable.py
@@ -15170,6 +15167,7 @@ tools/json_to_struct/PRESUBMIT.py
 tools/licenses/licenses_test.py
 tools/linux/PRESUBMIT.py
 tools/mac/download_symbols.py
+tools/mac/icons/compile_car.py
 tools/mac/power/scenarios.py
 tools/mb/mb.py
 tools/md_browser/base.css
@@ -15269,8 +15267,6 @@ tools/metrics/histograms/metadata/cros/enums.xml
 tools/metrics/histograms/metadata/cros/histograms.xml
 tools/metrics/histograms/metadata/cros_audio/enums.xml
 tools/metrics/histograms/metadata/cros_audio/histograms.xml
-tools/metrics/histograms/metadata/cros_federated/enums.xml
-tools/metrics/histograms/metadata/cros_federated/histograms.xml
 tools/metrics/histograms/metadata/cros_ml/enums.xml
 tools/metrics/histograms/metadata/cros_ml/histograms.xml
 tools/metrics/histograms/metadata/cross_device/enums.xml
@@ -15286,6 +15282,7 @@ tools/metrics/histograms/metadata/data_sharing/enums.xml
 tools/metrics/histograms/metadata/data_sharing/histograms.xml
 tools/metrics/histograms/metadata/dev/enums.xml
 tools/metrics/histograms/metadata/dev/histograms.xml
+tools/metrics/histograms/metadata/disk/enums.xml
 tools/metrics/histograms/metadata/disk/histograms.xml
 tools/metrics/histograms/metadata/download/enums.xml
 tools/metrics/histograms/metadata/download/histograms.xml
@@ -15357,8 +15354,6 @@ tools/metrics/histograms/metadata/memory/enums.xml
 tools/metrics/histograms/metadata/memory/histograms.xml
 tools/metrics/histograms/metadata/mobile/enums.xml
 tools/metrics/histograms/metadata/mobile/histograms.xml
-tools/metrics/histograms/metadata/na_cl/enums.xml
-tools/metrics/histograms/metadata/na_cl/histograms.xml
 tools/metrics/histograms/metadata/navigation/enums.xml
 tools/metrics/histograms/metadata/navigation/histograms.xml
 tools/metrics/histograms/metadata/nearby/enums.xml
@@ -15404,6 +15399,7 @@ tools/metrics/histograms/metadata/plus_addresses/enums.xml
 tools/metrics/histograms/metadata/plus_addresses/histograms.xml
 tools/metrics/histograms/metadata/power/enums.xml
 tools/metrics/histograms/metadata/power/histograms.xml
+tools/metrics/histograms/metadata/prefetch/enums.xml
 tools/metrics/histograms/metadata/prefetch/histograms.xml
 tools/metrics/histograms/metadata/preloading/histograms.xml
 tools/metrics/histograms/metadata/printing/enums.xml
@@ -15412,6 +15408,7 @@ tools/metrics/histograms/metadata/privacy/enums.xml
 tools/metrics/histograms/metadata/privacy/histograms.xml
 tools/metrics/histograms/metadata/privacy_budget/enums.xml
 tools/metrics/histograms/metadata/privacy_budget/histograms.xml
+tools/metrics/histograms/metadata/private_metrics/histograms.xml
 tools/metrics/histograms/metadata/profile/enums.xml
 tools/metrics/histograms/metadata/profile/histograms.xml
 tools/metrics/histograms/metadata/quick_answers/histograms.xml
@@ -15488,6 +15485,8 @@ tools/metrics/histograms/metadata/ukm/histograms.xml
 tools/metrics/histograms/metadata/uma/enums.xml
 tools/metrics/histograms/metadata/uma/histograms.xml
 tools/metrics/histograms/metadata/update_engine/histograms.xml
+tools/metrics/histograms/metadata/user_data_importer/enums.xml
+tools/metrics/histograms/metadata/user_data_importer/histograms.xml
 tools/metrics/histograms/metadata/user_education/histograms.xml
 tools/metrics/histograms/metadata/v8/enums.xml
 tools/metrics/histograms/metadata/v8/histograms.xml
@@ -15899,7 +15898,6 @@ ui/shell_dialogs/select_file_dialog.h
 ui/shell_dialogs/selected_file_info.h
 ui/strings/ui_strings.grd
 ui/views/PRESUBMIT.py
-ui/views/accessibility/view_accessibility.cc
 ui/views/accessibility/view_ax_platform_node_delegate_win_unittest.cc
 ui/views/animation/animation_builder.cc
 ui/views/animation/animation_builder.h
diff --git a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
index b89a1efeaf..b4b097dd13 100644
--- a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
+++ b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -3797,8 +3797,6 @@ static_library("browser") {
+@@ -3794,8 +3794,6 @@ static_library("browser") {
        "download/download_auto_open_policy_handler.cc",
        "download/download_auto_open_policy_handler.h",
        "download/download_commands.cc",
@@ -11,7 +11,7 @@
        "download/download_dir_util.cc",
 --- a/chrome/browser/chrome_content_browser_client_navigation_throttles.cc
 +++ b/chrome/browser/chrome_content_browser_client_navigation_throttles.cc
-@@ -388,10 +388,6 @@ void CreateAndAddChromeThrottlesForNavig
+@@ -390,10 +390,6 @@ void CreateAndAddChromeThrottlesForNavig
    registry.AddThrottle(std::make_unique<PolicyBlocklistNavigationThrottle>(
        registry, handle.GetWebContents()->GetBrowserContext()));
  
@@ -48,7 +48,7 @@
  }  // namespace
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -129,7 +129,7 @@ class DownloadItemModelData : public bas
+@@ -128,7 +128,7 @@ class DownloadItemModelData : public bas
  
    // Danger level of the file determined based on the file type and whether
    // there was a user action associated with the download.
@@ -57,7 +57,7 @@
  
    // Whether the download is currently being revived.
    bool is_being_revived_ = false;
-@@ -513,13 +513,13 @@ void DownloadItemModel::SetShouldPreferO
+@@ -463,13 +463,13 @@ void DownloadItemModel::SetShouldPreferO
    data->should_prefer_opening_in_browser_ = preference;
  }
  
@@ -76,15 +76,15 @@
  }
 --- a/chrome/browser/extensions/api/downloads/downloads_api.cc
 +++ b/chrome/browser/extensions/api/downloads/downloads_api.cc
-@@ -38,7 +38,6 @@
- #include "chrome/browser/download/bubble/download_bubble_ui_controller.h"
+@@ -36,7 +36,6 @@
+ #include "chrome/browser/browser_process.h"
  #include "chrome/browser/download/download_core_service.h"
  #include "chrome/browser/download/download_core_service_factory.h"
 -#include "chrome/browser/download/download_danger_prompt.h"
  #include "chrome/browser/download/download_file_icon_extractor.h"
  #include "chrome/browser/download/download_open_prompt.h"
  #include "chrome/browser/download/download_prefs.h"
-@@ -1378,9 +1377,6 @@ DownloadsAcceptDangerFunction::Downloads
+@@ -1379,9 +1378,6 @@ DownloadsAcceptDangerFunction::Downloads
  
  DownloadsAcceptDangerFunction::~DownloadsAcceptDangerFunction() = default;
  
@@ -94,7 +94,7 @@
  ExtensionFunction::ResponseAction DownloadsAcceptDangerFunction::Run() {
    std::optional<downloads::AcceptDanger::Params> params =
        downloads::AcceptDanger::Params::Create(args());
-@@ -1430,44 +1426,7 @@ void DownloadsAcceptDangerFunction::Prom
+@@ -1431,44 +1427,7 @@ void DownloadsAcceptDangerFunction::Prom
      return;
    }
    RecordApiFunctions(DownloadsFunctionName::kDownloadsFunctionAcceptDanger);
@@ -245,15 +245,15 @@
    sources = [
      "chrome_controller_client.cc",
      "chrome_controller_client.h",
-@@ -73,6 +74,7 @@ static_library("safe_browsing") {
-     "//mojo/public/cpp/system",
+@@ -77,6 +78,7 @@ static_library("safe_browsing") {
+     "//services/metrics/public/cpp:ukm_builders",
      "//services/preferences/public/cpp",
    ]
 +  }
  
    if (enable_extensions) {
      deps += [ "//chrome/browser/ui/web_applications" ]
-@@ -598,6 +600,7 @@ static_library("advanced_protection") {
+@@ -601,6 +603,7 @@ static_library("advanced_protection") {
  }
  
  source_set("metrics_collector") {
@@ -261,7 +261,7 @@
    sources = [
      "safe_browsing_metrics_collector_factory.cc",
      "safe_browsing_metrics_collector_factory.h",
-@@ -617,6 +620,7 @@ source_set("metrics_collector") {
+@@ -620,6 +623,7 @@ source_set("metrics_collector") {
      "//components/safe_browsing/core/common:safe_browsing_prefs",
      "//content/public/browser",
    ]
@@ -271,25 +271,25 @@
  source_set("unit_tests") {
 --- a/chrome/browser/ui/views/download/BUILD.gn
 +++ b/chrome/browser/ui/views/download/BUILD.gn
-@@ -27,7 +27,6 @@ source_set("download") {
-     "bubble/download_dialog_view.h",
-     "bubble/download_toolbar_ui_controller.cc",
-     "bubble/download_toolbar_ui_controller.h",
+@@ -6,7 +6,6 @@ assert(is_win || is_mac || is_linux || i
+ 
+ source_set("download") {
+   sources = [
 -    "download_danger_prompt_views.cc",
      "download_in_progress_dialog_view.cc",
      "download_in_progress_dialog_view.h",
-     "download_item_view.cc",
+   ]
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -25,7 +25,6 @@
+@@ -24,7 +24,6 @@
+ #include "base/threading/thread.h"
  #include "base/values.h"
  #include "chrome/browser/browser_process.h"
- #include "chrome/browser/download/bubble/download_bubble_ui_controller.h"
 -#include "chrome/browser/download/download_danger_prompt.h"
  #include "chrome/browser/download/download_history.h"
  #include "chrome/browser/download/download_item_model.h"
  #include "chrome/browser/download/download_item_warning_data.h"
-@@ -541,12 +540,6 @@ void DownloadsDOMHandler::RemoveDownload
+@@ -550,12 +549,6 @@ void DownloadsDOMHandler::RemoveDownload
    IdSet ids;
  
    for (download::DownloadItem* download : to_remove) {
@@ -300,7 +300,7 @@
 -    }
 -
      DownloadItemModel item_model(download);
-     if (!item_model.ShouldShowInShelf() ||
+     if (!item_model.ShouldShowInUi() ||
          download->GetState() == download::DownloadItem::IN_PROGRESS) {
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.h
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.h
@@ -314,7 +314,7 @@
  #include "chrome/browser/ui/webui/downloads/downloads_list_tracker.h"
 --- a/chrome/renderer/chrome_content_renderer_client.cc
 +++ b/chrome/renderer/chrome_content_renderer_client.cc
-@@ -112,7 +112,6 @@
+@@ -110,7 +110,6 @@
  #include "components/pdf/common/pdf_util.h"
  #include "components/permissions/features.h"
  #include "components/safe_browsing/buildflags.h"
diff --git a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
index b31047d5a9..c0cf68af34 100644
--- a/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
+++ b/patches/core/inox-patchset/0003-disable-autofill-download-manager.patch
@@ -1,6 +1,6 @@
 --- a/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
 +++ b/components/autofill/core/browser/crowdsourcing/autofill_crowdsourcing_manager.cc
-@@ -938,93 +938,6 @@ std::tuple<GURL, std::string> AutofillCr
+@@ -925,94 +925,6 @@ std::tuple<GURL, std::string> AutofillCr
  }
  
  bool AutofillCrowdsourcingManager::StartRequest(FormRequestData request_data) {
@@ -13,15 +13,16 @@
 -#if BUILDFLAG(IS_IOS)
 -  DCHECK(!request_data.isolation_info);
 -#else
--  DCHECK((request_data.request_type == RequestType::kRequestUpload) ==
--         !request_data.isolation_info);
+-  DCHECK(
+-      (request_data.request_type == CrowdsourcingRequestType::kRequestUpload) ==
+-      !request_data.isolation_info);
 -#endif
 -  // Get the URL and method to use for this request.
 -  auto [request_url, method] = GetRequestURLAndMethod(request_data);
 -
 -  // Track the URL length for GET queries because the URL length can be in the
 -  // thousands when rich metadata is enabled.
--  if (request_data.request_type == RequestType::kRequestQuery &&
+-  if (request_data.request_type == CrowdsourcingRequestType::kRequestQuery &&
 -      method == "GET") {
 -    base::UmaHistogramCounts100000(kUmaGetUrlLength,
 -                                   request_url.spec().length());
diff --git a/patches/core/inox-patchset/0005-disable-default-extensions.patch b/patches/core/inox-patchset/0005-disable-default-extensions.patch
index b4f5264901..af4a114666 100644
--- a/patches/core/inox-patchset/0005-disable-default-extensions.patch
+++ b/patches/core/inox-patchset/0005-disable-default-extensions.patch
@@ -10,7 +10,7 @@
        extension_misc::kAssessmentAssistantExtensionId,
 --- a/chrome/browser/extensions/component_loader.cc
 +++ b/chrome/browser/extensions/component_loader.cc
-@@ -418,11 +418,6 @@ void ComponentLoader::AddWebStoreApp() {
+@@ -415,11 +415,6 @@ void ComponentLoader::AddWebStoreApp() {
      return;
    }
  #endif
diff --git a/patches/core/inox-patchset/0021-disable-rlz.patch b/patches/core/inox-patchset/0021-disable-rlz.patch
index 7b8fa31296..dd86cc586a 100644
--- a/patches/core/inox-patchset/0021-disable-rlz.patch
+++ b/patches/core/inox-patchset/0021-disable-rlz.patch
@@ -2,7 +2,7 @@
 
 --- a/BUILD.gn
 +++ b/BUILD.gn
-@@ -476,14 +476,6 @@ group("gn_all") {
+@@ -469,14 +469,6 @@ group("gn_all") {
        ]
      }
  
diff --git a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
index 9d2887bf58..b1bd2335f3 100644
--- a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
+++ b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
@@ -121,17 +121,6 @@ by default.
    auto resource_request = std::make_unique<network::ResourceRequest>();
    resource_request->url = !upload_url_for_testing_.is_empty()
                                ? upload_url_for_testing_
---- a/chrome/browser/nacl_host/nacl_infobar_delegate.cc
-+++ b/chrome/browser/nacl_host/nacl_infobar_delegate.cc
-@@ -33,7 +33,7 @@ std::u16string NaClInfoBarDelegate::GetL
- }
- 
- GURL NaClInfoBarDelegate::GetLinkURL() const {
--  return GURL("https://support.google.com/chrome/?p=ib_nacl");
-+  return GURL("trk:143:https://support.google.com/chrome/?p=ib_nacl");
- }
- 
- std::u16string NaClInfoBarDelegate::GetMessageText() const {
 --- a/chrome/browser/profiles/profile_avatar_downloader.cc
 +++ b/chrome/browser/profiles/profile_avatar_downloader.cc
 @@ -20,7 +20,7 @@
@@ -167,7 +156,7 @@ by default.
  DownloadFeedbackFactory* DownloadFeedback::factory_ = nullptr;
 --- a/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc
 +++ b/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc
-@@ -274,7 +274,7 @@ GURL SpellcheckHunspellDictionary::GetDi
+@@ -277,7 +277,7 @@ GURL SpellcheckHunspellDictionary::GetDi
    DCHECK(!bdict_file.empty());
  
    static const char kDownloadServerUrl[] =
@@ -274,7 +263,7 @@ by default.
  
 --- a/components/google/core/common/google_util.cc
 +++ b/components/google/core/common/google_util.cc
-@@ -147,7 +147,7 @@ bool IsGoogleSearchSubdomainUrl(const GU
+@@ -152,7 +152,7 @@ BASE_FEATURE(kIsViewerGoogleSearchUrl,
  
  // Global functions -----------------------------------------------------------
  
@@ -304,7 +293,7 @@ by default.
      "https://history.google.com/history/api/lookup?client=audio";
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -70,7 +70,7 @@ const int ClientSideDetectionService::kN
+@@ -68,7 +68,7 @@ const int ClientSideDetectionService::kN
  const int ClientSideDetectionService::kPositiveCacheIntervalMinutes = 30;
  
  const char ClientSideDetectionService::kClientReportPhishingUrl[] =
diff --git a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
index d295266bee..520c3c73d2 100644
--- a/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
+++ b/patches/core/iridium-browser/safe_browsing-disable-reporting-of-safebrowsing-over.patch
@@ -13,7 +13,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
 
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -340,6 +340,10 @@ void ClientSideDetectionService::StartCl
+@@ -281,6 +281,10 @@ void ClientSideDetectionService::StartCl
      return;
    }
  
@@ -24,7 +24,7 @@ This prevents trk:148 (phishing) and trk:149 (malware).
    std::string request_data;
    request->SerializeToString(&request_data);
  
-@@ -421,6 +425,7 @@ void ClientSideDetectionService::StartCl
+@@ -362,6 +366,7 @@ void ClientSideDetectionService::StartCl
        base::BindOnce(&WebUIInfoSingleton::AddToClientPhishingRequestsSent,
                       base::Unretained(WebUIInfoSingleton::GetInstance()),
                       std::move(request), access_token));
diff --git a/patches/core/ungoogled-chromium/block-requests.patch b/patches/core/ungoogled-chromium/block-requests.patch
index a52e2a8497..d6474e7dbd 100644
--- a/patches/core/ungoogled-chromium/block-requests.patch
+++ b/patches/core/ungoogled-chromium/block-requests.patch
@@ -18,7 +18,7 @@
    // Note: If there is an ongoing request, abandon it. It's possible that
 --- a/chrome/browser/new_tab_page/promos/promo_service.cc
 +++ b/chrome/browser/new_tab_page/promos/promo_service.cc
-@@ -176,6 +176,7 @@ PromoService::PromoService(
+@@ -171,6 +171,7 @@ PromoService::PromoService(
  PromoService::~PromoService() = default;
  
  void PromoService::Refresh() {
@@ -48,7 +48,7 @@
  void ProfileResetter::OnDefaultSettingsFetched() {
 --- a/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc
 +++ b/chrome/browser/spellchecker/spellcheck_hunspell_dictionary.cc
-@@ -281,6 +281,7 @@ GURL SpellcheckHunspellDictionary::GetDi
+@@ -284,6 +284,7 @@ GURL SpellcheckHunspellDictionary::GetDi
  }
  
  void SpellcheckHunspellDictionary::DownloadDictionary(GURL url) {
diff --git a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
index 34195079ed..49006b6696 100644
--- a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
+++ b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
@@ -60,7 +60,7 @@
      return GURL(parts.scheme.is_valid() ? text : FixupPath(text));
 --- a/content/browser/child_process_security_policy_impl.cc
 +++ b/content/browser/child_process_security_policy_impl.cc
-@@ -938,6 +938,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
+@@ -958,6 +958,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
    RegisterWebSafeScheme(url::kWssScheme);
  #endif  // BUILDFLAG(ENABLE_WEBSOCKETS)
    RegisterWebSafeScheme(url::kDataScheme);
@@ -70,7 +70,7 @@
    // other origins, so we should not treat them as web safe. Remove callers of
 --- a/net/BUILD.gn
 +++ b/net/BUILD.gn
-@@ -1108,6 +1108,8 @@ component("net") {
+@@ -1113,6 +1113,8 @@ component("net") {
      "url_request/static_http_user_agent_settings.cc",
      "url_request/static_http_user_agent_settings.h",
      "url_request/storage_access_status_cache.h",
@@ -173,7 +173,7 @@
      return NetLogURLRequestConstructorParams(url, priority_,
 --- a/net/url_request/url_request_context_builder.cc
 +++ b/net/url_request/url_request_context_builder.cc
-@@ -53,6 +53,7 @@
+@@ -55,6 +55,7 @@
  #include "net/socket/network_binding_client_socket_factory.h"
  #include "net/ssl/ssl_config_service_defaults.h"
  #include "net/url_request/static_http_user_agent_settings.h"
@@ -181,7 +181,7 @@
  #include "net/url_request/url_request_context.h"
  #include "net/url_request/url_request_job_factory.h"
  #include "url/url_constants.h"
-@@ -612,6 +613,9 @@ std::unique_ptr<URLRequestContext> URLRe
+@@ -621,6 +622,9 @@ std::unique_ptr<URLRequestContext> URLRe
    }
    protocol_handlers_.clear();
  
diff --git a/patches/core/ungoogled-chromium/disable-crash-reporter.patch b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
index 2cc5e5659d..9d4206c0fc 100644
--- a/patches/core/ungoogled-chromium/disable-crash-reporter.patch
+++ b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -2693,24 +2693,6 @@ void ChromeContentBrowserClient::AppendE
+@@ -2711,24 +2711,6 @@ void ChromeContentBrowserClient::AppendE
      command_line->AppendSwitchASCII(switches::kMetricsClientID,
                                      client_info->client_id);
    }
diff --git a/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch b/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
index af4e050372..6961231a92 100644
--- a/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
+++ b/patches/core/ungoogled-chromium/disable-fonts-googleapis-references.patch
@@ -24,7 +24,7 @@
      .english :lang(zh) {display: none}
 --- a/components/dom_distiller/core/javascript/dom_distiller_viewer.js
 +++ b/components/dom_distiller/core/javascript/dom_distiller_viewer.js
-@@ -109,7 +109,7 @@ function maybeSetWebFont() {
+@@ -153,7 +153,7 @@ function maybeSetWebFont() {
    }
  
    const e = document.createElement('link');
diff --git a/patches/core/ungoogled-chromium/disable-gaia.patch b/patches/core/ungoogled-chromium/disable-gaia.patch
index ddc0e383d6..df2bfadef3 100644
--- a/patches/core/ungoogled-chromium/disable-gaia.patch
+++ b/patches/core/ungoogled-chromium/disable-gaia.patch
@@ -3,7 +3,7 @@
 
 --- a/google_apis/gaia/gaia_auth_fetcher.cc
 +++ b/google_apis/gaia/gaia_auth_fetcher.cc
-@@ -250,62 +250,6 @@ void GaiaAuthFetcher::CreateAndStartGaia
+@@ -232,61 +232,6 @@ void GaiaAuthFetcher::CreateAndStartGaia
      network::mojom::CredentialsMode credentials_mode,
      const net::NetworkTrafficAnnotationTag& traffic_annotation) {
    DCHECK(!fetch_pending_) << "Tried to fetch two things at once!";
@@ -29,8 +29,7 @@
 -  if (!body.empty())
 -    resource_request->method = "POST";
 -
--  if (!headers.empty())
--    resource_request->headers.AddHeadersFromString(headers);
+-  resource_request->headers = request_headers;
 -
 -  resource_request->credentials_mode = credentials_mode;
 -
@@ -44,7 +43,7 @@
 -  url_loader_->SetAllowHttpErrorResults(true);
 -
 -  VLOG(2) << "Gaia fetcher URL: " << gaia_gurl.spec();
--  VLOG(2) << "Gaia fetcher headers: " << headers;
+-  VLOG(2) << "Gaia fetcher headers: " << request_headers.ToString();
 -  VLOG(2) << "Gaia fetcher body: " << body;
 -
 -  // Fetchers are sometimes cancelled because a network change was detected,
diff --git a/patches/core/ungoogled-chromium/disable-google-host-detection.patch b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
index a95c299e3f..bdb3c9dc78 100644
--- a/patches/core/ungoogled-chromium/disable-google-host-detection.patch
+++ b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
@@ -197,7 +197,7 @@
  #if BUILDFLAG(ENABLE_BOUND_SESSION_CREDENTIALS)
 --- a/components/google/core/common/google_util.cc
 +++ b/components/google/core/common/google_util.cc
-@@ -32,117 +32,6 @@ namespace google_util {
+@@ -33,117 +33,6 @@ namespace google_util {
  
  namespace {
  
@@ -314,8 +314,8 @@
 -
  }  // namespace
  
- // Global functions -----------------------------------------------------------
-@@ -150,13 +39,6 @@ bool IsGoogleSearchSubdomainUrl(const GU
+ BASE_FEATURE(kIsViewerGoogleSearchUrl,
+@@ -155,13 +44,6 @@ BASE_FEATURE(kIsViewerGoogleSearchUrl,
  const char kGoogleHomepageURL[] = "trk:113:https://www.google.com/";
  
  bool HasGoogleSearchQueryParam(std::string_view str) {
@@ -329,7 +329,7 @@
    return false;
  }
  
-@@ -167,170 +49,53 @@ std::string GetGoogleLocale(const std::s
+@@ -172,175 +54,53 @@ std::string GetGoogleLocale(const std::s
  
  GURL AppendGoogleLocaleParam(const GURL& url,
                               const std::string& application_locale) {
@@ -445,7 +445,12 @@
 -  // Make sure the path is a known search path.
 -  std::string_view path(url.path_piece());
 -  bool is_home_page_base = IsPathHomePageBase(path);
--  if (!is_home_page_base && path != "/search" && path != "/imgres") {
+-  bool is_search_url =
+-      is_home_page_base || path == "/search" || path == "/imgres";
+-  if (base::FeatureList::IsEnabled(kIsViewerGoogleSearchUrl)) {
+-    is_search_url |= path == "/viewer" || base::StartsWith(path, "/viewer/");
+-  }
+-  if (!is_search_url) {
 -    return false;
 -  }
 -
@@ -565,7 +570,7 @@
  bool IsProbablyGoogleSearchUrl(const GURL& url) {
 --- a/components/search_engines/template_url.cc
 +++ b/components/search_engines/template_url.cc
-@@ -615,10 +615,7 @@ std::u16string TemplateURLRef::SearchTer
+@@ -608,10 +608,7 @@ std::u16string TemplateURLRef::SearchTer
  bool TemplateURLRef::HasGoogleBaseURLs(
      const SearchTermsData& search_terms_data) const {
    ParseIfNecessary(search_terms_data);
@@ -681,7 +686,7 @@
  }  // namespace variations
 --- a/content/browser/preloading/prefetch/prefetch_container.cc
 +++ b/content/browser/preloading/prefetch/prefetch_container.cc
-@@ -988,7 +988,7 @@ void PrefetchContainer::AddRedirectHop(c
+@@ -949,7 +949,7 @@ void PrefetchContainer::AddRedirectHop(c
    // some which are added by throttles). These aren't yet supported for
    // prefetch, including browsing topics and client hints.
    net::HttpRequestHeaders updated_headers;
@@ -692,7 +697,7 @@
  
 --- a/net/base/url_util.cc
 +++ b/net/base/url_util.cc
-@@ -536,28 +536,6 @@ bool HasGoogleHost(const GURL& url) {
+@@ -538,28 +538,6 @@ bool HasGoogleHost(const GURL& url) {
  }
  
  bool IsGoogleHost(std::string_view host) {
diff --git a/patches/core/ungoogled-chromium/disable-mei-preload.patch b/patches/core/ungoogled-chromium/disable-mei-preload.patch
index 7caad77ce5..0b4259d166 100644
--- a/patches/core/ungoogled-chromium/disable-mei-preload.patch
+++ b/patches/core/ungoogled-chromium/disable-mei-preload.patch
@@ -7,7 +7,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -368,7 +368,6 @@ if (!is_android && !is_mac) {
+@@ -367,7 +367,6 @@ if (!is_android && !is_mac) {
      }
  
      data_deps += [
@@ -15,7 +15,7 @@
        "//components/webapps/isolated_web_apps/preload:component",
        "//third_party/widevine/cdm",
      ]
-@@ -1177,7 +1176,6 @@ if (is_win) {
+@@ -1181,7 +1180,6 @@ if (is_win) {
        ":optimization_guide_library",
        ":swiftshader_binaries",
        ":widevine_cdm_library",
@@ -25,7 +25,7 @@
  
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -98,11 +98,6 @@ group("resources") {
+@@ -104,11 +104,6 @@ group("resources") {
      ]
    }
  
@@ -35,5 +35,5 @@
 -    ]
 -  }
  
-   if (is_win || is_mac || is_linux || is_chromeos) {
-     public_deps += [ "connectors_internals:resources" ]
+   if (is_win || is_mac || is_linux || is_chromeos || is_desktop_android) {
+     public_deps += [ "discards:resources" ]
diff --git a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
index 1b4484db52..0d3431b059 100644
--- a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
+++ b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
@@ -178,7 +178,7 @@
  void AdAuctionServiceImpl::JoinInterestGroup(
 --- a/content/browser/storage_partition_impl.cc
 +++ b/content/browser/storage_partition_impl.cc
-@@ -1485,38 +1485,7 @@ void StoragePartitionImpl::Initialize(
+@@ -1484,38 +1484,7 @@ void StoragePartitionImpl::Initialize(
  
    bucket_manager_ = std::make_unique<BucketManager>(this);
  
@@ -217,7 +217,7 @@
  
    GeneratedCodeCacheSettings settings =
        GetContentClient()->browser()->GetGeneratedCodeCacheSettings(
-@@ -1545,8 +1514,6 @@ void StoragePartitionImpl::Initialize(
+@@ -1544,8 +1513,6 @@ void StoragePartitionImpl::Initialize(
  
    font_access_manager_ = FontAccessManager::Create();
  
@@ -226,7 +226,7 @@
  
  #if BUILDFLAG(ENABLE_LIBRARY_CDMS)
    if (is_in_memory()) {
-@@ -1570,11 +1537,6 @@ void StoragePartitionImpl::Initialize(
+@@ -1569,11 +1536,6 @@ void StoragePartitionImpl::Initialize(
          std::make_unique<SharedStorageHeaderObserver>(this);
    }
  
@@ -240,7 +240,7 @@
  void StoragePartitionImpl::ResetSessionStorageConnections() {
 --- a/content/browser/web_contents/web_contents_impl.cc
 +++ b/content/browser/web_contents/web_contents_impl.cc
-@@ -4127,12 +4127,6 @@ void WebContentsImpl::Init(const WebCont
+@@ -4196,12 +4196,6 @@ void WebContentsImpl::Init(const WebCont
    DateTimeChooser::CreateDateTimeChooser(this);
  #endif
  
diff --git a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
index 531dfbfa7d..23902a9d14 100644
--- a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
+++ b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
@@ -116,7 +116,7 @@
  
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -130,7 +130,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -135,7 +135,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterStringPref(prefs::kWebRTCUDPPortRange, std::string());
    registry->RegisterBooleanPref(prefs::kWebRtcEventLogCollectionAllowed, false);
    registry->RegisterListPref(prefs::kWebRtcLocalIpsAllowedUrls);
diff --git a/patches/core/ungoogled-chromium/extensions-manifestv2.patch b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
index 15c375348d..a8584f98fd 100644
--- a/patches/core/ungoogled-chromium/extensions-manifestv2.patch
+++ b/patches/core/ungoogled-chromium/extensions-manifestv2.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/extensions/api/developer_private/extension_info_generator.cc
 +++ b/chrome/browser/extensions/api/developer_private/extension_info_generator.cc
-@@ -865,19 +865,6 @@ void ExtensionInfoGenerator::FillExtensi
+@@ -864,19 +864,6 @@ void ExtensionInfoGenerator::FillExtensi
          toolbar_actions_model->IsActionPinned(extension.id());
    }
  
@@ -139,7 +139,7 @@
    auto* mv2_experiment_manager = ManifestV2ExperimentManager::Get(profile);
 --- a/extensions/common/extension.cc
 +++ b/extensions/common/extension.cc
-@@ -104,13 +104,6 @@ bool IsManifestSupported(int manifest_ve
+@@ -103,13 +103,6 @@ bool IsManifestSupported(int manifest_ve
    // Supported versions are always safe.
    if (manifest_version >= kMinimumSupportedManifestVersion &&
        manifest_version <= kMaximumSupportedManifestVersion) {
diff --git a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
index d4eb4dbbe0..d14aabc210 100644
--- a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
+++ b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -369,7 +369,6 @@ if (!is_android && !is_mac) {
+@@ -368,7 +368,6 @@ if (!is_android && !is_mac) {
  
      data_deps += [
        "//chrome/browser/resources/media/mei_preload:component",
@@ -11,7 +11,7 @@
        "//components/webapps/isolated_web_apps/preload:component",
        "//third_party/widevine/cdm",
      ]
-@@ -933,8 +932,6 @@ if (is_win) {
+@@ -937,8 +936,6 @@ if (is_win) {
  
    bundle_data("chrome_framework_resources") {
      sources = [
@@ -20,7 +20,7 @@
        # This image is used to badge the lock icon in the
        # authentication dialogs, such as those used for installation
        # from disk image and Keystone promotion (if so enabled).  It
-@@ -1181,7 +1178,6 @@ if (is_win) {
+@@ -1185,7 +1182,6 @@ if (is_win) {
        ":swiftshader_binaries",
        ":widevine_cdm_library",
        "//chrome/browser/resources/media/mei_preload:component_bundle",
@@ -30,7 +30,7 @@
  
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -796,10 +796,6 @@ static_library("browser") {
+@@ -797,10 +797,6 @@ static_library("browser") {
      "navigation_predictor/navigation_predictor_metrics_document_data.h",
      "navigation_predictor/navigation_predictor_preconnect_client.cc",
      "navigation_predictor/navigation_predictor_preconnect_client.h",
@@ -41,7 +41,7 @@
      "navigation_predictor/search_engine_preconnector_keyed_service_factory.cc",
      "navigation_predictor/search_engine_preconnector_keyed_service_factory.h",
      "net/cert_verifier_service_time_updater.cc",
-@@ -3665,10 +3661,6 @@ static_library("browser") {
+@@ -3678,10 +3674,6 @@ static_library("browser") {
    } else {
      #!is_android
      sources += [
@@ -52,7 +52,7 @@
        "accessibility/caption_bubble_context_browser.h",
        "accessibility/embedded_a11y_extension_loader.cc",
        "accessibility/embedded_a11y_extension_loader.h",
-@@ -4386,8 +4378,6 @@ static_library("browser") {
+@@ -4341,8 +4333,6 @@ static_library("browser") {
        "//chrome/app:command_ids",
        "//chrome/app/theme:chrome_unscaled_resources_grit",
        "//chrome/app/vector_icons",
@@ -60,11 +60,11 @@
 -      "//chrome/browser/accessibility/tree_fixing:service",
        "//chrome/browser/actor",
        "//chrome/browser/actor:impl",
-       "//chrome/browser/apps/app_service",
-@@ -4408,10 +4398,6 @@ static_library("browser") {
-       "//chrome/browser/metrics/desktop_session_duration",
-       "//chrome/browser/new_tab_page/chrome_colors",
+       "//chrome/browser/actor/ui",
+@@ -4369,10 +4359,6 @@ static_library("browser") {
+       "//chrome/browser/performance_manager/user_tuning",
        "//chrome/browser/policy:path_parser",
+       "//chrome/browser/resource_coordinator",
 -      "//chrome/browser/screen_ai:prefs",
 -      "//chrome/browser/screen_ai:screen_ai_install_state",
 -      "//chrome/browser/screen_ai:screen_ai_service_router_factory",
@@ -72,7 +72,15 @@
        "//chrome/browser/search/background",
        "//chrome/browser/sharing_hub",
        "//chrome/browser/smart_card",
-@@ -4573,9 +4559,6 @@ static_library("browser") {
+@@ -4416,7 +4402,6 @@ static_library("browser") {
+       "//chrome/browser/ui/webui/access_code_cast",
+       "//chrome/browser/ui/webui/actor_internals",
+       "//chrome/browser/ui/webui/app_service_internals",
+-      "//chrome/browser/ui/webui/autofill_ml_internals",
+       "//chrome/browser/ui/webui/color_pipeline_internals",
+       "//chrome/browser/ui/webui/infobar_internals",
+       "//chrome/browser/ui/webui/infobar_internals:impl",
+@@ -4536,9 +4521,6 @@ static_library("browser") {
        "//components/webauthn/core/browser",
        "//components/webauthn/core/browser:passkey_model",
        "//services/device/public/cpp/hid",
@@ -82,7 +90,7 @@
        "//third_party/crashpad/crashpad/client:common",
        "//third_party/zxcvbn-cpp",
        "//ui/views",
-@@ -4695,8 +4678,6 @@ static_library("browser") {
+@@ -4644,8 +4626,6 @@ static_library("browser") {
        sources += [
          "accessibility/soda_installer_impl.cc",
          "accessibility/soda_installer_impl.h",
@@ -91,7 +99,7 @@
          "device_identity/device_oauth2_token_store_desktop.cc",
          "device_identity/device_oauth2_token_store_desktop.h",
          "device_notifications/device_status_icon_renderer.cc",
-@@ -4735,8 +4716,6 @@ static_library("browser") {
+@@ -4701,8 +4681,6 @@ static_library("browser") {
          "profiles/profile_activity_metrics_recorder.h",
          "profiles/profile_list_desktop.cc",
          "profiles/profile_list_desktop.h",
@@ -100,15 +108,15 @@
          "signin/force_signin_verifier.cc",
          "signin/force_signin_verifier.h",
          "signin/signin_manager.cc",
-@@ -5541,7 +5520,6 @@ static_library("browser") {
+@@ -5511,7 +5489,6 @@ static_library("browser") {
        "//chrome/browser/policy:system_features_disable_list",
-       "//chrome/browser/push_notification:push_notification",
+       "//chrome/browser/push_notification",
        "//chrome/browser/resources:app_icon_resources",
 -      "//chrome/browser/screen_ai:screen_ai_dlc_installer",
        "//chrome/browser/sharesheet",
        "//chrome/browser/support_tool/ash",
        "//chrome/browser/ui/ash/accelerator",
-@@ -5808,7 +5786,6 @@ static_library("browser") {
+@@ -5775,7 +5752,6 @@ static_library("browser") {
        "//remoting/host/chromeos:browser_interop",
        "//remoting/host/chromeos:features",
        "//services/device/public/cpp/geolocation",
@@ -126,13 +134,13 @@
      "//components/paint_preview/browser",
      "//components/paint_preview/common",
      "//components/paint_preview/public",
-     "//content/public/browser:browser",
--    "//services/screen_ai/public/mojom:mojom",
+     "//content/public/browser",
+-    "//services/screen_ai/public/mojom",
    ]
  }
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -246,12 +246,10 @@
+@@ -247,12 +247,10 @@
  #if BUILDFLAG(IS_CHROMEOS)
  #include "chrome/browser/chromeos/extensions/telemetry/chromeos_telemetry_extensions_browser_api_provider.h"
  #include "chrome/browser/hid/hid_pinned_notification.h"
@@ -145,7 +153,7 @@
  #include "chrome/browser/usb/usb_status_icon.h"
  #include "components/enterprise/browser/controller/chrome_browser_cloud_management_controller.h"
  #endif
-@@ -1382,9 +1380,6 @@ void BrowserProcessImpl::PreMainMessageL
+@@ -1384,9 +1382,6 @@ void BrowserProcessImpl::PreMainMessageL
    soda_installer_impl_ = std::make_unique<speech::SodaInstallerImplChromeOS>();
  #endif  // BUILDFLAG(IS_CHROMEOS)
  
@@ -157,7 +165,7 @@
    bool result = base::PathService::Get(chrome::DIR_USER_DATA, &user_data_dir);
 --- a/chrome/browser/browser_process_impl.h
 +++ b/chrome/browser/browser_process_impl.h
-@@ -92,9 +92,6 @@ namespace speech {
+@@ -90,9 +90,6 @@ namespace speech {
  class SodaInstaller;
  }  // namespace speech
  
@@ -167,7 +175,7 @@
  
  // Real implementation of BrowserProcess that creates and returns the services.
  class BrowserProcessImpl : public BrowserProcess,
-@@ -439,9 +436,6 @@ class BrowserProcessImpl : public Browse
+@@ -437,9 +434,6 @@ class BrowserProcessImpl : public Browse
    // to ensure that SodaInstallerImpl gets destructed first.
    std::unique_ptr<speech::SodaInstaller> soda_installer_impl_;
  
@@ -216,21 +224,31 @@
  
  void BindModelBroker(
      content::RenderFrameHost* frame_host,
-@@ -560,11 +537,6 @@ void PopulateChromeFrameBinders(
-         base::BindRepeating(&web_app::SubAppsServiceImpl::CreateIfAllowed));
+@@ -554,10 +531,6 @@ void PopulateChromeFrameBinders(
+         &web_app::SubAppsServiceImpl::CreateIfAllowed);
    }
  
--  map->Add<screen_ai::mojom::ScreenAIAnnotator>(
--      base::BindRepeating(&BindScreenAIAnnotator));
+-  map->Add<screen_ai::mojom::ScreenAIAnnotator>(&BindScreenAIAnnotator);
 -
 -  map->Add<screen_ai::mojom::Screen2xMainContentExtractor>(
--      base::BindRepeating(&BindScreen2xMainContentExtractor));
+-      &BindScreen2xMainContentExtractor);
  #endif
  
  #if BUILDFLAG(IS_WIN)
+--- a/chrome/browser/chrome_browser_interface_binders_webui.cc
++++ b/chrome/browser/chrome_browser_interface_binders_webui.cc
+@@ -802,8 +802,6 @@ void PopulateChromeWebUIFrameBinders(
+       ::mojom::app_service_internals::AppServiceInternalsPageHandler,
+       AppServiceInternalsUI>(map);
+ 
+-  RegisterWebUIControllerInterfaceBinder<
+-      ::autofill_ml_internals::mojom::PageHandler, AutofillMlInternalsUI>(map);
+ 
+   RegisterWebUIControllerInterfaceBinder<
+       access_code_cast::mojom::PageHandlerFactory,
 --- a/chrome/browser/component_updater/registration.cc
 +++ b/chrome/browser/component_updater/registration.cc
-@@ -66,8 +66,6 @@
+@@ -64,8 +64,6 @@
  
  #if BUILDFLAG(IS_ANDROID)
  #include "chrome/browser/component_updater/real_time_url_checks_allowlist_component_installer.h"
@@ -239,7 +257,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
  
  #if !BUILDFLAG(IS_ANDROID)
-@@ -229,9 +227,6 @@ void RegisterComponentsForUpdate() {
+@@ -221,9 +219,6 @@ void RegisterComponentsForUpdate() {
  
    RegisterAutofillStatesComponent(cus, g_browser_process->local_state());
  
@@ -364,75 +382,57 @@
        {"tooltipDocumentOutline", IDS_PDF_TOOLTIP_DOCUMENT_OUTLINE},
 --- a/chrome/browser/permissions/BUILD.gn
 +++ b/chrome/browser/permissions/BUILD.gn
-@@ -42,8 +42,6 @@ source_set("permissions") {
-     "permissions_aiv1_handler.h",
-     "prediction_based_permission_ui_selector.cc",
-     "prediction_based_permission_ui_selector.h",
--    "prediction_model_handler_provider.cc",
--    "prediction_model_handler_provider.h",
-     "prediction_service_factory.cc",
-     "prediction_service_factory.h",
-     "prediction_service_request.cc",
---- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-+++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -249,30 +249,6 @@ void PredictionBasedPermissionUiSelector
-   if (snapshot.drawsNothing()) {
-     VLOG(1) << "[PermissionsAIv3] The page's snapshot is empty";
-   } else {
--    PredictionModelHandlerProvider* prediction_model_handler_provider =
--        PredictionModelHandlerProviderFactory::GetForBrowserContext(profile_);
--    LogPredictionModelHandlerProviderForAiv3(
--        prediction_model_handler_provider != nullptr);
--    if (prediction_model_handler_provider) {
--      PermissionsAiv3Handler* aiv3_handler =
--          prediction_model_handler_provider->GetPermissionsAiv3Handler(
--              request_metadata.request_type);
--
--      LogPermissionsAiv3HandlerForAiv3(aiv3_handler != nullptr);
--      if (aiv3_handler) {
--        VLOG(1) << "[PermissionsAIv3] Inquire model";
--
--        aiv3_handler->ExecuteModel(
--            base::BindRepeating(
--                &PredictionBasedPermissionUiSelector::
--                    OnDeviceAiv3ModelExecutionCallback,
--                weak_ptr_factory_.GetWeakPtr(),
--                /*model_inquire_start_time=*/base::TimeTicks::Now(),
--                std::move(features), std::move(request_metadata)),
--            std::make_unique<SkBitmap>(snapshot));
--        return;
--      }
--    }
-     VLOG(1) << "[PermissionsAIv3] On device AI model session unavailable";
-   }
-   InquireServerModel(features, std::move(request_metadata),
-@@ -404,22 +380,6 @@ void PredictionBasedPermissionUiSelector
-     if (inner_text.size() > kPageContentMaxLength) {
-       inner_text.resize(kPageContentMaxLength);
-     }
--    if (PredictionModelHandlerProvider* prediction_model_handler_provider =
--            PredictionModelHandlerProviderFactory::GetForBrowserContext(
--                profile_)) {
--      if (PermissionsAiv1Handler* aiv1_handler =
--              prediction_model_handler_provider->GetPermissionsAiv1Handler()) {
--        VLOG(1) << "[PermissionsAIv1] Inquire model";
--        aiv1_handler->InquireAiOnDeviceModel(
--            std::move(inner_text), request_metadata.request_type,
--            base::BindRepeating(&PredictionBasedPermissionUiSelector::
--                                    OnDeviceAiv1ModelExecutionCallback,
--                                weak_ptr_factory_.GetWeakPtr(),
--                                std::move(features),
--                                std::move(request_metadata)));
--        return;
--      }
--    }
-     VLOG(1) << "[PermissionsAIv1] On device AI model session unavailable";
-   } else {
-     VLOG(1) << "[PermissionsAIv1] The page's content is too short or empty";
+@@ -44,10 +44,6 @@ source_set("permissions") {
+     "prediction_service/passage_embedder_delegate.h",
+     "prediction_service/permissions_aiv1_handler.cc",
+     "prediction_service/permissions_aiv1_handler.h",
+-    "prediction_service/prediction_based_permission_ui_selector.cc",
+-    "prediction_service/prediction_based_permission_ui_selector.h",
+-    "prediction_service/prediction_model_handler_provider.cc",
+-    "prediction_service/prediction_model_handler_provider.h",
+     "prediction_service/prediction_service_factory.cc",
+     "prediction_service/prediction_service_factory.h",
+     "prediction_service/prediction_service_request.cc",
+--- a/chrome/browser/permissions/chrome_permissions_client.cc
++++ b/chrome/browser/permissions/chrome_permissions_client.cc
+@@ -475,8 +475,6 @@ ChromePermissionsClient::CreatePermissio
+ #endif
+   selectors.emplace_back(std::make_unique<PrefBasedQuietPermissionUiSelector>(
+       Profile::FromBrowserContext(browser_context)));
+-  selectors.emplace_back(std::make_unique<PredictionBasedPermissionUiSelector>(
+-      Profile::FromBrowserContext(browser_context)));
+   return selectors;
+ }
+ 
+--- a/chrome/browser/permissions/prediction_service/passage_embedder_delegate.cc
++++ b/chrome/browser/permissions/prediction_service/passage_embedder_delegate.cc
+@@ -17,11 +17,6 @@ PassageEmbedderDelegate::PassageEmbedder
+     : profile_(profile) {}
+ 
+ Embedder* PassageEmbedderDelegate::get_passage_embedder() {
+-  if (auto* prediction_model_handler_provider =
+-          PredictionModelHandlerProviderFactory::GetForBrowserContext(
+-              profile_)) {
+-    return prediction_model_handler_provider->GetPassageEmbedder();
+-  }
+   return nullptr;
+ }
+ 
+--- a/chrome/browser/permissions/prediction_service/prediction_based_permission_ui_selector.cc
++++ b/chrome/browser/permissions/prediction_service/prediction_based_permission_ui_selector.cc
+@@ -836,7 +836,7 @@ void PredictionBasedPermissionUiSelector
+     ModelExecutionData model_data) {
+   VLOG(1) << "[PermissionsAI] ExecuteOnDeviceAivXModel";
+   PredictionModelHandlerProvider* prediction_model_handler_provider =
+-      PredictionModelHandlerProviderFactory::GetForBrowserContext(profile_);
++      nullptr;
+   if (prediction_model_handler_provider) {
+     permissions::RequestType request_type =
+         model_data.request_metadata.request_type;
 --- a/chrome/browser/prefs/BUILD.gn
 +++ b/chrome/browser/prefs/BUILD.gn
-@@ -293,7 +293,6 @@ source_set("impl") {
-     deps += [
+@@ -297,7 +297,6 @@ source_set("impl") {
+       "//chrome/browser/actor/ui",
        "//chrome/browser/contextual_cueing",
        "//chrome/browser/promos:utils",
 -      "//chrome/browser/screen_ai:prefs",
@@ -441,7 +441,7 @@
        "//chrome/browser/search_engines",
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -1915,9 +1915,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1830,9 +1830,6 @@ void RegisterLocalState(PrefRegistrySimp
    DeviceOAuth2TokenStoreDesktop::RegisterPrefs(registry);
  #endif
  
@@ -453,7 +453,7 @@
    PlatformAuthPolicyObserver::RegisterPrefs(registry);
 --- a/chrome/browser/profiles/BUILD.gn
 +++ b/chrome/browser/profiles/BUILD.gn
-@@ -309,7 +309,6 @@ source_set("profiles_extra_parts_impl")
+@@ -320,7 +320,6 @@ source_set("profiles_extra_parts_impl")
      ]
    } else {
      deps += [
@@ -461,7 +461,7 @@
        "//chrome/browser/apps/app_service",
        "//chrome/browser/autofill",
        "//chrome/browser/contextual_cueing",
-@@ -317,7 +316,6 @@ source_set("profiles_extra_parts_impl")
+@@ -328,7 +327,6 @@ source_set("profiles_extra_parts_impl")
        "//chrome/browser/feedback",
        "//chrome/browser/hid",
        "//chrome/browser/media/router/discovery/access_code:access_code_sink_service",
@@ -471,7 +471,7 @@
        "//chrome/browser/search_engine_choice",
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -105,7 +105,6 @@
+@@ -111,7 +111,6 @@
  #include "chrome/browser/media_galleries/media_galleries_preferences_factory.h"
  #include "chrome/browser/metrics/variations/google_groups_manager_factory.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -479,7 +479,7 @@
  #include "chrome/browser/navigation_predictor/search_engine_preconnector.h"
  #include "chrome/browser/navigation_predictor/search_engine_preconnector_keyed_service_factory.h"
  #include "chrome/browser/net/dns_probe_service_factory.h"
-@@ -334,7 +333,6 @@
+@@ -339,7 +338,6 @@
  #include "chrome/browser/prefs/persistent_renderer_prefs_manager_factory.h"
  #include "chrome/browser/privacy_sandbox/privacy_sandbox_survey_desktop_controller_factory.h"
  #include "chrome/browser/profile_resetter/reset_report_uploader_factory.h"
@@ -487,15 +487,15 @@
  #include "chrome/browser/search/background/ntp_background_service_factory.h"
  #include "chrome/browser/search/background/ntp_custom_background_service_factory.h"
  #include "chrome/browser/search/instant_service_factory.h"
-@@ -1046,7 +1044,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1057,7 +1055,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if BUILDFLAG(CHROME_ROOT_STORE_CERT_MANAGEMENT_UI)
    net::ServerCertificateDatabaseServiceFactory::GetInstance();
  #endif
 -  PreloadingModelKeyedServiceFactory::GetInstance();
- #if BUILDFLAG(IS_CHROMEOS)
-   NearbySharingServiceFactory::GetInstance();
-   if (base::FeatureList::IsEnabled(ash::features::kNearbyPresence)) {
-@@ -1098,9 +1095,6 @@ void ChromeBrowserMainExtraPartsProfiles
+ #if BUILDFLAG(ENABLE_DICE_SUPPORT)
+   ProfileManagementDisclaimerServiceFactory::GetInstance();
+ #endif
+@@ -1112,9 +1109,6 @@ void ChromeBrowserMainExtraPartsProfiles
    OneTimePermissionsTrackerFactory::GetInstance();
  #endif
    OpenerHeuristicServiceFactory::GetInstance();
@@ -505,7 +505,7 @@
    OptimizationGuideKeyedServiceFactory::GetInstance();
    OriginKeyedPermissionActionServiceFactory::GetInstance();
    OriginTrialsFactory::GetInstance();
-@@ -1175,13 +1169,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1186,13 +1180,6 @@ void ChromeBrowserMainExtraPartsProfiles
    policy::UserPolicySigninServiceFactory::GetInstance();
  #endif
    PolicyBlocklistFactory::GetInstance();
@@ -519,7 +519,7 @@
    PredictionServiceFactory::GetInstance();
    predictors::AutocompleteActionPredictorFactory::GetInstance();
    predictors::LoadingPredictorFactory::GetInstance();
-@@ -1270,10 +1257,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1278,10 +1265,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #else
    SafetyHubMenuNotificationServiceFactory::GetInstance();
    SafetyHubHatsServiceFactory::GetInstance();
@@ -530,7 +530,7 @@
  #endif
  #if BUILDFLAG(IS_CHROMEOS)
    if (ash::features::IsScannerEnabled()) {
-@@ -1387,7 +1370,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1401,7 +1384,6 @@ void ChromeBrowserMainExtraPartsProfiles
    TrackingProtectionSettingsFactory::GetInstance();
    translate::TranslateRankerFactory::GetInstance();
  #if !BUILDFLAG(IS_ANDROID)
@@ -554,7 +554,7 @@
    // System Profile.
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
-@@ -853,11 +853,6 @@ void ProfileImpl::DoFinalInit(CreateMode
+@@ -855,11 +855,6 @@ void ProfileImpl::DoFinalInit(CreateMode
    // The password settings service needs to start listening to settings
    // changes from Google Mobile Services, as early as possible.
    PasswordManagerSettingsServiceFactory::GetForProfile(this);
@@ -588,7 +588,7 @@
  #if BUILDFLAG(IS_ANDROID)
 --- a/chrome/browser/resources/BUILD.gn
 +++ b/chrome/browser/resources/BUILD.gn
-@@ -101,7 +101,6 @@ group("resources") {
+@@ -107,7 +107,6 @@ group("resources") {
    if (is_mac) {
      public_deps += [
        "//chrome/browser/resources/media/mei_preload:component",
@@ -598,7 +598,7 @@
  
 --- a/chrome/browser/resources/pdf/pdf_viewer.html
 +++ b/chrome/browser/resources/pdf/pdf_viewer.html
-@@ -107,10 +107,6 @@ import {AnnotationMode} from './constant
+@@ -113,10 +113,6 @@ import {AnnotationMode} from './constant
        </cr-page-selector>
      ` : ''}
    </if>
@@ -611,23 +611,31 @@
  ${this.showErrorDialog ? html`<viewer-error-dialog id="error-dialog">
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -1631,8 +1631,6 @@ static_library("ui") {
+@@ -1524,8 +1524,6 @@ static_library("ui") {
        "//chrome/browser/regional_capabilities",
        "//chrome/browser/safe_browsing",
        "//chrome/browser/safe_browsing:advanced_protection",
 -      "//chrome/browser/screen_ai:screen_ai_install_state",
 -      "//chrome/browser/screen_ai:screen_ai_service_router_factory",
-       "//chrome/browser/smart_card:smart_card",
+       "//chrome/browser/smart_card",
        "//chrome/browser/tab_group_sync:utils",
        "//chrome/browser/themes",
-@@ -2348,7 +2346,6 @@ static_library("ui") {
+@@ -2278,7 +2276,6 @@ static_library("ui") {
        "//chrome/browser/policy:onc",
        "//chrome/browser/policy:system_features_disable_list",
-       "//chrome/browser/push_notification:push_notification",
+       "//chrome/browser/push_notification",
 -      "//chrome/browser/screen_ai/public:optical_character_recognizer",
        "//chrome/browser/ui/ash/accessibility",
        "//chrome/browser/ui/ash/app_access",
        "//chrome/browser/ui/ash/arc",
+@@ -4787,7 +4784,6 @@ static_library("ui") {
+       "//chrome/browser/ui/views/user_education",
+       "//chrome/browser/ui/webauthn:impl",
+       "//chrome/browser/ui/webui/app_service_internals",
+-      "//chrome/browser/ui/webui/autofill_ml_internals",
+       "//chrome/browser/ui/webui/side_panel/customize_chrome",
+       "//chrome/browser/ui/window_name_prompt",
+       "//components/collaboration/public",
 --- a/chrome/browser/ui/pdf/BUILD.gn
 +++ b/chrome/browser/ui/pdf/BUILD.gn
 @@ -6,7 +6,6 @@ import("//pdf/features.gni")
@@ -648,29 +656,100 @@
      "//chrome/common",
 --- a/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.cc
 +++ b/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.cc
-@@ -95,12 +95,3 @@ void ChromePDFDocumentHelperClient::SetP
+@@ -107,21 +107,3 @@ void ChromePDFDocumentHelperClient::SetP
    }
  }
  
 -void ChromePDFDocumentHelperClient::OnSearchifyStarted(
--    content::WebContents* contents) {
--  // TODO(crbug.com/360803943): Add test.
+-    content::RenderFrameHost* render_frame_host) {
 -  // Show the promo only when ScreenAI component is available and OCR can be
 -  // done.
--  if (screen_ai::ScreenAIInstallState::GetInstance()->IsComponentAvailable()) {
--    MaybeShowFeaturePromo(contents);
+-  if (!screen_ai::ScreenAIInstallState::GetInstance()->IsComponentAvailable()) {
+-    return;
 -  }
+-  content::WebContents* web_contents = GetWebContentsToUse(render_frame_host);
+-  if (!MaybeShowFeaturePromo(web_contents)) {
+-    return;
+-  }
+-  auto* const tab = tabs::TabInterface::MaybeGetFromContents(web_contents);
+-  if (!tab) {
+-    return;
+-  }
+-  tab_subscriptions_.push_back(
+-      tab->RegisterWillDeactivate(base::BindRepeating(&MaybeHideFeaturePromo)));
 -}
 --- a/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.h
 +++ b/chrome/browser/ui/pdf/chrome_pdf_document_helper_client.h
-@@ -24,7 +24,6 @@ class ChromePDFDocumentHelperClient : pu
+@@ -25,7 +25,6 @@ class ChromePDFDocumentHelperClient : pu
    void OnSaveURL(content::WebContents* contents) override;
    void SetPluginCanSave(content::RenderFrameHost* render_frame_host,
                          bool can_save) override;
--  void OnSearchifyStarted(content::WebContents* contents) override;
- };
- 
- #endif  // CHROME_BROWSER_UI_PDF_CHROME_PDF_DOCUMENT_HELPER_CLIENT_H_
+-  void OnSearchifyStarted(content::RenderFrameHost* render_frame_host) override;
+ 
+   // Holds subscriptions for TabInterface callbacks.
+   std::vector<base::CallbackListSubscription> tab_subscriptions_;
+--- a/chrome/browser/ui/views/user_education/browser_user_education_service.cc
++++ b/chrome/browser/ui/views/user_education/browser_user_education_service.cc
+@@ -764,39 +764,6 @@ void MaybeRegisterChromeFeaturePromos(
+           .SetBubbleIcon(kLightbulbOutlineIcon)
+           .SetBubbleTitleText(IDS_PASSWORD_MANAGER_IPH_CREATE_SHORTCUT_TITLE)));
+ 
+-  // kIPHPdfSearchifyFeature:
+-  registry.RegisterFeature(std::move(
+-      FeaturePromoSpecification::CreateForToastPromo(
+-          feature_engagement::kIPHPdfSearchifyFeature, kTopContainerElementId,
+-          IDS_PDF_SEARCHIFY_IPH_BODY, IDS_PDF_SEARCHIFY_IPH_BODY_SCREEN_READER,
+-          FeaturePromoSpecification::AcceleratorInfo())
+-          .SetBubbleArrow(HelpBubbleArrow::kNone)
+-          .SetBubbleTitleText(IDS_PDF_SEARCHIFY_IPH_TITLE)
+-          .SetMetadata(132, "rhalavati@chromium.org",
+-                       "Triggered once when user opens a PDF which gets OCRed.")
+-          .SetAnchorElementFilter(base::BindRepeating(
+-              [](const ui::ElementTracker::ElementList& elements)
+-                  -> ui::TrackedElement* {
+-                if (elements.empty()) {
+-                  return nullptr;
+-                }
+-                // Ensure a searchified PDF is visible before showing the IPH.
+-                auto* const browser_view =
+-                    views::ElementTrackerViews::GetInstance()
+-                        ->GetFirstMatchingViewAs<BrowserView>(
+-                            kBrowserViewElementId, elements[0]->context());
+-                std::vector<ContentsWebView*> contents_web_views =
+-                    browser_view->GetAllVisibleContentsWebViews();
+-                for (auto* contents_web_view : contents_web_views) {
+-                  auto* pdf_doc_helper =
+-                      pdf::PDFDocumentHelper::MaybeGetForWebContents(
+-                          contents_web_view->GetWebContents());
+-                  if (pdf_doc_helper && pdf_doc_helper->SearchifyStarted()) {
+-                    return elements[0];
+-                  }
+-                }
+-                return nullptr;
+-              }))));
+ 
+   // kIPHLensOverlayFeature:
+   registry.RegisterFeature(std::move(
+--- a/chrome/browser/ui/webui/BUILD.gn
++++ b/chrome/browser/ui/webui/BUILD.gn
+@@ -59,7 +59,6 @@ source_set("configs") {
+       "//chrome/browser/ui/webui/access_code_cast",
+       "//chrome/browser/ui/webui/actor_internals",
+       "//chrome/browser/ui/webui/app_service_internals",
+-      "//chrome/browser/ui/webui/autofill_ml_internals",
+       "//chrome/browser/ui/webui/color_pipeline_internals",
+       "//chrome/browser/ui/webui/infobar_internals",
+       "//chrome/browser/ui/webui/new_tab_footer",
+--- a/chrome/browser/ui/webui/chrome_web_ui_configs.cc
++++ b/chrome/browser/ui/webui/chrome_web_ui_configs.cc
+@@ -295,7 +295,6 @@ void RegisterChromeWebUIConfigs() {
+   map.AddWebUIConfig(std::make_unique<actor::ui::ActorOverlayUIConfig>());
+   map.AddWebUIConfig(std::make_unique<ActorInternalsUIConfig>());
+   map.AddWebUIConfig(std::make_unique<AppServiceInternalsUIConfig>());
+-  map.AddWebUIConfig(std::make_unique<AutofillMlInternalsUIConfig>());
+   map.AddWebUIConfig(std::make_unique<media_router::AccessCodeCastUIConfig>());
+   map.AddWebUIConfig(std::make_unique<BookmarksSidePanelUIConfig>());
+   map.AddWebUIConfig(std::make_unique<BookmarksUIConfig>());
 --- a/chrome/browser/ui/webui/settings/accessibility_main_handler.cc
 +++ b/chrome/browser/ui/webui/settings/accessibility_main_handler.cc
 @@ -35,11 +35,6 @@ void AccessibilityMainHandler::RegisterM
@@ -776,7 +855,7 @@
  #include "chrome/browser/speech/extension_api/tts_engine_extension_api.h"
  #include "chrome/browser/translate/chrome_translate_client.h"
  #include "chrome/browser/ui/browser.h"
-@@ -370,14 +368,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
+@@ -376,14 +374,6 @@ ReadAnythingUntrustedPageHandler::ReadAn
    prefs_lang = language::ExtractBaseLanguage(prefs_lang);
    SetDefaultLanguageCode(prefs_lang);
  
@@ -793,7 +872,7 @@
    // This causes AXTreeSerializer to reset and send accessibility events of
 --- a/chrome/renderer/BUILD.gn
 +++ b/chrome/renderer/BUILD.gn
-@@ -373,18 +373,6 @@ static_library("renderer") {
+@@ -334,18 +334,6 @@ static_library("renderer") {
      ]
    } else {
      sources += [
@@ -812,17 +891,17 @@
        "media/chrome_speech_recognition_client.cc",
        "media/chrome_speech_recognition_client.h",
        "searchbox/searchbox.cc",
-@@ -399,7 +387,6 @@ static_library("renderer") {
+@@ -360,7 +348,6 @@ static_library("renderer") {
        "//components/crx_file",
        "//components/trusted_vault",
        "//services/screen_ai/buildflags",
 -      "//services/screen_ai/public/mojom",
        "//services/strings",
-       "//third_party/re2:re2",
+       "//third_party/re2",
      ]
 --- a/chrome/renderer/chrome_render_frame_observer.cc
 +++ b/chrome/renderer/chrome_render_frame_observer.cc
-@@ -70,7 +70,6 @@
+@@ -71,7 +71,6 @@
  #include "url/gurl.h"
  
  #if !BUILDFLAG(IS_ANDROID)
@@ -830,7 +909,7 @@
  #include "chrome/renderer/actor/journal.h"
  #include "chrome/renderer/actor/tool_executor.h"
  #include "chrome/renderer/searchbox/searchbox_extension.h"
-@@ -323,21 +322,6 @@ void ChromeRenderFrameObserver::DidCommi
+@@ -324,21 +323,6 @@ void ChromeRenderFrameObserver::DidCommi
  }
  
  void ChromeRenderFrameObserver::DidClearWindowObject() {
@@ -854,7 +933,7 @@
  void ChromeRenderFrameObserver::DidMeaningfulLayout(
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -2334,9 +2334,6 @@ if (!is_android) {
+@@ -2375,9 +2375,6 @@ if (!is_android) {
        "//chrome/browser/resource_coordinator:tab_manager_features",
        "//chrome/browser/safe_browsing:advanced_protection",
        "//chrome/browser/safe_browsing:verdict_cache_manager_factory",
@@ -864,7 +943,7 @@
        "//chrome/browser/search",
        "//chrome/browser/search_engines",
        "//chrome/browser/segmentation_platform:test_utils",
-@@ -2755,8 +2752,6 @@ if (!is_android) {
+@@ -2809,8 +2806,6 @@ if (!is_android) {
        "//services/preferences/public/cpp",
        "//services/preferences/public/cpp/tracked",
        "//services/preferences/tracked:features",
@@ -873,7 +952,7 @@
        "//services/service_manager/public/cpp",
        "//services/strings",
        "//services/test/echo/public/mojom",
-@@ -8405,7 +8400,6 @@ test("unit_tests") {
+@@ -8441,7 +8436,6 @@ test("unit_tests") {
      #
      # TODO(crbug.com/417513088): Maybe merge with the non-android `deps` declaration above?
      deps += [
@@ -881,7 +960,7 @@
        "//chrome:packed_resources_integrity_header",
        "//chrome/browser/apps:icon_standardizer",
        "//chrome/browser/apps/app_service",
-@@ -8439,7 +8433,6 @@ test("unit_tests") {
+@@ -8474,7 +8468,6 @@ test("unit_tests") {
        "//chrome/browser/profile_resetter:fake_profile_resetter",
        "//chrome/browser/resource_coordinator:tab_manager_features",
        "//chrome/browser/resources/new_tab_page_instant:resources_grit",
@@ -891,8 +970,8 @@
        "//chrome/browser/search_engine_choice:unit_tests",
 --- a/chrome/test/chromedriver/BUILD.gn
 +++ b/chrome/test/chromedriver/BUILD.gn
-@@ -408,7 +408,7 @@ source_set("lib") {
-   }
+@@ -416,7 +416,7 @@ source_set("lib") {
+   configs += [ "//build/config/compiler:no_exit_time_destructors" ]
  }
  
 -if (is_linux) {
@@ -906,15 +985,15 @@
  
    data = [ "//chrome/test/variations/test_utils/" ]
  
--  data_deps = [ "//third_party/catapult/third_party/gsutil:gsutil" ]
+-  data_deps = [ "//third_party/catapult/third_party/gsutil" ]
  }
  
  python_library("fixtures") {
 --- a/chrome/utility/BUILD.gn
 +++ b/chrome/utility/BUILD.gn
 @@ -145,7 +145,6 @@ static_library("utility") {
-       "//components/autofill/core/common",
-       "//components/user_data_importer/common",
+       "//components/user_data_importer/content",
+       "//components/user_data_importer/utility:bookmarks",
        "//services/proxy_resolver:lib",
 -      "//services/screen_ai",
      ]
@@ -922,7 +1001,7 @@
  
 --- a/chrome/utility/services.cc
 +++ b/chrome/utility/services.cc
-@@ -59,8 +59,6 @@
+@@ -61,8 +61,6 @@
  #include "services/passage_embeddings/passage_embeddings_service.h"
  #include "services/proxy_resolver/proxy_resolver_factory_impl.h"  // nogncheck
  #include "services/proxy_resolver/public/mojom/proxy_resolver.mojom.h"
@@ -931,7 +1010,7 @@
  #endif  // !BUILDFLAG(IS_ANDROID)
  
  #if BUILDFLAG(ENABLE_BROWSER_SPEECH_SERVICE)
-@@ -258,12 +256,6 @@ auto RunSpeechRecognitionService(
+@@ -268,12 +266,6 @@ auto RunSpeechRecognitionService(
  }
  #endif  // !BUILDFLAG(ENABLE_BROWSER_SPEECH_SERVICE)
  
@@ -944,7 +1023,7 @@
  
  #if BUILDFLAG(IS_CHROMEOS)
  auto RunCupsIppParser(
-@@ -465,7 +457,6 @@ void RegisterMainThreadServices(mojo::Se
+@@ -476,7 +468,6 @@ void RegisterMainThreadServices(mojo::Se
    services.Add(RunProfileImporter);
    services.Add(RunMirroringService);
    services.Add(RunPassageEmbeddingsService);
@@ -954,17 +1033,27 @@
  #if BUILDFLAG(ENABLE_BROWSER_SPEECH_SERVICE)
 --- a/components/BUILD.gn
 +++ b/components/BUILD.gn
-@@ -607,7 +607,6 @@ test("components_unittests") {
+@@ -613,7 +613,6 @@ test("components_unittests") {
        "//components/media_router/common/providers/cast/channel:unit_tests",
        "//components/page_info:unit_tests",
        "//components/permissions:unit_tests",
 -      "//components/permissions/prediction_service:unit_tests",
-       "//components/privacy_sandbox:unit_tests",
        "//components/privacy_sandbox/privacy_sandbox_attestations:unit_tests",
        "//components/safety_check:unit_tests",
+       "//components/security_interstitials/content:unit_tests",
+--- a/components/autofill/core/browser/autofill_field.cc
++++ b/components/autofill/core/browser/autofill_field.cc
+@@ -24,7 +24,6 @@
+ #include "components/autofill/core/browser/field_type_utils.h"
+ #include "components/autofill/core/browser/field_types.h"
+ #include "components/autofill/core/browser/heuristic_source.h"
+-#include "components/autofill/core/browser/ml_model/field_classification_model_handler.h"
+ #include "components/autofill/core/browser/proto/server.pb.h"
+ #include "components/autofill/core/common/autofill_constants.h"
+ #include "components/autofill/core/common/autofill_features.h"
 --- a/components/omnibox/browser/autocomplete_classifier.cc
 +++ b/components/omnibox/browser/autocomplete_classifier.cc
-@@ -127,8 +127,6 @@ void AutocompleteClassifier::Classify(
+@@ -131,8 +131,6 @@ void AutocompleteClassifier::Classify(
      metrics::OmniboxEventProto::PageClassification page_classification,
      AutocompleteMatch* match,
      GURL* alternate_nav_url) {
@@ -1005,7 +1094,7 @@
  fuzzer_test("update_client_protocol_serializer_fuzzer") {
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -825,10 +825,6 @@ if (is_apple) {
+@@ -836,10 +836,6 @@ if (is_apple) {
        deps = [ "//third_party/icu:icudata" ]
      }
  
@@ -1016,6 +1105,17 @@
      if (v8_use_external_startup_data) {
        public_deps += [ "//v8" ]
        if (use_v8_context_snapshot) {
+--- a/services/on_device_model/on_device_model.gni
++++ b/services/on_device_model/on_device_model.gni
+@@ -15,7 +15,6 @@ declare_args() {
+   # Constraint code is disabled on platforms where the on-device model does not
+   # run due to binary size.
+   enable_constraints = is_win || is_mac || is_linux || is_ios || is_cbx
+-  enable_ml_internal = build_with_internal_optimization_guide &&
+-                       (is_win || is_mac || is_linux || is_ios || is_cbx)
++  enable_ml_internal = false
+   use_chromeos_model_service = is_chrome_branded && is_cbx
+ }
 --- a/services/passage_embeddings/passage_embeddings_service.cc
 +++ b/services/passage_embeddings/passage_embeddings_service.cc
 @@ -23,7 +23,6 @@ PassageEmbeddingsService::~PassageEmbedd
@@ -1058,7 +1158,7 @@
  }
 --- a/third_party/devtools-frontend/src/front_end/BUILD.gn
 +++ b/third_party/devtools-frontend/src/front_end/BUILD.gn
-@@ -207,7 +207,6 @@ group("unittests") {
+@@ -209,7 +209,6 @@ group("unittests") {
      "panels/timeline:unittests",
      "panels/timeline/components:unittests",
      "panels/timeline/components/insights:unittests",
diff --git a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
index db63af9af1..4b33731ff2 100644
--- a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
+++ b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -634,8 +634,6 @@ static_library("browser") {
+@@ -635,8 +635,6 @@ static_library("browser") {
      "idle/idle_detection_permission_context.h",
      "interstitials/chrome_settings_page_helper.cc",
      "interstitials/chrome_settings_page_helper.h",
@@ -11,7 +11,7 @@
      "invalidation/profile_invalidation_provider_factory.cc",
      "invalidation/profile_invalidation_provider_factory.h",
      "k_anonymity_service/k_anonymity_service_client.cc",
-@@ -2385,7 +2383,6 @@ static_library("browser") {
+@@ -2403,7 +2401,6 @@ static_library("browser") {
      "//components/resources",
      "//components/safe_browsing/content/browser",
      "//components/safe_browsing/content/browser:safe_browsing_service",
@@ -19,7 +19,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/content/common/proto:download_file_types_proto",
-@@ -4001,10 +3998,6 @@ static_library("browser") {
+@@ -3992,10 +3989,6 @@ static_library("browser") {
        "new_tab_page/modules/modules_switches.h",
        "new_tab_page/modules/new_tab_page_modules.cc",
        "new_tab_page/modules/new_tab_page_modules.h",
@@ -30,7 +30,7 @@
        "new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.cc",
        "new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.h",
        "new_tab_page/modules/v2/calendar/calendar_fake_data_helper.cc",
-@@ -8699,7 +8692,6 @@ static_library("browser_generated_files"
+@@ -8662,7 +8655,6 @@ static_library("browser_generated_files"
        "//chrome/browser/new_tab_page/chrome_colors:generate_chrome_colors_info",
        "//chrome/browser/new_tab_page/chrome_colors:generate_colors_info",
        "//chrome/browser/new_tab_page/modules/file_suggestion:mojo_bindings",
@@ -38,18 +38,18 @@
        "//chrome/browser/new_tab_page/modules/v2/authentication:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/calendar:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/v2/most_relevant_tab_resumption:mojo_bindings",
-@@ -9187,8 +9179,6 @@ static_library("test_support") {
+@@ -9153,8 +9145,6 @@ static_library("test_support") {
      "//components/reporting/util:status",
      "//components/reporting/util:status_macros",
      "//components/reporting/util:task_runner_context",
--    "//components/safe_browsing/content/browser/notification_content_detection:notification_content_detection",
+-    "//components/safe_browsing/content/browser/notification_content_detection",
 -    "//components/safe_browsing/content/browser/notification_content_detection:test_utils",
      "//components/safe_browsing/core/common/proto:csd_proto",
      "//components/search_engines:test_support",
      "//components/security_interstitials/content:security_interstitial_page",
 --- a/chrome/browser/download/bubble/download_bubble_ui_controller.cc
 +++ b/chrome/browser/download/bubble/download_bubble_ui_controller.cc
-@@ -45,7 +45,6 @@
+@@ -47,7 +47,6 @@
  #include "components/offline_items_collection/core/offline_content_aggregator.h"
  #include "components/safe_browsing/buildflags.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -57,7 +57,7 @@
  #include "content/public/browser/download_item_utils.h"
  #include "content/public/browser/download_manager.h"
  
-@@ -265,14 +264,6 @@ void DownloadBubbleUIController::Process
+@@ -275,14 +274,6 @@ void DownloadBubbleUIController::Process
    switch (command) {
      case DownloadCommands::KEEP:
      case DownloadCommands::DISCARD: {
@@ -74,7 +74,7 @@
        // Launch a HaTS survey. Note this needs to come before the command is
 --- a/chrome/browser/download/chrome_download_manager_delegate.cc
 +++ b/chrome/browser/download/chrome_download_manager_delegate.cc
-@@ -172,7 +172,6 @@ using content::DownloadManager;
+@@ -178,7 +178,6 @@ using content::DownloadManager;
  using download::DownloadItem;
  using download::DownloadPathReservationTracker;
  using download::PathValidationResult;
@@ -82,7 +82,7 @@
  using ConnectionType = net::NetworkChangeNotifier::ConnectionType;
  
  #if BUILDFLAG(SAFE_BROWSING_DOWNLOAD_PROTECTION)
-@@ -1876,7 +1875,6 @@ void ChromeDownloadManagerDelegate::OnDo
+@@ -1895,7 +1894,6 @@ void ChromeDownloadManagerDelegate::OnDo
      DownloadItemModel model(item);
      model.DetermineAndSetShouldPreferOpeningInBrowser(
          target_info.target_path, target_info.is_filetype_handled_safely);
@@ -90,7 +90,7 @@
    }
    if (ShouldBlockFile(item, target_info.danger_type)) {
      MaybeReportDangerousDownloadBlocked(
-@@ -1957,49 +1955,20 @@ bool ChromeDownloadManagerDelegate::IsOp
+@@ -1976,49 +1974,20 @@ bool ChromeDownloadManagerDelegate::IsOp
  bool ChromeDownloadManagerDelegate::ShouldBlockFile(
      download::DownloadItem* item,
      download::DownloadDangerType danger_type) const {
@@ -146,7 +146,7 @@
                   << static_cast<int>(download_restriction);
 --- a/chrome/browser/download/download_target_determiner.cc
 +++ b/chrome/browser/download/download_target_determiner.cc
-@@ -1371,14 +1371,7 @@ DownloadFileType::DangerLevel DownloadTa
+@@ -1378,14 +1378,7 @@ DownloadFileType::DangerLevel DownloadTa
  
  std::optional<base::Time>
  DownloadTargetDeterminer::GetLastDownloadBypassTimestamp() const {
@@ -316,7 +316,7 @@
  std::u16string ContentAnalysisDownloadsDelegate::GetBypassJustificationLabel()
 --- a/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
-@@ -172,70 +172,12 @@ void FilesRequestHandler::FileRequestCal
+@@ -171,70 +171,12 @@ void FilesRequestHandler::FileRequestCal
  }
  
  bool FilesRequestHandler::UploadDataImpl() {
@@ -387,7 +387,7 @@
  void FilesRequestHandler::OnGotFileInfo(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      size_t index,
-@@ -284,15 +226,6 @@ void FilesRequestHandler::OnGotFileInfo(
+@@ -283,15 +225,6 @@ void FilesRequestHandler::OnGotFileInfo(
  void FilesRequestHandler::FinishRequestEarly(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      safe_browsing::BinaryUploadService::Result result) {
@@ -491,7 +491,7 @@
    signals.Set(device_signals::names::kBuiltInDnsClientEnabled,
 --- a/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
 +++ b/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
-@@ -187,20 +187,7 @@ void RealtimeReportingClient::SetProfile
+@@ -188,20 +188,7 @@ void RealtimeReportingClient::SetProfile
  }
  
  std::string RealtimeReportingClient::GetProfileUserName() {
@@ -537,24 +537,24 @@
  
 --- a/chrome/browser/enterprise/data_controls/reporting_service.cc
 +++ b/chrome/browser/enterprise/data_controls/reporting_service.cc
-@@ -182,10 +182,6 @@ void ReportingService::ReportPaste(
+@@ -185,10 +185,6 @@ void ReportingService::ReportPaste(
      const content::ClipboardEndpoint& destination,
      const content::ClipboardMetadata& metadata,
      const Verdict& verdict) {
 -  ReportCopyOrPaste(
 -      source, destination, metadata, verdict,
--      extensions::SafeBrowsingPrivateEventRouter::kTriggerWebContentUpload,
+-      enterprise_connectors::kWebContentUploadDataTransferEventTrigger,
 -      GetEventResult(verdict.level()));
  }
  
  void ReportingService::ReportPasteWarningBypassed(
-@@ -193,29 +189,17 @@ void ReportingService::ReportPasteWarnin
+@@ -196,29 +192,17 @@ void ReportingService::ReportPasteWarnin
      const content::ClipboardEndpoint& destination,
      const content::ClipboardMetadata& metadata,
      const Verdict& verdict) {
 -  ReportCopyOrPaste(
 -      source, destination, metadata, verdict,
--      extensions::SafeBrowsingPrivateEventRouter::kTriggerWebContentUpload,
+-      enterprise_connectors::kWebContentUploadDataTransferEventTrigger,
 -      enterprise_connectors::EventResult::BYPASSED);
  }
  
@@ -563,7 +563,7 @@
                                    const Verdict& verdict) {
 -  ReportCopyOrPaste(
 -      source, /*destination=*/std::nullopt, metadata, verdict,
--      extensions::SafeBrowsingPrivateEventRouter::kTriggerClipboardCopy,
+-      enterprise_connectors::kClipboardCopyDataTransferEventTrigger,
 -      GetEventResult(verdict.level()));
  }
  
@@ -573,17 +573,17 @@
      const Verdict& verdict) {
 -  ReportCopyOrPaste(
 -      source, /*destination=*/std::nullopt, metadata, verdict,
--      extensions::SafeBrowsingPrivateEventRouter::kTriggerClipboardCopy,
+-      enterprise_connectors::kClipboardCopyDataTransferEventTrigger,
 -      enterprise_connectors::EventResult::BYPASSED);
  }
  
  void ReportingService::ReportCopyOrPaste(
-@@ -225,45 +209,6 @@ void ReportingService::ReportCopyOrPaste
+@@ -228,52 +212,6 @@ void ReportingService::ReportCopyOrPaste
      const Verdict& verdict,
      const std::string& trigger,
      enterprise_connectors::EventResult event_result) {
 -  auto* router =
--      extensions::SafeBrowsingPrivateEventRouterFactory::GetForProfile(
+-      enterprise_connectors::ReportingEventRouterFactory::GetForBrowserContext(
 -          &profile_.get());
 -
 -  if (!router || verdict.triggered_rules().empty()) {
@@ -593,22 +593,24 @@
 -  GURL url;
 -  std::string destination_string;
 -  std::string source_string;
+-  content::WebContents* web_contents = nullptr;
 -  if (trigger ==
--      extensions::SafeBrowsingPrivateEventRouter::kTriggerWebContentUpload) {
+-      enterprise_connectors::kWebContentUploadDataTransferEventTrigger) {
 -    DCHECK(destination.has_value());
 -
 -    url = GetURL(*destination);
 -    destination_string = url.spec();
 -    source_string = GetClipboardSourceString(source, *destination,
 -                                             kDataControlsRulesScopePref);
+-    web_contents = destination->web_contents();
 -  } else {
--    DCHECK_EQ(
--        trigger,
--        extensions::SafeBrowsingPrivateEventRouter::kTriggerClipboardCopy);
+-    DCHECK_EQ(trigger,
+-              enterprise_connectors::kClipboardCopyDataTransferEventTrigger);
 -    DCHECK(!destination.has_value());
 -
 -    url = GetURL(source);
 -    source_string = GetURL(source).spec();
+-    web_contents = source.web_contents();
 -  }
 -
 -  router->OnDataControlsSensitiveDataEvent(
@@ -618,23 +620,28 @@
 -      /*destination=*/destination_string,
 -      /*mime_type=*/GetMimeType(metadata.format_type),
 -      /*trigger=*/trigger,
+-      /*source_active_user_email=*/
+-      enterprise_data_protection::GetActiveContentAreaUser(source),
+-      /*content_area_account_email=*/
+-      enterprise_connectors::ContentAreaUserProvider::GetUser(
+-          &profile_.get(), web_contents, url),
 -      /*triggered_rules=*/verdict.triggered_rules(),
 -      /*event_result=*/event_result,
 -      /*content_size=*/metadata.size.value_or(-1));
  }
  
  // --------------------------------------
-@@ -293,7 +238,6 @@ ReportingServiceFactory::ReportingServic
+@@ -303,7 +241,6 @@ ReportingServiceFactory::ReportingServic
                .WithSystem(ProfileSelection::kNone)
                .WithAshInternals(ProfileSelection::kNone)
                .Build()) {
--  DependsOn(extensions::SafeBrowsingPrivateEventRouterFactory::GetInstance());
+-  DependsOn(enterprise_connectors::ReportingEventRouterFactory::GetInstance());
  }
  
  ReportingServiceFactory::~ReportingServiceFactory() = default;
 --- a/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
 +++ b/chrome/browser/enterprise/data_protection/data_protection_navigation_observer.cc
-@@ -195,9 +195,7 @@ void LogVerdictSource(
+@@ -202,9 +202,7 @@ void LogVerdictSource(
  
  bool IsScreenshotAllowedByDataControls(content::BrowserContext* context,
                                         const GURL& url) {
@@ -665,7 +672,7 @@
    bool site_isolation_enabled;
 --- a/chrome/browser/enterprise/signals/profile_signals_collector.cc
 +++ b/chrome/browser/enterprise/signals/profile_signals_collector.cc
-@@ -48,14 +48,8 @@ ProfileSignalsCollector::ProfileSignalsC
+@@ -45,12 +45,8 @@ ProfileSignalsCollector::ProfileSignalsC
            PolicyBlocklistFactory::GetForBrowserContext(profile)),
        profile_prefs_(profile->GetPrefs()),
        policy_manager_(profile->GetCloudPolicyManager()),
@@ -674,13 +681,11 @@
 -              profile)),
        profile_id_service_(
            enterprise::ProfileIdServiceFactory::GetForProfile(profile)) {
--#if BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
 -  CHECK(connectors_service_);
--#endif  // BUILDFLAG(ENTERPRISE_CLOUD_CONTENT_ANALYSIS)
    CHECK(policy_blocklist_service_);
    CHECK(profile_id_service_);
  }
-@@ -73,12 +67,8 @@ void ProfileSignalsCollector::GetProfile
+@@ -68,12 +64,8 @@ void ProfileSignalsCollector::GetProfile
    signal_response.chrome_remote_desktop_app_blocked =
        device_signals::GetChromeRemoteDesktopAppBlocked(
            policy_blocklist_service_);
@@ -695,7 +700,7 @@
    signal_response.profile_id = profile_id_service_->GetProfileId();
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -400,8 +400,6 @@ source_set("extensions") {
+@@ -406,8 +406,6 @@ source_set("extensions") {
      "mv2_deprecation_impact_checker.cc",
      "mv2_deprecation_impact_checker.h",
      "mv2_experiment_stage.h",
@@ -725,7 +730,7 @@
    info.enterprise_profile_id = signals.enterprise_profile_id;
 --- a/chrome/browser/extensions/api/settings_private/prefs_util.cc
 +++ b/chrome/browser/extensions/api/settings_private/prefs_util.cc
-@@ -375,8 +375,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -377,8 +377,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kBoolean;
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
        settings_api::PrefType::kNumber;
@@ -769,6 +774,17 @@
  }
  
  }  // namespace extensions
+--- a/chrome/browser/extensions/chrome_extensions_browser_client_non_android.cc
++++ b/chrome/browser/extensions/chrome_extensions_browser_client_non_android.cc
+@@ -34,8 +34,6 @@ void ChromeExtensionsBrowserClient::Init
+   // Must occur after g_browser_process is initialized.
+   user_script_listener_ = std::make_unique<UserScriptListener>();
+ 
+-  // Full safe browsing is supported so use the Chrome delegate.
+-  safe_browsing_delegate_ = std::make_unique<ChromeSafeBrowsingDelegate>();
+ }
+ 
+ ProcessManagerDelegate*
 --- a/chrome/browser/extensions/extension_allowlist_factory.cc
 +++ b/chrome/browser/extensions/extension_allowlist_factory.cc
 @@ -45,7 +45,6 @@ ExtensionAllowlistFactory::ExtensionAllo
@@ -793,14 +809,14 @@
  
 --- a/chrome/browser/extensions/extension_service.cc
 +++ b/chrome/browser/extensions/extension_service.cc
-@@ -56,7 +56,6 @@
+@@ -55,7 +55,6 @@
  #include "chrome/browser/extensions/installed_loader.h"
  #include "chrome/browser/extensions/manifest_v2_experiment_manager.h"
  #include "chrome/browser/extensions/mv2_experiment_stage.h"
 -#include "chrome/browser/extensions/omaha_attributes_handler.h"
  #include "chrome/browser/extensions/permissions/permissions_updater.h"
  #include "chrome/browser/extensions/profile_util.h"
- #include "chrome/browser/extensions/unpacked_installer.h"
+ #include "chrome/browser/extensions/sync/extension_sync_service.h"
 @@ -212,9 +211,6 @@ ExtensionService::ExtensionService(
        extension_telemetry_service_verdict_handler_(extension_prefs,
                                                     registry_,
@@ -924,11 +940,13 @@
    }
 --- a/chrome/browser/notifications/persistent_notification_handler.cc
 +++ b/chrome/browser/notifications/persistent_notification_handler.cc
-@@ -308,16 +308,6 @@ void PersistentNotificationHandler::Disa
+@@ -314,24 +314,6 @@ void PersistentNotificationHandler::Disa
    NotificationPermissionContext::UpdatePermission(profile, origin,
                                                    CONTENT_SETTING_BLOCK);
  #endif
--  // Remove `origin` from user allowlisted sites when user unsubscribes.
+-  // Remove `origin` from user allowlisted sites when user unsubscribes. On
+-  // Android, log the suspicious notification unsubscribe ukm event if the
+-  // notification was suspicious.
 -  auto* hcsm = HostContentSettingsMapFactory::GetForProfile(profile);
 -  if (hcsm && origin.is_valid()) {
 -    hcsm->SetWebsiteSettingCustomScope(
@@ -937,11 +955,17 @@
 -        ContentSettingsType::ARE_SUSPICIOUS_NOTIFICATIONS_ALLOWLISTED_BY_USER,
 -        base::Value(base::Value::Dict().Set(
 -            safe_browsing::kIsAllowlistedByUserKey, false)));
+-#if BUILDFLAG(IS_ANDROID)
+-    if (notification_id.has_value()) {
+-      safe_browsing::MaybeLogSuspiciousNotificationUnsubscribeUkm(
+-          hcsm, origin, notification_id.value(), profile);
+-    }
+-#endif
 -  }
  }
  
  void PersistentNotificationHandler::OpenSettings(Profile* profile,
-@@ -356,42 +346,6 @@ void PersistentNotificationHandler::OnMa
+@@ -384,42 +366,6 @@ void PersistentNotificationHandler::OnMa
      Profile* profile,
      bool did_show_warning,
      bool did_user_unsubscribe) {
@@ -1012,7 +1036,7 @@
 -      if (notification_context) {
 -        notification_context->WriteNotificationMetadata(
 -            notification.id(), notification.origin_url(),
--            safe_browsing::kMetadataDictionaryKey,
+-            safe_browsing::kNotificationContentDetectionMetadataDictionaryKey,
 -            serialized_content_detection_metadata.value(), std::move(callback));
 -        return;
 -      }
@@ -1025,8 +1049,43 @@
  }
  
  void PlatformNotificationServiceImpl::LogPersistentNotificationShownMetrics(
---- a/chrome/browser/permissions/contextual_notification_permission_ui_selector.cc
-+++ b/chrome/browser/permissions/contextual_notification_permission_ui_selector.cc
+--- a/chrome/browser/permissions/permission_revocation_request.cc
++++ b/chrome/browser/permissions/permission_revocation_request.cc
+@@ -172,32 +172,6 @@ void PermissionRevocationRequest::OnSite
+         base::TimeTicks::Now() - crowd_deny_request_start_time_.value();
+   }
+ 
+-  if (site_reputation && !site_reputation->warning_only()) {
+-    bool should_revoke_permission = false;
+-    switch (site_reputation->notification_ux_quality()) {
+-      case CrowdDenyPreloadData::SiteReputation::ABUSIVE_PROMPTS:
+-      case CrowdDenyPreloadData::SiteReputation::ABUSIVE_CONTENT:
+-        should_revoke_permission = NotificationsPermissionRevocationConfig::
+-            IsAbusiveOriginPermissionRevocationEnabled();
+-        break;
+-      case CrowdDenyPreloadData::SiteReputation::DISRUPTIVE_BEHAVIOR:
+-        should_revoke_permission = true;
+-        break;
+-      default:
+-        should_revoke_permission = false;
+-    }
+-    DCHECK(g_browser_process->safe_browsing_service());
+-    if (should_revoke_permission &&
+-        g_browser_process->safe_browsing_service()) {
+-      safe_browsing_request_.emplace(
+-          g_browser_process->safe_browsing_service()->database_manager(),
+-          base::DefaultClock::GetInstance(), url::Origin::Create(origin_),
+-          base::BindOnce(
+-              &PermissionRevocationRequest::OnSafeBrowsingVerdictReceived,
+-              weak_factory_.GetWeakPtr(), site_reputation));
+-      return;
+-    }
+-  }
+   NotifyCallback(Outcome::PERMISSION_NOT_REVOKED);
+ }
+ 
+--- a/chrome/browser/permissions/prediction_service/contextual_notification_permission_ui_selector.cc
++++ b/chrome/browser/permissions/prediction_service/contextual_notification_permission_ui_selector.cc
 @@ -16,7 +16,6 @@
  #include "chrome/browser/browser_process.h"
  #include "chrome/browser/permissions/quiet_notification_permission_ui_config.h"
@@ -1075,63 +1134,41 @@
  }
  
  void ContextualNotificationPermissionUiSelector::OnSafeBrowsingVerdictReceived(
---- a/chrome/browser/permissions/permission_revocation_request.cc
-+++ b/chrome/browser/permissions/permission_revocation_request.cc
-@@ -172,32 +172,6 @@ void PermissionRevocationRequest::OnSite
-         base::TimeTicks::Now() - crowd_deny_request_start_time_.value();
-   }
- 
--  if (site_reputation && !site_reputation->warning_only()) {
--    bool should_revoke_permission = false;
--    switch (site_reputation->notification_ux_quality()) {
--      case CrowdDenyPreloadData::SiteReputation::ABUSIVE_PROMPTS:
--      case CrowdDenyPreloadData::SiteReputation::ABUSIVE_CONTENT:
--        should_revoke_permission = NotificationsPermissionRevocationConfig::
--            IsAbusiveOriginPermissionRevocationEnabled();
--        break;
--      case CrowdDenyPreloadData::SiteReputation::DISRUPTIVE_BEHAVIOR:
--        should_revoke_permission = true;
--        break;
--      default:
--        should_revoke_permission = false;
--    }
--    DCHECK(g_browser_process->safe_browsing_service());
--    if (should_revoke_permission &&
--        g_browser_process->safe_browsing_service()) {
--      safe_browsing_request_.emplace(
--          g_browser_process->safe_browsing_service()->database_manager(),
--          base::DefaultClock::GetInstance(), url::Origin::Create(origin_),
--          base::BindOnce(
--              &PermissionRevocationRequest::OnSafeBrowsingVerdictReceived,
--              weak_factory_.GetWeakPtr(), site_reputation));
--      return;
--    }
--  }
-   NotifyCallback(Outcome::PERMISSION_NOT_REVOKED);
- }
- 
---- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-+++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -596,62 +596,6 @@ bool PredictionBasedPermissionUiSelector
+--- a/chrome/browser/permissions/prediction_service/prediction_based_permission_ui_selector.cc
++++ b/chrome/browser/permissions/prediction_service/prediction_based_permission_ui_selector.cc
+@@ -687,83 +687,6 @@ bool PredictionBasedPermissionUiSelector
  
  PredictionSource PredictionBasedPermissionUiSelector::GetPredictionTypeToUse(
      permissions::RequestType request_type) {
 -  const bool is_msbb_enabled = profile_->GetPrefs()->GetBoolean(
 -      unified_consent::prefs::kUrlKeyedAnonymizedDataCollectionEnabled);
 -
+-  base::UmaHistogramBoolean("Permissions.PredictionService.MSBB",
+-                            is_msbb_enabled);
+-
+-  VLOG(1) << "[CPSS] GetPredictionTypeToUse MSBB: " << is_msbb_enabled;
+-
 -  const bool is_notification_cpss_enabled =
 -      profile_->GetPrefs()->GetBoolean(prefs::kEnableNotificationCPSS);
 -
+-  VLOG(1) << "[CPSS] GetPredictionTypeToUse NotificationCPSS: "
+-          << is_notification_cpss_enabled;
+-
 -  const bool is_geolocation_cpss_enabled =
 -      profile_->GetPrefs()->GetBoolean(prefs::kEnableGeolocationCPSS);
 -
+-  VLOG(1) << "[CPSS] GetPredictionTypeToUse GeolocationCPSS: "
+-          << is_geolocation_cpss_enabled;
+-
 -  if (request_type == permissions::RequestType::kNotifications &&
 -      !is_notification_cpss_enabled) {
+-    VLOG(1) << "[CPSS] GetPredictionTypeToUse NoCpssModel";
 -    return PredictionSource::kNoCpssModel;
 -  }
 -
 -  if (request_type == permissions::RequestType::kGeolocation &&
 -      !is_geolocation_cpss_enabled) {
+-    VLOG(1) << "[CPSS] GetPredictionTypeToUse NoCpssModel";
 -    return PredictionSource::kNoCpssModel;
 -  }
 -
@@ -1146,15 +1183,23 @@
 -#endif  // BUILDFLAG(IS_ANDROID)
 -  }
 -  if (use_server_side) {
--    // Aiv3 takes priority over Aiv1 if both are enabled.
+-    // AIvX models take priority over each other in the following order:
+-    // AIv4, AIv3, AIv1
 -#if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
+-    if (PredictionModelHandlerProvider::IsAiv4ModelAvailable()) {
+-      VLOG(1) << "[CPSS] GetPredictionTypeToUse AIv4";
+-      return PredictionSource::kOnDeviceAiv4AndServerSideModel;
+-    }
 -    if (base::FeatureList::IsEnabled(permissions::features::kPermissionsAIv3)) {
+-      VLOG(1) << "[CPSS] GetPredictionTypeToUse AIv3";
 -      return PredictionSource::kOnDeviceAiv3AndServerSideModel;
 -    }
 -#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
 -    if (base::FeatureList::IsEnabled(permissions::features::kPermissionsAIv1)) {
+-      VLOG(1) << "[CPSS] GetPredictionTypeToUse AIv1";
 -      return PredictionSource::kOnDeviceAiv1AndServerSideModel;
 -    }
+-    VLOG(1) << "[CPSS] GetPredictionTypeToUse CPSSv3";
 -    return PredictionSource::kServerSideCpssV3Model;
 -  }
 -
@@ -1168,16 +1213,16 @@
 -        permissions::features::kPermissionOnDeviceGeolocationPredictions);
 -  }
 -  if (use_ondevice_tflite) {
+-    VLOG(1) << "[CPSS] GetPredictionTypeToUse CPSSv1";
 -    return PredictionSource::kOnDeviceCpssV1Model;
 -  }
 -#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
--
-   return PredictionSource::kNoCpssModel;
- }
  
+   VLOG(1) << "[CPSS] GetPredictionTypeToUse NoCpssModel";
+   return PredictionSource::kNoCpssModel;
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -2498,8 +2498,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2511,8 +2511,6 @@ std::unique_ptr<ConfigurationPolicyHandl
    handlers->AddHandler(
        std::make_unique<bookmarks::ManagedBookmarksPolicyHandler>(
            chrome_schema));
@@ -1188,7 +1233,7 @@
        std::make_unique<URLBlocklistPolicyHandler>(key::kURLBlocklist));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -287,7 +287,6 @@
+@@ -284,7 +284,6 @@
  #include "chrome/browser/nearby_sharing/common/nearby_share_prefs.h"
  #include "chrome/browser/new_tab_page/modules/file_suggestion/drive_service.h"
  #include "chrome/browser/new_tab_page/modules/file_suggestion/microsoft_files_page_handler.h"
@@ -1196,7 +1241,7 @@
  #include "chrome/browser/new_tab_page/modules/v2/authentication/microsoft_auth_page_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/calendar/google_calendar_page_handler.h"
  #include "chrome/browser/new_tab_page/modules/v2/calendar/outlook_calendar_page_handler.h"
-@@ -2164,7 +2163,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -2083,7 +2082,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    NewTabFooterUI::RegisterProfilePrefs(registry);
    NewTabPageHandler::RegisterProfilePrefs(registry);
    NewTabPageUI::RegisterProfilePrefs(registry);
@@ -1206,7 +1251,7 @@
    promos_utils::RegisterProfilePrefs(registry);
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -874,9 +874,7 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -880,9 +880,7 @@ void ChromeBrowserMainExtraPartsProfiles
      enterprise_connectors::TelomereEventRouterFactory::GetInstance();
    }
  #endif
@@ -1218,7 +1263,7 @@
    enterprise_connectors::DeviceTrustConnectorServiceFactory::GetInstance();
 --- a/chrome/browser/safe_browsing/BUILD.gn
 +++ b/chrome/browser/safe_browsing/BUILD.gn
-@@ -76,9 +76,6 @@ static_library("safe_browsing") {
+@@ -80,9 +80,6 @@ static_library("safe_browsing") {
    ]
    }
  
@@ -1228,14 +1273,14 @@
  
    # Note: is_android is not equivalent to safe_browsing_mode == 2.
    # Sources and dependencies added to this block must not depend on anything
-@@ -98,13 +95,6 @@ static_library("safe_browsing") {
+@@ -102,13 +99,6 @@ static_library("safe_browsing") {
      allow_circular_includes_from += [ "//chrome/browser/ash/file_manager" ]
    }
  
 -  if (is_win || is_mac || is_linux || is_chromeos) {
 -    deps += [
 -      "//chrome/browser/ui/browser_window",
--      "//chrome/browser/ui/toasts:toasts",
+-      "//chrome/browser/ui/toasts",
 -      "//chrome/browser/ui/toasts/api:toasts",
 -    ]
 -  }
@@ -1353,7 +1398,7 @@
  }  // namespace safe_browsing
 --- a/chrome/browser/safe_browsing/url_lookup_service_factory.cc
 +++ b/chrome/browser/safe_browsing/url_lookup_service_factory.cc
-@@ -72,32 +72,7 @@ RealTimeUrlLookupServiceFactory::~RealTi
+@@ -72,30 +72,7 @@ RealTimeUrlLookupServiceFactory::~RealTi
  std::unique_ptr<KeyedService>
  RealTimeUrlLookupServiceFactory::BuildServiceInstanceForBrowserContext(
      content::BrowserContext* context) const {
@@ -1364,9 +1409,7 @@
 -  return std::make_unique<RealTimeUrlLookupService>(
 -      GetURLLoaderFactory(context),
 -      VerdictCacheManagerFactory::GetForProfile(profile),
--      base::BindRepeating(
--          &safe_browsing::GetUserPopulationForProfileWithCookieTheftExperiments,
--          profile),
+-      base::BindRepeating(&safe_browsing::GetUserPopulationForProfile, profile),
 -      profile->GetPrefs(),
 -      std::make_unique<SafeBrowsingPrimaryAccountTokenFetcher>(
 -          IdentityManagerFactory::GetForProfile(profile)),
@@ -1450,8 +1493,8 @@
    // certificate. So, when users click proceed on an interstitial, move the tab
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -4466,8 +4466,6 @@ static_library("ui") {
-       "views/safe_browsing/prompt_for_scanning_modal_dialog.h",
+@@ -4345,8 +4345,6 @@ static_library("ui") {
+       "views/safe_browsing/password_reuse_modal_warning_dialog.h",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.cc",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.h",
 -      "views/safe_browsing/tailored_security_unconsented_modal.cc",
@@ -1459,9 +1502,19 @@
        "views/select_audio_output/select_audio_output_dialog.cc",
        "views/select_audio_output/select_audio_output_dialog.h",
        "views/select_audio_output/select_audio_output_views.cc",
+--- a/chrome/browser/ui/file_system_access/BUILD.gn
++++ b/chrome/browser/ui/file_system_access/BUILD.gn
+@@ -23,7 +23,6 @@ source_set("file_system_access") {
+ 
+ source_set("impl") {
+   sources = [
+-    "file_system_access_dangerous_file_dialog.cc",
+     "file_system_access_dialogs.cc",
+     "file_system_access_permission_dialog.cc",
+     "file_system_access_restricted_directory_dialog.cc",
 --- a/chrome/browser/ui/safety_hub/revoked_permissions_service.cc
 +++ b/chrome/browser/ui/safety_hub/revoked_permissions_service.cc
-@@ -53,7 +53,6 @@
+@@ -46,7 +46,6 @@
  #include "components/prefs/pref_change_registrar.h"
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -1469,7 +1522,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "revoked_permissions_service.h"
-@@ -406,31 +405,6 @@ RevokedPermissionsService::RevokedPermis
+@@ -210,31 +209,6 @@ RevokedPermissionsService::RevokedPermis
            base::Unretained(this)));
  #endif  // BUILDFLAG(IS_ANDROID)
  
@@ -1499,9 +1552,9 @@
 -                browser_context_));
 -  }
  
-   bool migration_completed = pref_change_registrar_->prefs()->GetBoolean(
-       safety_hub_prefs::kUnusedSitePermissionsRevocationMigrationCompleted);
-@@ -1198,7 +1172,7 @@ bool RevokedPermissionsService::IsUnused
+   unused_site_permissions_manager_ =
+       std::make_unique<UnusedSitePermissionsManager>(browser_context, prefs);
+@@ -1005,7 +979,7 @@ bool RevokedPermissionsService::IsUnused
  }
  
  bool RevokedPermissionsService::IsAbusiveNotificationAutoRevocationEnabled() {
@@ -1522,7 +1575,7 @@
  
 --- a/chrome/browser/ui/toasts/toast_service.cc
 +++ b/chrome/browser/ui/toasts/toast_service.cc
-@@ -34,7 +34,6 @@
+@@ -35,7 +35,6 @@
  #include "components/plus_addresses/features.h"
  #include "components/plus_addresses/grit/plus_addresses_strings.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -1530,7 +1583,7 @@
  #include "components/strings/grit/components_strings.h"
  #include "components/tabs/public/tab_interface.h"
  #include "components/vector_icons/vector_icons.h"
-@@ -144,57 +143,6 @@ void ToastService::RegisterToasts(
+@@ -145,57 +144,6 @@ void ToastService::RegisterToasts(
              .Build());
    }
  
@@ -1612,7 +1665,7 @@
  std::unique_ptr<RenderViewContextMenuBase>
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -171,21 +171,6 @@ void MaybeReportBypassAction(download::D
+@@ -180,21 +180,6 @@ void MaybeReportBypassAction(download::D
  void MaybeTriggerTrustSafetySurvey(download::DownloadItem* file,
                                     WarningSurface surface,
                                     WarningAction action) {
@@ -1769,7 +1822,7 @@
        kChromeUITabSearchHost,
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -2614,7 +2614,6 @@ if (!is_android) {
+@@ -2670,7 +2670,6 @@ if (!is_android) {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser",
@@ -1777,14 +1830,14 @@
        "//components/safe_browsing/content/browser:safe_browsing_service",
        "//components/safe_browsing/content/browser/password_protection",
        "//components/safe_browsing/content/browser/password_protection:test_support",
-@@ -7065,7 +7064,6 @@ test("unit_tests") {
+@@ -7112,7 +7111,6 @@ test("unit_tests") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser",
 -    "//components/safe_browsing/content/browser:client_side_detection_images_cache",
      "//components/safe_browsing/content/browser/notification_content_detection",
+     "//components/safe_browsing/content/browser/notification_content_detection:notifications_global_cache_list",
      "//components/safe_browsing/content/browser/notification_content_detection:test_utils",
-     "//components/safe_browsing/content/browser/password_protection",
 --- a/components/device_signals/core/browser/browser_utils.cc
 +++ b/components/device_signals/core/browser/browser_utils.cc
 @@ -29,35 +29,6 @@ bool IsURLBlocked(const GURL& url, Polic
@@ -1848,7 +1901,7 @@
  
  #if BUILDFLAG(IS_WIN)
  #include "components/device_signals/core/common/win/win_types.h"
-@@ -246,10 +245,7 @@ struct ProfileSignalsResponse : BaseSign
+@@ -256,10 +255,7 @@ struct ProfileSignalsResponse : BaseSign
  
    bool built_in_dns_client_enabled;
    bool chrome_remote_desktop_app_blocked;
@@ -1861,7 +1914,7 @@
  
 --- a/components/enterprise/browser/reporting/chrome_profile_request_generator.cc
 +++ b/components/enterprise/browser/reporting/chrome_profile_request_generator.cc
-@@ -245,18 +245,12 @@ void ChromeProfileRequestGenerator::OnAg
+@@ -258,18 +258,12 @@ void ChromeProfileRequestGenerator::OnAg
          profile_signals.built_in_dns_client_enabled);
      profile_signals_report->set_chrome_remote_desktop_app_blocked(
          profile_signals.chrome_remote_desktop_app_blocked);
@@ -1949,7 +2002,7 @@
      device_signals::AvProduct av_product);
 --- a/components/enterprise/buildflags/buildflags.gni
 +++ b/components/enterprise/buildflags/buildflags.gni
-@@ -10,11 +10,11 @@ declare_args() {
+@@ -11,11 +11,11 @@ declare_args() {
    # Indicates support for content analysis against a cloud agent for Enterprise
    # Connector policies.
    enterprise_cloud_content_analysis =
@@ -1998,9 +2051,32 @@
  }
  
  }  // namespace password_manager
+--- a/components/safe_browsing/content/browser/web_ui/safe_browsing_ui_util.cc
++++ b/components/safe_browsing/content/browser/web_ui/safe_browsing_ui_util.cc
+@@ -299,20 +299,7 @@ std::string SerializeHitReport(const Hit
+   }
+   hit_report_dict.Set("threat_source", std::move(threat_source));
+   std::string extended_reporting_level;
+-  switch (hit_report.extended_reporting_level) {
+-    case ExtendedReportingLevel::SBER_LEVEL_OFF:
+       extended_reporting_level = "SBER_LEVEL_OFF";
+-      break;
+-    case ExtendedReportingLevel::SBER_LEVEL_LEGACY:
+-      extended_reporting_level = "SBER_LEVEL_LEGACY";
+-      break;
+-    case ExtendedReportingLevel::SBER_LEVEL_SCOUT:
+-      extended_reporting_level = "SBER_LEVEL_SCOUT";
+-      break;
+-    case ExtendedReportingLevel::SBER_LEVEL_ENHANCED_PROTECTION:
+-      extended_reporting_level = "SBER_LEVEL_ENHANCED_PROTECTION";
+-      break;
+-  }
+   hit_report_dict.Set("extended_reporting_level",
+                       std::move(extended_reporting_level));
+   hit_report_dict.Set("is_enhanced_protection",
 --- a/components/safe_browsing/content/common/safe_browsing.mojom
 +++ b/components/safe_browsing/content/common/safe_browsing.mojom
-@@ -168,7 +168,6 @@ interface PhishingDetector {
+@@ -170,7 +170,6 @@ interface PhishingDetector {
  
  // Interface for setting a phishing model. This is scoped to an entire
  // RenderProcess.
@@ -2110,7 +2186,7 @@
  void OhttpKeyService::Shutdown() {
 --- a/components/safe_browsing/core/browser/realtime/chrome_enterprise_url_lookup_service.cc
 +++ b/components/safe_browsing/core/browser/realtime/chrome_enterprise_url_lookup_service.cc
-@@ -138,7 +138,7 @@ bool ChromeEnterpriseRealTimeUrlLookupSe
+@@ -142,7 +142,7 @@ bool ChromeEnterpriseRealTimeUrlLookupSe
  
  bool ChromeEnterpriseRealTimeUrlLookupService::CanCheckSafeBrowsingDb() const {
    // Check database if safe browsing is enabled.
@@ -2121,7 +2197,7 @@
  bool ChromeEnterpriseRealTimeUrlLookupService::
 --- a/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
 +++ b/components/safe_browsing/core/browser/realtime/url_lookup_service.cc
-@@ -244,17 +244,6 @@ void RealTimeUrlLookupService::MaybeLogP
+@@ -249,17 +249,6 @@ void RealTimeUrlLookupService::MaybeLogP
      bool request_had_cookie,
      bool was_first_request,
      bool sent_with_token) {
@@ -2299,7 +2375,7 @@
  void SSLBlockingPageBase::PopulateEnhancedProtectionMessage(
 --- a/components/sync_preferences/common_syncable_prefs_database.cc
 +++ b/components/sync_preferences/common_syncable_prefs_database.cc
-@@ -328,9 +328,6 @@ constexpr auto kCommonSyncablePrefsAllow
+@@ -316,9 +316,6 @@ constexpr auto kCommonSyncablePrefsAllow
          {plus_addresses::prefs::kLastPlusAddressFillingTime,
           {syncable_prefs_ids::kLastPlusAddressFillingTime, syncer::PREFERENCES,
            PrefSensitivity::kNone, MergeBehavior::kNone}},
@@ -2385,9 +2461,85 @@
    void DidAfterWriteCheck(
        FileSystemAccessPermissionContext::AfterWriteCheckResult result);
    void DidFileSkipQuarantine(base::File::Error result);
+--- a/extensions/browser/api/declarative_net_request/declarative_net_request_api.cc
++++ b/extensions/browser/api/declarative_net_request/declarative_net_request_api.cc
+@@ -135,13 +135,6 @@ DeclarativeNetRequestUpdateDynamicRulesF
+     return RespondNow(NoArguments());
+   }
+ 
+-  // Collect rules to add in the Extension Telemetry Service.
+-  if (!rules_to_add.empty()) {
+-    ExtensionsBrowserClient::Get()
+-        ->GetSafeBrowsingDelegate()
+-        ->NotifyExtensionApiDeclarativeNetRequest(browser_context(),
+-                                                  extension_id(), rules_to_add);
+-  }
+ 
+   auto* rules_monitor_service =
+       declarative_net_request::RulesMonitorService::Get(browser_context());
+@@ -249,13 +242,6 @@ DeclarativeNetRequestUpdateSessionRulesF
+     return RespondNow(NoArguments());
+   }
+ 
+-  // Collect rules to add in the Extension Telemetry Service.
+-  if (!rules_to_add.empty()) {
+-    ExtensionsBrowserClient::Get()
+-        ->GetSafeBrowsingDelegate()
+-        ->NotifyExtensionApiDeclarativeNetRequest(browser_context(),
+-                                                  extension_id(), rules_to_add);
+-  }
+ 
+   auto* rules_monitor_service =
+       declarative_net_request::RulesMonitorService::Get(browser_context());
+--- a/extensions/browser/api/execute_code_function.cc
++++ b/extensions/browser/api/execute_code_function.cc
+@@ -177,12 +177,6 @@ ExtensionFunction::ResponseAction Execut
+     return RespondNow(Error(std::move(error)));
+ 
+   if (details_->code) {
+-    if (!IsWebView() && extension()) {
+-      ExtensionsBrowserClient::Get()
+-          ->GetSafeBrowsingDelegate()
+-          ->NotifyExtensionApiTabExecuteScript(browser_context(),
+-                                               extension_id(), *details_->code);
+-    }
+ 
+     if (!Execute(*details_->code, &error))
+       return RespondNow(Error(std::move(error)));
+--- a/extensions/browser/api/web_request/extension_web_request_event_router.cc
++++ b/extensions/browser/api/web_request/extension_web_request_event_router.cc
+@@ -1022,14 +1022,6 @@ int WebRequestEventRouter::OnBeforeReque
+           DCHECK(action.redirect_url);
+           OnDNRActionMatched(browser_context, *request, action);
+           *new_url = GetNewUrl(action.redirect_url.value(), browser_context);
+-          // Collect redirect action data for the Extension Telemetry Service.
+-          if (action.type == DNRRequestAction::Type::REDIRECT) {
+-            ExtensionsBrowserClient::Get()
+-                ->GetSafeBrowsingDelegate()
+-                ->NotifyExtensionDeclarativeNetRequestRedirectAction(
+-                    browser_context, action.extension_id, request->url,
+-                    action.redirect_url.value());
+-          }
+           RecordThatNavigationWasInitiatedByExtension(
+               request, browser_context, new_url, action.extension_id);
+           return net::OK;
+--- a/extensions/browser/extension_host.cc
++++ b/extensions/browser/extension_host.cc
+@@ -168,11 +168,6 @@ ExtensionHost::ExtensionHost(const Exten
+   ExtensionWebContentsObserver::GetForWebContents(host_contents())->
+       dispatcher()->set_delegate(this);
+ 
+-  // Create password reuse detection manager when new extension web contents are
+-  // created.
+-  ExtensionsBrowserClient::Get()
+-      ->GetSafeBrowsingDelegate()
+-      ->CreatePasswordReuseDetectionManager(host_contents_.get());
+ 
+   ExtensionHostRegistry::Get(browser_context_)->ExtensionHostCreated(this);
+ }
 --- a/extensions/browser/extension_registrar.cc
 +++ b/extensions/browser/extension_registrar.cc
-@@ -777,103 +777,27 @@ void ExtensionRegistrar::UnblockAllExten
+@@ -783,103 +783,27 @@ void ExtensionRegistrar::UnblockAllExten
  
  void ExtensionRegistrar::OnBlocklistStateRemoved(
      const std::string& extension_id) {
diff --git a/patches/core/ungoogled-chromium/fix-learn-doubleclick-hsts.patch b/patches/core/ungoogled-chromium/fix-learn-doubleclick-hsts.patch
index 8debb778f7..9b64df0aec 100644
--- a/patches/core/ungoogled-chromium/fix-learn-doubleclick-hsts.patch
+++ b/patches/core/ungoogled-chromium/fix-learn-doubleclick-hsts.patch
@@ -2,7 +2,7 @@
 
 --- a/net/tools/transport_security_state_generator/transport_security_state_generator.cc
 +++ b/net/tools/transport_security_state_generator/transport_security_state_generator.cc
-@@ -132,7 +132,7 @@ bool CheckDuplicateEntries(const Transpo
+@@ -129,7 +129,7 @@ bool CheckDuplicateEntries(const Transpo
  bool CheckNoopEntries(const TransportSecurityStateEntries& entries) {
    for (const auto& entry : entries) {
      if (!entry->force_https && entry->pinset.empty()) {
diff --git a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
index 4028c02cb9..88e6525488 100644
--- a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
+++ b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
@@ -95,7 +95,7 @@
  }
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -284,7 +284,6 @@
+@@ -280,7 +280,6 @@
  #include "components/safe_browsing/core/browser/url_checker_delegate.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
@@ -105,7 +105,7 @@
  #include "components/services/on_device_translation/buildflags/buildflags.h"
 --- a/chrome/browser/download/download_browsertest.cc
 +++ b/chrome/browser/download/download_browsertest.cc
-@@ -109,7 +109,6 @@
+@@ -108,7 +108,6 @@
  #include "components/safe_browsing/content/common/file_type_policies_test_util.h"
  #include "components/safe_browsing/content/common/proto/download_file_types.pb.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -135,7 +135,7 @@
  #include "chrome/browser/browser_process.h"
 --- a/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
-@@ -57,7 +57,6 @@
+@@ -58,7 +58,6 @@
  #include "components/safe_browsing/content/browser/web_ui/safe_browsing_ui.h"
  #include "components/safe_browsing/core/browser/realtime/url_lookup_service_base.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -237,6 +237,72 @@
    bool chrome_remote_desktop_app_blocked;
    device_signals::SettingValue os_firewall;
    std::vector<std::string> system_dns_servers;
+--- a/chrome/browser/enterprise/signin/managed_profile_creation_controller.cc
++++ b/chrome/browser/enterprise/signin/managed_profile_creation_controller.cc
+@@ -32,7 +32,6 @@
+ #include "components/policy/core/browser/signin/user_cloud_signin_restriction_policy_fetcher.h"
+ #include "components/policy/core/common/policy_utils.h"
+ #include "components/prefs/pref_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/identity_manager/accounts_mutator.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
+ 
+@@ -140,55 +139,6 @@ void ManagedProfileCreationController::O
+ }
+ 
+ void ManagedProfileCreationController::FetchProfileSeparationPolicies() {
+-  // We should not fetch the policies twice.
+-  CHECK(!policies_received_);
+-  CHECK(!account_level_signin_restriction_policy_fetcher_);
+-
+-  auto policy_fetch_callback = base::BindOnce(
+-      &ManagedProfileCreationController::OnProfileSeparationPoliciesReceived,
+-      weak_ptr_factory_.GetWeakPtr());
+-
+-  if (profile_separation_policies_for_testing_.has_value()) {
+-    CHECK_IS_TEST();
+-    policy::ProfileSeparationPolicies profile_separation_policies =
+-        std::exchange(profile_separation_policies_for_testing_, std::nullopt)
+-            .value();
+-    std::move(policy_fetch_callback)
+-        .Run(std::move(profile_separation_policies));
+-    return;
+-  }
+-
+-  // If we cannot make network calls, we will not be able to fetch the
+-  // account level policies.
+-  if (!g_browser_process->system_network_context_manager()) {
+-    std::move(policy_fetch_callback).Run(policy::ProfileSeparationPolicies());
+-    return;
+-  }
+-
+-  CHECK(source_profile_);
+-  account_level_signin_restriction_policy_fetcher_ =
+-      std::make_unique<policy::UserCloudSigninRestrictionPolicyFetcher>(
+-          g_browser_process->browser_policy_connector(),
+-          g_browser_process->system_network_context_manager()
+-              ->GetSharedURLLoaderFactory());
+-  account_level_signin_restriction_policy_fetcher_
+-      ->GetManagedAccountsSigninRestriction(
+-          GetIdentityManager(), account_info_.account_id,
+-          std::move(policy_fetch_callback),
+-          policy::utils::IsPolicyTestingEnabled(source_profile_->GetPrefs(),
+-                                                chrome::GetChannel())
+-              ? source_profile_->GetPrefs()
+-                    ->GetDefaultPrefValue(
+-                        prefs::kUserCloudSigninPolicyResponseFromPolicyTestPage)
+-                    ->GetString()
+-              : std::string());
+-
+-  policy_fetch_timeout_.Start(
+-      FROM_HERE, base::Seconds(5),
+-      base::BindOnce(&ManagedProfileCreationController::
+-                         OnProfileSeparationPoliciesReceived,
+-                     weak_ptr_factory_.GetWeakPtr(),
+-                     policy::ProfileSeparationPolicies()));
+ }
+ 
+ void ManagedProfileCreationController::OnProfileSeparationPoliciesReceived(
 --- a/chrome/browser/enterprise/signin/oidc_authentication_signin_interceptor.cc
 +++ b/chrome/browser/enterprise/signin/oidc_authentication_signin_interceptor.cc
 @@ -49,7 +49,6 @@
@@ -276,6 +342,16 @@
  }
  
  void OidcManagedProfileCreationDelegate::OnManagedProfileInitialized(
+--- a/chrome/browser/enterprise/signin/profile_management_disclaimer_service.cc
++++ b/chrome/browser/enterprise/signin/profile_management_disclaimer_service.cc
+@@ -39,7 +39,6 @@
+ #include "components/policy/core/browser/signin/user_cloud_signin_restriction_policy_fetcher.h"
+ #include "components/policy/core/common/policy_utils.h"
+ #include "components/prefs/pref_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_prefs.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/account_info.h"
 --- a/chrome/browser/enterprise/signin/token_managed_profile_creation_delegate.cc
 +++ b/chrome/browser/enterprise/signin/token_managed_profile_creation_delegate.cc
 @@ -7,7 +7,6 @@
@@ -343,7 +419,7 @@
  }
 --- a/chrome/browser/extensions/api/identity/identity_apitest.cc
 +++ b/chrome/browser/extensions/api/identity/identity_apitest.cc
-@@ -70,7 +70,6 @@
+@@ -74,7 +74,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/list_accounts_test_utils.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -461,7 +537,7 @@
  #include "content/public/browser/browser_context.h"
 --- a/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_event_router_unittest.cc
 +++ b/chrome/browser/extensions/api/safe_browsing_private/safe_browsing_private_event_router_unittest.cc
-@@ -44,7 +44,6 @@
+@@ -47,7 +47,6 @@
  #include "components/policy/core/common/cloud/mock_cloud_policy_client.h"
  #include "components/policy/core/common/cloud/realtime_reporting_job_configuration.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -482,7 +558,7 @@
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/supervised_user/core/common/pref_names.h"
  #include "components/translate/core/browser/translate_pref_names.h"
-@@ -337,8 +335,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -339,8 +337,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kNumber;
  
    // Privacy page
@@ -491,7 +567,7 @@
    (*s_allowlist)[::prefs::kDnsOverHttpsMode] = settings_api::PrefType::kString;
    (*s_allowlist)[::prefs::kDnsOverHttpsTemplates] =
        settings_api::PrefType::kString;
-@@ -361,16 +357,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -363,16 +359,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::kBoolean;
  
    // Security page
@@ -510,7 +586,7 @@
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
-@@ -714,9 +714,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
+@@ -726,9 +726,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
  IN_PROC_BROWSER_TEST_F(ExtensionWebstorePrivateGetReferrerChainApiTest,
                         GetReferrerChainForNonSafeBrowsingUser) {
    PrefService* pref_service = profile()->GetPrefs();
@@ -593,22 +669,15 @@
  #include "content/public/browser/browser_thread.h"
  #include "content/public/common/url_constants.h"
  #include "extensions/browser/allowlist_state.h"
-@@ -1146,19 +1145,6 @@ void InstalledLoader::RecordExtensionsMe
-     base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabled2",
-                                 disabled_not_allowlisted_count);
-   }
+@@ -986,12 +985,6 @@ void InstalledLoader::RecordExtensionsMe
+                               enabled_not_allowlisted_count);
+   base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabled2",
+                               disabled_not_allowlisted_count);
 -  if (safe_browsing::IsEnhancedProtectionEnabled(*profile->GetPrefs())) {
--    base::UmaHistogramCounts100("Extensions.NotAllowlistedEnabledAndEsbUser",
+-    base::UmaHistogramCounts100("Extensions.NotAllowlistedEnabledAndEsbUser2",
 -                                enabled_not_allowlisted_count);
--    base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabledAndEsbUser",
+-    base::UmaHistogramCounts100("Extensions.NotAllowlistedDisabledAndEsbUser2",
 -                                disabled_not_allowlisted_count);
--    if (should_record_incremented_metrics) {
--      base::UmaHistogramCounts100("Extensions.NotAllowlistedEnabledAndEsbUser2",
--                                  enabled_not_allowlisted_count);
--      base::UmaHistogramCounts100(
--          "Extensions.NotAllowlistedDisabledAndEsbUser2",
--          disabled_not_allowlisted_count);
--    }
 -  }
  }
  
@@ -637,7 +706,7 @@
      {"spellingServiceEnabled", spellcheck::prefs::kSpellCheckUseSpellingService,
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -72,7 +72,6 @@
+@@ -73,7 +73,6 @@
  #include "components/prefs/pref_registry_simple.h"
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
@@ -645,7 +714,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/first_party_sets_handler.h"
-@@ -1434,15 +1433,8 @@ void ProfileNetworkContextService::Confi
+@@ -1439,15 +1438,8 @@ void ProfileNetworkContextService::Confi
  
    network_context_params->enable_certificate_reporting = true;
  
@@ -734,16 +803,6 @@
  
  #if BUILDFLAG(SAFE_BROWSING_AVAILABLE)
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
---- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-+++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -35,7 +35,6 @@
- #include "components/permissions/prediction_service/prediction_service_messages.pb.h"
- #include "components/permissions/request_type.h"
- #include "components/prefs/pref_service.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/unified_consent/pref_names.h"
- #include "content/public/browser/render_widget_host_view.h"
- #include "content/public/browser/web_contents.h"
 --- a/chrome/browser/policy/browser_signin_policy_handler.cc
 +++ b/chrome/browser/policy/browser_signin_policy_handler.cc
 @@ -15,7 +15,6 @@
@@ -824,7 +883,7 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/sync/base/pref_names.h"
  #include "components/sync/service/sync_policy_handler.h"
-@@ -293,9 +290,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -290,9 +287,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kForcePermissionPolicyUnloadDefaultEnabled,
      policy_prefs::kForcePermissionPolicyUnloadDefaultEnabled,
      base::Value::Type::BOOLEAN},
@@ -834,7 +893,7 @@
    { key::kDomainReliabilityAllowed,
      domain_reliability::prefs::kDomainReliabilityAllowedByPolicy,
      base::Value::Type::BOOLEAN },
-@@ -329,15 +323,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -326,15 +320,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kOopPrintDriversAllowedByPolicy,
      base::Value::Type::BOOLEAN },
  #endif
@@ -850,7 +909,7 @@
    { key::kSavingBrowserHistoryDisabled,
      prefs::kSavingBrowserHistoryDisabled,
      base::Value::Type::BOOLEAN },
-@@ -467,9 +452,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -473,9 +458,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdsSettingForIntrusiveAdsSites,
      prefs::kManagedDefaultAdsSetting,
      base::Value::Type::INTEGER },
@@ -860,7 +919,7 @@
    { key::kAllowCrossOriginAuthPrompt,
      prefs::kAllowCrossOriginAuthPrompt,
      base::Value::Type::BOOLEAN },
-@@ -712,15 +694,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -721,15 +703,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kPasswordDismissCompromisedAlertEnabled,
      password_manager::prefs::kPasswordDismissCompromisedAlertEnabled,
      base::Value::Type::BOOLEAN },
@@ -876,7 +935,7 @@
  #if BUILDFLAG(ENABLE_PDF)
    { key::kPdfLocalFileAccessAllowedForDomains,
      prefs::kPdfLocalFileAccessAllowedForDomains,
-@@ -883,9 +856,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -895,9 +868,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdditionalDnsQueryTypesEnabled,
      prefs::kAdditionalDnsQueryTypesEnabled,
      base::Value::Type::BOOLEAN },
@@ -886,7 +945,7 @@
    { key::kForceGoogleSafeSearch,
      policy_prefs::kForceGoogleSafeSearch,
      base::Value::Type::BOOLEAN },
-@@ -949,9 +919,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -961,9 +931,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRequireOnlineRevocationChecksForLocalAnchors,
      prefs::kCertRevocationCheckingRequiredLocalAnchors,
      base::Value::Type::BOOLEAN },
@@ -896,20 +955,17 @@
    { key::kPasswordManagerBlocklist,
      policy_prefs::kPasswordManagerBlocklist,
      base::Value::Type::LIST },
-@@ -1927,12 +1894,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1933,9 +1900,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kUnmanagedDeviceSignalsConsentFlowEnabled,
      device_signals::prefs::kUnmanagedDeviceSignalsConsentFlowEnabled,
      base::Value::Type::BOOLEAN },
 -  { key::kProfileSeparationDomainExceptionList,
 -    prefs::kProfileSeparationDomainExceptionList,
 -    base::Value::Type::LIST },
--  { key::kProfileSeparationSettings,
--    prefs::kProfileSeparationSettings,
--    base::Value::Type::INTEGER },
-   { key::kLiveTranslateEnabled,
-     prefs::kLiveTranslateEnabled,
+   { key::kLiveCaptionEnabled,
+     prefs::kLiveCaptionEnabled,
      base::Value::Type::BOOLEAN },
-@@ -1994,9 +1955,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -2003,9 +1967,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kImportDialogAutofillFormData,
      base::Value::Type::BOOLEAN },
  
@@ -919,7 +975,7 @@
    { key::kHardwareAccelerationModeEnabled,
      prefs::kHardwareAccelerationModeEnabled,
      base::Value::Type::BOOLEAN },
-@@ -2264,9 +2222,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -2282,9 +2243,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kGoogleSearchSidePanelEnabled,
      prefs::kGoogleSearchSidePanelEnabled,
      base::Value::Type::BOOLEAN },
@@ -929,7 +985,7 @@
  #endif  // BUILDFLAG(IS_ANDROID)
    { key::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
      policy_prefs::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
-@@ -2811,24 +2766,7 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2824,29 +2782,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            key::kBrowserContextAwareAccessSignalsAllowlist,
            enterprise_connectors::kBrowserContextAwareAccessSignalsAllowlistPref,
            chrome_schema));
@@ -941,7 +997,12 @@
 -              key::kProfileSeparationSettings,
 -              key::kProfileSeparationDataMigrationSettings,
 -              key::kProfileSeparationDomainExceptionList}));
- 
+-  handlers->AddHandler(std::make_unique<CloudUserOnlyPolicyHandler>(
+-      std::make_unique<SimplePolicyHandler>(key::kProfileSeparationSettings,
+-                                            prefs::kProfileSeparationSettings,
+-                                            base::Value::Type::INTEGER)));
+-
+-
 -  handlers->AddHandler(std::make_unique<SimpleDeprecatingPolicyHandler>(
 -      std::make_unique<SimplePolicyHandler>(
 -          key::kEnterpriseProfileCreationKeepBrowsingData,
@@ -954,7 +1015,7 @@
    handlers->AddHandler(std::make_unique<IntRangePolicyHandler>(
        key::kProfileReauthPrompt, enterprise_signin::prefs::kProfileReauthPrompt,
        static_cast<int>(enterprise_signin::ProfileReauthPrompt::kDoNotPrompt),
-@@ -2900,24 +2838,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2907,11 +2842,6 @@ std::unique_ptr<ConfigurationPolicyHandl
  #else   // BUILDFLAG(IS_CHROMEOS)
    std::vector<std::unique_ptr<ConfigurationPolicyHandler>>
        signin_legacy_policies;
@@ -963,6 +1024,13 @@
 -  signin_legacy_policies.push_back(std::make_unique<SimplePolicyHandler>(
 -      key::kForceBrowserSignin, prefs::kForceBrowserSignin,
 -      base::Value::Type::BOOLEAN));
+ 
+   handlers->AddHandler(std::make_unique<CloudUserOnlyPolicyHandler>(
+       std::make_unique<SimplePolicyHandler>(
+@@ -2924,19 +2854,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+           enterprise_reporting::kUserSecurityAuthenticatedReporting,
+           base::Value::Type::BOOLEAN)));
+ 
 -#endif  // BUILDFLAG(IS_ANDROID) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_WIN) ||
 -        // BUILDFLAG(IS_LINUX)
 -  signin_legacy_policies.push_back(std::make_unique<SimplePolicyHandler>(
@@ -981,7 +1049,7 @@
        std::make_unique<BrowserSigninPolicyHandler>(chrome_schema)));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -163,7 +163,6 @@
+@@ -162,7 +162,6 @@
  #include "components/proxy_config/pref_proxy_config_tracker_impl.h"
  #include "components/regional_capabilities/regional_capabilities_prefs.h"
  #include "components/safe_browsing/buildflags.h"
@@ -989,7 +1057,7 @@
  #include "components/saved_tab_groups/public/pref_names.h"
  #include "components/search_engines/search_engine_choice/search_engine_choice_service.h"
  #include "components/search_engines/template_url_prepopulate_data.h"
-@@ -175,7 +174,6 @@
+@@ -174,7 +173,6 @@
  #include "components/sessions/core/session_id_generator.h"
  #include "components/sharing_message/sharing_sync_preference.h"
  #include "components/signin/core/browser/active_primary_accounts_metrics_recorder.h"
@@ -997,7 +1065,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
-@@ -1718,7 +1716,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1632,7 +1630,6 @@ void RegisterLocalState(PrefRegistrySimp
    PushMessagingServiceImpl::RegisterPrefs(registry);
  #endif
    RegisterScreenshotPrefs(registry);
@@ -1005,7 +1073,7 @@
    search_engines::SearchEngineChoiceService::RegisterLocalStatePrefs(registry);
    secure_origin_allowlist::RegisterPrefs(registry);
    segmentation_platform::SegmentationPlatformService::RegisterLocalStatePrefs(
-@@ -2052,7 +2049,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1971,7 +1968,6 @@ void RegisterProfilePrefs(user_prefs::Pr
  #if BUILDFLAG(SAFE_BROWSING_AVAILABLE)
    safe_browsing::file_type::RegisterProfilePrefs(registry);
  #endif
@@ -1043,9 +1111,9 @@
  #include "components/search_engines/search_engines_pref_names.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
+ #include "components/supervised_user/core/browser/supervised_user_content_filters_service.h"
  #include "components/supervised_user/core/browser/supervised_user_pref_store.h"
- #include "components/sync/base/data_type.h"
-@@ -130,9 +128,6 @@ const auto kTrackedPrefs = std::to_array
+@@ -131,9 +129,6 @@ const auto kTrackedPrefs = std::to_array
      {5, extensions::pref_names::kExtensions, EnforcementLevel::NO_ENFORCEMENT,
       PrefTrackingStrategy::SPLIT, ValueType::IMPERSONAL},
  #endif
@@ -1055,7 +1123,7 @@
      {7, prefs::kSearchProviderOverrides, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #if !BUILDFLAG(IS_ANDROID)
-@@ -156,19 +151,12 @@ const auto kTrackedPrefs = std::to_array
+@@ -157,19 +152,12 @@ const auto kTrackedPrefs = std::to_array
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
      // kSyncRemainingRollbackTries is deprecated and will be removed a few
      // releases after M50.
@@ -1077,7 +1145,7 @@
       ValueType::IMPERSONAL},
 --- a/chrome/browser/prefs/pref_functional_browsertest.cc
 +++ b/chrome/browser/prefs/pref_functional_browsertest.cc
-@@ -24,7 +24,6 @@
+@@ -26,7 +26,6 @@
  #include "components/content_settings/core/common/content_settings_types.h"
  #include "components/content_settings/core/common/pref_names.h"
  #include "components/embedder_support/pref_names.h"
@@ -1085,7 +1153,7 @@
  #include "components/sync_preferences/pref_service_syncable.h"
  #include "content/public/browser/web_contents.h"
  #include "content/public/test/browser_test.h"
-@@ -216,9 +215,6 @@ IN_PROC_BROWSER_TEST_F(PrefsFunctionalTe
+@@ -219,9 +218,6 @@ IN_PROC_BROWSER_TEST_F(PrefsFunctionalTe
    prefetch::SetPreloadPagesState(prefs,
                                   prefetch::PreloadPagesState::kNoPreloading);
  
@@ -1095,7 +1163,7 @@
    EXPECT_TRUE(prefs->GetBoolean(embedder_support::kAlternateErrorPagesEnabled));
    prefs->SetBoolean(embedder_support::kAlternateErrorPagesEnabled, false);
  
-@@ -232,7 +228,6 @@ IN_PROC_BROWSER_TEST_F(PrefsFunctionalTe
+@@ -235,7 +231,6 @@ IN_PROC_BROWSER_TEST_F(PrefsFunctionalTe
  
    EXPECT_EQ(prefetch::PreloadPagesState::kNoPreloading,
              prefetch::GetPreloadPagesState(*prefs));
@@ -1173,15 +1241,15 @@
      info.Set(ProfileAttributesEntry::kAccountIdKey,
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
-@@ -158,7 +158,6 @@
+@@ -159,7 +159,6 @@
  #include "components/profile_metrics/browser_profile_type.h"
  #include "components/safe_search_api/safe_search_util.h"
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_isolation/site_isolation_policy.h"
- #include "components/spellcheck/spellcheck_buildflags.h"
-@@ -1115,7 +1114,6 @@ void ProfileImpl::OnLocaleReady(CreateMo
+@@ -1117,7 +1116,6 @@ void ProfileImpl::OnLocaleReady(CreateMo
    CHECK(!ProfilePasswordStoreFactory::HasStore(this));
    CHECK(!AccountPasswordStoreFactory::HasStore(this));
    CHECK(!ReadingListModelFactory::HasModel(this));
@@ -1227,7 +1295,7 @@
    prefs->ClearPref(DefaultSearchManager::kDefaultSearchProviderDataPrefName);
 --- a/chrome/browser/profiles/profile_window.cc
 +++ b/chrome/browser/profiles/profile_window.cc
-@@ -36,7 +36,6 @@
+@@ -38,7 +38,6 @@
  #include "chrome/common/pref_names.h"
  #include "chrome/common/url_constants.h"
  #include "components/prefs/pref_service.h"
@@ -1247,7 +1315,7 @@
  namespace profiles {
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
-@@ -662,7 +662,7 @@
+@@ -665,7 +665,7 @@
            </category-setting-exceptions>
          </settings-subpage>
        </template>
@@ -1258,7 +1326,7 @@
            <settings-subpage page-title="$i18n{siteSettingsAds}"
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.ts
-@@ -98,7 +98,7 @@ export class SettingsPrivacyPageElement
+@@ -97,7 +97,7 @@ export class SettingsPrivacyPageElement
        enableSafeBrowsingSubresourceFilter_: {
          type: Boolean,
          value() {
@@ -1559,7 +1627,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_constants.h"
  #include "components/safe_browsing/core/common/utils.h"
  #include "components/security_interstitials/core/unsafe_resource.h"
-@@ -1381,14 +1380,6 @@ bool ChromePasswordProtectionService::Ha
+@@ -1373,14 +1372,6 @@ bool ChromePasswordProtectionService::Ha
  }
  
  void ChromePasswordProtectionService::OnWarningTriggerChanged() {
@@ -1574,7 +1642,7 @@
    // Clears captured enterprise password hashes or GSuite sync password hashes.
    password_manager::PasswordReuseManager* reuse_manager =
        GetPasswordReuseManager();
-@@ -1561,7 +1552,7 @@ PrefService* ChromePasswordProtectionSer
+@@ -1553,7 +1544,7 @@ PrefService* ChromePasswordProtectionSer
  }
  
  bool ChromePasswordProtectionService::IsSafeBrowsingEnabled() {
@@ -1583,7 +1651,7 @@
  }
  
  bool ChromePasswordProtectionService::IsExtendedReporting() {
-@@ -1581,39 +1572,7 @@ bool ChromePasswordProtectionService::Is
+@@ -1573,39 +1564,7 @@ bool ChromePasswordProtectionService::Is
  bool ChromePasswordProtectionService::IsPingingEnabled(
      LoginReputationClientRequest::TriggerType trigger_type,
      ReusedPasswordAccountType password_type) {
@@ -1624,7 +1692,7 @@
  }
  
  RequestOutcome ChromePasswordProtectionService::GetPingNotSentReason(
-@@ -1855,23 +1814,6 @@ MaybeCreateCommitDeferringCondition(
+@@ -1847,23 +1806,6 @@ MaybeCreateCommitDeferringCondition(
               : nullptr;
  }
  
@@ -1878,7 +1946,7 @@
  #include "services/network/public/cpp/shared_url_loader_factory.h"
 --- a/chrome/browser/safe_browsing/incident_reporting/incident_reporting_service_unittest.cc
 +++ b/chrome/browser/safe_browsing/incident_reporting/incident_reporting_service_unittest.cc
-@@ -35,7 +35,6 @@
+@@ -34,7 +34,6 @@
  #include "chrome/test/base/testing_profile.h"
  #include "chrome/test/base/testing_profile_manager.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -2026,7 +2094,7 @@
    // Get current enabled status. Must be called on IO thread.
    bool enabled() const {
      DCHECK_CURRENTLY_ON(content::BrowserThread::IO);
-@@ -385,10 +375,6 @@ class SafeBrowsingServiceImpl : public S
+@@ -382,10 +372,6 @@ class SafeBrowsingServiceImpl : public S
  
    std::unique_ptr<ProxyConfigMonitor> proxy_config_monitor_;
  
@@ -2235,7 +2303,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_cookie_mutator.h"
-@@ -125,11 +124,6 @@ class ProfileDataRemover : public conten
+@@ -116,11 +115,6 @@ class ProfileDataRemover : public conten
        // All the Profile data has been wiped. Clear the last signed in username
        // as well, so that the next signin doesn't trigger the account
        // change dialog.
@@ -2247,39 +2315,6 @@
      }
  
      origin_runner_->PostTask(FROM_HERE, std::move(callback_));
-@@ -166,11 +160,6 @@ SigninManagerAndroid::SigninManagerAndro
-   DCHECK(user_cloud_policy_manager_);
-   DCHECK(user_policy_signin_service_);
- 
--  signin_allowed_.Init(
--      prefs::kSigninAllowed, profile_->GetPrefs(),
--      base::BindRepeating(&SigninManagerAndroid::OnSigninAllowedPrefChanged,
--                          base::Unretained(this)));
--
-   force_browser_signin_.Init(prefs::kForceBrowserSignin,
-                              g_browser_process->local_state());
- 
-@@ -203,7 +192,7 @@ SigninManagerAndroid::ManagementCredenti
- SigninManagerAndroid::ManagementCredentials::~ManagementCredentials() = default;
- 
- bool SigninManagerAndroid::IsSigninAllowed() const {
--  return signin_allowed_.GetValue();
-+  return false;
- }
- 
- bool SigninManagerAndroid::IsSigninAllowed(JNIEnv* env) const {
---- a/chrome/browser/signin/android/signin_manager_android.h
-+++ b/chrome/browser/signin/android/signin_manager_android.h
-@@ -141,9 +141,6 @@ class SigninManagerAndroid : public Keye
- 
-   const raw_ptr<Profile> profile_ = nullptr;
- 
--  // Handler for prefs::kSigninAllowed set in user's profile.
--  BooleanPrefMember signin_allowed_;
--
-   // Handler for prefs::kForceBrowserSignin. This preference is set in Local
-   // State, not in user prefs.
-   BooleanPrefMember force_browser_signin_;
 --- a/chrome/browser/signin/bound_session_credentials/bound_session_cookie_refresh_service_factory.cc
 +++ b/chrome/browser/signin/bound_session_credentials/bound_session_cookie_refresh_service_factory.cc
 @@ -19,7 +19,6 @@
@@ -2356,7 +2391,7 @@
  #include "components/user_manager/user.h"
 --- a/chrome/browser/signin/dice_browsertest.cc
 +++ b/chrome/browser/signin/dice_browsertest.cc
-@@ -78,7 +78,6 @@
+@@ -82,7 +82,6 @@
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2376,15 +2411,15 @@
  #include "content/public/browser/storage_partition.h"
 --- a/chrome/browser/signin/dice_web_signin_interceptor.cc
 +++ b/chrome/browser/signin/dice_web_signin_interceptor.cc
-@@ -71,7 +71,6 @@
+@@ -73,7 +73,6 @@
  #include "components/search_engines/template_url_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_prefs.h"
- #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_capabilities.h"
-@@ -459,16 +458,8 @@ void DiceWebSigninInterceptor::RegisterP
+ #include "components/signin/public/identity_manager/account_info.h"
+@@ -462,16 +461,8 @@ void DiceWebSigninInterceptor::RegisterP
    registry->RegisterBooleanPref(prefs::kSigninInterceptionEnabled, true);
    registry->RegisterStringPref(prefs::kManagedAccountsSigninRestriction,
                                 std::string());
@@ -2401,7 +2436,7 @@
  }
  
  std::optional<SigninInterceptionHeuristicOutcome>
-@@ -1495,16 +1486,6 @@ void DiceWebSigninInterceptor::
+@@ -1504,16 +1495,6 @@ void DiceWebSigninInterceptor::
            g_browser_process->browser_policy_connector(),
            g_browser_process->system_network_context_manager()
                ->GetSharedURLLoaderFactory());
@@ -2428,9 +2463,9 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -154,7 +153,7 @@ void HeaderModificationDelegateImpl::Pro
- #endif
- #if BUILDFLAG(ENABLE_DICE_SUPPORT)
+@@ -162,7 +161,7 @@ void HeaderModificationDelegateImpl::Pro
+       // the sync feature is enabled, which in particular triggers a
+       // confirmation web page on signout.
        sync_service && sync_service->IsSyncFeatureEnabled(),
 -      prefs->GetString(prefs::kGoogleServicesSigninScopedDeviceId),
 +      std::string(),
@@ -2580,7 +2615,7 @@
  }
  
  bool ShouldShowExtensionSignInPromo(Profile& profile,
-@@ -296,43 +225,7 @@ bool ShouldShowAddressSignInPromo(Profil
+@@ -295,43 +224,7 @@ bool ShouldShowAddressSignInPromo(Profil
  }
  
  bool ShouldShowBookmarkSignInPromo(Profile& profile) {
@@ -2636,15 +2671,15 @@
  #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
 --- a/chrome/browser/signin/signin_util.cc
 +++ b/chrome/browser/signin/signin_util.cc
-@@ -32,7 +32,6 @@
+@@ -34,7 +34,6 @@
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/core/browser/account_reconcilor.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
- #include "components/sync/base/user_selectable_type.h"
-@@ -73,8 +72,7 @@ ScopedForceSigninSetterForTesting::~Scop
+@@ -79,8 +78,7 @@ ScopedForceSigninSetterForTesting::~Scop
  CookiesMover::CookiesMover(base::WeakPtr<Profile> source_profile,
                             base::WeakPtr<Profile> destination_profile,
                             base::OnceCallback<void()> callback)
@@ -2654,7 +2689,7 @@
        source_profile_(std::move(source_profile)),
        destination_profile_(std::move(destination_profile)),
        callback_(std::move(callback)) {
-@@ -84,25 +82,7 @@ CookiesMover::CookiesMover(base::WeakPtr
+@@ -90,25 +88,7 @@ CookiesMover::CookiesMover(base::WeakPtr
  CookiesMover::~CookiesMover() = default;
  
  void CookiesMover::StartMovingCookies() {
@@ -2680,7 +2715,7 @@
  }
  
  void CookiesMover::OnCookiesReceived(
-@@ -242,16 +222,7 @@ bool ProfileSeparationAllowsKeepingUnman
+@@ -248,16 +228,7 @@ bool ProfileSeparationAllowsKeepingUnman
  bool IsAccountExemptedFromEnterpriseProfileSeparation(
      Profile* profile,
      const std::string& email) {
@@ -2697,6 +2732,66 @@
  }
  #endif  // !BUILDFLAG(IS_CHROMEOS)
  
+@@ -410,59 +381,7 @@ bool ShouldShowHistorySyncOptinScreen(Pr
+ }
+ 
+ bool ShouldShowAvatarSyncPromo(Profile* profile) {
+-  CHECK(switches::IsAvatarSyncPromoFeatureEnabled());
+-
+-  // Do not show the promo for users that are not signed in. (E.g. Signed out,
+-  // Signin Pending or already syncing).
+-  if (GetSignedInState(IdentityManagerFactory::GetForProfile(profile)) !=
+-      signin_util::SignedInState::kSignedIn) {
+-    return false;
+-  }
+-
+-  // SyncService should be usable.
+-  syncer::SyncService* sync_service =
+-      SyncServiceFactory::GetForProfile(profile);
+-  if (!sync_service) {
+     return false;
+-  }
+-  if (sync_service->HasDisableReason(
+-          syncer::SyncService::DISABLE_REASON_ENTERPRISE_POLICY)) {
+-    return false;
+-  }
+-
+-  signin::IdentityManager* identity_manager =
+-      IdentityManagerFactory::GetForProfile(profile);
+-  CHECK(identity_manager->AreRefreshTokensLoaded());
+-  AccountInfo account_info = identity_manager->FindExtendedAccountInfo(
+-      identity_manager->GetPrimaryAccountInfo(signin::ConsentLevel::kSignin));
+-  // Do not show the promo for non signed in accounts, or managed accounts.
+-  if (account_info.IsEmpty() ||
+-      account_info.IsManaged() != signin::Tribool::kFalse) {
+-    return false;
+-  }
+-
+-  // Do not show the promo if there was a previously syncing account that does
+-  // not match the currently signed in one.
+-  PrefService* pref_service = profile->GetPrefs();
+-  GaiaId previously_syncing_gaia_id =
+-      GaiaId(pref_service->GetString(prefs::kGoogleServicesLastSyncingGaiaId));
+-  if (IsCrossAccountError(profile, account_info.gaia)) {
+-    return false;
+-  }
+-
+-  // For non-dice users, do not show the promo for users that have been signed
+-  // for a short period of time.
+-  if (pref_service->GetBoolean(prefs::kExplicitBrowserSignin)) {
+-    const base::Time last_changed = base::Time::FromSecondsSinceUnixEpoch(
+-        pref_service->GetDouble(prefs::kGaiaCookieChangedTime));
+-    if (last_changed.is_null() ||
+-        (base::Time::Now() - last_changed <
+-         switches::GetAvatarSyncPromoFeatureMinimumCookeAgeParam())) {
+-      return false;
+-    }
+-  }
+-
+-  return true;
+ }
+ #endif  // BUILDFLAG(IS_LINUX) ||  BUILDFLAG(IS_MAC) ||  BUILDFLAG(IS_WIN)
+ 
 --- a/chrome/browser/signin/signin_util_win.cc
 +++ b/chrome/browser/signin/signin_util_win.cc
 @@ -36,7 +36,6 @@
@@ -2798,7 +2893,7 @@
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
 --- a/chrome/browser/ui/autofill/payments/save_card_bubble_controller_impl.cc
 +++ b/chrome/browser/ui/autofill/payments/save_card_bubble_controller_impl.cc
-@@ -47,7 +47,6 @@
+@@ -48,7 +48,6 @@
  #include "components/autofill/core/common/autofill_features.h"
  #include "components/autofill/core/common/autofill_payments_features.h"
  #include "components/signin/public/base/signin_buildflags.h"
@@ -2808,7 +2903,7 @@
  #include "components/sync/service/sync_service.h"
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -92,7 +92,6 @@
+@@ -94,7 +94,6 @@
  #include "components/sessions/core/tab_restore_service.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2848,7 +2943,7 @@
  #include "extensions/common/extension.h"
 --- a/chrome/browser/ui/hats/trust_safety_sentiment_service.cc
 +++ b/chrome/browser/ui/hats/trust_safety_sentiment_service.cc
-@@ -32,8 +32,6 @@
+@@ -31,8 +31,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
  #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
@@ -2857,7 +2952,7 @@
  #include "components/unified_consent/pref_names.h"
  #include "components/version_info/channel.h"
  
-@@ -79,9 +77,6 @@ bool HasNonDefaultPrivacySetting(Profile
+@@ -78,9 +76,6 @@ bool HasNonDefaultPrivacySetting(Profile
    auto* prefs = profile->GetPrefs();
  
    std::vector<std::string> prefs_to_check = {
@@ -2867,7 +2962,7 @@
        prefs::kEnableDoNotTrack,
        password_manager::prefs::kPasswordLeakDetectionEnabled,
        prefs::kCookieControlsMode,
-@@ -99,13 +94,9 @@ bool HasNonDefaultPrivacySetting(Profile
+@@ -98,13 +93,9 @@ bool HasNonDefaultPrivacySetting(Profile
    // Users consenting to sync automatically enable UKM collection
    auto* ukm_pref = prefs->FindPreference(
        unified_consent::prefs::kUrlKeyedAnonymizedDataCollectionEnabled);
@@ -2882,7 +2977,7 @@
  
    // Check the default value for each user facing content setting. Note that
    // this will not include content setting exceptions set via permission
-@@ -178,8 +169,6 @@ std::map<std::string, bool> BuildProduct
+@@ -177,8 +168,6 @@ std::map<std::string, bool> BuildProduct
      PasswordProtectionUIType ui_type,
      PasswordProtectionUIAction action) {
    std::map<std::string, bool> product_specific_data;
@@ -2923,19 +3018,9 @@
    product_specific_data["Is mainpage UI"] = false;
    product_specific_data["Is downloads page UI"] = false;
    product_specific_data["Is download prompt UI"] = false;
---- a/chrome/browser/ui/safety_hub/card_data_helper.cc
-+++ b/chrome/browser/ui/safety_hub/card_data_helper.cc
-@@ -29,7 +29,6 @@
- #include "chrome/browser/upgrade_detector/build_state.h"
- #include "chrome/grit/branded_strings.h"
- #include "chrome/grit/generated_resources.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/signin/public/identity_manager/identity_manager.h"
- #include "ui/base/l10n/l10n_util.h"
- 
 --- a/chrome/browser/ui/safety_hub/menu_notification_service.cc
 +++ b/chrome/browser/ui/safety_hub/menu_notification_service.cc
-@@ -21,7 +21,6 @@
+@@ -22,7 +22,6 @@
  #include "chrome/browser/ui/safety_hub/safety_hub_service.h"
  #include "chrome/common/chrome_features.h"
  #include "components/prefs/pref_service.h"
@@ -2960,15 +3045,15 @@
  void SafetyHubMenuNotificationService::UpdateResultGetterForTesting(
 --- a/chrome/browser/ui/safety_hub/safe_browsing_result.cc
 +++ b/chrome/browser/ui/safety_hub/safe_browsing_result.cc
-@@ -11,7 +11,6 @@
- #include "chrome/browser/ui/safety_hub/safety_hub_service.h"
- #include "chrome/browser/ui/webui/settings/safety_hub_handler.h"
+@@ -12,7 +12,6 @@
+ #include "chrome/browser/ui/safety_hub/safety_hub_result.h"
  #include "chrome/grit/generated_resources.h"
+ #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "ui/base/l10n/l10n_util.h"
  
- SafetyHubSafeBrowsingResult::SafetyHubSafeBrowsingResult(
-@@ -35,18 +34,6 @@ SafetyHubSafeBrowsingResult::GetResult(c
+ #if !BUILDFLAG(IS_ANDROID)
+@@ -54,18 +53,6 @@ SafetyHubSafeBrowsingResult::GetResult(c
  // static
  SafeBrowsingState SafetyHubSafeBrowsingResult::GetState(
      const PrefService* pref_service) {
@@ -3028,9 +3113,80 @@
    if (identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSync)) {
      return false;
    }
+--- a/chrome/browser/ui/signin/dice_migration_service.cc
++++ b/chrome/browser/ui/signin/dice_migration_service.cc
+@@ -24,7 +24,6 @@
+ #include "chrome/grit/theme_resources.h"
+ #include "components/pref_registry/pref_registry_syncable.h"
+ #include "components/prefs/pref_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/account_managed_status_finder.h"
+ #include "components/signin/public/identity_manager/account_managed_status_finder_outcome.h"
+@@ -118,36 +117,7 @@ void SetBannerImage(ui::DialogModel::Bui
+ }
+ 
+ bool MaybeMigrateUser(Profile* profile) {
+-  if (!IsUserEligibleForDiceMigration(profile)) {
+     return false;
+-  }
+-  PrefService* prefs = profile->GetPrefs();
+-  CHECK(prefs);
+-
+-  // Backup the prefs.
+-  prefs->SetDict(
+-      kDiceMigrationBackup,
+-      base::Value::Dict()
+-          .SetByDottedPath(prefs::kExplicitBrowserSignin,
+-                           prefs->GetBoolean(prefs::kExplicitBrowserSignin))
+-          .SetByDottedPath(
+-              prefs::kPrefsThemesSearchEnginesAccountStorageEnabled,
+-              prefs->GetBoolean(
+-                  prefs::kPrefsThemesSearchEnginesAccountStorageEnabled)));
+-
+-  // TODO(crbug.com/399838468): Consider calling
+-  // `PrimaryAccountManager::ComputeExplicitBrowserSignin` upon explicit signin
+-  // pref change.
+-  prefs->SetBoolean(prefs::kPrefsThemesSearchEnginesAccountStorageEnabled,
+-                    true);
+-
+-  prefs->SetBoolean(prefs::kExplicitBrowserSignin, true);
+-
+-  // Mark the migration pref as successful.
+-  prefs->SetBoolean(kDiceMigrationMigrated, true);
+-  // Reset the restoration pref.
+-  prefs->SetBoolean(kDiceMigrationRestoredFromBackup, false);
+-  return true;
+ }
+ 
+ bool MaybeShowToast(Browser* browser) {
+@@ -288,23 +258,7 @@ void DiceMigrationService::RevertDiceMig
+   }
+ 
+   const bool restored_from_backup = [prefs]() -> bool {
+-    const base::Value* backup = prefs->GetUserPrefValue(kDiceMigrationBackup);
+-    if (!backup || !backup->is_dict()) {
+       return false;
+-    }
+-    const std::optional<bool> prefs_account_storage_enabled =
+-        backup->GetDict().FindBoolByDottedPath(
+-            prefs::kPrefsThemesSearchEnginesAccountStorageEnabled);
+-    const std::optional<bool> explicit_browser_signin =
+-        backup->GetDict().FindBoolByDottedPath(prefs::kExplicitBrowserSignin);
+-    if (!explicit_browser_signin.has_value() ||
+-        !prefs_account_storage_enabled.has_value()) {
+-      return false;
+-    }
+-    prefs->SetBoolean(prefs::kPrefsThemesSearchEnginesAccountStorageEnabled,
+-                      *prefs_account_storage_enabled);
+-    prefs->SetBoolean(prefs::kExplicitBrowserSignin, *explicit_browser_signin);
+-    return true;
+   }();
+ 
+   prefs->SetBoolean(kDiceMigrationRestoredFromBackup, restored_from_backup);
 --- a/chrome/browser/ui/signin/signin_view_controller.cc
 +++ b/chrome/browser/ui/signin/signin_view_controller.cc
-@@ -31,7 +31,6 @@
+@@ -32,7 +32,6 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3038,7 +3194,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -352,15 +351,6 @@ void SigninViewController::SignoutOrReau
+@@ -355,15 +354,6 @@ void SigninViewController::SignoutOrReau
            &SigninViewController::SignoutOrReauthWithPromptWithUnsyncedDataTypes,
            weak_ptr_factory_.GetWeakPtr(), reauth_access_point,
            profile_signout_source, token_signout_source);
@@ -3054,7 +3210,7 @@
    // Dice users don't see the prompt, pass empty datatypes.
    std::move(signout_prompt_with_datatypes)
        .Run(absl::flat_hash_map<syncer::DataType, size_t>());
-@@ -720,9 +710,7 @@ void SigninViewController::SignoutOrReau
+@@ -726,9 +716,7 @@ void SigninViewController::SignoutOrReau
    bool sign_out_immediately = unsynced_datatypes.empty() && needs_reauth;
  
    // Do not show the dialog to users with implicit signin.
@@ -3062,7 +3218,7 @@
      sign_out_immediately = true;
 -  }
  
-   if (ShowAccountExtensionsOnSignout(profile_)) {
+   if (ShowAccountExtensionsOnSignout(GetProfile())) {
      sign_out_immediately = false;
 --- a/chrome/browser/ui/startup/first_run_service.cc
 +++ b/chrome/browser/ui/startup/first_run_service.cc
@@ -3110,7 +3266,7 @@
  void SetFirstRunFinished(FirstRunService::FinishedReason reason) {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -110,7 +110,6 @@
+@@ -111,7 +111,6 @@
  #include "components/profile_metrics/browser_profile_type.h"
  #include "components/saved_tab_groups/public/features.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3118,7 +3274,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/user_education/common/feature_promo/feature_promo_controller.h"
-@@ -595,51 +594,7 @@ int ProfileSubMenuModel::GetAndIncrement
+@@ -596,54 +595,7 @@ int ProfileSubMenuModel::GetAndIncrement
  }
  
  bool ProfileSubMenuModel::BuildSyncSection() {
@@ -3140,10 +3296,17 @@
 -      GetAvatarSyncErrorType(profile_);
 -  if (error.has_value()) {
 -    if (error == AvatarSyncErrorType::kSyncPaused) {
--      // If sync is paused the menu item will be specific to the paused error.
--      AddItemWithStringIdAndVectorIcon(this, IDC_SHOW_SIGNIN_WHEN_PAUSED,
--                                       IDS_PROFILE_ROW_SIGN_IN_AGAIN,
--                                       vector_icons::kSyncOffChromeRefreshIcon);
+-      if (identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSync)) {
+-        // If sync is paused the menu item will be specific to the paused error.
+-        AddItemWithStringIdAndVectorIcon(
+-            this, IDC_SHOW_SIGNIN_WHEN_PAUSED, IDS_PROFILE_ROW_SIGN_IN_AGAIN,
+-            vector_icons::kSyncOffChromeRefreshIcon);
+-      } else {
+-        AddItemWithStringIdAndVectorIcon(
+-            this, IDC_SHOW_SIGNIN_WHEN_PAUSED,
+-            IDS_PROFILES_VERIFY_ACCOUNT_BUTTON,
+-            vector_icons::kAccountCircleOffChromeRefreshIcon);
+-      }
 -    } else {
 -      // All remaining errors will have the same menu item.
 -      AddItemWithStringIdAndVectorIcon(
@@ -3153,11 +3316,7 @@
 -    return true;
 -  }
 -
--  if (signin_util::IsSigninPending(identity_manager)) {
--    AddItemWithStringIdAndVectorIcon(
--        this, IDC_SHOW_SIGNIN_WHEN_PAUSED, IDS_PROFILES_VERIFY_ACCOUNT_BUTTON,
--        vector_icons::kAccountCircleOffChromeRefreshIcon);
--  } else if (identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSync)) {
+-  if (identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSync)) {
 -    AddItemWithStringIdAndVectorIcon(this, IDC_SHOW_SYNC_SETTINGS,
 -                                     IDS_PROFILE_ROW_SYNC_IS_ON,
 -                                     vector_icons::kSyncChromeRefreshIcon);
@@ -3190,38 +3349,55 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/identity_test_utils.h"
---- a/chrome/browser/ui/views/profiles/avatar_toolbar_button_delegate.cc
-+++ b/chrome/browser/ui/views/profiles/avatar_toolbar_button_delegate.cc
-@@ -60,7 +60,6 @@
- #include "components/prefs/pref_service.h"
- #include "components/signin/public/base/consent_level.h"
- #include "components/signin/public/base/signin_metrics.h"
+--- a/chrome/browser/ui/views/profiles/avatar_toolbar_button.cc
++++ b/chrome/browser/ui/views/profiles/avatar_toolbar_button.cc
+@@ -49,7 +49,6 @@
+ #include "components/feature_engagement/public/feature_constants.h"
+ #include "components/feature_engagement/public/tracker.h"
+ #include "components/password_manager/content/common/web_ui_constants.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
- #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -2053,18 +2052,6 @@ void AvatarToolbarButtonDelegate::OnErro
+ #include "components/signin/public/identity_manager/tribool.h"
+@@ -583,25 +582,6 @@ void AvatarToolbarButton::OnErrorStateOf
      const CoreAccountInfo& account_info,
      const GoogleServiceAuthError& error,
      signin_metrics::SourceForRefreshTokenOperation token_operation_source) {
+-  Profile* profile = browser_->profile();
+-  CHECK(profile);
+-  PrefService* prefs = profile->GetPrefs();
+-  CHECK(prefs);
+-  signin::IdentityManager* identity_manager =
+-      IdentityManagerFactory::GetForProfile(profile);
+-  CHECK(identity_manager);
 -  if (base::FeatureList::IsEnabled(
 -          syncer::kReplaceSyncPromosWithSignInPromos) &&
--      profile_->GetPrefs()->GetBoolean(prefs::kExplicitBrowserSignin) &&
--      account_info == identity_manager_->GetPrimaryAccountInfo(
+-      prefs->GetBoolean(prefs::kExplicitBrowserSignin) &&
+-      account_info == identity_manager->GetPrimaryAccountInfo(
 -                          signin::ConsentLevel::kSignin) &&
--      !identity_manager_->HasPrimaryAccount(signin::ConsentLevel::kSync) &&
+-      !identity_manager->HasPrimaryAccount(signin::ConsentLevel::kSync) &&
 -      error.state() ==
 -          GoogleServiceAuthError::State::INVALID_GAIA_CREDENTIALS &&
 -      token_operation_source == signin_metrics::SourceForRefreshTokenOperation::
 -                                    kDiceResponseHandler_Signout) {
--    avatar_toolbar_button_->MaybeShowWebSignoutIPH(account_info.gaia);
+-    MaybeShowWebSignoutIPH(account_info.gaia);
 -  }
  }
  
- // static
+ void AvatarToolbarButton::AfterPropertyChange(const void* key,
+--- a/chrome/browser/ui/views/profiles/avatar_toolbar_button_state_manager.cc
++++ b/chrome/browser/ui/views/profiles/avatar_toolbar_button_state_manager.cc
+@@ -60,7 +60,6 @@
+ #include "components/prefs/pref_service.h"
+ #include "components/signin/public/base/consent_level.h"
+ #include "components/signin/public/base/signin_metrics.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_prefs.h"
+ #include "components/signin/public/base/signin_switches.h"
+ #include "components/signin/public/identity_manager/account_info.h"
 --- a/chrome/browser/ui/views/profiles/profile_menu_view.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view.cc
-@@ -75,7 +75,6 @@
+@@ -78,7 +78,6 @@
  #include "components/signin/core/browser/signin_error_controller.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -3229,7 +3405,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
-@@ -663,19 +662,6 @@ ProfileMenuView::GetIdentitySectionParam
+@@ -711,22 +710,6 @@ ProfileMenuView::GetIdentitySectionParam
        signin_metrics::AccessPoint::kAvatarBubbleSignIn;
    switch (signin_util::GetSignedInState(identity_manager)) {
      case signin_util::SignedInState::kSignedOut:
@@ -3238,7 +3414,10 @@
 -        access_point =
 -            signin_metrics::AccessPoint::kAvatarBubbleSignInWithSyncPromo;
 -        params.subtitle = l10n_util::GetStringUTF16(
--            IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION);
+-            base::FeatureList::IsEnabled(
+-                syncer::kReplaceSyncPromosWithSignInPromos)
+-                ? IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION_WITH_BOOKMARKS
+-                : IDS_PROFILE_MENU_SIGNIN_PROMO_DESCRIPTION);
 -        params.button_text =
 -            l10n_util::GetStringUTF16(IDS_PROFILE_MENU_SIGNIN_PROMO_BUTTON);
 -        signin_metrics::LogSignInOffered(
@@ -3249,7 +3428,7 @@
        break;
      case signin_util::SignedInState::kWebOnlySignedIn: {
        access_point =
-@@ -854,9 +840,7 @@ void ProfileMenuView::MaybeBuildChromeAc
+@@ -908,9 +891,7 @@ void ProfileMenuView::MaybeBuildChromeAc
    // Show the settings button when signed in to Chrome or to the web, or if
    // signin is disallowed.
    const bool should_show_settings_button =
@@ -3262,7 +3441,7 @@
    }
 --- a/chrome/browser/ui/views/profiles/profile_menu_view_browsertest.cc
 +++ b/chrome/browser/ui/views/profiles/profile_menu_view_browsertest.cc
-@@ -88,7 +88,6 @@
+@@ -95,7 +95,6 @@
  #include "components/policy/core/common/management/scoped_management_service_override_for_testing.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
@@ -3337,15 +3516,15 @@
  #include "content/public/browser/render_process_host.h"
 --- a/chrome/browser/ui/views/toolbar/app_menu.cc
 +++ b/chrome/browser/ui/views/toolbar/app_menu.cc
-@@ -60,7 +60,6 @@
- #include "chrome/grit/generated_resources.h"
+@@ -61,7 +61,6 @@
  #include "chrome/grit/theme_resources.h"
+ #include "components/prefs/pref_service.h"
  #include "components/saved_tab_groups/public/features.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/zoom/page_zoom.h"
  #include "components/zoom/zoom_controller.h"
-@@ -385,61 +384,6 @@ void AddSignedInChipToProfileMenuItem(
+@@ -386,68 +385,6 @@ void AddSignedInChipToProfileMenuItem(
      const int horizontal_padding,
      std::vector<base::CallbackListSubscription>&
          profile_menu_subscription_list) {
@@ -3404,9 +3583,55 @@
 -  item->AddChildView(std::move(profile_chip));
 -  item->AddChildView(std::move(profile_chip_edge_spacing_view));
 -  item->SetHighlightWhenSelectedWithChildViews(true);
+-  // MenuItemView only delegates accessible names when its title is empty with a
+-  // single container view. The Profile MenuItemView has a title and multiple
+-  // views. As a result, the accessible name must be manually computed to
+-  // account for the profile chip.
+-  item->GetViewAccessibility().SetName(
+-      views::MenuItemView::GetAccessibleNameForMenuItem(
+-          item->title(), GetSigninStatusChipString(profile), false));
  }
  
  // AppMenuView is a view that can contain label buttons.
+--- a/chrome/browser/ui/views/user_education/browser_ntp_promos.cc
++++ b/chrome/browser/ui/views/user_education/browser_ntp_promos.cc
+@@ -15,7 +15,6 @@
+ #include "chrome/browser/user_education/ntp_promo_identifiers.h"
+ #include "chrome/grit/generated_resources.h"
+ #include "components/prefs/pref_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
+ #include "components/sync/base/features.h"
+ #include "components/user_education/common/ntp_promo/ntp_promo_registry.h"
+@@ -31,28 +30,7 @@ namespace {
+ 
+ NtpPromoSpecification::Eligibility CheckSignInPromoEligibility(
+     Profile* profile) {
+-  if (!profile->GetPrefs()->GetBoolean(prefs::kSigninAllowed)) {
+     return NtpPromoSpecification::Eligibility::kIneligible;
+-  }
+-
+-  const auto signed_in_state = signin_util::GetSignedInState(
+-      IdentityManagerFactory::GetForProfile(profile));
+-  switch (signed_in_state) {
+-    case signin_util::SignedInState::kSignedOut:
+-      // User is fully signed out.
+-      return NtpPromoSpecification::Eligibility::kEligible;
+-    case signin_util::SignedInState::kWebOnlySignedIn:
+-      // When signed in on the web, one-click sign in options exist elsewhere
+-      // in Chrome. This promo currently only offers the full-sign-in flow, so
+-      // don't show it to users already signed in on the Web.
+-      return NtpPromoSpecification::Eligibility::kIneligible;
+-    case signin_util::SignedInState::kSignedIn:
+-    case signin_util::SignedInState::kSyncing:
+-    case signin_util::SignedInState::kSignInPending:
+-    case signin_util::SignedInState::kSyncPaused:
+-      // All other cases are considered completed.
+-      return NtpPromoSpecification::Eligibility::kCompleted;
+-  }
+ }
+ 
+ void SignInPromoShown() {
 --- a/chrome/browser/ui/webui/browser_command/browser_command_handler.cc
 +++ b/chrome/browser/ui/webui/browser_command/browser_command_handler.cc
 @@ -35,7 +35,6 @@
@@ -3441,7 +3666,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
-@@ -88,7 +87,7 @@ content::WebUIDataSource* HistoryUtil::P
+@@ -89,7 +88,7 @@ content::WebUIDataSource* HistoryUtil::P
  
    source->AddBoolean("isGuestSession", profile->IsGuestSession());
    source->AddBoolean("isSignInAllowed",
@@ -3452,7 +3677,7 @@
  
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -52,7 +52,6 @@
+@@ -53,7 +53,6 @@
  #include "components/history/core/common/pref_names.h"
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -3472,14 +3697,14 @@
  #include "components/strings/grit/components_strings.h"
 --- a/chrome/browser/ui/webui/management/management_ui_handler.cc
 +++ b/chrome/browser/ui/webui/management/management_ui_handler.cc
-@@ -46,7 +46,6 @@
- #include "components/policy/core/common/cloud/user_cloud_policy_manager.h"
+@@ -55,7 +55,6 @@
  #include "components/policy/core/common/management/management_service.h"
+ #include "components/policy/core/common/policy_pref_names.h"
  #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/supervised_user/core/common/pref_names.h"
- #include "content/public/browser/web_contents.h"
 --- a/chrome/browser/ui/webui/policy/policy_ui_handler.cc
 +++ b/chrome/browser/ui/webui/policy/policy_ui_handler.cc
 @@ -83,7 +83,6 @@
@@ -3490,7 +3715,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/strings/grit/components_strings.h"
  #include "content/public/browser/browser_task_traits.h"
-@@ -366,15 +365,6 @@ void PolicyUIHandler::HandleSetLocalTest
+@@ -377,15 +376,6 @@ void PolicyUIHandler::HandleSetLocalTest
  
    CHECK(local_test_provider);
  
@@ -3506,7 +3731,7 @@
    Profile::FromWebUI(web_ui())
        ->GetProfilePolicyConnector()
        ->UseLocalTestPolicyProvider();
-@@ -388,13 +378,6 @@ void PolicyUIHandler::HandleRevertLocalT
+@@ -399,13 +389,6 @@ void PolicyUIHandler::HandleRevertLocalT
    if (!PolicyUI::ShouldLoadTestPage(Profile::FromWebUI(web_ui()))) {
      return;
    }
@@ -3572,7 +3797,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -406,10 +405,6 @@ void PeopleHandler::OnJavascriptAllowed(
+@@ -414,10 +413,6 @@ void PeopleHandler::OnJavascriptAllowed(
    PrefService* prefs = profile_->GetPrefs();
    profile_pref_registrar_ = std::make_unique<PrefChangeRegistrar>();
    profile_pref_registrar_->Init(prefs);
@@ -3585,7 +3810,7 @@
        *profile_pref_registrar_,
 --- a/chrome/browser/ui/webui/settings/safety_hub_handler.cc
 +++ b/chrome/browser/ui/webui/settings/safety_hub_handler.cc
-@@ -49,7 +49,6 @@
+@@ -50,7 +50,6 @@
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/permissions/constants.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -3603,7 +3828,7 @@
  #include "components/saved_tab_groups/public/features.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/strings/grit/components_branded_strings.h"
-@@ -3497,11 +3496,6 @@ void AddSiteSettingsStrings(content::Web
+@@ -3567,11 +3566,6 @@ void AddSiteSettingsStrings(content::Web
    html_source->AddLocalizedStrings(kSensorsLocalizedStrings);
  
    html_source->AddBoolean(
@@ -3617,7 +3842,7 @@
  
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
-@@ -117,7 +117,6 @@
+@@ -116,7 +116,6 @@
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/search_engines/template_url_service.h"
@@ -3625,7 +3850,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/features.h"
  #include "content/public/browser/url_data_source.h"
-@@ -279,9 +278,7 @@ SettingsUI::SettingsUI(content::WebUI* w
+@@ -278,9 +277,7 @@ SettingsUI::SettingsUI(content::WebUI* w
    AddSettingsPageUIHandler(std::make_unique<MacSystemSettingsHandler>());
  #endif
  
@@ -3675,7 +3900,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/signin_constants.h"
  #include "components/strings/grit/components_strings.h"
-@@ -490,23 +489,6 @@ base::Value::Dict ManagedUserProfileNoti
+@@ -469,23 +468,6 @@ base::Value::Dict ManagedUserProfileNoti
        dict.Set("email", base::UTF16ToUTF8(email_));
        dict.Set("accountName", account_info.full_name);
  
@@ -3709,7 +3934,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/signin/public/identity_manager/tribool.h"
-@@ -360,8 +359,7 @@ void ManagedUserProfileNoticeUI::Initial
+@@ -350,8 +349,7 @@ void ManagedUserProfileNoticeUI::Initial
    // Change the text so that the "(Recommended)" label is not shown when the
    // admin has set merging data as the default option.
    bool profile_separation_data_migration_settings_optout =
@@ -3872,7 +4097,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
-@@ -272,8 +271,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
+@@ -275,8 +274,7 @@ void TurnSyncOnHelper::TurnSyncOnInterna
    // last authenticated account of the current profile, then Chrome will show a
    // confirmation dialog before starting sync.
    // TODO(skym): Warn for high risk upgrade scenario (https://crbug.com/572754).
@@ -3884,15 +4109,15 @@
        base::BindOnce(&TurnSyncOnHelper::OnMergeAccountConfirmation,
 --- a/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
 +++ b/chrome/browser/ui/webui/signin/turn_sync_on_helper_delegate_impl.cc
-@@ -40,7 +40,6 @@
- #include "components/policy/core/browser/signin/profile_separation_policies.h"
+@@ -41,7 +41,6 @@
  #include "components/policy/core/browser/signin/user_cloud_signin_restriction_policy_fetcher.h"
  #include "components/policy/core/common/policy_utils.h"
+ #include "components/prefs/pref_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "third_party/skia/include/core/SkColor.h"
  
-@@ -257,26 +256,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
+@@ -253,26 +252,6 @@ void TurnSyncOnHelperDelegateImpl::OnPro
      return;
    }
  
@@ -4031,7 +4256,7 @@
              "value": ["searchSuggestEnabled", {"type":"boolean"}],
 --- a/components/autofill/core/browser/data_manager/addresses/address_data_manager.cc
 +++ b/components/autofill/core/browser/data_manager/addresses/address_data_manager.cc
-@@ -31,7 +31,6 @@
+@@ -33,7 +33,6 @@
  #include "components/autofill/core/common/autofill_prefs.h"
  #include "components/autofill/core/common/dense_set.h"
  #include "components/prefs/pref_service.h"
@@ -4039,7 +4264,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/data_type.h"
  #include "components/sync/base/features.h"
-@@ -290,13 +289,7 @@ void AddressDataManager::RemoveLocalProf
+@@ -294,13 +293,7 @@ void AddressDataManager::RemoveLocalProf
  }
  
  bool AddressDataManager::IsEligibleForAddressAccountStorage() const {
@@ -4053,7 +4278,7 @@
  }
  
  void AddressDataManager::MigrateProfileToAccount(
-@@ -570,35 +563,7 @@ bool AddressDataManager::IsAutofillUserS
+@@ -584,35 +577,7 @@ bool AddressDataManager::IsAutofillUserS
  }
  
  bool AddressDataManager::IsAutofillSyncToggleAvailable() const {
@@ -4155,7 +4380,7 @@
  }
  
  CollaborationServiceImpl::~CollaborationServiceImpl() {
-@@ -410,151 +405,13 @@ SigninStatus CollaborationServiceImpl::G
+@@ -410,144 +405,13 @@ SigninStatus CollaborationServiceImpl::G
    DCHECK_CALLED_ON_VALID_THREAD(thread_checker_);
    SigninStatus status = SigninStatus::kNotSignedIn;
  
@@ -4171,14 +4396,14 @@
 -                 signin::ConsentLevel::kSignin)) {
 -    status = SigninStatus::kSignedInPaused;
 -  } else if (!profile_prefs_->GetBoolean(::prefs::kSigninAllowed)) {
-     status = SigninStatus::kSigninDisabled;
+-    status = SigninStatus::kSigninDisabled;
 -  }
 -
 -#if BUILDFLAG(IS_IOS)
 -  BrowserSigninMode policy_mode = static_cast<BrowserSigninMode>(
 -      local_prefs_->GetInteger(::prefs::kBrowserSigninPolicy));
 -  if (policy_mode == BrowserSigninMode::kDisabled) {
--    status = SigninStatus::kSigninDisabled;
+     status = SigninStatus::kSigninDisabled;
 -  }
 -#endif
  
@@ -4191,7 +4416,7 @@
 -          data_sharing::features::kDataSharingFeature) &&
 -      !base::FeatureList::IsEnabled(
 -          data_sharing::features::kDataSharingJoinOnly)) {
--    return CollaborationStatus::kDisabled;
+     return CollaborationStatus::kDisabled;
 -  }
 -
 -  // Check if version out-of-date turn off shared tab groups data types and show
@@ -4223,13 +4448,6 @@
 -    return CollaborationStatus::kDisabledForPolicy;
 -  }
 -
--  // Disable for automotive users.
--  if (ui::GetDeviceFormFactor() == ui::DEVICE_FORM_FACTOR_AUTOMOTIVE &&
--      !base::FeatureList::IsEnabled(
--          data_sharing::features::kCollaborationAutomotive)) {
-     return CollaborationStatus::kDisabled;
--  }
--
 -  // TODO(haileywang): Support collaboration status updates.
 -  CollaborationStatus status = CollaborationStatus::kDisabled;
 -  if (base::FeatureList::IsEnabled(
@@ -4307,6 +4525,43 @@
  }
  
  void CollaborationServiceImpl::RefreshServiceStatus() {
+--- a/components/commerce/core/shopping_service.cc
++++ b/components/commerce/core/shopping_service.cc
+@@ -62,7 +62,6 @@
+ #include "components/search/ntp_features.h"
+ #include "components/session_proto_db/session_proto_storage.h"
+ #include "components/sessions/core/tab_restore_service.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/sync/base/features.h"
+ #include "components/sync/service/sync_service.h"
+ #include "components/unified_consent/url_keyed_data_collection_consent_helper.h"
+@@ -164,16 +163,6 @@ class ProductSpecificationsUrlObserver
+ // This function can be deleted once the Sync feature is removed.
+ signin::ConsentLevel GetConsentLevelForEndpointFetchers(
+     PrefService* pref_service) {
+-  if (base::FeatureList::IsEnabled(
+-          syncer::kReplaceSyncPromosWithSignInPromos)) {
+-#if BUILDFLAG(ENABLE_DICE_SUPPORT)
+-    return pref_service->GetBoolean(prefs::kExplicitBrowserSignin)
+-               ? signin::ConsentLevel::kSignin
+-               : signin::ConsentLevel::kSync;
+-#else
+-    return signin::ConsentLevel::kSignin;
+-#endif  // BUILDFLAG(ENABLE_DICE_SUPPORT)
+-  }
+   return signin::ConsentLevel::kSync;
+ }
+ 
+--- a/components/commerce/core/subscriptions/subscriptions_server_proxy.cc
++++ b/components/commerce/core/subscriptions/subscriptions_server_proxy.cc
+@@ -22,7 +22,6 @@
+ #include "components/commerce/core/subscriptions/commerce_subscription.h"
+ #include "components/endpoint_fetcher/endpoint_fetcher.h"
+ #include "components/signin/public/base/consent_level.h"
+-#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
+ #include "components/sync/base/features.h"
+ #include "google_apis/gaia/gaia_constants.h"
 --- a/components/device_signals/core/browser/browser_utils.h
 +++ b/components/device_signals/core/browser/browser_utils.h
 @@ -9,7 +9,6 @@
@@ -4500,7 +4755,7 @@
  
 @@ -755,7 +754,7 @@ StoreMetricsReporter::StoreMetricsReport
    is_account_storage_enabled_ =
-       features_util::IsAccountStorageEnabled(prefs_, sync_service);
+       features_util::IsAccountStorageEnabled(sync_service);
  
 -  is_safe_browsing_enabled_ = safe_browsing::IsSafeBrowsingEnabled(*prefs_);
 +  is_safe_browsing_enabled_ = false;
@@ -4588,7 +4843,7 @@
  #include "components/security_interstitials/content/settings_page_helper.h"
 --- a/components/safe_browsing/content/browser/client_side_detection_service.cc
 +++ b/components/safe_browsing/content/browser/client_side_detection_service.cc
-@@ -37,7 +37,6 @@
+@@ -35,7 +35,6 @@
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/client_model.pb.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -4718,28 +4973,7 @@
  #include "components/safe_browsing/core/common/web_ui_constants.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/user_prefs/user_prefs.h"
-@@ -885,20 +884,7 @@ std::string SerializeHitReport(const Hit
-   }
-   hit_report_dict.Set("threat_source", std::move(threat_source));
-   std::string extended_reporting_level;
--  switch (hit_report.extended_reporting_level) {
--    case ExtendedReportingLevel::SBER_LEVEL_OFF:
-       extended_reporting_level = "SBER_LEVEL_OFF";
--      break;
--    case ExtendedReportingLevel::SBER_LEVEL_LEGACY:
--      extended_reporting_level = "SBER_LEVEL_LEGACY";
--      break;
--    case ExtendedReportingLevel::SBER_LEVEL_SCOUT:
--      extended_reporting_level = "SBER_LEVEL_SCOUT";
--      break;
--    case ExtendedReportingLevel::SBER_LEVEL_ENHANCED_PROTECTION:
--      extended_reporting_level = "SBER_LEVEL_ENHANCED_PROTECTION";
--      break;
--  }
-   hit_report_dict.Set("extended_reporting_level",
-                       std::move(extended_reporting_level));
-   hit_report_dict.Set("is_enhanced_protection",
-@@ -1191,18 +1177,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
+@@ -135,18 +134,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
    AllowJavascript();
    DCHECK(!args.empty());
    const std::string& callback_id = args[0].GetString();
@@ -4816,7 +5050,7 @@
        list_infos_(GetListInfos()),
        task_runner_(task_runner_for_tests
                         ? task_runner_for_tests
-@@ -1187,8 +1184,7 @@ void V4LocalDatabaseManager::SetupUpdate
+@@ -1190,8 +1187,7 @@ void V4LocalDatabaseManager::SetupUpdate
                            weak_factory_.GetWeakPtr());
  
    v4_update_protocol_manager_ = std::make_unique<V4UpdateProtocolManager>(
@@ -5018,7 +5252,7 @@
    // policy.
 --- a/components/safe_browsing/core/browser/ping_manager.cc
 +++ b/components/safe_browsing/core/browser/ping_manager.cc
-@@ -499,7 +499,7 @@ GURL PingManager::SafeBrowsingHitUrl(
+@@ -474,7 +474,7 @@ GURL PingManager::SafeBrowsingHitUrl(
           hit_report->threat_type == SB_THREAT_TYPE_URL_BINARY_MALWARE ||
           hit_report->threat_type == SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING);
    std::string url =
@@ -5094,7 +5328,7 @@
  }
  
  std::string RealTimeUrlLookupService::GetUserEmail() const {
-@@ -230,14 +226,6 @@ RealTimeUrlLookupService::GetMinAllowedT
+@@ -235,14 +231,6 @@ RealTimeUrlLookupService::GetMinAllowedT
  
  void RealTimeUrlLookupService::MaybeLogLastProtegoPingTimeToPrefs(
      bool sent_with_token) {
@@ -5524,9 +5758,9 @@
 -
 -  deps = [
 -    ":features",
--    "//components/pref_registry:pref_registry",
+-    "//components/pref_registry",
 -    "//components/prefs",
--    "//net:net",
+-    "//net",
 -  ]
 -
 -  public_deps = [ "//base" ]
@@ -5758,7 +5992,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_referral_methods.h"
  #include "components/security_interstitials/content/security_interstitial_page.h"
  #include "components/security_interstitials/content/security_interstitial_tab_helper.h"
-@@ -162,11 +161,6 @@ PrefService* SecurityInterstitialControl
+@@ -164,11 +163,6 @@ PrefService* SecurityInterstitialControl
    return prefs_;
  }
  
@@ -6042,7 +6276,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -455,23 +454,6 @@ void SigninMetricsService::OnRefreshToke
+@@ -485,23 +484,6 @@ void SigninMetricsService::OnRefreshToke
  #if BUILDFLAG(ENABLE_DICE_SUPPORT)
  
  void SigninMetricsService::RecordExplicitSigninMigrationStatus() {
@@ -6427,8 +6661,8 @@
  #include "components/signin/public/identity_manager/identity_test_utils.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate.cc
-@@ -28,7 +28,6 @@
- #include "components/signin/internal/identity_manager/profile_oauth2_token_service.h"
+@@ -32,7 +32,6 @@
+ #include "components/signin/public/base/hybrid_encryption_key.h"
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
@@ -6437,9 +6671,9 @@
  #include "components/signin/public/webdata/token_service_table.h"
 --- a/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
 +++ b/components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
-@@ -32,7 +32,6 @@
- #include "components/signin/public/base/account_consistency_method.h"
+@@ -38,7 +38,6 @@
  #include "components/signin/public/base/device_id_helper.h"
+ #include "components/signin/public/base/hybrid_encryption_key.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
@@ -6455,7 +6689,7 @@
  #include "components/signin/public/base/signin_prefs.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
-@@ -216,179 +215,25 @@ PrimaryAccountManager::PrimaryAccountMan
+@@ -208,176 +207,25 @@ PrimaryAccountManager::PrimaryAccountMan
    DCHECK(account_tracker_service_);
    ScopedPrefCommit scoped_pref_commit(client_->GetPrefs(),
                                        /*commit_on_destroy=*/false);
@@ -6515,8 +6749,7 @@
 -
 -  bool migrated_sync_user_to_explicit_sign_in = false;
 -#if BUILDFLAG(ENABLE_DICE_SUPPORT)
--  if (base::FeatureList::IsEnabled(kMigrateSyncToExplicitSignin) &&
--      !prefs->GetBoolean(prefs::kExplicitBrowserSignin) &&
+-  if (!prefs->GetBoolean(prefs::kExplicitBrowserSignin) &&
 -      HasPrimaryAccount(signin::ConsentLevel::kSync)) {
 -    // A profile that is opted in to sync can be migrated to explicit browser
 -    // sign-in as the user has explicitly signed in to the browser when they
@@ -6577,8 +6810,6 @@
 -                               std::string());
 -  registry->RegisterStringPref(prefs::kGoogleServicesLastSignedInUsername,
 -                               std::string());
--  registry->RegisterStringPref(prefs::kGoogleServicesSecondLastSyncingGaiaId,
--                               std::string());
 -  registry->RegisterStringPref(prefs::kGoogleServicesAccountId, std::string());
 -  registry->RegisterBooleanPref(prefs::kGoogleServicesConsentedToSync, false);
 -  registry->RegisterStringPref(
@@ -6635,7 +6866,7 @@
  }
  
  std::pair<CoreAccountInfo, PrimaryAccountManager::InitializeAccountInfoState>
-@@ -416,46 +261,10 @@ PrimaryAccountManager::GetOrRestorePrima
+@@ -405,46 +253,10 @@ PrimaryAccountManager::GetOrRestorePrima
                                kEmptyAccountInfo_RestoreFailedNotSyncConsented);
    }
  
@@ -6682,7 +6913,7 @@
  }
  
  const PrimaryAccountManager::PrimaryAccount&
-@@ -546,10 +355,9 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -535,10 +347,9 @@ void PrimaryAccountManager::SetSyncPrima
  
  #if DCHECK_IS_ON()
    {
@@ -6695,17 +6926,11 @@
  
      DCHECK(pref_account_id.empty() || !consented_to_sync ||
             pref_account_id == account_info.account_id.ToString())
-@@ -560,20 +368,6 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -549,14 +360,6 @@ void PrimaryAccountManager::SetSyncPrima
  
    SetPrimaryAccountInternal(account_info, /*consented_to_sync=*/true,
                              scoped_pref_commit);
 -
--  // Before `kGoogleServicesLastSyncingGaiaId` is updated, keep a copy of the
--  // previous value, and store it in a separate pref.
--  scoped_pref_commit.SetString(
--      prefs::kGoogleServicesSecondLastSyncingGaiaId,
--      client_->GetPrefs()->GetString(prefs::kGoogleServicesLastSyncingGaiaId));
--
 -  // Go ahead and update the last signed in account info here as well. Once a
 -  // user is signed in the corresponding preferences should match. Doing it here
 -  // as opposed to on signin allows us to catch the upgrade scenario.
@@ -6716,7 +6941,7 @@
  }
  
  void PrimaryAccountManager::SetPrimaryAccountInternal(
-@@ -585,22 +379,6 @@ void PrimaryAccountManager::SetPrimaryAc
+@@ -568,22 +371,6 @@ void PrimaryAccountManager::SetPrimaryAc
    // 'account_info' might be a reference to the contents of `primary_account_`.
    // Create a PrimaryAccount object before calling emplace to avoid crashes.
    primary_account_.emplace(PrimaryAccount(account_info, consented_to_sync));
@@ -6739,7 +6964,7 @@
  }
  
  void PrimaryAccountManager::UpdatePrimaryAccountInfo() {
-@@ -738,108 +516,6 @@ PrimaryAccountChangeEvent::State Primary
+@@ -721,108 +508,6 @@ PrimaryAccountChangeEvent::State Primary
  void PrimaryAccountManager::ComputeExplicitBrowserSignin(
      const PrimaryAccountChangeEvent& event_details,
      ScopedPrefCommit& scoped_pref_commit) {
@@ -6887,7 +7112,7 @@
  #include "google_apis/gaia/gaia_constants.h"
  #include "google_apis/gaia/google_service_auth_error.h"
  #include "google_apis/gaia/oauth2_access_token_consumer.h"
-@@ -102,8 +101,6 @@ bool ProfileOAuth2TokenService::HasRefre
+@@ -107,8 +106,6 @@ bool ProfileOAuth2TokenService::HasRefre
  // static
  void ProfileOAuth2TokenService::RegisterProfilePrefs(
      PrefRegistrySimple* registry) {
@@ -6908,7 +7133,7 @@
  #include "components/signin/public/identity_manager/account_info.h"
 --- a/components/signin/public/base/BUILD.gn
 +++ b/components/signin/public/base/BUILD.gn
-@@ -170,8 +170,6 @@ component("signin_switches") {
+@@ -153,8 +153,6 @@ component("signin_switches") {
    defines = [ "IS_SIGNIN_SWITCHES_IMPL" ]
  
    sources = [
@@ -7010,27 +7235,27 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "google_apis/gaia/gaia_id.h"
  
-@@ -108,8 +107,6 @@ SigninPrefs::~SigninPrefs() = default;
+@@ -120,8 +119,6 @@ SigninPrefs::~SigninPrefs() = default;
  
  void SigninPrefs::RegisterProfilePrefs(PrefRegistrySimple* registry) {
    registry->RegisterDictionaryPref(kSigninAccountPrefs);
 -  registry->RegisterIntegerPref(prefs::kHistorySyncSuccessiveDeclineCount, 0);
 -  registry->RegisterInt64Pref(prefs::kHistorySyncLastDeclinedTimestamp, 0);
-   registry->RegisterIntegerPref(kSyncPromoIdentityPillShownCount, 0);
-   registry->RegisterIntegerPref(kSyncPromoIdentityPillUsedCount, 0);
  }
+ 
+ bool SigninPrefs::HasAccountPrefs(const GaiaId& gaia_id) const {
 --- a/components/signin/public/base/signin_switches.cc
 +++ b/components/signin/public/base/signin_switches.cc
-@@ -6,7 +6,6 @@
- 
+@@ -7,7 +7,6 @@
  #include "base/feature_list.h"
+ #include "base/time/time.h"
  #include "components/prefs/pref_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  
- namespace switches {
- 
-@@ -128,11 +127,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
-              base::FEATURE_DISABLED_BY_DEFAULT);
+ #if BUILDFLAG(IS_WIN)
+ #include "base/win/windows_version.h"
+@@ -153,11 +152,6 @@ BASE_FEATURE(kEnableBoundSessionCredenti
+ );
  
  bool IsBoundSessionCredentialsEnabled(const PrefService* profile_prefs) {
 -  // Enterprise policy takes precedence over the feature value.
@@ -7041,7 +7266,7 @@
    return base::FeatureList::IsEnabled(kEnableBoundSessionCredentials);
  }
  
-@@ -159,11 +153,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
+@@ -191,11 +185,6 @@ BASE_FEATURE(kEnableChromeRefreshTokenBi
               base::FEATURE_DISABLED_BY_DEFAULT);
  
  bool IsChromeRefreshTokenBindingEnabled(const PrefService* profile_prefs) {
@@ -7115,9 +7340,9 @@
  #include "components/safe_search_api/safe_search_util.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
+ #include "components/supervised_user/core/browser/supervised_user_content_filters_service.h"
  #include "components/supervised_user/core/browser/supervised_user_settings_service.h"
- #include "components/supervised_user/core/browser/supervised_user_url_filter.h"
-@@ -58,14 +57,6 @@ SupervisedUserSettingsPrefMappingEntry k
+@@ -59,14 +58,6 @@ SupervisedUserSettingsPrefMappingEntry k
          prefs::kSupervisedUserSafeSites,
      },
      {
@@ -7143,7 +7368,24 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/sync/base/account_pref_utils.h"
  #include "components/sync/base/features.h"
-@@ -235,7 +233,7 @@ bool SyncPrefs::IsExplicitBrowserSignin(
+@@ -129,16 +127,6 @@ SyncPrefs::SyncPrefs(PrefService* pref_s
+       base::BindRepeating(&SyncPrefs::OnSelectedTypesPrefChanged,
+                           base::Unretained(this)));
+ 
+-  if (base::FeatureList::IsEnabled(switches::kOfferMigrationToDiceUsers) ||
+-      base::FeatureList::IsEnabled(switches::kRollbackDiceMigration)) {
+-    // The explicit browser signin pref is used for determining whether some
+-    // data types are selected by default. Therefore, upon a change, the
+-    // selected types may change.
+-    pref_change_registrar_.Add(
+-        ::prefs::kExplicitBrowserSignin,
+-        base::BindRepeating(&SyncPrefs::OnSelectedTypesPrefChanged,
+-                            base::Unretained(this)));
+-  }
+ }
+ 
+ SyncPrefs::~SyncPrefs() {
+@@ -243,7 +231,7 @@ bool SyncPrefs::IsExplicitBrowserSignin(
  #else
    // On desktop `prefs::kExplicitBrowserSignin` determines whether the sign-in
    // is explicit or implicit.
@@ -7152,7 +7394,7 @@
  #endif
  }
  
-@@ -1066,30 +1064,6 @@ void SyncPrefs::MaybeMigrateAutofillToPe
+@@ -1043,30 +1031,6 @@ void SyncPrefs::MaybeMigrateAutofillToPe
      return;
    }
    pref_service->SetBoolean(kAutofillPerAccountPrefMigrationDone, true);
@@ -7183,7 +7425,7 @@
  }
  #endif  // BUILDFLAG(ENABLE_DICE_SUPPORT)
  
-@@ -1141,21 +1115,15 @@ bool SyncPrefs::IsTypeSelectedByDefaultI
+@@ -1107,21 +1071,15 @@ bool SyncPrefs::IsTypeSelectedByDefaultI
        // Before kReplaceSyncPromosWithSignInPromos, Bookmarks and Reading List
        // require a specific explicit sign in (relevant for desktop only).
        return base::FeatureList::IsEnabled(kReplaceSyncPromosWithSignInPromos) ||
@@ -7207,68 +7449,27 @@
      case UserSelectableType::kApps:
      case UserSelectableType::kProductComparison:
      case UserSelectableType::kCookies:
---- a/components/sync/service/sync_service_impl.cc
-+++ b/components/sync/service/sync_service_impl.cc
-@@ -29,7 +29,6 @@
- #include "components/prefs/pref_service.h"
- #include "components/signin/public/base/gaia_id_hash.h"
- #include "components/signin/public/base/signin_metrics.h"
--#include "components/signin/public/base/signin_pref_names.h"
- #include "components/signin/public/base/signin_switches.h"
- #include "components/signin/public/identity_manager/account_info.h"
- #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
-@@ -2242,30 +2241,9 @@ SyncServiceImpl::DeterminePreviouslySync
-     return PreviouslySyncingGaiaIdInfoForMetrics::kUnspecified;
-   }
- 
--  // Depending on whether sync the feature is currently on or not, the gaia ID
--  // corresponding to the previous user is stored in one pref or another. That's
--  // because `kGoogleServicesLastSyncingGaiaId` is updated early, as soon as
--  // the sync consent is granted, and before the notification reaches
--  // SyncServiceImpl.
--  const GaiaId previously_syncing_gaia_id = GaiaId(
--      HasSyncConsent() ? sync_client_->GetPrefService()->GetString(
--                             prefs::kGoogleServicesSecondLastSyncingGaiaId)
--                       : sync_client_->GetPrefService()->GetString(
--                             prefs::kGoogleServicesLastSyncingGaiaId));
--
--  if (previously_syncing_gaia_id.empty()) {
-     // It is known that no previous gaia ID existed that turned sync on.
-     return PreviouslySyncingGaiaIdInfoForMetrics::
-         kSyncFeatureNeverPreviouslyTurnedOn;
--  }
--
--  const GaiaId current_gaia_id = GetAccountInfo().gaia;
--
--  return current_gaia_id == previously_syncing_gaia_id
--             ? PreviouslySyncingGaiaIdInfoForMetrics::
--                   kCurrentGaiaIdMatchesPreviousWithSyncFeatureOn
--             : PreviouslySyncingGaiaIdInfoForMetrics::
--                   kCurrentGaiaIdIfDiffersPreviousWithSyncFeatureOn;
- }
- 
- const GURL& SyncServiceImpl::GetSyncServiceUrlForDebugging() const {
 --- a/components/sync_preferences/common_syncable_prefs_database.cc
 +++ b/components/sync_preferences/common_syncable_prefs_database.cc
 @@ -24,7 +24,6 @@
- #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/payments/core/payment_prefs.h"
  #include "components/plus_addresses/plus_address_prefs.h"
+ #include "components/privacy_sandbox/tracking_protection_prefs.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/saved_tab_groups/public/pref_names.h"
- #include "components/search_engines/search_engines_pref_names.h"
  #include "components/sharing_message/pref_names.h"
-@@ -93,9 +92,7 @@ enum {
+ #include "components/sync/base/data_type.h"
+@@ -92,9 +91,7 @@ enum {
    // kSyncedLastTimePasswordCheckCompleted = 43, (deprecated)
    kWasAutoSignInFirstRunExperienceShown = 44,
    kCanMakePaymentEnabled = 45,
 -  kAccountTailoredSecurityUpdateTimestamp = 46,
    kCookieControlsMode = 47,
 -  kSafeBrowsingEnabled = 48,
-   kSyncedDefaultSearchProviderGUID = 49,
+   // kSyncedDefaultSearchProviderGUID = 49, (deprecated)
    kPrefForceTriggerTranslateCount = 50,
    // kPrefNeverPromptSitesDeprecated = 51, (deprecated)
-@@ -235,16 +232,9 @@ constexpr auto kCommonSyncablePrefsAllow
+@@ -230,16 +227,9 @@ constexpr auto kCommonSyncablePrefsAllow
          {payments::kCanMakePaymentEnabled,
           {syncable_prefs_ids::kCanMakePaymentEnabled, syncer::PREFERENCES,
            PrefSensitivity::kNone, MergeBehavior::kNone}},
@@ -7282,9 +7483,9 @@
 -        {prefs::kSafeBrowsingEnabled,
 -         {syncable_prefs_ids::kSafeBrowsingEnabled, syncer::PREFERENCES,
 -          PrefSensitivity::kNone, MergeBehavior::kNone}},
- // TODO(crbug.com/40904479): Maybe move to chrome_syncable_prefs_database.cc,
- // see bug.
- #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_IOS)
+         {tab_groups::prefs::kAutoPinNewTabGroups,
+          {syncable_prefs_ids::kAutoPinNewTabGroups, syncer::PREFERENCES,
+           PrefSensitivity::kNone, MergeBehavior::kNone}},
 --- a/content/browser/webid/federated_auth_request_impl.cc
 +++ b/content/browser/webid/federated_auth_request_impl.cc
 @@ -193,31 +193,6 @@ FederatedAuthRequestImpl::~FederatedAuth
diff --git a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
index cb0c9f8306..4c9be4c476 100644
--- a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
+++ b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
@@ -1,7 +1,7 @@
 # Disables translation and removes the "Translate to" context menu when --translate-script-url flag is not set
 --- a/chrome/browser/renderer_context_menu/render_view_context_menu.cc
 +++ b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
-@@ -171,6 +171,7 @@
+@@ -176,6 +176,7 @@
  #include "components/supervised_user/core/browser/supervised_user_preferences.h"
  #include "components/supervised_user/core/browser/supervised_user_service.h"
  #include "components/supervised_user/core/browser/supervised_user_url_filter.h"
@@ -9,7 +9,7 @@
  #include "components/translate/core/browser/translate_download_manager.h"
  #include "components/translate/core/browser/translate_manager.h"
  #include "components/translate/core/browser/translate_prefs.h"
-@@ -2154,6 +2155,7 @@ void RenderViewContextMenu::AppendPageIt
+@@ -2179,6 +2180,7 @@ void RenderViewContextMenu::AppendPageIt
    }
  
    if (CanTranslate(/*menu_logging=*/true)) {
diff --git a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
index 5a8930dd72..6a6ef04fb2 100644
--- a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
+++ b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
@@ -9,7 +9,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2602,6 +2602,7 @@ static_library("browser") {
+@@ -2617,6 +2617,7 @@ static_library("browser") {
      "//third_party/libyuv",
      "//third_party/metrics_proto",
      "//third_party/re2",
@@ -19,7 +19,7 @@
      "//third_party/widevine/cdm:headers",
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -184,6 +184,7 @@
+@@ -183,6 +183,7 @@
  #include "components/translate/core/common/translate_util.h"
  #include "components/trusted_vault/features.h"
  #include "components/ui_devtools/switches.h"
@@ -44,7 +44,7 @@
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -295,6 +295,7 @@ source_set("browser") {
+@@ -299,6 +299,7 @@ source_set("browser") {
      "//third_party/re2",
      "//third_party/snappy",
      "//third_party/sqlite",
@@ -62,7 +62,7 @@
  #include "components/viz/common/switches.h"
  #include "components/viz/host/gpu_client.h"
  #include "components/viz/host/host_frame_sink_manager.h"
-@@ -3517,6 +3518,8 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3498,6 +3499,8 @@ void RenderProcessHostImpl::PropagateBro
        switches::kEnableWebGLImageChromium,
        switches::kEnableWebGPUDeveloperFeatures,
        switches::kFileUrlPathAlias,
@@ -91,7 +91,7 @@
  #include "ui/accessibility/accessibility_features.h"
  #include "ui/base/ui_base_features.h"
  #include "ui/events/blink/blink_features.h"
-@@ -487,6 +488,10 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -481,6 +482,10 @@ void SetRuntimeFeaturesFromCommandLine(c
         true},
        {wrf::EnableWebAudioBypassOutputBufferingOptOut,
         blink::switches::kWebAudioBypassOutputBufferingOptOut, true},
@@ -104,9 +104,9 @@
    for (const auto& mapping : switchToFeatureMapping) {
 --- a/third_party/blink/public/platform/web_runtime_features.h
 +++ b/third_party/blink/public/platform/web_runtime_features.h
-@@ -69,6 +69,9 @@ class BLINK_PLATFORM_EXPORT WebRuntimeFe
-   static void EnableFluentScrollbars(bool);
-   static void EnableFluentOverlayScrollbars(bool);
+@@ -71,6 +71,9 @@ class BLINK_PLATFORM_EXPORT WebRuntimeFe
+ 
+   static void EnableLocalNetworkAccessWebRTC(bool);
  
 +  static void EnableFingerprintingClientRectsNoise(bool);
 +  static void EnableFingerprintingCanvasMeasureTextNoise(bool);
@@ -124,7 +124,7 @@
  #include "base/task/single_thread_task_runner.h"
  #include "base/time/time.h"
  #include "base/trace_event/trace_event.h"
-@@ -984,6 +985,11 @@ Document::Document(const DocumentInit& i
+@@ -1085,6 +1086,11 @@ Document::Document(const DocumentInit& i
    TRACE_EVENT_WITH_FLOW0("blink", "Document::Document", TRACE_ID_LOCAL(this),
                           TRACE_EVENT_FLAG_FLOW_OUT);
    DCHECK(agent_);
@@ -136,7 +136,7 @@
    if (base::FeatureList::IsEnabled(features::kDelayAsyncScriptExecution) &&
        features::kDelayAsyncScriptExecutionDelayByDefaultParam.Get()) {
      script_runner_delayer_->Activate();
-@@ -1114,6 +1120,14 @@ const Position Document::PositionAdjuste
+@@ -1215,6 +1221,14 @@ const Position Document::PositionAdjuste
    return Position::BeforeNode(*shadow_host);
  }
  
@@ -153,7 +153,7 @@
      selector_query_cache_ = MakeGarbageCollected<SelectorQueryCache>();
 --- a/third_party/blink/renderer/core/dom/document.h
 +++ b/third_party/blink/renderer/core/dom/document.h
-@@ -582,6 +582,10 @@ class CORE_EXPORT Document : public Cont
+@@ -572,6 +572,10 @@ class CORE_EXPORT Document : public Cont
      has_xml_declaration_ = has_xml_declaration ? 1 : 0;
    }
  
@@ -164,7 +164,7 @@
    V8VisibilityState visibilityState() const;
    String visibilityStateAsString() const;
    bool IsPageVisible() const;
-@@ -2780,6 +2784,9 @@ class CORE_EXPORT Document : public Cont
+@@ -2770,6 +2774,9 @@ class CORE_EXPORT Document : public Cont
  
    base::ElapsedTimer start_time_;
  
@@ -176,7 +176,7 @@
  
 --- a/third_party/blink/renderer/core/dom/element.cc
 +++ b/third_party/blink/renderer/core/dom/element.cc
-@@ -3016,6 +3016,11 @@ DOMRectList* Element::getClientRects() {
+@@ -3092,6 +3092,11 @@ DOMRectList* Element::getClientRects() {
    DCHECK(element_layout_object);
    GetDocument().AdjustQuadsForScrollAndAbsoluteZoom(quads,
                                                      *element_layout_object);
@@ -188,7 +188,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -3043,6 +3048,9 @@ gfx::RectF Element::GetBoundingClientRec
+@@ -3119,6 +3124,9 @@ gfx::RectF Element::GetBoundingClientRec
    DCHECK(element_layout_object);
    GetDocument().AdjustRectForScrollAndAbsoluteZoom(result,
                                                     *element_layout_object);
@@ -200,7 +200,7 @@
  
 --- a/third_party/blink/renderer/core/dom/range.cc
 +++ b/third_party/blink/renderer/core/dom/range.cc
-@@ -1646,6 +1646,12 @@ DOMRectList* Range::getClientRects() con
+@@ -1655,6 +1655,12 @@ DOMRectList* Range::getClientRects() con
    Vector<gfx::QuadF> quads;
    GetBorderAndTextQuads(quads);
  
@@ -213,7 +213,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -1653,7 +1659,11 @@ DOMRect* Range::getBoundingClientRect()
+@@ -1662,7 +1668,11 @@ DOMRect* Range::getBoundingClientRect()
    // TODO(crbug.com/1499981): This should be removed once synchronized scrolling
    // impact is understood.
    SyncScrollAttemptHeuristic::DidAccessScrollOffset();
@@ -266,7 +266,7 @@
                const TextDirection& direction,
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -109,6 +109,9 @@
+@@ -108,6 +108,9 @@
  // https://github.com/include-what-you-use/include-what-you-use/issues/1122
  // IWYU pragma: no_include "base/numerics/clamped_math.h"
  
@@ -274,9 +274,9 @@
 +#include "third_party/blink/renderer/core/frame/local_dom_window.h"
 +
  namespace blink {
- namespace {
  
-@@ -1246,13 +1249,26 @@ TextMetrics* BaseRenderingContext2D::mea
+ class MemoryManagedPaintCanvas;
+@@ -1248,13 +1251,26 @@ TextMetrics* BaseRenderingContext2D::mea
    TextDirection direction =
        ToTextDirection(state.GetDirection(), host, computed_style);
  
@@ -308,20 +308,20 @@
  String BaseRenderingContext2D::lang() const {
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1792,6 +1792,7 @@ component("platform") {
+@@ -1797,6 +1797,7 @@ component("platform") {
      "//components/paint_preview/common",
      "//components/search_engines:search_engine_utils",
-     "//components/translate/core/language_detection:language_detection",
+     "//components/translate/core/language_detection",
 +    "//components/ungoogled:ungoogled_switches",
      "//components/viz/client",
      "//components/viz/common",
      "//components/webrtc:net_address_utils",
 --- a/third_party/blink/renderer/platform/exported/web_runtime_features.cc
 +++ b/third_party/blink/renderer/platform/exported/web_runtime_features.cc
-@@ -68,4 +68,12 @@ void WebRuntimeFeatures::EnableFluentScr
- void WebRuntimeFeatures::EnableFluentOverlayScrollbars(bool enable) {
-   RuntimeEnabledFeatures::SetFluentOverlayScrollbarsEnabled(enable);
+@@ -73,4 +73,12 @@ void WebRuntimeFeatures::EnableLocalNetw
+   RuntimeEnabledFeatures::SetLocalNetworkAccessWebRTCEnabled(enable);
  }
+ 
 +void WebRuntimeFeatures::EnableFingerprintingClientRectsNoise(bool enable) {
 +  RuntimeEnabledFeatures::SetFingerprintingClientRectsNoiseEnabled(enable);
 +}
@@ -343,7 +343,7 @@
  #include "third_party/skia/include/core/SkImage.h"
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -2310,6 +2310,12 @@
+@@ -2273,6 +2273,12 @@
        status: "stable",
      },
      {
diff --git a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
index 3626ec536f..3c9500ff9b 100644
--- a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
+++ b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
@@ -34,7 +34,7 @@ approach to change color components.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -3520,6 +3520,7 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3501,6 +3501,7 @@ void RenderProcessHostImpl::PropagateBro
        switches::kFileUrlPathAlias,
        switches::kFingerprintingClientRectsNoise,
        switches::kFingerprintingCanvasMeasureTextNoise,
@@ -44,7 +44,7 @@ approach to change color components.
        switches::kForceHighContrast,
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -492,6 +492,8 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -486,6 +486,8 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kFingerprintingClientRectsNoise, true},
        {wrf::EnableFingerprintingCanvasMeasureTextNoise,
         switches::kFingerprintingCanvasMeasureTextNoise, true},
@@ -55,7 +55,7 @@ approach to change color components.
    for (const auto& mapping : switchToFeatureMapping) {
 --- a/third_party/blink/public/platform/web_runtime_features.h
 +++ b/third_party/blink/public/platform/web_runtime_features.h
-@@ -71,6 +71,7 @@ class BLINK_PLATFORM_EXPORT WebRuntimeFe
+@@ -73,6 +73,7 @@ class BLINK_PLATFORM_EXPORT WebRuntimeFe
  
    static void EnableFingerprintingClientRectsNoise(bool);
    static void EnableFingerprintingCanvasMeasureTextNoise(bool);
@@ -65,7 +65,7 @@ approach to change color components.
  };
 --- a/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
 +++ b/third_party/blink/renderer/modules/canvas/canvas2d/base_rendering_context_2d.cc
-@@ -555,6 +555,9 @@ ImageData* BaseRenderingContext2D::getIm
+@@ -557,6 +557,9 @@ ImageData* BaseRenderingContext2D::getIm
            snapshot->PaintImageForCurrentFrame().GetSkImageInfo().bounds();
        DCHECK(!bounds.intersect(SkIRect::MakeXYWH(sx, sy, sw, sh)));
      }
@@ -77,7 +77,7 @@ approach to change color components.
    return image_data;
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1736,7 +1736,9 @@ component("platform") {
+@@ -1741,7 +1741,9 @@ component("platform") {
      "//third_party/blink/renderer:non_test_config",
    ]
  
@@ -90,7 +90,7 @@ approach to change color components.
      "//third_party/blink/renderer/platform/blob",
 --- a/third_party/blink/renderer/platform/exported/web_runtime_features.cc
 +++ b/third_party/blink/renderer/platform/exported/web_runtime_features.cc
-@@ -76,4 +76,8 @@ void WebRuntimeFeatures::EnableFingerpri
+@@ -81,4 +81,8 @@ void WebRuntimeFeatures::EnableFingerpri
    RuntimeEnabledFeatures::SetFingerprintingCanvasMeasureTextNoiseEnabled(enable);
  }
  
@@ -314,7 +314,7 @@ approach to change color components.
        SkJpegEncoder::Options options;
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -2316,6 +2316,9 @@
+@@ -2279,6 +2279,9 @@
        name: "FingerprintingCanvasMeasureTextNoise",
      },
      {
diff --git a/patches/extra/bromite/flag-max-connections-per-host.patch b/patches/extra/bromite/flag-max-connections-per-host.patch
index 5ddc89b63f..4c55703ee4 100644
--- a/patches/extra/bromite/flag-max-connections-per-host.patch
+++ b/patches/extra/bromite/flag-max-connections-per-host.patch
@@ -17,7 +17,7 @@ with limited CPU/memory resources and it is disabled by default.
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2279,6 +2279,7 @@ static_library("browser") {
+@@ -2295,6 +2295,7 @@ static_library("browser") {
      "//components/net_log",
      "//components/network_hints/common:mojo_bindings",
      "//components/network_session_configurator/browser",
@@ -73,15 +73,15 @@ with limited CPU/memory resources and it is disabled by default.
  #include "components/network_time/network_time_tracker.h"
  #include "components/os_crypt/async/browser/os_crypt_async.h"
  #include "components/permissions/permissions_client.h"
-@@ -152,6 +155,7 @@
+@@ -153,6 +156,7 @@
  #include "extensions/common/constants.h"
  #include "media/media_buildflags.h"
  #include "mojo/public/cpp/bindings/pending_receiver.h"
 +#include "net/socket/client_socket_pool_manager.h"
- #include "ppapi/buildflags/buildflags.h"
  #include "printing/buildflags/buildflags.h"
  #include "services/network/public/cpp/features.h"
-@@ -419,6 +423,18 @@ void BrowserProcessImpl::Init() {
+ #include "services/network/public/cpp/network_switches.h"
+@@ -421,6 +425,18 @@ void BrowserProcessImpl::Init() {
    pref_change_registrar_.Add(metrics::prefs::kMetricsReportingEnabled,
                               base::BindRepeating(&ApplyMetricsReportingPolicy));
  
@@ -102,7 +102,7 @@ with limited CPU/memory resources and it is disabled by default.
  
 --- a/chrome/browser/flag_descriptions.cc
 +++ b/chrome/browser/flag_descriptions.cc
-@@ -2774,6 +2774,10 @@ const char kMantisFeatureKeyDescription[
+@@ -2657,6 +2657,10 @@ const char kMantisFeatureKeyDescription[
      "Feature key to use the Mantis feature on ChromeOS.";
  #endif  // BUILDFLAG(IS_CHROMEOS)
  
@@ -115,7 +115,7 @@ with limited CPU/memory resources and it is disabled by default.
  const char kMediaRouterCastAllowAllIPsDescription[] =
 --- a/chrome/browser/flag_descriptions.h
 +++ b/chrome/browser/flag_descriptions.h
-@@ -1608,6 +1608,9 @@ extern const char kMantisFeatureKeyName[
+@@ -1548,6 +1548,9 @@ extern const char kMantisFeatureKeyName[
  extern const char kMantisFeatureKeyDescription[];
  #endif  // IS_CHROMEOS
  
diff --git a/patches/extra/debian/disable/google-api-warning.patch b/patches/extra/debian/disable/google-api-warning.patch
index 7f693631ef..cc7ed73c50 100644
--- a/patches/extra/debian/disable/google-api-warning.patch
+++ b/patches/extra/debian/disable/google-api-warning.patch
@@ -3,7 +3,7 @@ author: Michael Gilbert <mgilbert@debian.org>
 
 --- a/chrome/browser/ui/startup/infobar_utils.cc
 +++ b/chrome/browser/ui/startup/infobar_utils.cc
-@@ -171,10 +171,6 @@ void AddInfoBarsIfNecessary(Browser* bro
+@@ -175,10 +175,6 @@ void AddInfoBarsIfNecessary(Browser* bro
    infobars::ContentInfoBarManager* infobar_manager =
        infobars::ContentInfoBarManager::FromWebContents(web_contents);
  
diff --git a/patches/extra/inox-patchset/0006-modify-default-prefs.patch b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
index 3e86bfcf23..2b2cced940 100644
--- a/patches/extra/inox-patchset/0006-modify-default-prefs.patch
+++ b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
@@ -23,7 +23,7 @@
    // used for mapping the command-line flags).
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -535,7 +535,7 @@ void ProfileNetworkContextService::Confi
+@@ -620,7 +620,7 @@ void ProfileNetworkContextService::Confi
  void ProfileNetworkContextService::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(embedder_support::kAlternateErrorPagesEnabled,
@@ -45,7 +45,7 @@
  // Enum representing possible values of the Preload Pages opt-in state. These
 --- a/chrome/browser/profiles/profile.cc
 +++ b/chrome/browser/profiles/profile.cc
-@@ -318,7 +318,7 @@ const char Profile::kProfileKey[] = "__P
+@@ -325,7 +325,7 @@ const char Profile::kProfileKey[] = "__P
  void Profile::RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
        prefs::kSearchSuggestEnabled,
@@ -67,7 +67,7 @@
      </cr-dialog>
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -113,7 +113,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -117,7 +117,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterBooleanPref(prefs::kWebAppCreateInAppsMenu, true);
    registry->RegisterBooleanPref(prefs::kWebAppCreateInQuickLaunchBar, true);
    registry->RegisterBooleanPref(
@@ -78,7 +78,7 @@
    registry->RegisterBooleanPref(prefs::kCloudPrintProxyEnabled, true);
 --- a/components/autofill/core/common/autofill_prefs.cc
 +++ b/components/autofill/core/common/autofill_prefs.cc
-@@ -29,7 +29,7 @@ constexpr char kAutofillRanQuasiDuplicat
+@@ -31,7 +31,7 @@ constexpr char kAutofillRanQuasiDuplicat
  void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    // Synced prefs. Used for cross-device choices, e.g., credit card Autofill.
    registry->RegisterBooleanPref(
@@ -87,7 +87,7 @@
        user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
    registry->RegisterIntegerPref(
        kAutofillLastVersionDeduped, 0,
-@@ -38,7 +38,7 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -40,7 +40,7 @@ void RegisterProfilePrefs(user_prefs::Pr
        kAutofillHasSeenIban, false,
        user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
    registry->RegisterBooleanPref(
@@ -120,7 +120,7 @@
  
 --- a/components/password_manager/core/browser/password_manager.cc
 +++ b/components/password_manager/core/browser/password_manager.cc
-@@ -411,7 +411,7 @@ void RecordProvisionalSaveFailure(
+@@ -504,7 +504,7 @@ void HandleFailedLoginDetectionForPasswo
  void PasswordManager::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -129,7 +129,7 @@
        user_prefs::PrefRegistrySyncable::SYNCABLE_PRIORITY_PREF);
  #if BUILDFLAG(IS_IOS)
    // Deprecated pref in profile prefs.
-@@ -419,7 +419,7 @@ void PasswordManager::RegisterProfilePre
+@@ -512,7 +512,7 @@ void PasswordManager::RegisterProfilePre
                                  false);
  #endif  // BUILDFLAG(IS_IOS)
    registry->RegisterBooleanPref(
diff --git a/patches/extra/inox-patchset/0016-chromium-sandbox-pie.patch b/patches/extra/inox-patchset/0016-chromium-sandbox-pie.patch
index 958b02b350..5be335ff52 100644
--- a/patches/extra/inox-patchset/0016-chromium-sandbox-pie.patch
+++ b/patches/extra/inox-patchset/0016-chromium-sandbox-pie.patch
@@ -1,6 +1,6 @@
 --- a/sandbox/linux/BUILD.gn
 +++ b/sandbox/linux/BUILD.gn
-@@ -295,6 +295,14 @@ if (is_linux || is_chromeos) {
+@@ -299,6 +299,14 @@ if (is_linux || is_chromeos) {
        "suid/process_util_linux.c",
        "suid/sandbox.c",
      ]
diff --git a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
index 5b8d66a57b..114a1e4bcd 100644
--- a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
+++ b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
@@ -5,7 +5,7 @@ Subject: [PATCH 56/66] browser: disable profile auto-import on first run
 
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1582,11 +1582,6 @@ int ChromeBrowserMainParts::PreMainMessa
+@@ -1588,11 +1588,6 @@ int ChromeBrowserMainParts::PreMainMessa
    // and preferences have been registered since some of the import code depends
    // on preferences.
    if (first_run::IsChromeFirstRun()) {
diff --git a/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch b/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
deleted file mode 100644
index 17e449ed3a..0000000000
--- a/patches/extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
+++ /dev/null
@@ -1,23 +0,0 @@
-From 088a50b2fc66418294166b61f31925426b1a9c54 Mon Sep 17 00:00:00 2001
-From: Jan Engelhardt <jengelh@inai.de>
-Date: Mon, 15 Sep 2014 10:52:32 +0200
-Subject: [PATCH 12/66] net/cert: increase default key length for
- newly-generated RSA keys
-
-Should we add something for chrome://settings, or just leave
-it as hidden as it was before?
----
- net/cert/x509_util.cc | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
---- a/net/cert/x509_util.cc
-+++ b/net/cert/x509_util.cc
-@@ -282,7 +282,7 @@ bool GetTLSServerEndPointChannelBinding(
- }
- 
- // RSA keys created by CreateKeyAndSelfSignedCert will be of this length.
--static const uint16_t kRSAKeyLength = 1024;
-+static const uint16_t kRSAKeyLength = 2048;
- 
- // Certificates made by CreateKeyAndSelfSignedCert will be signed using this
- // digest algorithm.
diff --git a/patches/extra/iridium-browser/updater-disable-auto-update.patch b/patches/extra/iridium-browser/updater-disable-auto-update.patch
index 68ddaa9024..7e764cb3f1 100644
--- a/patches/extra/iridium-browser/updater-disable-auto-update.patch
+++ b/patches/extra/iridium-browser/updater-disable-auto-update.patch
@@ -16,7 +16,7 @@ the case anyway, since we are based off Chromium, not Chrome.
 
 --- a/chrome/browser/app_controller_mac.mm
 +++ b/chrome/browser/app_controller_mac.mm
-@@ -1075,7 +1075,7 @@ class AppControllerNativeThemeObserver :
+@@ -1076,7 +1076,7 @@ class AppControllerNativeThemeObserver :
    CFStringRef checkInterval = CFSTR("checkInterval");
    CFPropertyListRef plist = CFPreferencesCopyAppValue(checkInterval, app);
    if (!plist) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
index 08243d3f89..afb13b1053 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
@@ -1,16 +1,24 @@
---- a/chrome/browser/ui/browser.cc
-+++ b/chrome/browser/ui/browser.cc
-@@ -3825,6 +3825,10 @@ void Browser::UpdateBookmarkBarState(Boo
+--- a/chrome/browser/ui/bookmarks/bookmark_bar_controller.cc
++++ b/chrome/browser/ui/bookmarks/bookmark_bar_controller.cc
+@@ -4,6 +4,7 @@
+ 
+ #include "chrome/browser/ui/bookmarks/bookmark_bar_controller.h"
+ 
++#include "base/command_line.h"
+ #include "chrome/browser/bookmarks/bookmark_model_factory.h"
+ #include "chrome/browser/browser_features.h"
+ #include "chrome/browser/defaults.h"
+@@ -132,6 +133,10 @@ void BookmarkBarController::OnSplitTabCh
  }
  
- bool Browser::ShouldShowBookmarkBar() const {
+ bool BookmarkBarController::ShouldShowBookmarkBar() const {
 +  if (base::CommandLine::ForCurrentProcess()->GetSwitchValueASCII("bookmark-bar-ntp") == "never") {
 +    return false;
 +  }
 +
-   if (profile_->IsGuestSession()) {
+   Profile* profile = browser_->GetProfile();
+   if (profile->IsGuestSession()) {
      return false;
-   }
 --- a/chrome/browser/ungoogled_flag_choices.h
 +++ b/chrome/browser/ungoogled_flag_choices.h
 @@ -34,4 +34,10 @@ const FeatureEntry::Choice kScrollEventC
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
index c2fc44dae2..4816ae42b9 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
@@ -1,14 +1,14 @@
 --- a/chrome/browser/ui/browser.cc
 +++ b/chrome/browser/ui/browser.cc
-@@ -140,6 +140,7 @@
- #include "chrome/browser/ui/unload_controller.h"
+@@ -138,6 +138,7 @@
  #include "chrome/browser/ui/views/frame/browser_view.h"
  #include "chrome/browser/ui/views/frame/contents_web_view.h"
+ #include "chrome/browser/ui/views/frame/multi_contents_view.h"
 +#include "chrome/browser/ui/views/message_box_dialog.h"
  #include "chrome/browser/ui/views/status_bubble_views.h"
  #include "chrome/browser/ui/web_applications/app_browser_controller.h"
  #include "chrome/browser/ui/web_applications/web_app_launch_utils.h"
-@@ -658,6 +659,7 @@ Browser::Browser(const CreateParams& par
+@@ -620,6 +621,7 @@ Browser::Browser(const CreateParams& par
        omit_from_session_restore_(params.omit_from_session_restore),
        should_trigger_session_restore_(params.should_trigger_session_restore),
        cancel_download_confirmation_state_(NOT_PROMPTED),
@@ -16,7 +16,7 @@
        override_bounds_(params.initial_bounds),
        initial_show_state_(params.initial_show_state),
        initial_workspace_(params.initial_workspace),
-@@ -1073,20 +1075,22 @@ Browser::WarnBeforeClosingResult Browser
+@@ -994,20 +996,22 @@ Browser::WarnBeforeClosingResult Browser
      return WarnBeforeClosingResult::kOkToClose;
    }
  
@@ -52,7 +52,7 @@
    }
  
    DCHECK(!warn_before_closing_callback_)
-@@ -1124,6 +1128,7 @@ bool Browser::TryToCloseWindow(
+@@ -1045,6 +1049,7 @@ bool Browser::TryToCloseWindow(
  
  void Browser::ResetTryToCloseWindow() {
    cancel_download_confirmation_state_ = NOT_PROMPTED;
@@ -60,7 +60,7 @@
    unload_controller_.ResetTryToCloseWindow();
  }
  
-@@ -3543,6 +3548,58 @@ bool Browser::CanCloseWithInProgressDown
+@@ -3496,6 +3501,58 @@ bool Browser::CanCloseWithInProgressDown
    return false;
  }
  
@@ -119,7 +119,7 @@
  void Browser::InProgressDownloadResponse(bool cancel_downloads) {
    if (cancel_downloads) {
      cancel_download_confirmation_state_ = RESPONSE_RECEIVED;
-@@ -3568,6 +3625,22 @@ void Browser::InProgressDownloadResponse
+@@ -3521,6 +3578,22 @@ void Browser::InProgressDownloadResponse
  
    std::move(warn_before_closing_callback_)
        .Run(WarnBeforeClosingResult::kDoNotClose);
@@ -144,7 +144,7 @@
  void Browser::CookieMigrationNoticeResponse(bool proceed_closing) {
 --- a/chrome/browser/ui/browser.h
 +++ b/chrome/browser/ui/browser.h
-@@ -32,6 +32,7 @@
+@@ -33,6 +33,7 @@
  #include "chrome/browser/ui/browser_window/public/browser_window_interface.h"
  #include "chrome/browser/ui/browser_window/public/desktop_browser_window_capabilities_delegate.h"
  #include "chrome/browser/ui/chrome_web_modal_dialog_manager_delegate.h"
@@ -152,7 +152,7 @@
  #include "chrome/browser/ui/tabs/tab_strip_model.h"
  #include "chrome/browser/ui/tabs/tab_strip_model_observer.h"
  #include "chrome/browser/ui/unload_controller.h"
-@@ -1204,12 +1205,17 @@ class Browser : public TabStripModelObse
+@@ -1147,12 +1148,17 @@ class Browser : public TabStripModelObse
    // Returns true if the window can close, false otherwise.
    bool CanCloseWithInProgressDownloads();
  
@@ -170,7 +170,7 @@
    // Called when the user has decided whether to proceed or not with the browser
    // closure, in case the cookie migration notice was shown. |proceed_closing|
    // is true if the browser can  be closed.
-@@ -1389,6 +1395,8 @@ class Browser : public TabStripModelObse
+@@ -1333,6 +1339,8 @@ class Browser : public TabStripModelObse
    // when the browser is closed with in-progress downloads.
    CancelDownloadConfirmationState cancel_download_confirmation_state_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
index 7dfb0622be..b008980ec7 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -833,11 +833,15 @@ bool HandleNewTabPageLocationOverride(
+@@ -821,11 +821,15 @@ bool HandleNewTabPageLocationOverride(
  
    // Don't change the URL when incognito mode.
    if (profile->IsOffTheRecord()) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
index 1bab25a454..b173cc2ef9 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
@@ -66,7 +66,7 @@
  #include "third_party/blink/public/platform/web_input_event_result.h"
  #include "third_party/blink/renderer/bindings/core/v8/v8_drag_event_init.h"
  #include "third_party/blink/renderer/bindings/core/v8/v8_pointer_event_init.h"
-@@ -632,8 +633,14 @@ WebInputEventResult MouseEventManager::H
+@@ -623,8 +624,14 @@ WebInputEventResult MouseEventManager::H
  
    bool single_click = event.Event().click_count <= 1;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
index 585daaa725..76dd3e8b08 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -75,6 +75,7 @@ class FrameGrabHandle : public views::Vi
+@@ -74,6 +74,7 @@ class FrameGrabHandle : public views::Vi
      // Reserve some space for the frame to be grabbed by, even if the tabstrip
      // is full.
      // TODO(tbergquist): Define this relative to the NTB insets again.
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch b/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
index a07e0bc76a..9194590669 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
@@ -18,7 +18,7 @@
  #include "ui/gfx/color_utils.h"
  #include "ui/native_theme/native_theme.h"
  
-@@ -468,7 +469,9 @@ void NTPResourceCache::CreateNewTabIncog
+@@ -467,7 +468,9 @@ void NTPResourceCache::CreateNewTabIncog
        profile_->GetPrefs()->GetString(prefs::kCurrentThemeID);
  
    // Colors.
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
index c560b4bfc2..2e1a7e62a7 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
@@ -33,7 +33,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/components/omnibox/browser/autocomplete_controller.cc
 +++ b/components/omnibox/browser/autocomplete_controller.cc
-@@ -22,6 +22,7 @@
+@@ -23,6 +23,7 @@
  
  #include "base/check_op.h"
  #include "base/containers/contains.h"
@@ -41,7 +41,7 @@
  #include "base/feature_list.h"
  #include "base/format_macros.h"
  #include "base/functional/bind.h"
-@@ -569,6 +570,15 @@ AutocompleteController::AutocompleteCont
+@@ -568,6 +569,15 @@ AutocompleteController::AutocompleteCont
        steady_state_omnibox_position_(
            metrics::OmniboxEventProto::UNKNOWN_POSITION) {
    provider_types &= ~OmniboxFieldTrial::GetDisabledProviderTypes();
@@ -79,7 +79,7 @@
  #include "base/feature_list.h"
  #include "base/functional/bind.h"
  #include "base/functional/callback.h"
-@@ -631,6 +632,9 @@ void SearchProvider::Run(bool query_is_p
+@@ -632,6 +633,9 @@ void SearchProvider::Run(bool query_is_p
  }
  
  void SearchProvider::DoHistoryQuery(bool minimal_changes) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
index ac4eb86f62..87ca77b656 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
@@ -1,14 +1,14 @@
 --- a/chrome/browser/ui/qrcode_generator/qrcode_generator_bubble_controller.cc
 +++ b/chrome/browser/ui/qrcode_generator/qrcode_generator_bubble_controller.cc
-@@ -12,6 +12,7 @@
- #include "chrome/browser/ui/sharing_hub/sharing_hub_bubble_controller.h"
+@@ -13,6 +13,7 @@
  #include "chrome/common/pref_names.h"
  #include "components/prefs/pref_change_registrar.h"
+ #include "components/prefs/pref_service.h"
 +#include "components/sharing_message/features.h"
  #include "content/public/browser/web_contents.h"
  #include "url/gurl.h"
  
-@@ -37,7 +38,7 @@ QRCodeGeneratorBubbleController::~QRCode
+@@ -38,7 +39,7 @@ QRCodeGeneratorBubbleController::~QRCode
  
  // static
  bool QRCodeGeneratorBubbleController::IsGeneratorAvailable(const GURL& url) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
index 811bfdbed2..039d010412 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
@@ -25,7 +25,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/renderer/chrome_render_frame_observer.cc
 +++ b/chrome/renderer/chrome_render_frame_observer.cc
-@@ -258,14 +258,16 @@ void ChromeRenderFrameObserver::DidFinis
+@@ -259,14 +259,16 @@ void ChromeRenderFrameObserver::DidFinis
    if (frame->Parent() || frame->IsInFencedFrameTree())
      return;
  
@@ -60,8 +60,8 @@
  #include "base/containers/contains.h"
  #include "base/containers/fixed_flat_map.h"
  #include "base/containers/flat_map.h"
-@@ -370,6 +371,12 @@ bool ShouldCommitUpdateToAccount(
-   return account_data_changed;
+@@ -402,6 +403,12 @@ bool IsGoogleAiModeUrl(GURL url) {
+                        google_util::DISALLOW_NON_STANDARD_PORTS);
  }
  
 +bool ShouldAutocollect() {
@@ -73,7 +73,7 @@
  }  // namespace
  
  // TemplateURLService::LessWithPrefix -----------------------------------------
-@@ -550,6 +557,7 @@ TemplateURLService::TemplateURLService(
+@@ -582,6 +589,7 @@ TemplateURLService::TemplateURLService(
      std::unique_ptr<TemplateURLServiceClient> client,
      const base::RepeatingClosure& dsp_change_callback)
      : prefs_(prefs),
@@ -81,7 +81,7 @@
        search_engine_choice_service_(search_engine_choice_service),
        prepopulate_data_resolver_(prepopulate_data_resolver),
        search_terms_data_(std::move(search_terms_data)),
-@@ -655,8 +663,8 @@ bool TemplateURLService::CanAddAutogener
+@@ -665,8 +673,8 @@ bool TemplateURLService::CanAddAutogener
    // that may interfere with search queries).  An easy heuristic for this is
    // whether the user has a TemplateURL that has been manually modified (e.g.,
    // renamed) connected to the same host.
@@ -92,7 +92,7 @@
  }
  
  bool TemplateURLService::IsPrepopulatedOrDefaultProviderByPolicy(
-@@ -2480,6 +2488,8 @@ SyncDataMap TemplateURLService::CreateGU
+@@ -2493,6 +2501,8 @@ SyncDataMap TemplateURLService::CreateGU
  }
  
  void TemplateURLService::Init() {
@@ -101,7 +101,7 @@
    if (client_) {
      client_->SetOwner(this);
    }
-@@ -2662,6 +2672,9 @@ void TemplateURLService::ChangeToLoadedS
+@@ -2658,6 +2668,9 @@ void TemplateURLService::ChangeToLoadedS
  
  bool TemplateURLService::CanAddAutogeneratedKeywordForHost(
      const std::string& host) const {
@@ -113,7 +113,7 @@
      return true;
 --- a/components/search_engines/template_url_service.h
 +++ b/components/search_engines/template_url_service.h
-@@ -908,6 +908,8 @@ class TemplateURLService final : public
+@@ -905,6 +905,8 @@ class TemplateURLService final : public
  
    raw_ref<TemplateURLPrepopulateData::Resolver> prepopulate_data_resolver_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
index f6365ac093..196d7ed094 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
@@ -8,7 +8,7 @@
  #include "base/debug/alias.h"
  #include "base/functional/bind.h"
  #include "base/i18n/rtl.h"
-@@ -741,6 +742,13 @@ void Tab::HideHover(TabStyle::HideHoverS
+@@ -754,6 +755,13 @@ void Tab::HideHover(TabStyle::HideHoverS
    DeprecatedLayoutImmediately();
  }
  
@@ -24,7 +24,7 @@
  // BrowserView::GetAccessibleTabLabel to get the updated accessible name.
 --- a/chrome/browser/ui/views/tabs/tab.h
 +++ b/chrome/browser/ui/views/tabs/tab.h
-@@ -98,6 +98,7 @@ class Tab : public gfx::AnimationDelegat
+@@ -100,6 +100,7 @@ class Tab : public gfx::AnimationDelegat
    void OnMouseEntered(const ui::MouseEvent& event) override;
    void OnMouseExited(const ui::MouseEvent& event) override;
    void OnGestureEvent(ui::GestureEvent* event) override;
@@ -42,7 +42,7 @@
  #include "base/check.h"
  #include "base/compiler_specific.h"
  #include "base/containers/adapters.h"
-@@ -1960,6 +1961,8 @@ void TabStrip::OnMouseEventInTab(views::
+@@ -2003,6 +2004,8 @@ void TabStrip::OnMouseEventInTab(views::
  }
  
  void TabStrip::UpdateHoverCard(Tab* tab, HoverCardUpdateType update_type) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
index 5ecad3ea97..152a6e7c79 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -1558,7 +1558,8 @@ void BrowserCommandController::InitComma
+@@ -1585,7 +1585,8 @@ void BrowserCommandController::InitComma
    command_updater_.UpdateCommandEnabled(IDC_WINDOW_CLOSE_OTHER_TABS,
                                          normal_window);
  
@@ -12,10 +12,10 @@
    command_updater_.UpdateCommandEnabled(IDC_TAB_SEARCH_CLOSE,
 --- a/chrome/browser/ui/ui_features.cc
 +++ b/chrome/browser/ui/ui_features.cc
-@@ -388,6 +388,10 @@ static std::string GetCountryCode() {
+@@ -594,6 +594,10 @@ static std::string GetCountryCode() {
  }
  
- bool IsTabSearchMoving() {
+ bool HasTabSearchToolbarButton() {
 +  if (base::CommandLine::ForCurrentProcess()->HasSwitch("remove-tabsearch-button")) {
 +    return false;
 +  }
@@ -25,7 +25,7 @@
          base::FeatureList::IsEnabled(
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -5272,6 +5272,7 @@ void BrowserView::AddedToWidget() {
+@@ -5148,6 +5148,7 @@ void BrowserView::AddedToWidget() {
  
    toolbar_->Init();
  
@@ -43,14 +43,14 @@
  #include "base/functional/bind.h"
  #include "base/strings/utf_string_conversions.h"
  #include "base/task/single_thread_task_runner.h"
-@@ -119,6 +120,7 @@ TabStripRegionView::TabStripRegionView(s
-   std::unique_ptr<TabStripComboButton> tab_strip_combo_button;
+@@ -127,6 +128,7 @@ TabStripRegionView::TabStripRegionView(s
+   std::unique_ptr<TabStripActionContainer> tab_strip_action_container;
    std::unique_ptr<ProductSpecificationsButton> product_specifications_button;
    if (browser &&
 +      !base::CommandLine::ForCurrentProcess()->HasSwitch("remove-tabsearch-button") &&
        (browser->GetType() == BrowserWindowInterface::Type::TYPE_NORMAL)) {
-     if (features::IsTabSearchMoving() &&
-         !features::HasTabSearchToolbarButton() &&
+     if (features::HasTabSearchToolbarButton()) {
+       tab_strip_action_container = std::make_unique<TabStripActionContainer>(
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -60,4 +60,8 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
index 80af8fb56e..b785f4e60f 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-clear-data-on-exit.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/browser_features.cc
 +++ b/chrome/browser/browser_features.cc
-@@ -359,4 +359,5 @@ BASE_FEATURE(kRemovalOfIWAsFromTabCaptur
+@@ -368,4 +368,5 @@ BASE_FEATURE(kRemovalOfIWAsFromTabCaptur
               "RemovalOfIWAsFromTabCapture",
               base::FEATURE_ENABLED_BY_DEFAULT);
  
@@ -8,7 +8,7 @@
  }  // namespace features
 --- a/chrome/browser/browser_features.h
 +++ b/chrome/browser/browser_features.h
-@@ -135,6 +135,7 @@ BASE_DECLARE_FEATURE(kRemovalOfIWAsFromT
+@@ -121,6 +121,7 @@ BASE_DECLARE_FEATURE(kRemovalOfIWAsFromT
  // module, e.g.
  // //chrome/browser/<foo_module>/features.h
  //
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
index 7adb2b615a..f693a7403b 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
@@ -8,7 +8,7 @@
  #include "base/containers/adapters.h"
  #include "base/containers/flat_map.h"
  #include "base/containers/span.h"
-@@ -1165,6 +1166,10 @@ void TabStripModel::CloseAllTabsInGroup(
+@@ -1145,6 +1146,10 @@ void TabStripModel::CloseAllTabsInGroup(
  
  void TabStripModel::CloseWebContentsAt(int index, uint32_t close_types) {
    CHECK(ContainsIndex(index));
@@ -19,7 +19,7 @@
    CloseTabs({GetWebContentsAt(index)}, close_types);
  }
  
-@@ -2827,9 +2832,13 @@ TabStripModel::GetGroupsDestroyedFromRem
+@@ -2928,9 +2933,13 @@ TabStripModel::GetGroupsDestroyedFromRem
  void TabStripModel::ExecuteCloseTabsByIndices(
      base::RepeatingCallback<std::vector<int>()> get_indices_to_close,
      uint32_t close_types) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
index f4fcec26be..e0be8e64eb 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-configure-extension-downloading.patch
@@ -50,7 +50,7 @@
  bool IsExtensionDownload(const download::DownloadItem& download_item);
 --- a/chrome/browser/download/download_target_determiner.cc
 +++ b/chrome/browser/download/download_target_determiner.cc
-@@ -1236,10 +1236,12 @@ DownloadConfirmationReason DownloadTarge
+@@ -1243,10 +1243,12 @@ DownloadConfirmationReason DownloadTarge
      return DownloadConfirmationReason::SAVE_AS;
  
  #if BUILDFLAG(ENABLE_EXTENSIONS)
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
index eae6a11c02..d9326a9467 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -1208,6 +1208,8 @@ WindowOpenDisposition NavigationPolicyTo
+@@ -1198,6 +1198,8 @@ WindowOpenDisposition NavigationPolicyTo
      case blink::kWebNavigationPolicyNewWindow:
        return WindowOpenDisposition::NEW_WINDOW;
      case blink::kWebNavigationPolicyNewPopup:
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch b/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
index b1a2de4ef2..2339886e3a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
@@ -11,7 +11,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/net/socket/ssl_client_socket_impl.cc
 +++ b/net/socket/ssl_client_socket_impl.cc
-@@ -199,7 +199,8 @@ class SSLClientSocketImpl::SSLContext {
+@@ -200,7 +200,8 @@ class SSLClientSocketImpl::SSLContext {
      SSL_CTX_sess_set_new_cb(ssl_ctx_.get(), NewSessionCallback);
      SSL_CTX_set_timeout(ssl_ctx_.get(), 1 * 60 * 60 /* one hour */);
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-force-punycode-hostnames.patch b/patches/extra/ungoogled-chromium/add-flag-to-force-punycode-hostnames.patch
index e9bf21a3c3..8a2a01bc7f 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-force-punycode-hostnames.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-force-punycode-hostnames.patch
@@ -13,15 +13,15 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/components/url_formatter/url_formatter.cc
 +++ b/components/url_formatter/url_formatter.cc
-@@ -15,6 +15,7 @@
+@@ -10,6 +10,7 @@
  #include <utility>
  #include <vector>
  
 +#include "base/command_line.h"
- #include "base/lazy_instance.h"
  #include "base/memory/raw_ptr.h"
+ #include "base/no_destructor.h"
  #include "base/numerics/safe_conversions.h"
-@@ -319,6 +320,13 @@ IDNConversionResult IDNToUnicodeWithAdju
+@@ -316,6 +317,13 @@ IDNConversionResult IDNToUnicodeWithAdju
    host16.reserve(host.length());
    host16.insert(host16.end(), host.begin(), host.end());
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch
index eecfd28a60..79a6ca37f6 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/browser/ui/startup/infobar_utils.cc
 +++ b/chrome/browser/ui/startup/infobar_utils.cc
-@@ -136,7 +136,8 @@ void AddInfoBarsIfNecessary(Browser* bro
+@@ -140,7 +140,8 @@ void AddInfoBarsIfNecessary(Browser* bro
    }
  
    // Web apps should not display the session restore bubble (crbug.com/1264121)
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
index 8281a00a75..01c587f5a4 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -2238,6 +2238,10 @@ void BrowserView::ExitFullscreen() {
+@@ -2130,6 +2130,10 @@ void BrowserView::ExitFullscreen() {
  void BrowserView::UpdateExclusiveAccessBubble(
      const ExclusiveAccessBubbleParams& params,
      ExclusiveAccessBubbleHideCallback first_hide_callback) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
index d61cf24f7d..ca1e7e4503 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/tabs/tab.cc
 +++ b/chrome/browser/ui/views/tabs/tab.cc
-@@ -1139,7 +1139,11 @@ void Tab::UpdateIconVisibility() {
+@@ -1163,7 +1163,11 @@ void Tab::UpdateIconVisibility() {
      // Close button is shown on active tabs regardless of the size.
      showing_close_button_ = true;
  #endif  // BUILDFLAG(IS_CHROMEOS)
@@ -12,7 +12,7 @@
  
      showing_alert_indicator_ =
          has_alert_icon && alert_icon_width <= available_width;
-@@ -1168,6 +1172,8 @@ void Tab::UpdateIconVisibility() {
+@@ -1192,6 +1196,8 @@ void Tab::UpdateIconVisibility() {
          !controller_->IsLockedForOnTask() &&
  #endif
          large_enough_for_close_button;
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch b/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
index c72321e48e..d1889c837c 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-reduce-system-info.patch
@@ -11,7 +11,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/components/embedder_support/user_agent_utils.cc
 +++ b/components/embedder_support/user_agent_utils.cc
-@@ -164,6 +164,8 @@ const std::string& GetWindowsPlatformVer
+@@ -159,6 +159,8 @@ const std::string& GetWindowsPlatformVer
  // TODO(crbug.com/1330890): Remove this method along with policy.
  bool ShouldReduceUserAgentMinorVersion(
      UserAgentReductionEnterprisePolicyState user_agent_reduction) {
@@ -20,7 +20,7 @@
    return ((user_agent_reduction !=
                 UserAgentReductionEnterprisePolicyState::kForceDisabled &&
             base::FeatureList::IsEnabled(
-@@ -187,6 +189,8 @@ bool ShouldReduceUserAgentMinorVersion(
+@@ -182,6 +184,8 @@ bool ShouldReduceUserAgentMinorVersion(
  // sending unified platform for the user agent string.
  bool ShouldSendUserAgentUnifiedPlatform(
      UserAgentReductionEnterprisePolicyState user_agent_reduction) {
@@ -29,7 +29,7 @@
  #if BUILDFLAG(IS_ANDROID)
    return ShouldReduceUserAgentMinorVersion(user_agent_reduction) &&
           base::FeatureList::IsEnabled(
-@@ -616,6 +620,8 @@ blink::UserAgentMetadata GetUserAgentMet
+@@ -672,6 +676,8 @@ blink::UserAgentMetadata GetUserAgentMet
  
  blink::UserAgentMetadata GetUserAgentMetadata(const PrefService* pref_service,
                                                bool only_low_entropy_ch) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
index 16dfd8551b..e587a4299c 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/toolbar/toolbar_view.cc
 +++ b/chrome/browser/ui/views/toolbar/toolbar_view.cc
-@@ -471,6 +471,17 @@ void ToolbarView::Init() {
+@@ -460,6 +460,17 @@ void ToolbarView::Init() {
                                 browser_->profile()->IsGuestSession() ||
                                 browser_->profile()->IsRegularProfile();
  #endif
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch b/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
index 266b4c1abd..0e44183142 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-spoof-webgl-renderer-info.patch
@@ -86,7 +86,7 @@
  // Feature declarations and associated constants (feature params, et cetera)
 --- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
 +++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
-@@ -4052,6 +4052,8 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -4113,6 +4113,8 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_RENDERER))));
          }
@@ -95,7 +95,7 @@
          return WebGLAny(script_state,
                          String(ContextGL()->GetString(GL_RENDERER)));
        }
-@@ -4067,6 +4069,8 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -4128,6 +4130,8 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_VENDOR))));
          }
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
index 00c9c25725..150f0491ec 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4862,10 +4862,12 @@ const FeatureEntry::Choice kDataSharingV
+@@ -4929,10 +4929,12 @@ constexpr char kWebiumFlag[] = "webium";
  #include "chrome/browser/ungoogled_flag_choices.h"
  #include "chrome/browser/bromite_flag_choices.h"
  #include "chrome/browser/ungoogled_platform_flag_choices.h"
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
index 0d01b6d379..29e67375a5 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
@@ -19,7 +19,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/navigation_request.cc
 +++ b/content/browser/renderer_host/navigation_request.cc
-@@ -170,6 +170,7 @@
+@@ -172,6 +172,7 @@
  #include "services/network/public/cpp/permissions_policy/fenced_frame_permissions_policies.h"
  #include "services/network/public/cpp/permissions_policy/permissions_policy_declaration.h"
  #include "services/network/public/cpp/permissions_policy/permissions_policy_features.h"
@@ -27,7 +27,7 @@
  #include "services/network/public/cpp/resource_request_body.h"
  #include "services/network/public/cpp/supports_loading_mode/supports_loading_mode_parser.h"
  #include "services/network/public/cpp/url_loader_completion_status.h"
-@@ -390,10 +391,10 @@ void AddAdditionalRequestHeaders(
+@@ -393,10 +394,10 @@ void AddAdditionalRequestHeaders(
        net::HttpRequestHeaders::kUserAgent,
        ComputeUserAgentValue(*headers, user_agent_override, browser_context));
  
@@ -44,7 +44,7 @@
    if (NeedsHTTPOrigin(headers, method)) {
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -135,6 +135,7 @@
+@@ -133,6 +133,7 @@
  #include "services/network/public/cpp/content_decoding_interceptor.h"
  #include "services/network/public/cpp/features.h"
  #include "services/network/public/cpp/not_implemented_url_loader_factory.h"
@@ -52,7 +52,7 @@
  #include "services/network/public/cpp/weak_wrapper_shared_url_loader_factory.h"
  #include "services/network/public/mojom/fetch_api.mojom.h"
  #include "services/network/public/mojom/restricted_cookie_manager.mojom.h"
-@@ -4702,10 +4703,13 @@ void RenderFrameImpl::FinalizeRequestInt
+@@ -4522,10 +4523,13 @@ void RenderFrameImpl::FinalizeRequestInt
  
    request.SetHasUserGesture(frame_->HasTransientUserActivation());
  
@@ -100,7 +100,7 @@
  
 --- a/services/network/public/cpp/BUILD.gn
 +++ b/services/network/public/cpp/BUILD.gn
-@@ -119,6 +119,8 @@ component("cpp") {
+@@ -122,6 +122,8 @@ component("cpp") {
      "private_network_access_check_result.cc",
      "private_network_access_check_result.h",
      "record_ontransfersizeupdate_utils.h",
diff --git a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
index 4fafb35349..5fbfcb6952 100644
--- a/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
+++ b/patches/extra/ungoogled-chromium/add-ipv6-probing-option.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/net/base/features.cc
 +++ b/net/base/features.cc
-@@ -18,6 +18,8 @@
+@@ -19,6 +19,8 @@
  
  namespace net::features {
  
@@ -24,7 +24,7 @@
  BASE_FEATURE(kAvoidH2Reprioritization,
 --- a/net/base/features.h
 +++ b/net/base/features.h
-@@ -20,6 +20,8 @@
+@@ -21,6 +21,8 @@
  
  namespace net::features {
  
diff --git a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
index 7b37c24848..702e09a6bd 100644
--- a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
+++ b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
@@ -1,9 +1,9 @@
 # Add suggestions URL text field to the search engine editing dialog
 # (chrome://settings/searchEngines).
 
---- a/chrome/browser/resources/settings/search_engines_page/search_engine_edit_dialog.html
-+++ b/chrome/browser/resources/settings/search_engines_page/search_engine_edit_dialog.html
-@@ -37,6 +37,13 @@
+--- a/chrome/browser/resources/settings/search_page/search_engine_edit_dialog.html
++++ b/chrome/browser/resources/settings/search_page/search_engine_edit_dialog.html
+@@ -35,6 +35,13 @@
              error-message="$i18n{notValid}"
              value="{{queryUrl_}}" on-focus="validate_" on-input="validate_">
          </cr-input>
@@ -17,8 +17,8 @@
        </div>
        <div slot="button-container">
          <cr-button class="cancel-button" on-click="cancel_" id="cancel"
---- a/chrome/browser/resources/settings/search_engines_page/search_engine_edit_dialog.ts
-+++ b/chrome/browser/resources/settings/search_engines_page/search_engine_edit_dialog.ts
+--- a/chrome/browser/resources/settings/search_page/search_engine_edit_dialog.ts
++++ b/chrome/browser/resources/settings/search_page/search_engine_edit_dialog.ts
 @@ -37,6 +37,7 @@ export interface SettingsSearchEngineEdi
      dialog: CrDialogElement,
      keyword: CrInputElement,
@@ -43,7 +43,7 @@
    declare private dialogTitle_: string;
    declare private actionButtonText_: string;
    declare private showPolicySubtitle_: boolean;
-@@ -110,6 +113,7 @@ export class SettingsSearchEngineEditDia
+@@ -111,6 +114,7 @@ export class SettingsSearchEngineEditDia
        this.searchEngine_ = this.model.name;
        this.keyword_ = this.model.keyword;
        this.queryUrl_ = this.model.url;
@@ -51,7 +51,7 @@
      } else {
        this.dialogTitle_ = loadTimeData.getString('searchEnginesAddSiteSearch');
        this.actionButtonText_ = loadTimeData.getString('add');
-@@ -146,8 +150,12 @@ export class SettingsSearchEngineEditDia
+@@ -147,8 +151,12 @@ export class SettingsSearchEngineEditDia
        }
      }
  
@@ -66,7 +66,7 @@
    }
  
    private cancel_() {
-@@ -156,7 +164,8 @@ export class SettingsSearchEngineEditDia
+@@ -157,7 +165,8 @@ export class SettingsSearchEngineEditDia
  
    private onActionButtonClick_() {
      this.browserProxy_.searchEngineEditCompleted(
@@ -76,7 +76,7 @@
      this.$.dialog.close();
    }
  
-@@ -194,8 +203,10 @@ export class SettingsSearchEngineEditDia
+@@ -195,8 +204,10 @@ export class SettingsSearchEngineEditDia
        this.$.searchEngine,
        this.$.keyword,
        this.$.queryUrl,
@@ -88,8 +88,8 @@
      });
      this.$.actionButton.disabled = !allValid;
    }
---- a/chrome/browser/resources/settings/search_engines_page/search_engines_browser_proxy.ts
-+++ b/chrome/browser/resources/settings/search_engines_page/search_engines_browser_proxy.ts
+--- a/chrome/browser/resources/settings/search_page/search_engines_browser_proxy.ts
++++ b/chrome/browser/resources/settings/search_page/search_engines_browser_proxy.ts
 @@ -35,6 +35,7 @@ export interface SearchEngine {
    name: string;
    shouldConfirmDeletion: boolean;
@@ -196,7 +196,7 @@
    // already owned by the TemplateURLService.
 --- a/chrome/browser/ui/search_engines/keyword_editor_controller.cc
 +++ b/chrome/browser/ui/search_engines/keyword_editor_controller.cc
-@@ -23,23 +23,27 @@ KeywordEditorController::KeywordEditorCo
+@@ -27,23 +27,27 @@ KeywordEditorController::KeywordEditorCo
  
  KeywordEditorController::~KeywordEditorController() = default;
  
@@ -232,7 +232,7 @@
    DCHECK(!url.empty());
    const std::optional<size_t> index =
        table_model_->IndexOfTemplateURL(template_url);
-@@ -51,11 +55,13 @@ void KeywordEditorController::ModifyTemp
+@@ -55,11 +59,13 @@ void KeywordEditorController::ModifyTemp
  
    // Don't do anything if the entry didn't change.
    if ((template_url->short_name() == title) &&
@@ -271,7 +271,7 @@
    bool CanEdit(const TemplateURL* url) const;
 --- a/chrome/browser/ui/search_engines/template_url_table_model.cc
 +++ b/chrome/browser/ui/search_engines/template_url_table_model.cc
-@@ -202,21 +202,25 @@ void TemplateURLTableModel::Remove(size_
+@@ -212,21 +212,25 @@ void TemplateURLTableModel::Remove(size_
  void TemplateURLTableModel::Add(size_t index,
                                  const std::u16string& short_name,
                                  const std::u16string& keyword,
@@ -302,7 +302,7 @@
    DCHECK(index <= RowCount());
    DCHECK(!url.empty());
    TemplateURL* template_url = GetTemplateURL(index);
-@@ -225,7 +229,8 @@ void TemplateURLTableModel::ModifyTempla
+@@ -235,7 +239,8 @@ void TemplateURLTableModel::ModifyTempla
    DCHECK(template_url_service_->GetDefaultSearchProvider() != template_url ||
           template_url->SupportsReplacement(
               template_url_service_->search_terms_data()));
@@ -314,7 +314,7 @@
  TemplateURL* TemplateURLTableModel::GetTemplateURL(size_t index) {
 --- a/chrome/browser/ui/search_engines/template_url_table_model.h
 +++ b/chrome/browser/ui/search_engines/template_url_table_model.h
-@@ -58,13 +58,15 @@ class TemplateURLTableModel : public ui:
+@@ -85,13 +85,15 @@ class TemplateURLTableModel : public ui:
    void Add(size_t index,
             const std::u16string& short_name,
             const std::u16string& keyword,
@@ -428,17 +428,17 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -1028,7 +1028,8 @@ void TemplateURLService::IncrementUsageC
+@@ -1038,7 +1038,8 @@ void TemplateURLService::IncrementUsageC
  void TemplateURLService::ResetTemplateURL(TemplateURL* url,
                                            const std::u16string& title,
                                            const std::u16string& keyword,
 -                                          const std::string& search_url) {
 +                                          const std::string& search_url,
 +                                          const std::string& suggestions_url) {
-   DCHECK(!IsCreatedByExtension(url));
+   DCHECK(!IsCreatedByExtension(*url));
    DCHECK(!keyword.empty());
    DCHECK(!search_url.empty());
-@@ -1052,6 +1053,7 @@ void TemplateURLService::ResetTemplateUR
+@@ -1062,6 +1063,7 @@ void TemplateURLService::ResetTemplateUR
    data.last_modified = clock_->Now();
    data.is_active = TemplateURLData::ActiveStatus::kTrue;
    data.policy_origin = TemplateURLData::PolicyOrigin::kNoPolicy;
diff --git a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
index 930e6d9205..434fbdd449 100644
--- a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
+++ b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -4858,7 +4858,13 @@ const FeatureEntry::Choice kDataSharingV
+@@ -4925,7 +4925,13 @@ constexpr char kWebiumFlag[] = "webium";
  // calculate and verify checksum.
  //
  // When adding a new choice, add it to the end of the list.
diff --git a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
index 2eb8b22deb..84ef249bc8 100644
--- a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
+++ b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
@@ -1,11 +1,11 @@
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -125,7 +125,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -129,7 +129,7 @@ void RegisterBrowserUserPrefs(user_prefs
                                  false);
  #endif
    registry->RegisterStringPref(prefs::kWebRTCIPHandlingPolicy,
 -                               blink::kWebRTCIPHandlingDefault);
 +                               blink::kWebRTCIPHandlingDisableNonProxiedUdp);
    registry->RegisterListPref(prefs::kWebRTCIPHandlingUrl, base::Value::List());
+   registry->RegisterBooleanPref(prefs::kWebRTCPostQuantumKeyAgreement, false);
    registry->RegisterStringPref(prefs::kWebRTCUDPPortRange, std::string());
-   registry->RegisterBooleanPref(prefs::kWebRtcEventLogCollectionAllowed, false);
diff --git a/patches/extra/ungoogled-chromium/disable-ai-search-shortcuts.patch b/patches/extra/ungoogled-chromium/disable-ai-search-shortcuts.patch
index 58b26c2238..adf108e087 100644
--- a/patches/extra/ungoogled-chromium/disable-ai-search-shortcuts.patch
+++ b/patches/extra/ungoogled-chromium/disable-ai-search-shortcuts.patch
@@ -1,16 +1,26 @@
 --- a/chrome/browser/ui/search_engines/template_url_table_model.cc
 +++ b/chrome/browser/ui/search_engines/template_url_table_model.cc
-@@ -119,12 +119,11 @@ void TemplateURLTableModel::Reload() {
+@@ -117,23 +117,10 @@ void TemplateURLTableModel::Reload() {
+       extension_entries;
+   // Keywords that can be made the default first.
    for (TemplateURL* template_url : urls) {
-     // Don't include the expanded set of starter pack keywords if the expansion
-     // feature flag is not enabled.
--    if ((template_url->starter_pack_id() ==
--             template_url_starter_pack_data::kGemini &&
--         !OmniboxFieldTrial::IsStarterPackExpansionEnabled()) ||
--        (template_url->starter_pack_id() ==
--             template_url_starter_pack_data::kPage &&
--         !omnibox_feature_configs::ContextualSearch::Get().starter_pack_page)) {
-+
+-    // Skip @gemini if feature disabled.
+-    if (template_url->starter_pack_id() ==
+-            template_url_starter_pack_data::kGemini &&
+-        !OmniboxFieldTrial::IsStarterPackExpansionEnabled()) {
+-      continue;
+-    }
+-    // Skip @page if feature disabled.
+-    if (template_url->starter_pack_id() ==
+-            template_url_starter_pack_data::kPage &&
+-        !omnibox_feature_configs::ContextualSearch::Get().starter_pack_page) {
+-      continue;
+-    }
+-    // Skip @aimode if feature disabled.
+-    if (template_url->starter_pack_id() ==
+-            template_url_starter_pack_data::kAiMode &&
+-        (!omnibox_feature_configs::Toolbelt::Get().enabled ||
+-         !ai_mode_enabled_)) {
 +    // Disable all Google AI starter pack options
 +    if (template_url->starter_pack_id() == template_url_starter_pack_data::kGemini ||
 +        template_url->starter_pack_id() == template_url_starter_pack_data::kAiMode ||
@@ -20,23 +30,28 @@
  
 --- a/components/omnibox/browser/featured_search_provider.cc
 +++ b/components/omnibox/browser/featured_search_provider.cc
-@@ -291,13 +291,14 @@ void FeaturedSearchProvider::AddFeatured
+@@ -290,20 +290,10 @@ void FeaturedSearchProvider::AddFeatured
+   for (TemplateURL* turl : turls) {
+     if (turl->starter_pack_id() > 0 &&
          turl->is_active() == TemplateURLData::ActiveStatus::kTrue) {
-       // Don't add the expanded set of starter pack engines unless the feature
-       // is enabled.
--      if ((turl->starter_pack_id() == template_url_starter_pack_data::kGemini &&
--           !OmniboxFieldTrial::IsStarterPackExpansionEnabled()) ||
--          (turl->starter_pack_id() == template_url_starter_pack_data::kPage &&
--           !omnibox_feature_configs::ContextualSearch::Get()
--                .starter_pack_page)) {
-+
+-      // Skip @gemini if feature disabled.
+-      if (turl->starter_pack_id() == template_url_starter_pack_data::kGemini &&
+-          !OmniboxFieldTrial::IsStarterPackExpansionEnabled()) {
+-        continue;
+-      }
+-      // Skip @page if feature disabled.
+-      if (turl->starter_pack_id() == template_url_starter_pack_data::kPage &&
+-          !omnibox_feature_configs::ContextualSearch::Get().starter_pack_page) {
+-        continue;
+-      }
+-      // Skip @aimode if feature disabled.
+-      if (turl->starter_pack_id() == template_url_starter_pack_data::kAiMode &&
+-          (!omnibox_feature_configs::Toolbelt::Get().enabled ||
+-           !client_->GetAimEligibilityService()->IsAimEligible())) {
 +      // Disable all Google AI starter pack options
 +      if (turl->starter_pack_id() == template_url_starter_pack_data::kGemini ||
 +          turl->starter_pack_id() == template_url_starter_pack_data::kAiMode ||
 +          turl->starter_pack_id() == template_url_starter_pack_data::kPage) {
          continue;
        }
-+
        // The history starter pack engine is disabled in incognito mode.
-       if (client_->IsOffTheRecord() &&
-           turl->starter_pack_id() == template_url_starter_pack_data::kHistory) {
diff --git a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
index fec4329109..2b397fd069 100644
--- a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
+++ b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
@@ -10,7 +10,7 @@
  #include "crypto/secure_hash.h"
  
  #if BUILDFLAG(IS_ANDROID)
-@@ -535,94 +534,10 @@ DownloadInterruptReason BaseFile::Publis
+@@ -563,94 +562,10 @@ DownloadInterruptReason BaseFile::Publis
  }
  #endif  // BUILDFLAG(IS_ANDROID)
  
@@ -105,7 +105,7 @@
  }
  
  void BaseFile::AnnotateWithSourceInformation(
-@@ -632,32 +547,8 @@ void BaseFile::AnnotateWithSourceInforma
+@@ -660,32 +575,8 @@ void BaseFile::AnnotateWithSourceInforma
      const std::optional<url::Origin>& request_initiator,
      mojo::PendingRemote<quarantine::mojom::Quarantine> remote_quarantine,
      OnAnnotationDoneCallback on_annotation_done_callback) {
@@ -142,11 +142,11 @@
  }  // namespace download
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -132,7 +132,6 @@ source_set("browser") {
+@@ -138,7 +138,6 @@ source_set("browser") {
      "//components/performance_manager/scenario_api",
      "//components/power_monitor",
      "//components/services/filesystem:lib",
--    "//components/services/quarantine:quarantine",
+-    "//components/services/quarantine",
      "//components/services/storage",
      "//components/services/storage:filesystem_proxy_factory",
      "//components/services/storage/dom_storage:local_storage_proto",
@@ -245,46 +245,3 @@
        quarantine::mojom::QuarantineFileResult result);
  
    void ComputeHashForSourceFile(HashCallback callback);
---- a/content/browser/renderer_host/pepper/pepper_file_io_host.cc
-+++ b/content/browser/renderer_host/pepper/pepper_file_io_host.cc
-@@ -462,7 +462,7 @@ void PepperFileIOHost::OnLocalFileOpened
-     ppapi::host::ReplyMessageContext reply_context,
-     const base::FilePath& path,
-     base::File::Error error_code) {
--#if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_CHROMEOS)
-+#if 0
-   // Quarantining a file before its contents are available is only supported on
-   // Windows and Linux.
-   if (!FileOpenForWrite(open_flags_) || error_code != base::File::FILE_OK) {
-@@ -496,7 +496,7 @@ void PepperFileIOHost::OnLocalFileOpened
- #endif
- }
- 
--#if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_CHROMEOS)
-+#if 0
- void PepperFileIOHost::OnLocalFileQuarantined(
-     ppapi::host::ReplyMessageContext reply_context,
-     const base::FilePath& path,
---- a/content/browser/renderer_host/pepper/pepper_file_io_host.h
-+++ b/content/browser/renderer_host/pepper/pepper_file_io_host.h
-@@ -14,7 +14,6 @@
- #include "base/memory/raw_ptr.h"
- #include "base/memory/ref_counted.h"
- #include "base/memory/weak_ptr.h"
--#include "components/services/quarantine/public/mojom/quarantine.mojom.h"
- #include "content/browser/renderer_host/pepper/browser_ppapi_host_impl.h"
- #include "ipc/ipc_listener.h"
- #include "ipc/ipc_platform_file.h"
-@@ -92,12 +91,6 @@ class PepperFileIOHost final : public pp
-                          const base::FilePath& path,
-                          base::File::Error error_code);
- 
--  void OnLocalFileQuarantined(
--      ppapi::host::ReplyMessageContext reply_context,
--      const base::FilePath& path,
--      mojo::Remote<quarantine::mojom::Quarantine> quarantine_remote,
--      quarantine::mojom::QuarantineFileResult quarantine_result);
--
-   void SendFileOpenReply(ppapi::host::ReplyMessageContext reply_context,
-                          base::File::Error error_code);
- 
diff --git a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
index 07e6afab57..6f25330de9 100644
--- a/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
+++ b/patches/extra/ungoogled-chromium/disable-downloads-page-referrer-url.patch
@@ -1,11 +1,11 @@
---- a/components/safe_browsing/core/common/features.cc
-+++ b/components/safe_browsing/core/common/features.cc
-@@ -127,7 +127,7 @@ BASE_FEATURE(kDlpRegionalizedEndpoints,
+--- a/components/download/public/common/download_features.cc
++++ b/components/download/public/common/download_features.cc
+@@ -44,7 +44,7 @@ BASE_FEATURE(kRefreshExpirationDate,
  
- BASE_FEATURE(kDownloadsPageReferrerUrl,
-              "DownloadsPageReferrerUrl",
+ BASE_FEATURE(kDisplayInitiatorOrigin,
+              "DownloadsDisplayInitiatorOrigin",
 -             base::FEATURE_ENABLED_BY_DEFAULT);
 +             base::FEATURE_DISABLED_BY_DEFAULT);
  
- BASE_FEATURE(kDownloadWarningSurvey,
-              "DownloadWarningSurvey",
+ BASE_FEATURE(kDownloadNotificationServiceUnifiedAPI,
+              "DownloadNotificationServiceUnifiedAPI",
diff --git a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch b/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
deleted file mode 100644
index fe104877f9..0000000000
--- a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
+++ /dev/null
@@ -1,11 +0,0 @@
---- a/components/optimization_guide/core/optimization_guide_features.cc
-+++ b/components/optimization_guide/core/optimization_guide_features.cc
-@@ -55,7 +55,7 @@ BASE_FEATURE(kOptimizationHints,
- // Enables fetching from a remote Optimization Guide Service.
- BASE_FEATURE(kRemoteOptimizationGuideFetching,
-              "OptimizationHintsFetching",
--             base::FEATURE_ENABLED_BY_DEFAULT);
-+             base::FEATURE_DISABLED_BY_DEFAULT);
- 
- // Enables the prediction of optimization targets.
- BASE_FEATURE(kOptimizationTargetPrediction,
diff --git a/patches/extra/ungoogled-chromium/enable-certificate-transparency-and-add-flag.patch b/patches/extra/ungoogled-chromium/enable-certificate-transparency-and-add-flag.patch
index 9b64c43c56..e4ec265dec 100644
--- a/patches/extra/ungoogled-chromium/enable-certificate-transparency-and-add-flag.patch
+++ b/patches/extra/ungoogled-chromium/enable-certificate-transparency-and-add-flag.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/browser_features.cc
 +++ b/chrome/browser/browser_features.cc
-@@ -49,7 +49,7 @@ BASE_FEATURE(kBookmarkTriggerForPrerende
+@@ -54,7 +54,7 @@ BASE_FEATURE(kBookmarkTriggerForPreconne
  // switch.
  BASE_FEATURE(kCertificateTransparencyAskBeforeEnabling,
               "CertificateTransparencyAskBeforeEnabling",
diff --git a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
deleted file mode 100644
index 89465940a4..0000000000
--- a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
+++ /dev/null
@@ -1,13 +0,0 @@
-# Enable chrome://flags/#prefetch-privacy-changes by default
-
---- a/third_party/blink/common/features.cc
-+++ b/third_party/blink/common/features.cc
-@@ -2068,7 +2068,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
- // crbug.com/988956.
- BASE_FEATURE(kPrefetchPrivacyChanges,
-              "PrefetchPrivacyChanges",
--             base::FEATURE_DISABLED_BY_DEFAULT);
-+             base::FEATURE_ENABLED_BY_DEFAULT);
- 
- BASE_FEATURE(kPreloadingHeuristicsMLModel,
-              "PreloadingHeuristicsMLModel",
diff --git a/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch b/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
index 9f2916bc2f..6c82918fc8 100644
--- a/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/views/toolbar/reload_button.cc
 +++ b/chrome/browser/ui/views/toolbar/reload_button.cc
-@@ -115,7 +115,7 @@ bool ReloadButton::GetMenuEnabled() cons
+@@ -114,7 +114,7 @@ bool ReloadButton::GetMenuEnabled() cons
  }
  
  void ReloadButton::SetMenuEnabled(bool enable) {
diff --git a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
index b190f88a57..fc58074f5b 100644
--- a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
+++ b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/browser_commands.cc
 +++ b/chrome/browser/ui/browser_commands.cc
-@@ -600,11 +600,6 @@ int GetContentRestrictions(const Browser
+@@ -611,11 +611,6 @@ int GetContentRestrictions(const Browser
      CoreTabHelper* core_tab_helper =
          CoreTabHelper::FromWebContents(current_tab);
      content_restrictions = core_tab_helper->content_restrictions();
@@ -14,7 +14,7 @@
    }
    return content_restrictions;
  }
-@@ -1919,8 +1914,7 @@ bool CanSavePage(const Browser* browser)
+@@ -1938,8 +1933,7 @@ bool CanSavePage(const Browser* browser)
        policy::DownloadRestriction::ALL_FILES) {
      return false;
    }
diff --git a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
index bd79c77fd7..401aa9d0f9 100644
--- a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
@@ -1,8 +1,8 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 @@ -222,12 +222,10 @@ TabStripRegionView::TabStripRegionView(s
-       new_tab_button_->GetViewAccessibility().SetName(
-           l10n_util::GetStringUTF16(IDS_ACCNAME_NEWTAB));
+     new_tab_button_->GetViewAccessibility().SetName(
+         l10n_util::GetStringUTF16(IDS_ACCNAME_NEWTAB));
  
 -#if BUILDFLAG(IS_LINUX)
        // The New Tab Button can be middle-clicked on Linux.
@@ -10,12 +10,12 @@
            new_tab_button_->GetTriggerableEventFlags() |
            ui::EF_MIDDLE_MOUSE_BUTTON);
 -#endif
-     }
    }
  
+   reserved_grab_handle_space_ =
 --- a/chrome/browser/ui/views/tabs/tab_strip.cc
 +++ b/chrome/browser/ui/views/tabs/tab_strip.cc
-@@ -2222,8 +2222,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2273,8 +2273,6 @@ void TabStrip::NewTabButtonPressed(const
  
      const ui::MouseEvent& mouse = static_cast<const ui::MouseEvent&>(event);
      if (mouse.IsOnlyMiddleMouseButton()) {
@@ -24,7 +24,7 @@
          ui::Clipboard* clipboard = ui::Clipboard::GetForCurrentThread();
          CHECK(clipboard)
              << "Clipboard instance is not available, cannot proceed with "
-@@ -2234,7 +2232,6 @@ void TabStrip::NewTabButtonPressed(const
+@@ -2285,7 +2283,6 @@ void TabStrip::NewTabButtonPressed(const
          if (!clipboard_text.empty()) {
            controller_->CreateNewTabWithLocation(clipboard_text);
          }
diff --git a/patches/extra/ungoogled-chromium/first-run-page.patch b/patches/extra/ungoogled-chromium/first-run-page.patch
index fa443e3857..9edc3c9ee4 100644
--- a/patches/extra/ungoogled-chromium/first-run-page.patch
+++ b/patches/extra/ungoogled-chromium/first-run-page.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1005,6 +1005,7 @@ int ChromeBrowserMainParts::PreCreateThr
+@@ -1000,6 +1000,7 @@ int ChromeBrowserMainParts::PreCreateThr
    if (first_run::IsChromeFirstRun()) {
      if (!base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kApp) &&
          !base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kAppId)) {
@@ -10,7 +10,7 @@
    }
 --- a/chrome/browser/ui/webui/chrome_web_ui_configs.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_configs.cc
-@@ -46,6 +46,7 @@
+@@ -47,6 +47,7 @@
  #include "chrome/browser/ui/webui/signin_internals_ui.h"
  #include "chrome/browser/ui/webui/sync_internals/sync_internals_ui.h"
  #include "chrome/browser/ui/webui/translate_internals/translate_internals_ui.h"
@@ -18,7 +18,7 @@
  #include "chrome/browser/ui/webui/usb_internals/usb_internals_ui.h"
  #include "chrome/browser/ui/webui/user_actions/user_actions_ui.h"
  #include "chrome/browser/ui/webui/version/version_ui.h"
-@@ -258,6 +259,7 @@ void RegisterChromeWebUIConfigs() {
+@@ -266,6 +267,7 @@ void RegisterChromeWebUIConfigs() {
    map.AddWebUIConfig(std::make_unique<SiteEngagementUIConfig>());
    map.AddWebUIConfig(std::make_unique<SyncInternalsUIConfig>());
    map.AddWebUIConfig(std::make_unique<TranslateInternalsUIConfig>());
@@ -175,7 +175,7 @@
 +#endif  // CHROME_BROWSER_UI_WEBUI_UNGOOGLED_FIRST_RUN_H_
 --- a/chrome/common/webui_url_constants.cc
 +++ b/chrome/common/webui_url_constants.cc
-@@ -72,6 +72,7 @@ bool IsSystemWebUIHost(std::string_view
+@@ -71,6 +71,7 @@ bool IsSystemWebUIHost(std::string_view
  // These hosts will also be suggested by BuiltinProvider.
  base::span<const base::cstring_view> ChromeURLHosts() {
    static constexpr auto kChromeURLHosts = std::to_array<base::cstring_view>({
diff --git a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
index ab2868032b..90fb46233c 100644
--- a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
+++ b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
@@ -2,7 +2,7 @@
 #
 --- a/components/omnibox/common/omnibox_features.cc
 +++ b/components/omnibox/common/omnibox_features.cc
-@@ -306,7 +306,7 @@ BASE_FEATURE(kOmniboxTouchDownTriggerFor
+@@ -288,7 +288,7 @@ BASE_FEATURE(kOmniboxSiteSearch, "Omnibo
  // Enables additional site search providers for the Site search Starter Pack.
  BASE_FEATURE(kStarterPackExpansion,
               "StarterPackExpansion",
diff --git a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
index d76c8046a6..037577cbbe 100644
--- a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
+++ b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
@@ -2,9 +2,9 @@
 
 --- a/chrome/browser/ui/startup/bad_flags_prompt.cc
 +++ b/chrome/browser/ui/startup/bad_flags_prompt.cc
-@@ -68,7 +68,6 @@ const char* const kBadFlags[] = {
-     // These flags disable sandbox-related security.
+@@ -77,7 +77,6 @@ const char* const kBadFlags[] = {
      sandbox::policy::switches::kDisableGpuSandbox,
+     sandbox::policy::switches::kDisableLandlockSandbox,
      sandbox::policy::switches::kDisableSeccompFilterSandbox,
 -    sandbox::policy::switches::kDisableSetuidSandbox,
      sandbox::policy::switches::kNoSandbox,
diff --git a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
index 6e0dff0ef6..746a98308d 100644
--- a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
+++ b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
@@ -13,9 +13,9 @@
 # external link for theme entry on settings page
 # the Google account line from the Payment methods page
 # Safety check section on the settings page
-# Privacy guide promo on the privacy page
 # Google sign-in and Anonymized Data Collection sections
 # help bubble for the removed data collection section
+# Privacy guide promo on the privacy page
 # Privacy guide section on the privacy page
 # The password leak detection toggle on the security settings page
 # Advanced Protection Program link on the security settings page
@@ -34,7 +34,7 @@
 
 --- a/chrome/app/settings_chromium_strings.grdp
 +++ b/chrome/app/settings_chromium_strings.grdp
-@@ -372,13 +372,13 @@
+@@ -385,13 +385,13 @@ Chromium understands forms better and ca
  
    <!-- Performance Page -->
    <message name="IDS_SETTINGS_PERFORMANCE_MEMORY_SAVER_MODE_SETTING_DESCRIPTION" desc="Description for the memory saver mode setting">
@@ -53,7 +53,7 @@
    <!-- Languages Page -->
 --- a/chrome/app/settings_strings.grdp
 +++ b/chrome/app/settings_strings.grdp
-@@ -1009,7 +1009,7 @@
+@@ -1058,7 +1058,7 @@
      Active site
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_TAB_DISCARDING_EXCEPTIONS_ADD_DIALOG_HELP" desc="Help text shown on the second tab of the tab discarding exception list add dialog. Explains how to use the filter format to add an exclusion rule to the list.">
@@ -62,7 +62,7 @@
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_BATTERY_PAGE_TITLE" desc="Title of the power section in the performance settings page.">
      Power
-@@ -1033,7 +1033,7 @@
+@@ -1082,7 +1082,7 @@
      Inactive tabs appearance
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_DISCARD_RING_TREATMENT_ENABLED_DESCRIPTION_WITH_LEARN_LINK" desc="Label for a performance settings toggle description that controls whether the inactive tab UI is shown. Also contains a link to the help center article.">
@@ -71,7 +71,7 @@
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_TAB_HOVER_PREVIEW_CARD_LINK_TITLE" desc="Title for the link row that points to tab hover preview card apperance settings.">
      Tab hover preview card appearance
-@@ -1045,7 +1045,7 @@
+@@ -1094,7 +1094,7 @@
      Performance issue alerts
    </message>
    <message name="IDS_SETTINGS_PERFORMANCE_INTERVENTION_NOTIFICATION_ENABLED_DESCRIPTION" desc="Label for a performance settings toggle that controls whether performance intervention notifications should be shown and link to learn more about performance issue alerts.">
@@ -184,7 +184,7 @@
      <div class="bulletpoints first">$i18nRaw{incognitoTabFeatures}</div>
 --- a/chrome/browser/resources/settings/a11y_page/a11y_page.html
 +++ b/chrome/browser/resources/settings/a11y_page/a11y_page.html
-@@ -103,11 +103,6 @@
+@@ -99,10 +99,5 @@
              sub-label="$i18n{toastAlertLevelDescription}">
          </settings-toggle-button>
  </if>
@@ -194,15 +194,14 @@
 -            external>
 -        </cr-link-row>
        </div>
- <if expr="is_linux">
-       <template is="dom-if" route-path="/captions">
+     </settings-section>
 --- a/chrome/browser/resources/settings/about_page/about_page.html
 +++ b/chrome/browser/resources/settings/about_page/about_page.html
 @@ -57,7 +57,7 @@
        <div class="cr-row two-line">
          <!-- Set the icon from the iconset (when it's obsolete/EOL and
            when update is done) or set the src (when it's updating). -->
--<if expr="not chromeos_ash">
+-<if expr="not is_chromeos">
 +<if expr="False">
          <div class="icon-container"
              hidden="[[!shouldShowIcons_(showUpdateStatus_)]]">
@@ -211,7 +210,7 @@
          </div>
  </if>
          <div class="flex cr-padded-text">
--<if expr="not chromeos_ash">
+-<if expr="not is_chromeos">
 +<if expr="False">
            <div id="updateStatusMessage" hidden="[[!showUpdateStatus_]]">
              <div role="alert" aria-live="polite"
@@ -228,9 +227,9 @@
            hidden="[[!prefs.feedback_allowed.value]]"
 --- a/chrome/browser/resources/settings/appearance_page/appearance_page.html
 +++ b/chrome/browser/resources/settings/appearance_page/appearance_page.html
-@@ -41,12 +41,11 @@
-     <settings-animated-pages id="pages" section="appearance"
-         focus-config="[[focusConfig_]]">
+@@ -40,12 +40,11 @@
+     </style>
+     <settings-section page-title="$i18n{appearancePageTitle}">
        <div route-path="default">
 -        <div class="settings-row first" id="themeRow"
 +        <div class="cr-row first" id="themeRow"
@@ -247,7 +246,7 @@
              <div class="separator"></div>
 --- a/chrome/browser/resources/settings/autofill_page/payments_section.html
 +++ b/chrome/browser/resources/settings/autofill_page/payments_section.html
-@@ -81,11 +81,6 @@
+@@ -83,11 +83,6 @@
    </div>
  </template>
  
@@ -259,35 +258,23 @@
  <div class="cr-row continuation">
    <h2 class="flex">$i18n{creditCards}</h2>
    <template is="dom-if"
---- a/chrome/browser/resources/settings/basic_page/basic_page.html
-+++ b/chrome/browser/resources/settings/basic_page/basic_page.html
-@@ -68,7 +68,7 @@
-         <!--  TODO(crbug.com/40267370): Add a test to basic_page_test.ts
-         to check that settings-safety-hub-entry-point is not visible
-         in the guest mode. -->
--        <template is="dom-if" if="[[showPage_(pageVisibility_.safetyHub)]]"
-+        <template is="dom-if" if="[[false]]"
-             restamp>
-           <settings-section page-title="$i18n{safetyHub}"
-               section="safetyHubEntryPoint" nest-under-section="privacy"
---- a/chrome/browser/resources/settings/basic_page/basic_page.ts
-+++ b/chrome/browser/resources/settings/basic_page/basic_page.ts
-@@ -16,7 +16,6 @@ import '../ai_page/ai_page.js';
- import '../glic_page/glic_page.js';
- // </if>
- import '../appearance_page/appearance_page.js';
--import '../privacy_page/privacy_guide/privacy_guide_promo.js';
- import '../privacy_page/privacy_page.js';
- import '../safety_hub/safety_hub_entry_point.js';
- import '../autofill_page/autofill_page.js';
-@@ -263,7 +262,6 @@ export class SettingsBasicPageElement ex
-       this.showPrivacyGuidePromo_ = false;
-       return;
-     }
--    this.showPrivacyGuidePromo_ = true;
-     if (!this.privacyGuidePromoWasShown_) {
-       this.privacyGuideBrowserProxy_.incrementPromoImpressionCount();
-       this.privacyGuidePromoWasShown_ = true;
+--- a/chrome/browser/resources/settings/autofill_page/payments_section.ts
++++ b/chrome/browser/resources/settings/autofill_page/payments_section.ts
+@@ -286,14 +286,6 @@ export class SettingsPaymentsSectionElem
+     // Record that the user opened the payments settings.
+     chrome.metricsPrivate.recordUserAction('AutofillCreditCardsViewed');
+ 
+-    // Measure clicks on the 'Google Account' link for managing payment methods.
+-    const manageAccountAnchor = this.$.manageLink.querySelector('a');
+-    if (manageAccountAnchor !== null) {
+-      manageAccountAnchor.addEventListener('click', () => {
+-        MetricsBrowserProxyImpl.getInstance().recordAction(
+-            'Autofill.PaymentMethodsSettingsPage.ManagePaymentMethodsLinkClicked');
+-      });
+-    }
+   }
+ 
+   override disconnectedCallback() {
 --- a/chrome/browser/resources/settings/privacy_page/personalization_options.html
 +++ b/chrome/browser/resources/settings/privacy_page/personalization_options.html
 @@ -24,7 +24,7 @@
@@ -310,7 +297,7 @@
 -        sub-label="$i18n{urlKeyedAnonymizedDataCollectionDesc}">
 -    </settings-toggle-button>
  <if expr="_google_chrome">
- <if expr="not chromeos_ash">
+ <if expr="not is_chromeos">
      <settings-toggle-button id="spellCheckControl"
 --- a/chrome/browser/resources/settings/privacy_page/personalization_options.ts
 +++ b/chrome/browser/resources/settings/privacy_page/personalization_options.ts
@@ -324,7 +311,7 @@
 -        this.$.urlCollectionToggle.getBubbleAnchor(), {anchorPaddingTop: 10});
    }
  
-   // <if expr="chromeos_ash">
+   // <if expr="is_chromeos">
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
 @@ -52,15 +52,6 @@
@@ -343,6 +330,38 @@
          <cr-link-row id="thirdPartyCookiesLinkRow"
              start-icon="privacy:cookie"
              class="hr" label="$i18n{thirdPartyCookiesLinkRowLabel}"
+--- a/chrome/browser/resources/settings/privacy_page/privacy_page_index.ts
++++ b/chrome/browser/resources/settings/privacy_page/privacy_page_index.ts
+@@ -8,7 +8,6 @@ import '../basic_page/basic_page.js';
+ import '../safety_hub/safety_hub_entry_point.js';
+ import '../settings_page/settings_section.js';
+ import '../settings_shared.css.js';
+-import './privacy_guide/privacy_guide_promo.js';
+ import './privacy_page.js';
+ 
+ import {PrefsMixin} from '/shared/settings/prefs/prefs_mixin.js';
+@@ -104,13 +103,6 @@ export class SettingsPrivacyPageIndexEle
+   private getDefaultViews_(): string[] {
+     const defaultViews = ['old'];
+ 
+-    if (this.isPrivacyGuideAvailable) {
+-      defaultViews.push('privacyGuidePromo');
+-    }
+-
+-    if (this.showPage_(this.pageVisibility_.safetyHub)) {
+-      defaultViews.push('safetyHubEntryPoint');
+-    }
+ 
+     return defaultViews;
+   }
+@@ -231,7 +223,6 @@ export class SettingsPrivacyPageIndexEle
+       this.showPrivacyGuidePromo_ = false;
+       return;
+     }
+-    this.showPrivacyGuidePromo_ = true;
+     if (!this.privacyGuidePromoWasShown_) {
+       this.privacyGuideBrowserProxy_.incrementPromoImpressionCount();
+       this.privacyGuidePromoWasShown_ = true;
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
 @@ -113,13 +113,6 @@
@@ -371,11 +390,12 @@
 -    </cr-link-row>
 --- a/chrome/browser/resources/settings/search_page/search_page.html
 +++ b/chrome/browser/resources/settings/search_page/search_page.html
-@@ -43,11 +43,6 @@
+@@ -42,12 +42,6 @@
          $i18n{searchPageTitle}
          <div class="secondary">
            $i18n{searchEngineChoiceEntryPointSubtitle}
 -          <a href="$i18n{searchExplanationLearnMoreURL}"
+-              aria-description="$i18n{opensInNewTab}"
 -              aria-label="$i18n{searchExplanationLearnMoreA11yLabel}"
 -              target="_blank">
 -            $i18n{learnMore}
@@ -396,7 +416,7 @@
              aria-description="$i18n{opensInNewTab}" on-click="onHelpClick_">
 --- a/chrome/browser/ui/tabs/recent_tabs_sub_menu_model.cc
 +++ b/chrome/browser/ui/tabs/recent_tabs_sub_menu_model.cc
-@@ -368,7 +368,6 @@ void RecentTabsSubMenuModel::Build() {
+@@ -369,7 +369,6 @@ void RecentTabsSubMenuModel::Build() {
    AddSeparator(ui::NORMAL_SEPARATOR);
    history_separator_index_ = GetItemCount() - 1;
    BuildLocalEntries();
@@ -406,7 +426,7 @@
  void RecentTabsSubMenuModel::BuildLocalEntries() {
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -958,16 +958,6 @@ void ExtensionsMenuModel::Build(Browser*
+@@ -959,16 +959,6 @@ void ExtensionsMenuModel::Build(Browser*
    SetElementIdentifierAt(
        GetIndexOfCommandId(IDC_EXTENSIONS_SUBMENU_MANAGE_EXTENSIONS).value(),
        kManageExtensionsMenuItem);
@@ -425,7 +445,7 @@
  ////////////////////////////////////////////////////////////////////////////////
 --- a/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
 +++ b/chrome/browser/ui/views/bookmarks/bookmark_menu_delegate.cc
-@@ -1236,12 +1236,14 @@ void BookmarkMenuDelegate::BuildOtherNod
+@@ -1241,12 +1241,14 @@ void BookmarkMenuDelegate::BuildOtherNod
    menu->AppendMenuItem(
        IDC_SHOW_BOOKMARK_SIDE_PANEL,
        l10n_util::GetStringUTF16(IDS_BOOKMARKS_ALL_BOOKMARKS_OPEN_SIDE_PANEL),
@@ -443,7 +463,7 @@
  }
 --- a/chrome/browser/ui/views/location_bar/cookie_controls/cookie_controls_content_view.cc
 +++ b/chrome/browser/ui/views/location_bar/cookie_controls/cookie_controls_content_view.cc
-@@ -156,14 +156,7 @@ void CookieControlsContentView::SetEnfor
+@@ -188,14 +188,7 @@ void CookieControlsContentView::SetEnfor
  }
  
  void CookieControlsContentView::SetFeedbackSectionVisibility(bool visible) {
@@ -460,7 +480,7 @@
  void CookieControlsContentView::SetCookiesRowVisible(bool visible) {
 --- a/chrome/browser/ui/views/sad_tab_view.cc
 +++ b/chrome/browser/ui/views/sad_tab_view.cc
-@@ -574,9 +574,6 @@ SadTabView::SadTabView(content::WebConte
+@@ -160,9 +160,6 @@ SadTabView::SadTabView(content::WebConte
    // There is currently no good way to handle kEnd alignment for a single
    // element.
    actions_container->SetLayoutManagerUseConstrainedSpace(false);
@@ -470,7 +490,7 @@
    action_button_ =
        actions_container->AddChildView(std::make_unique<views::MdTextButton>(
            base::BindRepeating(&SadTabView::PerformAction,
-@@ -677,22 +674,6 @@ void SadTabView::AttachToWebView() {
+@@ -263,22 +260,6 @@ void SadTabView::AttachToWebView() {
    }
  }
  
@@ -495,7 +515,7 @@
    // Specify the maximum message and title width explicitly.
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -976,40 +976,20 @@ void AddPerformanceStrings(content::WebU
+@@ -986,40 +986,20 @@ void AddPerformanceStrings(content::WebU
         IDS_SETTINGS_PERFORMANCE_TAB_HOVER_PREVIEW_CARD_LINK_SUBTITLE},
        {"performanceInterventionEnabledLabel",
         IDS_SETTINGS_PERFORMANCE_INTERVENTION_NOTIFICATION_ENABLED_LABEL},
@@ -545,7 +565,7 @@
  
    html_source->AddString(
        "tabDiscardTimerFiveMinutes",
-@@ -1055,11 +1035,6 @@ void AddPerformanceStrings(content::WebU
+@@ -1065,11 +1045,6 @@ void AddPerformanceStrings(content::WebU
            base::NumberToString16(
                performance_manager::user_tuning::BatterySaverModeManager::
                    kLowBatteryThresholdPercent)));
@@ -557,7 +577,7 @@
  
    html_source->AddString("discardRingTreatmentLearnMoreUrl",
                           chrome::kDiscardRingTreatmentLearnMoreUrl);
-@@ -3515,7 +3490,7 @@ void AddSiteSettingsStrings(content::Web
+@@ -3585,7 +3560,7 @@ void AddSiteSettingsStrings(content::Web
        base::FeatureList::IsEnabled(blink::features::kWebPrinting));
  
    html_source->AddBoolean("enableFederatedIdentityApiContentSetting",
@@ -568,8 +588,8 @@
    html_source->AddBoolean(
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
-@@ -603,27 +603,20 @@ SettingsUI::SettingsUI(content::WebUI* w
-            autofill::AutofillAiAction::kListEntityInstancesInSettings)},
+@@ -598,27 +598,20 @@ SettingsUI::SettingsUI(content::WebUI* w
+                ->UserIsActivePasswordChangeUser()},
    };
  
 -  const bool show_ai_settings_for_testing = base::FeatureList::IsEnabled(
@@ -602,7 +622,7 @@
    html_source->AddBoolean(
 --- a/media/base/media_switches.cc
 +++ b/media/base/media_switches.cc
-@@ -878,7 +878,7 @@ BASE_FEATURE(kOnDeviceWebSpeech,
+@@ -905,7 +905,7 @@ BASE_FEATURE(kOnDeviceWebSpeech,
               base::FEATURE_ENABLED_BY_DEFAULT);
  
  // Enables the Live Caption feature on supported devices.
@@ -613,7 +633,7 @@
  // fails to load. Used to diagnose issues when rolling out new versions of the
 --- a/ui/views/controls/menu/menu_item_view.cc
 +++ b/ui/views/controls/menu/menu_item_view.cc
-@@ -875,7 +875,7 @@ void MenuItemView::SetAlerted() {
+@@ -869,7 +869,7 @@ void MenuItemView::SetAlerted() {
  }
  
  bool MenuItemView::ShouldShowNewBadge() const {
diff --git a/patches/series b/patches/series
index a5bbd9b05c..04f3ca4b5c 100644
--- a/patches/series
+++ b/patches/series
@@ -43,7 +43,6 @@ extra/inox-patchset/0013-disable-missing-key-warning.patch
 extra/inox-patchset/0016-chromium-sandbox-pie.patch
 extra/inox-patchset/0019-disable-battery-status-service.patch
 extra/debian/disable/google-api-warning.patch
-extra/iridium-browser/net-cert-increase-default-key-length-for-newly-gener.patch
 extra/iridium-browser/mime_util-force-text-x-suse-ymp-to-be-downloaded.patch
 extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
 extra/iridium-browser/updater-disable-auto-update.patch
@@ -70,7 +69,6 @@ extra/ungoogled-chromium/add-flag-to-hide-crashed-bubble.patch
 extra/ungoogled-chromium/add-flag-to-scroll-tabs.patch
 extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
 extra/ungoogled-chromium/add-flag-for-bookmark-bar-ntp.patch
-extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
 extra/ungoogled-chromium/enable-menu-on-reload-button.patch
 extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
 extra/ungoogled-chromium/disable-dial-repeating-discovery.patch
@@ -90,7 +88,6 @@ extra/ungoogled-chromium/keep-expired-flags.patch
 extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
 extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
 extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
-extra/ungoogled-chromium/disable-remote-optimization-guide.patch
 extra/ungoogled-chromium/add-flag-to-disable-tls-grease.patch
 extra/ungoogled-chromium/add-flag-to-change-http-accept-header.patch
 extra/ungoogled-chromium/add-flag-to-disable-sharing-hub.patch
diff --git a/patches/upstream-fixes/glue_core_pools.patch b/patches/upstream-fixes/glue_core_pools.patch
index 348e6e42ce..602e738e56 100644
--- a/patches/upstream-fixes/glue_core_pools.patch
+++ b/patches/upstream-fixes/glue_core_pools.patch
@@ -15,7 +15,7 @@
    # iff BRP support is enabled. However, for purpose of performance
 --- a/base/allocator/partition_allocator/src/partition_alloc/compressed_pointer.h
 +++ b/base/allocator/partition_allocator/src/partition_alloc/compressed_pointer.h
-@@ -16,9 +16,6 @@
+@@ -21,9 +21,6 @@
  
  #if PA_BUILDFLAG(ENABLE_POINTER_COMPRESSION)
  
diff --git a/patches/upstream-fixes/missing-dependencies.patch b/patches/upstream-fixes/missing-dependencies.patch
index cf9b03b91a..4a85cb1571 100644
--- a/patches/upstream-fixes/missing-dependencies.patch
+++ b/patches/upstream-fixes/missing-dependencies.patch
@@ -10,27 +10,27 @@
  
 --- a/chrome/browser/extensions/BUILD.gn
 +++ b/chrome/browser/extensions/BUILD.gn
-@@ -1000,6 +1000,7 @@ source_set("extensions") {
+@@ -1025,6 +1025,7 @@ source_set("extensions") {
        "//components/resources",
        "//components/safe_browsing:buildflags",
-       "//components/safe_browsing/content/browser/web_ui:web_ui",
+       "//components/safe_browsing/content/browser/web_ui",
 +      "//components/safe_browsing/content/common/proto:download_file_types_proto",
        "//components/safe_browsing/core/common/proto:csd_proto",
        "//components/search_engines",
        "//components/services/app_service",
 --- a/chrome/browser/ui/safety_hub/revoked_permissions_service.cc
 +++ b/chrome/browser/ui/safety_hub/revoked_permissions_service.cc
-@@ -28,6 +28,7 @@
- #include "chrome/app/chrome_command_ids.h"
+@@ -20,6 +20,7 @@
+ #include "build/build_config.h"
  #include "chrome/browser/browser_process.h"
  #include "chrome/browser/engagement/site_engagement_service_factory.h"
 +#include "chrome/browser/profiles/profile.h"
  #include "chrome/browser/ui/safety_hub/safety_hub_prefs.h"
+ #include "chrome/browser/ui/safety_hub/safety_hub_result.h"
  #include "chrome/browser/ui/safety_hub/safety_hub_service.h"
- #include "chrome/browser/ui/safety_hub/safety_hub_util.h"
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -550,6 +550,7 @@ static_library("url_constants") {
+@@ -525,6 +525,7 @@ static_library("url_constants") {
      "//components/optimization_guide/optimization_guide_internals/webui:url_constants",
      "//components/password_manager/content/common",
      "//components/safe_browsing/core/common",
@@ -40,7 +40,7 @@
  }
 --- a/components/component_updater/installer_policies/BUILD.gn
 +++ b/components/component_updater/installer_policies/BUILD.gn
-@@ -49,6 +49,7 @@ static_library("installer_policies_no_co
+@@ -53,6 +53,7 @@ static_library("installer_policies_no_co
      "//components/update_client",
      "//mojo/public/cpp/base:protobuf_support",
      "//services/network/public/cpp",
@@ -60,7 +60,7 @@
    public_deps = [
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -113,6 +113,7 @@ source_set("browser") {
+@@ -119,6 +119,7 @@ source_set("browser") {
      "//components/filename_generation",
      "//components/fingerprinting_protection_filter/interventions/common:features",
      "//components/input",
diff --git a/pruning.list b/pruning.list
index 0a18a833d6..2d1b72ec60 100644
--- a/pruning.list
+++ b/pruning.list
@@ -58,7 +58,6 @@ build/android/stacktrace/java_deobfuscate_java.jar
 build/android/tests/symbolize/liba.so
 build/android/tests/symbolize/libb.so
 build/linux/sysroot_scripts/keyring.gpg
-buildtools/third_party/eu-strip/bin/eu-strip
 chrome/app/etw_events/MSG00001.bin
 chrome/app/etw_events/chrome_events_winTEMP.BIN
 chrome/browser/ash/power/ml/smart_dim/20190521_example_preprocessor_config.pb
@@ -1467,8 +1466,6 @@ net/data/ssl/certificates/unittest.selfsigned.der
 net/data/ssl/certificates/websocket_client_cert.p12
 net/data/url_request_unittest/BullRunSpeech.txt.deflate
 net/data/url_request_unittest/gzip-encoded
-net/tools/testserver/dist/_socket.pyd
-net/tools/testserver/dist/_ssl.pyd
 pdf/pdfium/fuzzers/corpora/pdf_codec_tiff/not_kitty.tiff
 pdf/pdfium/fuzzers/corpora/pdf_jpx/not_kitty.jp2
 pdf/test/data/bigtable_micro.in
@@ -2118,7 +2115,6 @@ third_party/abseil-cpp/absl/time/internal/cctz/testdata/zoneinfo/Universal
 third_party/abseil-cpp/absl/time/internal/cctz/testdata/zoneinfo/W-SU
 third_party/abseil-cpp/absl/time/internal/cctz/testdata/zoneinfo/WET
 third_party/abseil-cpp/absl/time/internal/cctz/testdata/zoneinfo/Zulu
-third_party/accessibility_test_framework/src/gradle/wrapper/gradle-wrapper.jar
 third_party/afl/src/testcases/archives/common/bzip2/small_archive.bz2
 third_party/afl/src/testcases/archives/common/cab/small_archive.cab
 third_party/afl/src/testcases/archives/common/compress/small_archive.Z
@@ -7389,7 +7385,12 @@ third_party/crashpad/crashpad/snapshot/ios/testdata/crash-5726011582644224
 third_party/crashpad/crashpad/snapshot/ios/testdata/crash-6605504629637120
 third_party/crashpad/crashpad/snapshot/ios/testdata/crash-c44acfcbccd8c7a8
 third_party/crashpad/crashpad/util/net/testdata/binary_http_body.dat
+third_party/crossbench-web-tests/synthetic/powerline/Chrome-Scheduler-Optimization-Benchmarks.ogg
 third_party/crossbench/crossbench/probes/profiling/time-profile.tracetemplate
+third_party/crossbench/tests/crossbench/plt/pb/battery/ac_powered.pb
+third_party/crossbench/tests/crossbench/plt/pb/battery/battery_powered.pb
+third_party/crossbench/tests/crossbench/plt/pb/display/1080p.pb
+third_party/crossbench/tests/crossbench/plt/pb/dumpsys_meminfo.pb
 third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_0000017E9E2D81A0.vs.spv
 third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_000002778DE78280.cs.spv
 third_party/dawn/third_party/benchmark_shaders/unity_boat_attack/unity_webgpu_000002778F740030.fs.spv
@@ -8036,6 +8037,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/crux
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size-long.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size-overlap.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dom-size.json.gz
+third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dpr.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dupe-js-inline-maps.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/dupe-js.json.gz
 third_party/devtools-frontend/src/front_end/panels/timeline/fixtures/traces/enhanced-traces.json.gz
@@ -10977,21 +10979,20 @@ third_party/rust/chromium_crates_io/vendor/regex-automata-v0_4/tests/gen/sparse/
 third_party/rust/chromium_crates_io/vendor/regex-automata-v0_4/tests/gen/sparse/multi_pattern_v2_fwd.littleendian.dfa
 third_party/rust/chromium_crates_io/vendor/regex-automata-v0_4/tests/gen/sparse/multi_pattern_v2_rev.bigendian.dfa
 third_party/rust/chromium_crates_io/vendor/regex-automata-v0_4/tests/gen/sparse/multi_pattern_v2_rev.littleendian.dfa
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/America/Bogota
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/America/Los_Angeles
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/America/Whitehorse
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/Antarctica/Troll
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/Arctic/Longyearbyen
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/Asia/Tokyo
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/Chile/EasterIsland
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/PST8PDT
-third_party/rust/chromium_crates_io/vendor/tzif-v0_3/testdata/Pacific/Pohnpei
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/America/Bogota
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/America/Los_Angeles
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/America/Whitehorse
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/Antarctica/Troll
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/Arctic/Longyearbyen
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/Asia/Tokyo
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/Chile/EasterIsland
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/PST8PDT
+third_party/rust/chromium_crates_io/vendor/tzif-v0_4/testdata/Pacific/Pohnpei
 third_party/rust/chromium_crates_io/vendor/unicode-ident-v1/tests/fst/xid_continue.fst
 third_party/rust/chromium_crates_io/vendor/unicode-ident-v1/tests/fst/xid_start.fst
 third_party/rust/chromium_crates_io/vendor/windows_aarch64_msvc-v0_52/lib/windows.0.52.0.lib
 third_party/rust/chromium_crates_io/vendor/windows_i686_msvc-v0_52/lib/windows.0.52.0.lib
 third_party/rust/chromium_crates_io/vendor/windows_x86_64_msvc-v0_52/lib/windows.0.52.0.lib
-third_party/skia/demos.skia.org/demos/mesh2d/canvaskit.wasm
 third_party/skia/modules/canvaskit/tests/assets/Roboto-Regular.otf
 third_party/skia/modules/canvaskit/tests/assets/red_line.skp
 third_party/skia/modules/canvaskit/tests/assets/test.ttc
@@ -12395,6 +12396,8 @@ third_party/zlib/google/test/data/test_encrypted.zip
 third_party/zlib/google/test/data/test_mismatch_size.zip
 third_party/zlib/google/test/data/test_nocompress.zip
 third_party/zlib/google/test/data/test_posix_permissions.zip
+third_party/zlib/google/test/data/unicode_path_extra.zip
+third_party/zlib/google/test/data/unicode_path_extra_overflow.zip
 third_party/zstd/src/programs/windres/zstd32.res
 third_party/zstd/src/programs/windres/zstd64.res
 third_party/zstd/src/tests/dict-files/zero-weight-dict
