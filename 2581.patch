From 13fc15e4ec454e3397f11bdc1bf2627c121a37e8 Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Tue, 24 Oct 2023 17:09:01 -0500
Subject: [PATCH] Update to Chromium 119.0.6045.105

---
 chromium_version.txt                          |   2 +-
 domain_substitution.list                      | 497 +++++++-------
 ...01-fix-building-without-safebrowsing.patch |  74 +-
 ...refixes-to-possibly-evil-connections.patch |  26 +-
 .../block-trk-and-subdomains.patch            |   4 +-
 .../disable-crash-reporter.patch              |   4 +-
 .../ungoogled-chromium/disable-gaia.patch     |   2 +-
 .../disable-google-host-detection.patch       |   2 +-
 .../disable-mei-preload.patch                 |   2 +-
 .../disable-privacy-sandbox.patch             |  34 +-
 .../disable-web-environment-integrity.patch   |  24 +-
 .../disable-webrtc-log-uploader.patch         |   2 +-
 .../disable-webstore-urls.patch               |   2 +-
 .../core/ungoogled-chromium/doh-changes.patch |   8 +-
 .../fix-building-with-prunned-binaries.patch  |  14 +-
 .../fix-building-without-safebrowsing.patch   | 283 ++++----
 .../remove-unused-preferences-fields.patch    | 637 ++++++++----------
 ...e-google-search-engine-with-nosearch.patch |   2 +-
 .../toggle-translation-via-switch.patch       |   6 +-
 ...g-flags-client-rects-and-measuretext.patch |  32 +-
 ...ngerprinting-canvas-image-data-noise.patch |  10 +-
 .../flag-max-connections-per-host.patch       |  12 +-
 .../0006-modify-default-prefs.patch           |  24 +-
 ...ble-profile-auto-import-on-first-run.patch |   2 +-
 ...mpt-for-download-directory-by-defaul.patch |   2 +-
 .../add-flag-for-close-confirmation.patch     |  14 +-
 .../add-flag-for-custom-ntp.patch             |   2 +-
 .../add-flag-for-disabling-link-drag.patch    |   6 +-
 .../add-flag-for-grab-handle.patch            |   2 +-
 .../add-flag-for-incognito-themes.patch       |   4 +-
 ...g-for-omnibox-autocomplete-filtering.patch |   2 +-
 .../add-flag-for-qr-generator.patch           |   2 +-
 ...dd-flag-for-search-engine-collection.patch |   6 +-
 .../add-flag-for-tab-hover-cards.patch        |   2 +-
 .../add-flag-for-tabsearch-button.patch       |  14 +-
 ...d-flag-to-close-window-with-last-tab.patch |   2 +-
 .../add-flag-to-convert-popups-to-tabs.patch  |   2 +-
 ...-to-disable-local-history-expiration.patch |   2 +-
 .../add-flag-to-hide-fullscreen-exit-ui.patch |   2 +-
 .../add-flag-to-hide-side-panel-button.patch  |   8 +-
 .../add-flag-to-hide-tab-close-buttons.patch  |   4 +-
 .../add-flag-to-show-avatar-button.patch      |   4 +-
 .../add-flags-for-existing-switches.patch     |   2 +-
 ...add-flags-for-referrer-customization.patch |  27 +-
 .../add-suggestions-url-field.patch           |   4 +-
 .../add-ungoogled-flag-headers.patch          |   2 +-
 .../default-webrtc-ip-handling-policy.patch   |   2 +-
 .../disable-download-quarantine.patch         |   2 +-
 .../disable-remote-optimization-guide.patch   |   2 +-
 .../disable-webgl-renderer-info.patch         |   4 +-
 ...ble-default-prefetch-privacy-changes.patch |   2 +-
 .../enable-menu-on-reload-button.patch        |   2 +-
 .../enable-page-saving-on-more-pages.patch    |   4 +-
 .../enable-paste-and-go-new-tab-button.patch  |   2 +-
 .../ungoogled-chromium/first-run-page.patch   |   8 +-
 .../prepopulated-search-engines.patch         |  21 +-
 ...e-disable-setuid-sandbox-as-bad-flag.patch |   2 +-
 .../remove-uneeded-ui.patch                   |  30 +-
 pruning.list                                  |  47 +-
 59 files changed, 931 insertions(+), 1017 deletions(-)

diff --git a/chromium_version.txt b/chromium_version.txt
index d5469976a..02bfa8d90 100644
--- a/chromium_version.txt
+++ b/chromium_version.txt
@@ -1 +1 @@
-118.0.5993.117
+119.0.6045.105
diff --git a/domain_substitution.list b/domain_substitution.list
index ce3ccd16f..fd503ecea 100644
--- a/domain_substitution.list
+++ b/domain_substitution.list
@@ -64,12 +64,10 @@ ash/constants/url_constants.cc
 ash/controls/contextual_nudge.cc
 ash/events/keyboard_capability_unittest.cc
 ash/fast_ink/laser/laser_pointer_view.cc
-ash/game_dashboard/game_dashboard_context_unittest.cc
 ash/glanceables/classroom/fake_glanceables_classroom_client.cc
 ash/glanceables/classroom/glanceables_classroom_item_view_unittest.cc
 ash/glanceables/classroom/glanceables_classroom_types.h
 ash/glanceables/glanceables_pixeltest.cc
-ash/glanceables/glanceables_welcome_label_unittest.cc
 ash/glanceables/tasks/glanceables_task_view.cc
 ash/glanceables/tasks/glanceables_tasks_types.h
 ash/login/ui/auth_icon_view.cc
@@ -195,7 +193,7 @@ ash/webui/projector_app/test/untrusted_projector_page_handler_impl_unittest.cc
 ash/webui/projector_app/untrusted_projector_ui.cc
 ash/webui/scanning/resources/PRESUBMIT.py
 ash/webui/scanning/resources/scanning_app.html
-ash/webui/scanning/resources/scanning_app.js
+ash/webui/scanning/resources/scanning_app.ts
 ash/webui/shimless_rma/resources/onboarding_enter_rsu_wp_disable_code_page.js
 ash/webui/shortcut_customization_ui/resources/PRESUBMIT.py
 ash/webui/system_apps/public/system_web_app_type.h
@@ -268,6 +266,8 @@ base/message_loop/message_pump_win.cc
 base/metrics/field_trial_list_including_low_anonymity.h
 base/metrics/histogram_functions.h
 base/metrics/histogram_macros.h
+base/metrics/statistics_recorder.cc
+base/metrics/statistics_recorder.h
 base/metrics/user_metrics.h
 base/power_monitor/battery_level_provider_win.cc
 base/power_monitor/power_monitor_device_source_android.cc
@@ -394,6 +394,7 @@ build/fuchsia/binary_size_differ.py
 build/fuchsia/binary_sizes.py
 build/fuchsia/test/PRESUBMIT.py
 build/gn_ast/gn_ast.py
+build/gn_ast/json_gn_editor.py
 build/install-build-deps.py
 build/ios/presubmit_support.py
 build/linux/install-chromeos-fonts.py
@@ -410,6 +411,7 @@ build/sanitizers/tsan_suppressions.cc
 build/skia_gold_common/PRESUBMIT.py
 build/toolchain/cros_toolchain.gni
 build/toolchain/gcc_toolchain.gni
+build/toolchain/goma.gni
 build/toolchain/nacl/BUILD.gn
 build/toolchain/win/midl.py
 build/toolchain/win/rc/rc.py
@@ -421,7 +423,6 @@ buildtools/README.txt
 buildtools/clang_format/README.txt
 buildtools/reclient_cfgs/configure_reclient_cfgs.py
 cc/PRESUBMIT.py
-cc/base/features.h
 cc/input/browser_controls_offset_manager.cc
 cc/input/scroll_state.h
 cc/input/scrollbar_controller.h
@@ -469,9 +470,6 @@ chrome/app/settings_strings.grdp
 chrome/app/shared_settings_strings.grdp
 chrome/app/theme/PRESUBMIT.py
 chrome/app/welcome_strings.grdp
-chrome/browser/3pcd/heuristics/opener_heuristic_browsertest.cc
-chrome/browser/3pcd/heuristics/opener_heuristic_utils.cc
-chrome/browser/3pcd/heuristics/opener_heuristic_utils_unittest.cc
 chrome/browser/about_flags.cc
 chrome/browser/accessibility/live_caption/live_caption_speech_recognition_host_browsertest.cc
 chrome/browser/android/compositor/scene_layer/contextual_search_scene_layer.cc
@@ -487,11 +485,12 @@ chrome/browser/android/signin/signin_manager_android_unittest.cc
 chrome/browser/android/signin/web_signin_bridge_unittest.cc
 chrome/browser/android/tab_android.cc
 chrome/browser/android/vr/PRESUBMIT.py
+chrome/browser/android/webapk/webapk_helpers_unittest.cc
 chrome/browser/android/webapk/webapk_installer.cc
 chrome/browser/apps/almanac_api_client/almanac_api_util.cc
 chrome/browser/apps/almanac_api_client/almanac_api_util_unittest.cc
 chrome/browser/apps/almanac_api_client/device_info_manager.cc
-chrome/browser/apps/app_deduplication_service/app_deduplication_cache_unittest.cc
+chrome/browser/apps/almanac_api_client/proto_file_manager_unittest.cc
 chrome/browser/apps/app_deduplication_service/app_deduplication_server_connector.cc
 chrome/browser/apps/app_deduplication_service/app_deduplication_service_unittest.cc
 chrome/browser/apps/app_discovery_service/app_discovery_service_unittest.cc
@@ -517,7 +516,7 @@ chrome/browser/apps/app_service/webapk/webapk_install_task.cc
 chrome/browser/apps/digital_goods/digital_goods_ash.cc
 chrome/browser/apps/digital_goods/digital_goods_factory_impl.cc
 chrome/browser/apps/guest_view/web_view_browsertest.cc
-chrome/browser/apps/intent_helper/intent_picker_auto_display_prefs_unittest.cc
+chrome/browser/apps/intent_helper/intent_chip_display_prefs_unittest.cc
 chrome/browser/apps/link_capturing/link_capturing_navigation_throttle_unittest.cc
 chrome/browser/apps/platform_apps/app_browsertest.cc
 chrome/browser/apps/platform_apps/app_window_browsertest.cc
@@ -542,6 +541,7 @@ chrome/browser/ash/app_list/search/arc/arc_recommend_apps_fetcher_impl_unittest.
 chrome/browser/ash/app_list/search/arc/recommend_apps_fetcher_impl.cc
 chrome/browser/ash/app_list/search/common/string_util.cc
 chrome/browser/ash/app_list/search/common/string_util_unittest.cc
+chrome/browser/ash/app_list/search/local_image_search/image_annotation_worker.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_lacros_provider_unittest.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_provider_unittest.cc
 chrome/browser/ash/app_list/search/omnibox/omnibox_util.cc
@@ -610,9 +610,10 @@ chrome/browser/ash/enhanced_network_tts/enhanced_network_tts_utils.cc
 chrome/browser/ash/extensions/file_manager/file_manager_private_apitest.cc
 chrome/browser/ash/extensions/file_manager/system_notification_manager_unittest.cc
 chrome/browser/ash/extensions/users_private/users_private_apitest.cc
+chrome/browser/ash/featured_integration_test.cc
 chrome/browser/ash/file_manager/file_browser_handlers.h
-chrome/browser/ash/file_manager/file_manager_browsertest.cc
 chrome/browser/ash/file_manager/file_manager_browsertest_base.cc
+chrome/browser/ash/file_manager/file_manager_policy_browsertest.cc
 chrome/browser/ash/file_manager/file_manager_string_util.cc
 chrome/browser/ash/file_manager/file_manager_test_util.h
 chrome/browser/ash/file_manager/file_tasks.h
@@ -629,6 +630,7 @@ chrome/browser/ash/input_method/assistive_suggester_client_filter.cc
 chrome/browser/ash/input_method/assistive_suggester_client_filter_unittest.cc
 chrome/browser/ash/input_method/input_method_settings.cc
 chrome/browser/ash/input_method/input_method_settings_unittest.cc
+chrome/browser/ash/input_method/ui/candidate_window_view.cc
 chrome/browser/ash/kerberos/kerberos_credentials_manager_unittest.cc
 chrome/browser/ash/login/app_mode/kiosk_launch_controller_unittest.cc
 chrome/browser/ash/login/app_mode/test/kiosk_enterprise_browsertest.cc
@@ -643,6 +645,7 @@ chrome/browser/ash/login/login_ui_browsertest.cc
 chrome/browser/ash/login/login_ui_keyboard_browsertest.cc
 chrome/browser/ash/login/login_ui_shelf_visibility_browsertest.cc
 chrome/browser/ash/login/marketing_backend_connector.cc
+chrome/browser/ash/login/misconfigured_user_browsertest.cc
 chrome/browser/ash/login/oobe_quick_start/connectivity/account_transfer_client_data.h
 chrome/browser/ash/login/oobe_quick_start/connectivity/connection_unittest.cc
 chrome/browser/ash/login/oobe_quick_start/second_device_auth_broker.cc
@@ -667,7 +670,6 @@ chrome/browser/ash/login/ui/captive_portal_view.cc
 chrome/browser/ash/login/users/default_user_image/default_user_images.cc
 chrome/browser/ash/login/users/multi_profile_user_controller_unittest.cc
 chrome/browser/ash/login/wizard_controller_browsertest.cc
-chrome/browser/ash/net/apn_migrator_unittest.cc
 chrome/browser/ash/net/network_diagnostics/arc_dns_resolution_routine.cc
 chrome/browser/ash/net/network_diagnostics/dns_latency_routine.cc
 chrome/browser/ash/net/network_diagnostics/dns_resolution_routine.cc
@@ -737,6 +739,7 @@ chrome/browser/ash/system_web_apps/apps/files_internals_ui_delegate.cc
 chrome/browser/ash/system_web_apps/apps/help_app/help_app_discover_tab_notification_unittest.cc
 chrome/browser/ash/system_web_apps/apps/help_app/help_app_notification_controller_unittest.cc
 chrome/browser/ash/tpm_firmware_update.h
+chrome/browser/ash/trusted_vault/trusted_vault_backend_service_ash_unittest.cc
 chrome/browser/ash/u2f_notification.cc
 chrome/browser/ash/url_handler_browsertest.cc
 chrome/browser/ash/wallpaper_handlers/wallpaper_handlers.cc
@@ -806,12 +809,15 @@ chrome/browser/chromeos/extensions/desk_api/desk_api_extension_manager.h
 chrome/browser/chromeos/extensions/telemetry/api/common/api_guard_delegate_unittest.cc
 chrome/browser/chromeos/platform_keys/extension_key_permissions_service.cc
 chrome/browser/chromeos/platform_keys/extension_platform_keys_service.cc
+chrome/browser/chromeos/policy/default_notifications_setting_browsertest.cc
+chrome/browser/chromeos/policy/dino_easter_egg_browsertest.cc
 chrome/browser/chromeos/policy/dlp/data_transfer_dlp_controller_browsertest.cc
 chrome/browser/chromeos/policy/dlp/dlp_content_tab_helper_unittest.cc
 chrome/browser/chromeos/policy/dlp/dlp_policy_constants.h
 chrome/browser/chromeos/policy/dlp/dlp_rules_manager_impl.cc
 chrome/browser/chromeos/policy/dlp/dlp_rules_manager_impl_unittest.cc
 chrome/browser/chromeos/policy/dlp/dlp_scoped_file_access_delegate_unittest.cc
+chrome/browser/chromeos/reporting/metric_reporting_prefs_unittest.cc
 chrome/browser/chromeos/tablet_mode/chrome_content_browser_client_tablet_mode_part_unittest.cc
 chrome/browser/companion/core/utils.cc
 chrome/browser/companion/core/utils_unittest.cc
@@ -868,8 +874,6 @@ chrome/browser/enterprise/connectors/device_trust/test/test_constants.cc
 chrome/browser/enterprise/connectors/reporting/reporting_service_settings_unittest.cc
 chrome/browser/enterprise/connectors/service_provider_config.cc
 chrome/browser/enterprise/connectors/service_provider_config_unittest.cc
-chrome/browser/enterprise/data_controls/attributes_condition_unittest.cc
-chrome/browser/enterprise/data_controls/data_controls_policy_handler_unittest.cc
 chrome/browser/enterprise/platform_auth/cloud_ap_provider_win.cc
 chrome/browser/enterprise/profile_management/profile_management_navigation_throttle.cc
 chrome/browser/enterprise/profile_management/profile_management_navigation_throttle_unittest.cc
@@ -878,6 +882,7 @@ chrome/browser/enterprise/reporting/extension_request/extension_request_notifica
 chrome/browser/enterprise/reporting/extension_request/extension_request_observer_unittest.cc
 chrome/browser/enterprise/signals/device_info_fetcher_win.cc
 chrome/browser/enterprise/signals/signals_utils.cc
+chrome/browser/enterprise/signin/enterprise_signin_service_browsertest.cc
 chrome/browser/enterprise/util/managed_browser_utils.cc
 chrome/browser/enterprise/util/managed_browser_utils.h
 chrome/browser/error_reporting/chrome_js_error_report_processor_nonchromeos.cc
@@ -949,7 +954,6 @@ chrome/browser/extensions/api/web_request/web_request_apitest.cc
 chrome/browser/extensions/api/web_request/web_request_permissions_unittest.cc
 chrome/browser/extensions/api/webrtc_audio_private/webrtc_audio_private_browsertest.cc
 chrome/browser/extensions/api/webstore_private/extension_install_status_unittest.cc
-chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
 chrome/browser/extensions/background_xhr_browsertest.cc
 chrome/browser/extensions/chrome_extension_browser_constants.cc
 chrome/browser/extensions/chrome_extension_function_details.cc
@@ -1035,7 +1039,6 @@ chrome/browser/importer/ie_importer_browsertest_win.cc
 chrome/browser/importer/profile_writer_unittest.cc
 chrome/browser/installable/installable_manager_browsertest.cc
 chrome/browser/ip_protection/ip_protection_config_http.cc
-chrome/browser/ip_protection/ip_protection_config_provider_browsertest.cc
 chrome/browser/k_anonymity_service/k_anonymity_service_client_unittest.cc
 chrome/browser/k_anonymity_service/k_anonymity_trust_token_getter_unittest.cc
 chrome/browser/lacros/account_manager/account_manager_util_unittest.cc
@@ -1057,6 +1060,9 @@ chrome/browser/long_screenshots/long_screenshots_tab_service_unittest.cc
 chrome/browser/lookalikes/lookalike_url_navigation_throttle.cc
 chrome/browser/lookalikes/lookalike_url_navigation_throttle_browsertest.cc
 chrome/browser/lookalikes/safety_tip_message_delegate_android_unittest.cc
+chrome/browser/manta/orca_provider.cc
+chrome/browser/manta/orca_provider.h
+chrome/browser/manta/orca_provider_unittest.cc
 chrome/browser/manta/snapper_provider.cc
 chrome/browser/manta/snapper_provider.h
 chrome/browser/manta/snapper_provider_unittest.cc
@@ -1129,7 +1135,6 @@ chrome/browser/net/sandboxed_network_change_notifier_win_browsertest.cc
 chrome/browser/net/service_providers_win.cc
 chrome/browser/net/stub_resolver_config_reader_browsertest.cc
 chrome/browser/net/system_network_context_manager_browsertest.cc
-chrome/browser/net/trial_comparison_cert_verifier_controller.cc
 chrome/browser/new_tab_page/modules/drive/drive_service.cc
 chrome/browser/new_tab_page/modules/drive/drive_service_unittest.cc
 chrome/browser/new_tab_page/modules/history_clusters/cart/cart_processor.cc
@@ -1167,10 +1172,10 @@ chrome/browser/page_load_metrics/observers/document_write_page_load_metrics_obse
 chrome/browser/page_load_metrics/observers/from_gws_page_load_metrics_observer.cc
 chrome/browser/page_load_metrics/observers/from_gws_page_load_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/gws_page_load_metrics_observer_unittest.cc
-chrome/browser/page_load_metrics/observers/lcp_critical_path_predictor_page_load_metrics_observer.h
 chrome/browser/page_load_metrics/observers/loading_predictor_page_load_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/local_network_requests_page_load_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/multi_tab_loading_page_load_metrics_observer_unittest.cc
+chrome/browser/page_load_metrics/observers/omnibox_suggestion_used_page_load_metrics_observer.cc
 chrome/browser/page_load_metrics/observers/page_anchors_metrics_observer_browsertest.cc
 chrome/browser/page_load_metrics/observers/page_anchors_metrics_observer_unittest.cc
 chrome/browser/page_load_metrics/observers/page_load_metrics_observer_test_harness.cc
@@ -1224,12 +1229,13 @@ chrome/browser/policy/test/system_features_policy_browsertest.cc
 chrome/browser/policy/webhid_device_policy_handler_unittest.cc
 chrome/browser/policy/webusb_allow_devices_for_urls_policy_handler_unittest.cc
 chrome/browser/predictors/autocomplete_action_predictor_table_unittest.cc
+chrome/browser/predictors/lcp_critical_path_predictor/lcp_critical_path_predictor_util.cc
+chrome/browser/predictors/lcp_critical_path_predictor/lcp_critical_path_predictor_util.h
 chrome/browser/predictors/loading_data_collector_unittest.cc
 chrome/browser/predictors/loading_predictor_browsertest.cc
 chrome/browser/predictors/loading_predictor_unittest.cc
 chrome/browser/predictors/loading_stats_collector_unittest.cc
 chrome/browser/predictors/preconnect_manager_unittest.cc
-chrome/browser/predictors/resource_prefetch_predictor.cc
 chrome/browser/predictors/resource_prefetch_predictor_tables_unittest.cc
 chrome/browser/predictors/resource_prefetch_predictor_unittest.cc
 chrome/browser/prefetch/prefetch_browsertest.cc
@@ -1246,8 +1252,8 @@ chrome/browser/preloading/prefetch/search_prefetch/search_prefetch_service_brows
 chrome/browser/preloading/prefetch/zero_suggest_prefetch/zero_suggest_prefetch_tab_helper_browsertest.cc
 chrome/browser/printing/print_preview_dialog_controller_unittest.cc
 chrome/browser/privacy/secure_dns_bridge.cc
-chrome/browser/privacy_sandbox/privacy_sandbox_service.cc
-chrome/browser/privacy_sandbox/privacy_sandbox_service_unittest.cc
+chrome/browser/privacy_sandbox/privacy_sandbox_service_impl.cc
+chrome/browser/privacy_sandbox/privacy_sandbox_service_impl_unittest.cc
 chrome/browser/private_network_access/private_network_device_chooser_controller_unittest.cc
 chrome/browser/process_singleton_posix.cc
 chrome/browser/process_singleton_posix_unittest.cc
@@ -1277,8 +1283,9 @@ chrome/browser/renderer_context_menu/render_view_context_menu_unittest.cc
 chrome/browser/renderer_host/chrome_navigation_ui_data.h
 chrome/browser/resource_coordinator/tab_load_tracker_unittest.cc
 chrome/browser/resources/PRESUBMIT.py
-chrome/browser/resources/about_sys/about_sys.js
+chrome/browser/resources/about_sys/about_sys.ts
 chrome/browser/resources/accessibility/chromevox_helper_manifest.json.jinja2
+chrome/browser/resources/accessibility/embedded_a11y_helper/service_worker.ts
 chrome/browser/resources/accessibility/embedded_a11y_helper_manifest.json.jinja2
 chrome/browser/resources/app_home/app_home_empty_page.html
 chrome/browser/resources/ash/settings/crostini_page/crostini_disk_resize_dialog.html
@@ -1293,6 +1300,7 @@ chrome/browser/resources/ash/settings/os_about_page/channel_switcher_dialog.html
 chrome/browser/resources/ash/settings/os_about_page/os_about_page.html
 chrome/browser/resources/ash/settings/os_apps_page/android_apps_subpage.ts
 chrome/browser/resources/ash/settings/os_languages_page/input_method_util.ts
+chrome/browser/resources/ash/settings/os_people_page/account_manager_settings_card.ts
 chrome/browser/resources/ash/settings/os_people_page/account_manager_subpage.ts
 chrome/browser/resources/ash/settings/os_people_page/add_user_dialog.ts
 chrome/browser/resources/ash/settings/os_people_page/os_people_page.ts
@@ -1336,7 +1344,6 @@ chrome/browser/resources/chromeos/arc_support/bubble.js
 chrome/browser/resources/chromeos/arc_support/playstore.js
 chrome/browser/resources/chromeos/assistant_optin/assistant_related_info.js
 chrome/browser/resources/chromeos/assistant_optin/assistant_value_prop.js
-chrome/browser/resources/chromeos/connectivity_diagnostics/manifest.json
 chrome/browser/resources/chromeos/echo/manifest.json
 chrome/browser/resources/chromeos/edu_coexistence/edu_coexistence_controller.js
 chrome/browser/resources/chromeos/edu_coexistence/edu_coexistence_ui.js
@@ -1354,7 +1361,7 @@ chrome/browser/resources/chromeos/login/screens/login/encryption_migration.js
 chrome/browser/resources/chromeos/login/screens/login/offline_login.html
 chrome/browser/resources/chromeos/login/screens/login/offline_login.js
 chrome/browser/resources/chromeos/multidevice_internals/browser_tabs_metadata_form.js
-chrome/browser/resources/chromeos/parent_access/parent_access_ui.js
+chrome/browser/resources/chromeos/parent_access/parent_access_ui.ts
 chrome/browser/resources/default_apps/external_extensions.json
 chrome/browser/resources/discards/graph_doc_template.html
 chrome/browser/resources/downloads/icons.html
@@ -1366,6 +1373,7 @@ chrome/browser/resources/gaia_auth_host/password_change_authenticator.js
 chrome/browser/resources/gaia_auth_host/saml_handler.js
 chrome/browser/resources/gaia_auth_host/saml_password_attributes.js
 chrome/browser/resources/hangout_services/manifest.json
+chrome/browser/resources/hats/hats.ts
 chrome/browser/resources/inspect/inspect.html
 chrome/browser/resources/internals/query_tiles/query_tiles_internals.html
 chrome/browser/resources/internals/query_tiles/query_tiles_internals.ts
@@ -1411,9 +1419,6 @@ chrome/browser/resources/webui_gallery/demos/cr_input/cr_input_demo.html
 chrome/browser/resources/webui_gallery/demos/cr_url_list_item/cr_url_list_item_demo.html
 chrome/browser/resources/webui_gallery/demos/side_panel/sp_components_demo.ts
 chrome/browser/safe_browsing/certificate_reporting_service.cc
-chrome/browser/safe_browsing/chrome_cleaner/reporter_runner_win.cc
-chrome/browser/safe_browsing/chrome_cleaner/reporter_runner_win_unittest.cc
-chrome/browser/safe_browsing/chrome_cleaner/srt_field_trial_win.cc
 chrome/browser/safe_browsing/chrome_enterprise_url_lookup_service.cc
 chrome/browser/safe_browsing/chrome_enterprise_url_lookup_service_unittest.cc
 chrome/browser/safe_browsing/chrome_password_protection_service.cc
@@ -1439,9 +1444,6 @@ chrome/browser/safe_browsing/incident_reporting/incident_report_uploader_impl.cc
 chrome/browser/safe_browsing/incident_reporting/incident_reporting_service_unittest.cc
 chrome/browser/safe_browsing/incident_reporting/last_download_finder_unittest.cc
 chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
-chrome/browser/safe_browsing/settings_reset_prompt/default_settings_fetcher.cc
-chrome/browser/safe_browsing/settings_reset_prompt/settings_reset_prompt_config_unittest.cc
-chrome/browser/safe_browsing/settings_reset_prompt/settings_reset_prompt_model_browsertest_win.cc
 chrome/browser/safe_browsing/tailored_security/chrome_tailored_security_service_unittest.cc
 chrome/browser/safe_browsing/tailored_security/tailored_security_url_observer_unittest.cc
 chrome/browser/search/background/ntp_background_service.cc
@@ -1452,6 +1454,7 @@ chrome/browser/search_engines/template_url_parser_unittest.cc
 chrome/browser/search_engines/template_url_service_sync_unittest.cc
 chrome/browser/search_engines/template_url_service_test_util.cc
 chrome/browser/search_engines/template_url_service_unittest.cc
+chrome/browser/segmentation_platform/service_browsertest.cc
 chrome/browser/send_tab_to_self/desktop_notification_handler_unittest.cc
 chrome/browser/serial/chrome_serial_browsertest.cc
 chrome/browser/serial/serial_chooser_context_unittest.cc
@@ -1494,6 +1497,7 @@ chrome/browser/signin/dice_response_handler_unittest.cc
 chrome/browser/signin/dice_signed_in_profile_creator_unittest.cc
 chrome/browser/signin/dice_web_signin_interceptor_unittest.cc
 chrome/browser/signin/e2e_tests/live_test.cc
+chrome/browser/signin/header_modification_delegate_impl_unittest.cc
 chrome/browser/signin/mirror_browsertest.cc
 chrome/browser/signin/mirror_interactive_uitest.cc
 chrome/browser/signin/process_dice_header_delegate_impl_unittest.cc
@@ -1501,6 +1505,7 @@ chrome/browser/signin/signin_manager_unittest.cc
 chrome/browser/signin/signin_profile_attributes_updater.h
 chrome/browser/signin/signin_promo_unittest.cc
 chrome/browser/signin/signin_ui_util.cc
+chrome/browser/signin/signin_util_unittest.cc
 chrome/browser/signin/signin_util_win_browsertest.cc
 chrome/browser/signin/token_managed_profile_creator_unittest.cc
 chrome/browser/ssl/cert_verifier_platform_browser_test.h
@@ -1517,7 +1522,7 @@ chrome/browser/storage_access_api/storage_access_grant_permission_context.cc
 chrome/browser/subresource_filter/subresource_filter_browsertest.cc
 chrome/browser/subresource_filter/subresource_filter_fenced_frame_browsertest.cc
 chrome/browser/supervised_user/android/java/res/drawable/ic_family_link.xml
-chrome/browser/supervised_user/child_accounts/permission_request_creator_apiary_unittest.cc
+chrome/browser/supervised_user/android/supervised_user_settings_service_bridge.cc
 chrome/browser/supervised_user/supervised_user_browser_utils.cc
 chrome/browser/supervised_user/supervised_user_browser_utils_unittest.cc
 chrome/browser/supervised_user/supervised_user_google_auth_navigation_throttle_unittest.cc
@@ -1529,7 +1534,6 @@ chrome/browser/sync/sessions/sync_sessions_router_tab_helper.h
 chrome/browser/sync/test/integration/cookie_helper.cc
 chrome/browser/sync/test/integration/password_manager_sync_test.cc
 chrome/browser/sync/test/integration/passwords_helper.cc
-chrome/browser/sync/test/integration/performance/typed_urls_sync_perf_test.cc
 chrome/browser/sync/test/integration/single_client_bookmarks_sync_test.cc
 chrome/browser/sync/test/integration/single_client_custom_passphrase_sync_test.cc
 chrome/browser/sync/test/integration/single_client_extension_apps_sync_test.cc
@@ -1538,7 +1542,6 @@ chrome/browser/sync/test/integration/single_client_incoming_password_sharing_inv
 chrome/browser/sync/test/integration/single_client_nigori_sync_test.cc
 chrome/browser/sync/test/integration/single_client_preferences_sync_test.cc
 chrome/browser/sync/test/integration/single_client_send_tab_to_self_sync_test.cc
-chrome/browser/sync/test/integration/single_client_typed_urls_sync_test.cc
 chrome/browser/sync/test/integration/single_client_user_consents_sync_test.cc
 chrome/browser/sync/test/integration/single_client_user_events_sync_test.cc
 chrome/browser/sync/test/integration/sync_auth_test.cc
@@ -1549,9 +1552,9 @@ chrome/browser/sync/test/integration/sync_test.cc
 chrome/browser/sync/test/integration/sync_test.h
 chrome/browser/sync/test/integration/two_client_bookmarks_sync_test.cc
 chrome/browser/sync/test/integration/two_client_custom_passphrase_sync_test.cc
+chrome/browser/sync/test/integration/two_client_history_sync_test.cc
 chrome/browser/sync/test/integration/two_client_power_bookmarks_sync_test.cc
 chrome/browser/sync/test/integration/two_client_preferences_sync_test.cc
-chrome/browser/sync/test/integration/two_client_typed_urls_sync_test.cc
 chrome/browser/sync/test/integration/two_client_user_events_sync_test.cc
 chrome/browser/sync/test/integration/two_client_web_apps_bmo_sync_test.cc
 chrome/browser/sync/test/integration/two_client_web_apps_sync_test.cc
@@ -1561,6 +1564,9 @@ chrome/browser/tab/web_contents_state.cc
 chrome/browser/tab_contents/navigation_metrics_recorder_browsertest.cc
 chrome/browser/task_manager/sampling/shared_sampler_win_defines.h
 chrome/browser/themes/theme_syncable_service.cc
+chrome/browser/tpcd/heuristics/opener_heuristic_browsertest.cc
+chrome/browser/tpcd/heuristics/opener_heuristic_utils.cc
+chrome/browser/tpcd/heuristics/opener_heuristic_utils_unittest.cc
 chrome/browser/translate/translate_manager_browsertest.cc
 chrome/browser/translate/translate_manager_render_view_host_android_unittest.cc
 chrome/browser/translate/translate_manager_render_view_host_unittest.cc
@@ -1589,9 +1595,13 @@ chrome/browser/ui/ash/projector/pending_screencast_manager.cc
 chrome/browser/ui/ash/projector/pending_screencast_manager_browsertest.cc
 chrome/browser/ui/ash/projector/projector_navigation_throttle_browsertest.cc
 chrome/browser/ui/ash/session_controller_client_impl_unittest.cc
+chrome/browser/ui/ash/shelf/app_shortcut_shelf_item_controller.cc
+chrome/browser/ui/ash/shelf/browser_app_shelf_item_controller.cc
+chrome/browser/ui/ash/shelf/browser_shortcut_shelf_item_controller.cc
 chrome/browser/ui/ash/shelf/chrome_shelf_controller_unittest.cc
 chrome/browser/ui/ash/system_tray_client_impl.cc
 chrome/browser/ui/ash/system_tray_client_impl_browsertest.cc
+chrome/browser/ui/autofill/delete_address_profile_dialog_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/offer_notification_bubble_controller_impl_unittest.cc
 chrome/browser/ui/autofill/payments/offer_notification_controller_android_browsertest.cc
 chrome/browser/ui/blocked_content/popup_blocker_browsertest.cc
@@ -1683,7 +1693,6 @@ chrome/browser/ui/views/autofill/payments/local_card_migration_uitest.cc
 chrome/browser/ui/views/autofill/payments/offer_notification_bubble_views_test_base.cc
 chrome/browser/ui/views/autofill/payments/save_card_bubble_views_browsertest.cc
 chrome/browser/ui/views/autofill/payments/virtual_card_manual_fallback_bubble_views_interactive_uitest.cc
-chrome/browser/ui/views/autofill/popup/popup_autocomplete_cell_view.cc
 chrome/browser/ui/views/autofill/popup/popup_separator_view.h
 chrome/browser/ui/views/autofill/popup/popup_view_views_unittest.cc
 chrome/browser/ui/views/bookmarks/bookmark_bar_view_unittest.cc
@@ -1697,8 +1706,8 @@ chrome/browser/ui/views/borealis/borealis_installer_error_dialog.cc
 chrome/browser/ui/views/commerce/price_tracking_bubble_dialog_view_unittest.cc
 chrome/browser/ui/views/commerce/price_tracking_email_dialog_view.cc
 chrome/browser/ui/views/commerce/price_tracking_icon_view_integration_test.cc
-chrome/browser/ui/views/commerce/price_tracking_icon_view_interactive_uitest.cc
 chrome/browser/ui/views/download/bubble/download_bubble_contents_view_unittest.cc
+chrome/browser/ui/views/download/bubble/download_toolbar_button_view_unittest.cc
 chrome/browser/ui/views/extensions/device_chooser_extension_browsertest.cc
 chrome/browser/ui/views/extensions/extension_install_dialog_view_browsertest.cc
 chrome/browser/ui/views/extensions/extension_uninstall_dialog_view_browsertest.cc
@@ -1763,6 +1772,7 @@ chrome/browser/ui/views/webid/fedcm_account_selection_view_desktop_browsertest.c
 chrome/browser/ui/web_applications/diagnostics/web_app_icon_health_checks_browsertest.cc
 chrome/browser/ui/web_applications/web_app_browsertest.cc
 chrome/browser/ui/web_applications/web_app_navigate_browsertest.cc
+chrome/browser/ui/web_applications/web_app_profile_deletion_browsertest.cc
 chrome/browser/ui/web_applications/web_app_ui_manager_impl.cc
 chrome/browser/ui/webauthn/authenticator_dialog_browsertest.cc
 chrome/browser/ui/webui/PRESUBMIT.py
@@ -1772,6 +1782,7 @@ chrome/browser/ui/webui/app_management/app_management_page_handler.cc
 chrome/browser/ui/webui/app_management/app_management_page_handler_unittest.cc
 chrome/browser/ui/webui/ash/add_supervision/add_supervision_ui.cc
 chrome/browser/ui/webui/ash/add_supervision/add_supervision_ui_browsertest.cc
+chrome/browser/ui/webui/ash/arc_graphics_tracing/arc_graphics_tracing_handler.cc
 chrome/browser/ui/webui/ash/cloud_upload/cloud_upload_dialog.cc
 chrome/browser/ui/webui/ash/cloud_upload/cloud_upload_dialog_browsertest.cc
 chrome/browser/ui/webui/ash/cloud_upload/cloud_upload_dialog_unittest.cc
@@ -1787,6 +1798,7 @@ chrome/browser/ui/webui/ash/login/signin_userlist_unittest.cc
 chrome/browser/ui/webui/ash/notification_tester/notification_tester_handler.cc
 chrome/browser/ui/webui/ash/parent_access/parent_access_ui_handler_impl.cc
 chrome/browser/ui/webui/ash/parent_access/parent_access_ui_handler_impl_unittest.cc
+chrome/browser/ui/webui/ash/settings/pages/a11y/accessibility_handler_browsertest.cc
 chrome/browser/ui/webui/ash/sync/os_sync_handler_unittest.cc
 chrome/browser/ui/webui/autofill_and_password_manager_internals/internals_ui_handler.cc
 chrome/browser/ui/webui/components/components_handler.cc
@@ -1795,6 +1807,7 @@ chrome/browser/ui/webui/discards/graph_dump_impl_unittest.cc
 chrome/browser/ui/webui/extensions/extensions_internals_unittest.cc
 chrome/browser/ui/webui/favicon_source_unittest.cc
 chrome/browser/ui/webui/feed/feed_ui.cc
+chrome/browser/ui/webui/hats/hats_ui.cc
 chrome/browser/ui/webui/history/browsing_history_handler_unittest.cc
 chrome/browser/ui/webui/history_clusters/history_clusters_handler_unittest.cc
 chrome/browser/ui/webui/interstitials/interstitial_ui.cc
@@ -1804,6 +1817,7 @@ chrome/browser/ui/webui/media_router/cast_feedback_ui.cc
 chrome/browser/ui/webui/nearby_internals/quick_pair/quick_pair_handler.cc
 chrome/browser/ui/webui/new_tab_page/foo/foo_handler.cc
 chrome/browser/ui/webui/new_tab_page/new_tab_page_handler_unittest.cc
+chrome/browser/ui/webui/new_tab_page/new_tab_page_ui.cc
 chrome/browser/ui/webui/new_tab_page/untrusted_source.cc
 chrome/browser/ui/webui/new_tab_page/untrusted_source.h
 chrome/browser/ui/webui/ntp/new_tab_ui.cc
@@ -1816,11 +1830,10 @@ chrome/browser/ui/webui/profile_info_watcher.h
 chrome/browser/ui/webui/sanitized_image_source.cc
 chrome/browser/ui/webui/sanitized_image_source_unittest.cc
 chrome/browser/ui/webui/settings/about_handler_unittest.cc
-chrome/browser/ui/webui/settings/ash/accessibility_handler_browsertest.cc
-chrome/browser/ui/webui/settings/ash/device_section.cc
 chrome/browser/ui/webui/settings/ash/multidevice_handler_unittest.cc
 chrome/browser/ui/webui/settings/ash/parental_controls_handler.cc
 chrome/browser/ui/webui/settings/ash/per_session_settings_user_action_tracker_unittest.cc
+chrome/browser/ui/webui/settings/ash/power_section.cc
 chrome/browser/ui/webui/settings/ash/settings_user_action_tracker_unittest.cc
 chrome/browser/ui/webui/settings/on_startup_handler_unittest.cc
 chrome/browser/ui/webui/settings/people_handler_unittest.cc
@@ -1879,6 +1892,7 @@ chrome/browser/web_applications/externally_managed_app_manager.cc
 chrome/browser/web_applications/externally_managed_app_manager_unittest.cc
 chrome/browser/web_applications/isolated_web_apps/isolated_web_app_downloader.cc
 chrome/browser/web_applications/isolated_web_apps/isolated_web_app_update_discovery_task.cc
+chrome/browser/web_applications/isolated_web_apps/isolated_web_app_update_manager.h
 chrome/browser/web_applications/isolated_web_apps/policy/isolated_web_app_policy_manager.cc
 chrome/browser/web_applications/isolated_web_apps/update_manifest/update_manifest_fetcher.cc
 chrome/browser/web_applications/os_integration/web_app_handler_registration_utils_win.cc
@@ -1915,42 +1929,6 @@ chrome/browser/win/conflicts/installed_applications.cc
 chrome/browser/win/jumplist.cc
 chrome/browser/win/jumplist_update_util_unittest.cc
 chrome/browser/win/parental_controls.cc
-chrome/chrome_cleaner/PRESUBMIT.py
-chrome/chrome_cleaner/components/recovery_component.cc
-chrome/chrome_cleaner/components/system_report_component_unittest.cc
-chrome/chrome_cleaner/components/system_restore_point_component.cc
-chrome/chrome_cleaner/crash/crash_keys.cc
-chrome/chrome_cleaner/crash/crashpad_crash_reporter.cc
-chrome/chrome_cleaner/engines/broker/cleaner_sandbox_interface.cc
-chrome/chrome_cleaner/engines/broker/cleaner_sandbox_interface_unittest.cc
-chrome/chrome_cleaner/engines/broker/scanner_sandbox_interface_unittest.cc
-chrome/chrome_cleaner/engines/common/registry_util.cc
-chrome/chrome_cleaner/engines/common/registry_util.h
-chrome/chrome_cleaner/engines/controllers/elevating_facade.cc
-chrome/chrome_cleaner/executables/chrome_cleaner_main.cc
-chrome/chrome_cleaner/http/http_agent_impl.cc
-chrome/chrome_cleaner/ipc/chrome_prompt_test_util.cc
-chrome/chrome_cleaner/logging/cleaner_logging_service.cc
-chrome/chrome_cleaner/logging/dummy_api_keys.cc
-chrome/chrome_cleaner/logging/registry_logger.cc
-chrome/chrome_cleaner/logging/reporter_logging_service.cc
-chrome/chrome_cleaner/logging/safe_browsing_reporter_unittest.cc
-chrome/chrome_cleaner/os/disk_util.cc
-chrome/chrome_cleaner/os/file_path_sanitization.cc
-chrome/chrome_cleaner/os/post_reboot_registration.cc
-chrome/chrome_cleaner/os/registry.cc
-chrome/chrome_cleaner/os/system_util.h
-chrome/chrome_cleaner/os/system_util_cleaner.cc
-chrome/chrome_cleaner/os/task_scheduler.cc
-chrome/chrome_cleaner/parsers/shortcut_parser/target/lnk_parser.cc
-chrome/chrome_cleaner/parsers/shortcut_parser/target/lnk_parser_unittest.cc
-chrome/chrome_cleaner/pup_data/pup_data.h
-chrome/chrome_cleaner/strings/string_util_unittest.cc
-chrome/chrome_cleaner/test/child_process_logger.cc
-chrome/chrome_cleaner/test/cleaner_test.cc
-chrome/chrome_cleaner/test/reboot_deletion_helper.cc
-chrome/chrome_cleaner/test/test_extensions.h
-chrome/chrome_cleaner/zip_archiver/test_zip_archiver_util.cc
 chrome/chrome_elf/chrome_elf_main.cc
 chrome/chrome_elf/nt_registry/nt_registry.cc
 chrome/chrome_elf/nt_registry/nt_registry.h
@@ -2129,10 +2107,11 @@ chrome/renderer/searchbox/searchbox_unittest.cc
 chrome/renderer/translate/translate_agent_browsertest.cc
 chrome/services/file_util/public/cpp/sandboxed_document_analyzer_unittest.cc
 chrome/services/mac_notifications/mac_notification_service_ns.mm
+chrome/services/mac_notifications/mac_notification_service_ns_unittest.mm
+chrome/services/mac_notifications/mac_notification_service_un_unittest.mm
 chrome/services/sharing/nearby/nearby_presence_unittest.cc
 chrome/services/sharing/nearby/quick_start_decoder/quick_start_decoder_unittest.cc
 chrome/services/util_win/av_products.cc
-chrome/test/BUILD.gn
 chrome/test/base/android/android_browser_test.h
 chrome/test/base/chromeos/crosier/demo_integration_test.cc
 chrome/test/base/chromeos/test_chrome_main.cc
@@ -2162,6 +2141,7 @@ chrome/test/enterprise/e2e/connector/common/realtime_reporting_ui_test.py
 chrome/test/enterprise/e2e/connector/realtime_reporting_bce/reporting_server.py
 chrome/test/enterprise/e2e/connector/reporting_connector_chronicle/chronicle_api_service.py
 chrome/test/enterprise/e2e/connector/reporting_connector_pan/pan_api_service.py
+chrome/test/enterprise/e2e/omaha/rollback_to_target_version/google_update_policy_cbcm.py
 chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_browser_history.py
 chrome/test/enterprise/e2e/policy/allow_deleting_browser_history/allow_deleting_browser_history_webdriver_test.py
 chrome/test/enterprise/e2e/policy/apps_shortcut/apps_shortcut.py
@@ -2186,17 +2166,19 @@ chrome/test/enterprise/e2e/policy/url_blocklist/url_blocklist.py
 chrome/test/enterprise/e2e/policy/user_data_dir/user_data_dir.py
 chrome/test/enterprise/e2e/policy/webprotect_file_download/webprotect_file_download_webdriver.py
 chrome/test/enterprise/e2e/policy/youtube_restrict/youtube_restrict.py
+chrome/test/interaction/interactive_browser_test_interactive_uitest.cc
 chrome/test/mini_installer/PRESUBMIT.py
 chrome/test/mini_installer/create_zip.py
 chrome/test/mini_installer/installer_test.py
 chrome/test/mini_installer/update_lastrun.py
 chrome/test/nacl/nacl_browsertest_util.h
 chrome/test/payments/payment_request_platform_browsertest_base.h
-chrome/test/supervised_user/embedded_test_server_setup_mixin.cc
+chrome/test/supervised_user/api_mock_setup_mixin.cc
 chrome/test/supervised_user/supervision_mixin.cc
 chrome/test/supervised_user/supervision_mixin.h
 chrome/test/variations/fixtures/cipd.py
 chrome/test/variations/fixtures/driver.py
+chrome/test/variations/fixtures/skia_gold.py
 chrome/test/variations/test_utils/downloader.py
 chrome/third_party/mozilla_security_manager/nsNSSCertHelper.cpp
 chrome/third_party/mozilla_security_manager/nsNSSCertHelper.h
@@ -2257,6 +2239,10 @@ chromecast/public/output_restrictions.h
 chromeos/BUILD.gn
 chromeos/ash/components/attestation/attestation_flow_adaptive_unittest.cc
 chromeos/ash/components/attestation/attestation_flow_integrated_unittest.cc
+chromeos/ash/components/carrier_lock/provisioning_config_fetcher_impl.cc
+chromeos/ash/components/carrier_lock/provisioning_config_fetcher_unittest.cc
+chromeos/ash/components/carrier_lock/psm_claim_verifier_impl.cc
+chromeos/ash/components/carrier_lock/psm_claim_verifier_unittest.cc
 chromeos/ash/components/chaps_util/chaps_util_impl.cc
 chromeos/ash/components/cryptohome/userdataauth_util.cc
 chromeos/ash/components/dbus/arc/arc_obb_mounter_client.h
@@ -2290,8 +2276,11 @@ chromeos/ash/components/proximity_auth/proximity_auth_system_unittest.cc
 chromeos/ash/components/proximity_auth/proximity_monitor_impl_unittest.cc
 chromeos/ash/components/quick_start/quick_start_requests.cc
 chromeos/ash/components/quick_start/quick_start_requests_unittest.cc
+chromeos/ash/components/report/device_metrics/use_case/use_case.cc
 chromeos/ash/components/report/utils/network_utils.cc
 chromeos/ash/components/report/utils/network_utils_unittest.cc
+chromeos/ash/components/standalone_browser/lacros_availability.cc
+chromeos/ash/components/standalone_browser/lacros_availability.h
 chromeos/ash/components/standalone_browser/lacros_availability_unittest.cc
 chromeos/ash/components/string_matching/tokenized_string_unittest.cc
 chromeos/ash/components/timezone/timezone_request.cc
@@ -2350,6 +2339,7 @@ components/BUILD.gn
 components/account_manager_core/account_manager_facade_impl_unittest.cc
 components/aggregation_service/aggregation_coordinator_utils.h
 components/android_autofill/PRESUBMIT.py
+components/android_autofill/browser/android_autofill_features.cc
 components/android_system_error_page/error_page_populator.cc
 components/app_restore/app_restore_info_unittest.cc
 components/arc/common/intent_helper/link_handler_model_unittest.cc
@@ -2357,6 +2347,7 @@ components/arc/intent_helper/arc_intent_helper_bridge_unittest.cc
 components/assist_ranker/predictor_config_definitions.cc
 components/autofill/PRESUBMIT.py
 components/autofill/content/renderer/PRESUBMIT.py
+components/autofill/content/renderer/form_autofill_util.cc
 components/autofill/content/renderer/html_based_username_detector_browsertest.cc
 components/autofill/content/renderer/page_passwords_analyser.cc
 components/autofill/content/renderer/password_form_conversion_utils.cc
@@ -2398,7 +2389,6 @@ components/autofill/core/browser/ui/autofill_image_fetcher.cc
 components/autofill/core/browser/ui/contact_form_label_formatter_unittest.cc
 components/autofill/core/browser/ui/label_formatter_utils_unittest.cc
 components/autofill/core/browser/ui/mobile_label_formatter_unittest.cc
-components/autofill/core/browser/ui/suggestion_selection.cc
 components/autofill/core/browser/webdata/autofill_profile_sync_bridge.h
 components/autofill/core/browser/webdata/autofill_table.h
 components/autofill/core/browser/webdata/autofill_wallet_usage_data_sync_bridge_unittest.cc
@@ -2438,13 +2428,15 @@ components/certificate_transparency/chrome_ct_policy_enforcer.cc
 components/certificate_transparency/chrome_require_ct_delegate.h
 components/certificate_transparency/chrome_require_ct_delegate_unittest.cc
 components/certificate_transparency/data/log_list.json
-components/chrome_cleaner/public/constants/constants.h
 components/cloud_devices/common/cloud_device_description.h
 components/cloud_devices/common/printer_description.h
 components/commerce/core/account_checker.cc
 components/commerce/core/account_checker_unittest.cc
+components/commerce/core/commerce_constants.cc
 components/commerce/core/commerce_feature_list.h
 components/commerce/core/heuristics/resources/cart_domain_cart_url_regex.json
+components/commerce/core/parcel/parcels_server_proxy.cc
+components/commerce/core/parcel/parcels_server_proxy_unittest.cc
 components/commerce/core/subscriptions/subscriptions_manager_unittest.cc
 components/commerce/core/subscriptions/subscriptions_server_proxy.cc
 components/commerce/core/subscriptions/subscriptions_server_proxy_unittest.cc
@@ -2509,6 +2501,8 @@ components/drive/service/drive_api_service.cc
 components/drive/service/fake_drive_service.cc
 components/embedder_support/android/BUILD.gn
 components/endpoint_fetcher/endpoint_fetcher_unittest.cc
+components/enterprise/data_controls/attributes_condition_unittest.cc
+components/enterprise/data_controls/data_controls_policy_handler_unittest.cc
 components/error_page/common/localized_error.cc
 components/error_page_strings.grdp
 components/exo/data_offer_unittest.cc
@@ -2534,7 +2528,6 @@ components/feed/core/v2/api_test/feed_api_stream_unittest.cc
 components/feed/core/v2/feed_network_impl.cc
 components/feed/core/v2/feed_network_impl_unittest.cc
 components/feed/core/v2/public/public_types_unittest.cc
-components/feed/core/v2/resource_fetcher.cc
 components/feed/feed_feature_list.cc
 components/feedback/feedback_common.cc
 components/feedback/feedback_common_unittest.cc
@@ -2564,7 +2557,6 @@ components/history/core/browser/history_service_unittest.cc
 components/history/core/browser/history_types_unittest.cc
 components/history/core/browser/sync/delete_directive_handler_unittest.cc
 components/history/core/browser/sync/history_model_type_controller.cc
-components/history/core/browser/sync/typed_url_sync_bridge_unittest.cc
 components/history/core/browser/top_sites_database.cc
 components/history/core/browser/top_sites_database_unittest.cc
 components/history/core/browser/top_sites_impl.cc
@@ -2604,6 +2596,7 @@ components/keyed_service/core/keyed_service_base_factory.cc
 components/keyed_service/core/simple_keyed_service_factory.h
 components/lens/lens_features.cc
 components/lens/lens_url_utils_unittest.cc
+components/live_caption/greedy_text_stabilizer.h
 components/live_caption/live_translate_controller.cc
 components/login_dialog_strings.grdp
 components/lookalikes/core/lookalike_url_util.cc
@@ -2714,6 +2707,8 @@ components/optimization_guide/core/entity_metadata.cc
 components/optimization_guide/core/entity_metadata.h
 components/optimization_guide/core/hints_component_util_unittest.cc
 components/optimization_guide/core/hints_manager_unittest.cc
+components/optimization_guide/core/model_execution/model_execution_fetcher.cc
+components/optimization_guide/core/model_execution/model_execution_fetcher_unittest.cc
 components/optimization_guide/core/model_handler_unittest.cc
 components/optimization_guide/core/optimization_filter_unittest.cc
 components/optimization_guide/core/optimization_guide_constants.cc
@@ -2760,7 +2755,7 @@ components/paint_preview/renderer/paint_preview_recorder_browsertest.cc
 components/paint_preview/renderer/paint_preview_recorder_utils_unittest.cc
 components/password_manager/content/browser/content_password_manager_driver_unittest.cc
 components/password_manager/core/browser/affiliation/affiliation_utils.h
-components/password_manager/core/browser/affiliation/asset_link_data_unittest.cc
+components/password_manager/core/browser/affiliation/affiliation_utils_unittest.cc
 components/password_manager/core/browser/affiliation/hash_affiliation_fetcher.cc
 components/password_manager/core/browser/affiliation/hash_affiliation_fetcher_unittest.cc
 components/password_manager/core/browser/built_in_backend_to_android_backend_migrator_unittest.cc
@@ -2769,6 +2764,7 @@ components/password_manager/core/browser/credential_manager_logger_unittest.cc
 components/password_manager/core/browser/credential_manager_pending_request_task_unittest.cc
 components/password_manager/core/browser/credentials_cleaner_unittest.cc
 components/password_manager/core/browser/export/password_manager_exporter_unittest.cc
+components/password_manager/core/browser/features/password_manager_features_util_unittest.cc
 components/password_manager/core/browser/form_fetcher_impl_unittest.cc
 components/password_manager/core/browser/form_parsing/form_data_parser.cc
 components/password_manager/core/browser/form_parsing/form_data_parser_unittest.cc
@@ -2801,12 +2797,10 @@ components/password_manager/core/browser/password_generation_frame_helper_unitte
 components/password_manager/core/browser/password_generation_manager_unittest.cc
 components/password_manager/core/browser/password_hash_data.cc
 components/password_manager/core/browser/password_hash_data.h
-components/password_manager/core/browser/password_list_sorter_unittest.cc
 components/password_manager/core/browser/password_manager.cc
 components/password_manager/core/browser/password_manager.h
 components/password_manager/core/browser/password_manager_client_helper_unittest.cc
 components/password_manager/core/browser/password_manager_constants.cc
-components/password_manager/core/browser/password_manager_features_util_unittest.cc
 components/password_manager/core/browser/password_manager_metrics_recorder.h
 components/password_manager/core/browser/password_manager_test_utils.cc
 components/password_manager/core/browser/password_manager_unittest.cc
@@ -2826,6 +2820,7 @@ components/password_manager/core/browser/password_ui_utils.cc
 components/password_manager/core/browser/password_ui_utils_unittest.cc
 components/password_manager/core/browser/psl_matching_helper.cc
 components/password_manager/core/browser/psl_matching_helper_unittest.cc
+components/password_manager/core/browser/sharing/fake_recipients_fetcher.cc
 components/password_manager/core/browser/sharing/incoming_password_sharing_invitation_sync_bridge_unittest.cc
 components/password_manager/core/browser/sharing/password_sharing_recipients_downloader.cc
 components/password_manager/core/browser/statistics_table_unittest.cc
@@ -2841,9 +2836,11 @@ components/password_manager/core/browser/ui/passwords_grouper.h
 components/password_manager/core/browser/ui/passwords_grouper_unittest.cc
 components/password_manager/core/browser/ui/saved_passwords_presenter_unittest.cc
 components/password_manager/core/browser/unified_password_manager_proto_utils_unittest.cc
-components/password_manager/core/browser/well_known_change_password_util_unittest.cc
+components/password_manager/core/browser/well_known_change_password/well_known_change_password_state.cc
+components/password_manager/core/browser/well_known_change_password/well_known_change_password_util_unittest.cc
 components/password_manager/core/common/password_manager_pref_names.h
 components/password_manager/ios/password_form_helper_unittest.mm
+components/password_manager/ios/password_suggestion_helper_unittest.mm
 components/password_manager/ios/shared_password_controller_unittest.mm
 components/password_manager/ios/test_helpers.cc
 components/password_manager/services/csv_password/public/mojom/csv_password_parser_traits_unittest.cc
@@ -2873,6 +2870,7 @@ components/performance_manager/public/graph/worker_node.h
 components/permissions/android/permissions_android_strings.grd
 components/permissions/constants.cc
 components/permissions/object_permission_context_base_unittest.cc
+components/permissions/pepc_initiated_permission_request_unittest.cc
 components/permissions/permission_context_base.cc
 components/permissions/permission_context_base_unittest.cc
 components/permissions/permission_decision_auto_blocker_unittest.cc
@@ -2885,7 +2883,9 @@ components/permissions/prediction_service/prediction_common.h
 components/permissions/prediction_service/prediction_service_base.h
 components/permissions/test/mock_permission_request.h
 components/permissions_strings.grdp
-components/plus_addresses/plus_address_auth_token_provider_unittest.cc
+components/plus_addresses/plus_address_client.cc
+components/plus_addresses/plus_address_client_unittest.cc
+components/plus_addresses/plus_address_parser_unittest.cc
 components/policy/PRESUBMIT.py
 components/policy/core/browser/browser_policy_connector.cc
 components/policy/core/browser/configuration_policy_pref_store_unittest.cc
@@ -2947,6 +2947,7 @@ components/prefs/pref_change_registrar.cc
 components/prefs/pref_change_registrar_unittest.cc
 components/prefs/pref_service_unittest.cc
 components/printing/renderer/print_render_frame_helper.cc
+components/privacy_sandbox/privacy_sandbox_settings_impl_unittest.cc
 components/privacy_sandbox_strings.grdp
 components/protocol_handler_strings.grdp
 components/proxy_config/pref_proxy_config_tracker_impl_unittest.cc
@@ -3125,7 +3126,6 @@ components/signin/core/browser/signin_header_helper_unittest.cc
 components/signin/internal/identity_manager/account_capabilities_fetcher_unittest.cc
 components/signin/internal/identity_manager/account_tracker_service_unittest.cc
 components/signin/internal/identity_manager/gaia_cookie_manager_service.cc
-components/signin/internal/identity_manager/mutable_profile_oauth2_token_service_delegate_unittest.cc
 components/signin/internal/identity_manager/oauth_multilogin_helper_unittest.cc
 components/signin/internal/identity_manager/primary_account_manager_unittest.cc
 components/signin/internal/identity_manager/profile_oauth2_token_service_delegate_android.cc
@@ -3197,6 +3197,7 @@ components/sync_bookmarks/PRESUBMIT.py
 components/sync_preferences/pref_service_syncable_unittest.cc
 components/sync_sessions/PRESUBMIT.py
 components/sync_sessions/session_sync_bridge.h
+components/tpcd/metadata/parser_unittest.cc
 components/tracing/common/graphics_memory_dump_provider_android.h
 components/translate/core/browser/translate_language_list_unittest.cc
 components/translate/core/browser/translate_ranker_impl.cc
@@ -3264,10 +3265,12 @@ components/viz/service/display/overlay_candidate.h
 components/viz/service/display/overlay_processor_using_strategy.cc
 components/viz/service/display_embedder/skia_output_surface_impl_on_gpu.cc
 components/viz/service/display_embedder/skia_render_copy_results.cc
+components/webapps/browser/android/add_to_homescreen_data_fetcher_unittest.cc
 components/webapps/browser/android/java/res/values/dimens.xml
 components/webapps/browser/android/shortcut_info.cc
 components/webapps/browser/android/webapk/webapk_icon_hasher_unittest.cc
 components/webapps/browser/banners/app_banner_settings_helper_unittest.cc
+components/webapps/browser/installable/installable_evaluator_unittest.cc
 components/webdata/common/PRESUBMIT.py
 components/webxr/android/arcore_install_helper.cc
 components/webxr/android/arcore_install_helper.h
@@ -3326,7 +3329,6 @@ content/browser/fenced_frame/fenced_frame_reporter.cc
 content/browser/fenced_frame/fenced_frame_unittest.cc
 content/browser/file_system/browser_file_system_helper_unittest.cc
 content/browser/file_system_access/file_system_access_observer_observation.h
-content/browser/file_system_access/file_system_access_watcher_manager_unittest.cc
 content/browser/font_access/font_enumeration_cache.cc
 content/browser/font_access/font_enumeration_data_source_win.cc
 content/browser/font_unique_name_lookup/font_unique_name_lookup_unittest.cc
@@ -3367,6 +3369,7 @@ content/browser/permissions/permission_service_context_unittest.cc
 content/browser/plugin_service_impl_browsertest.cc
 content/browser/portal/portal_navigation_throttle.cc
 content/browser/preloading/prefetch/prefetch_status.h
+content/browser/preloading/prefetch/prefetch_url_loader_interceptor.cc
 content/browser/preloading/preloading_decider_unittest.cc
 content/browser/preloading/prerender/prerender_browsertest.cc
 content/browser/preloading/prerender/prerender_final_status.h
@@ -3451,6 +3454,7 @@ content/browser/webid/idp_network_request_manager_unittest.cc
 content/browser/webrtc/resources/webrtc_internals.html
 content/browser/zygote_host/zygote_host_impl_linux.cc
 content/child/runtime_features.cc
+content/common/features.cc
 content/common/service_worker/race_network_request_url_loader_client.cc
 content/common/webid/identity_url_loader_throttle_unittest.cc
 content/common/zygote/zygote_communication_linux.h
@@ -3515,7 +3519,7 @@ content/test/gpu/flake_suppressor/gpu_results_unittest.py
 content/test/gpu/gather_power_measurement_results.py
 content/test/gpu/gather_swarming_json_results.py
 content/test/gpu/gpu_tests/power_measurement_integration_test.py
-content/test/gpu/gpu_tests/webgpu_cts_integration_test.py
+content/test/gpu/gpu_tests/webgpu_cts_integration_test_base.py
 content/test/gpu/measure_power_intel.py
 content/test/gpu/power_measurement_results/analyze_power_measurement_results.py
 content/test/gpu/suppress_flakes.py
@@ -3656,7 +3660,6 @@ extensions/common/extension_urls.h
 extensions/common/file_util_unittest.cc
 extensions/common/manifest_constants.cc
 extensions/common/manifest_handlers/content_capabilities_manifest_unittest.cc
-extensions/common/manifest_handlers/content_scripts_handler.cc
 extensions/common/manifest_handlers/csp_info_unittest.cc
 extensions/common/manifest_handlers/externally_connectable_unittest.cc
 extensions/common/manifest_handlers/oauth2_manifest_unittest.cc
@@ -3675,6 +3678,7 @@ extensions/common/url_pattern_set.h
 extensions/common/url_pattern_set_unittest.cc
 extensions/common/url_pattern_unittest.cc
 extensions/common/user_script_unittest.cc
+extensions/common/utils/content_script_utils.cc
 extensions/renderer/api/runtime_hooks_delegate_unittest.cc
 extensions/renderer/bindings/listener_tracker_unittest.cc
 extensions/renderer/extension_throttle_unittest.cc
@@ -3741,6 +3745,7 @@ google_apis/google_api_keys.cc
 google_apis/google_api_keys.h
 google_apis/tasks/tasks_api_requests.h
 google_apis/tasks/tasks_api_response_types.h
+google_apis/tasks/tasks_api_task_status.h
 google_apis/tasks/tasks_api_url_generator_utils.h
 google_apis/tasks/tasks_api_url_generator_utils_unittest.cc
 google_apis/test/data/calendar/event_self_response_statuses.json
@@ -3803,10 +3808,10 @@ ios/chrome/browser/app_launcher/model/app_launcher_tab_helper_unittest.mm
 ios/chrome/browser/autofill/automation/automation_action.mm
 ios/chrome/browser/autofill/form_suggestion_controller_unittest.mm
 ios/chrome/browser/autofill/manual_fill/passwords_fetcher_unittest.mm
-ios/chrome/browser/browser_state/chrome_browser_state_impl.h
-ios/chrome/browser/commerce/shopping_persisted_data_tab_helper_unittest.mm
-ios/chrome/browser/crash_report/breadcrumbs/breadcrumb_manager_tab_helper_unittest.mm
-ios/chrome/browser/credential_provider/credential_provider_service_unittest.mm
+ios/chrome/browser/browser_state/model/chrome_browser_state_impl.h
+ios/chrome/browser/commerce/model/shopping_persisted_data_tab_helper_unittest.mm
+ios/chrome/browser/crash_report/model/breadcrumbs/breadcrumb_manager_tab_helper_unittest.mm
+ios/chrome/browser/credential_provider/model/credential_provider_service_unittest.mm
 ios/chrome/browser/download/ar_quick_look_tab_helper_unittest.mm
 ios/chrome/browser/flags/about_flags.mm
 ios/chrome/browser/history/history_tab_helper_unittest.mm
@@ -3834,7 +3839,7 @@ ios/chrome/browser/search_engines/search_engine_tab_helper.h
 ios/chrome/browser/search_engines/search_engine_tab_helper.mm
 ios/chrome/browser/shared/coordinator/scene/scene_controller.mm
 ios/chrome/browser/shared/model/url/chrome_url_constants.cc
-ios/chrome/browser/shared/model/web_state_list/web_state_list_order_controller_unittest.mm
+ios/chrome/browser/shared/model/web_state_list/order_controller_source_from_web_state_list_unittest.mm
 ios/chrome/browser/shared/model/web_state_list/web_state_list_unittest.mm
 ios/chrome/browser/shared/ui/table_view/cells/table_view_detail_icon_item_unittest.mm
 ios/chrome/browser/shared/ui/table_view/cells/table_view_url_item_unittest.mm
@@ -3879,6 +3884,7 @@ ios/chrome/browser/ui/link_to_text/link_to_text_mediator_unittest.mm
 ios/chrome/browser/ui/location_bar/location_bar_coordinator_unittest.mm
 ios/chrome/browser/ui/ntp/discover_feed_constants.mm
 ios/chrome/browser/ui/ntp/incognito/incognito_view_util.mm
+ios/chrome/browser/ui/ntp/new_tab_page_coordinator_unittest.mm
 ios/chrome/browser/ui/ntp/new_tab_page_mediator.mm
 ios/chrome/browser/ui/ntp/new_tab_page_mediator_unittest.mm
 ios/chrome/browser/ui/omnibox/omnibox_egtest.mm
@@ -3893,6 +3899,7 @@ ios/chrome/browser/ui/qr_scanner/qr_scanner_app_interface.mm
 ios/chrome/browser/ui/reading_list/reading_list_list_item_factory_unittest.mm
 ios/chrome/browser/ui/reading_list/reading_list_mediator_unittest.mm
 ios/chrome/browser/ui/reading_list/reading_list_table_view_item_unittest.mm
+ios/chrome/browser/ui/save_to_photos/save_to_photos_mediator.mm
 ios/chrome/browser/ui/settings/autofill/autofill_profile_settings_egtest.mm
 ios/chrome/browser/ui/settings/cells/search_engine_item.h
 ios/chrome/browser/ui/settings/cells/search_engine_item_unittest.mm
@@ -3914,9 +3921,11 @@ ios/chrome/browser/ui/settings/password/password_manager_view_controller_unittes
 ios/chrome/browser/ui/settings/password/password_sharing/family_picker_view_controller_unittest.mm
 ios/chrome/browser/ui/settings/password/password_sharing/password_picker_view_controller_unittest.mm
 ios/chrome/browser/ui/settings/password/password_sharing/password_sharing_constants.mm
+ios/chrome/browser/ui/settings/password/password_sharing/password_sharing_egtest.mm
 ios/chrome/browser/ui/settings/password/passwords_mediator_unittest.mm
 ios/chrome/browser/ui/settings/safety_check/safety_check_mediator_unittest.mm
 ios/chrome/browser/ui/settings/settings_app_interface.mm
+ios/chrome/browser/ui/settings/supervised_user_settings_app_interface.mm
 ios/chrome/browser/ui/settings/table_cell_catalog_view_controller.mm
 ios/chrome/browser/ui/settings/translate_table_view_controller.mm
 ios/chrome/browser/ui/sharing/activity_services/activities/copy_activity_unittest.mm
@@ -3935,7 +3944,6 @@ ios/chrome/browser/ui/whats_new/data_source/resources/calendar_event_darkmode.js
 ios/chrome/browser/url_loading/image_search_param_generator_unittest.mm
 ios/chrome/browser/web/chrome_web_client_unittest.mm
 ios/chrome/browser/web/font_size/font_size_tab_helper_unittest.mm
-ios/chrome/browser/web_state_list/web_state_list_removing_indexes_unittest.mm
 ios/chrome/browser/web_state_list/web_usage_enabler/web_usage_enabler_browser_agent_unittest.mm
 ios/chrome/common/ns_regular_expression_unittest.mm
 ios/chrome/common/string_util_unittest.mm
@@ -4042,6 +4050,7 @@ media/capture/video/win/video_capture_device_utils_win.cc
 media/capture/video/win/video_capture_device_utils_win.h
 media/capture/video/win/video_capture_device_win.cc
 media/cast/sender/openscreen_frame_sender.h
+media/cast/sender/video_bitrate_suggester.h
 media/cdm/win/media_foundation_cdm.cc
 media/cdm/win/test/media_foundation_clear_key_decryptor.cc
 media/cdm/win/test/mock_media_protection_pmp_server.h
@@ -4058,6 +4067,7 @@ media/gpu/android/android_video_encode_accelerator.h
 media/gpu/android/ndk_video_encode_accelerator.cc
 media/gpu/android/video_accelerator_util.h
 media/gpu/buffer_validation_unittest.cc
+media/gpu/chromeos/shaders/PRESUBMIT.py
 media/gpu/gpu_video_encode_accelerator_helpers.cc
 media/gpu/macros.h
 media/gpu/test/video_encoder/video_encoder_client.cc
@@ -4067,6 +4077,7 @@ media/gpu/v4l2/mt21/mt21_util.h
 media/gpu/v4l2/test/av1_decoder.cc
 media/gpu/v4l2/test/v4l2_unittest.cc
 media/gpu/v4l2/test/video_decoder.cc
+media/gpu/v4l2/v4l2_stateful_video_decoder.cc
 media/gpu/v4l2/v4l2_video_decoder_delegate_av1.cc
 media/gpu/vaapi/test/av1_decoder.cc
 media/gpu/vaapi/test/vp8_decoder.cc
@@ -4417,7 +4428,6 @@ net/android/unittest_support/AndroidManifest.xml
 net/base/address_tracker_linux.cc
 net/base/data_url.cc
 net/base/features.cc
-net/base/features.h
 net/base/file_stream_context.h
 net/base/filename_util.cc
 net/base/filename_util_internal.cc
@@ -4432,7 +4442,6 @@ net/base/network_change_notifier_win.cc
 net/base/network_interfaces_getifaddrs_android.cc
 net/base/network_interfaces_linux.cc
 net/base/network_interfaces_win.cc
-net/base/proxy_string_util.h
 net/base/registry_controlled_domains/registry_controlled_domain.cc
 net/base/registry_controlled_domains/registry_controlled_domain.h
 net/base/registry_controlled_domains/registry_controlled_domain_unittest.cc
@@ -4615,7 +4624,6 @@ net/third_party/mozilla_win/cert/win_util.h
 net/third_party/nss/ssl/cmpcert.cc
 net/third_party/nss/ssl/cmpcert.h
 net/third_party/quiche/BUILD.gn
-net/third_party/quiche/src/quiche/blind_sign_auth/anonymous_tokens/cpp/shared/proto_utils.h
 net/third_party/quiche/src/quiche/common/platform/api/quiche_hostname_utils_test.cc
 net/third_party/quiche/src/quiche/quic/core/crypto/client_proof_source_test.cc
 net/third_party/quiche/src/quiche/quic/core/crypto/quic_crypto_client_config.h
@@ -4920,9 +4928,9 @@ testing/buildbot/chromium.webrtc.json
 testing/buildbot/filters/PRESUBMIT.py
 testing/buildbot/generate_buildbot_json.py
 testing/buildbot/generate_buildbot_json_unittest.py
+testing/buildbot/internal.optimization_guide.json
 testing/buildbot/query_optimal_shard_counts.py
 testing/buildbot/scripts/upload_test_result_artifacts.py
-testing/buildbot/test_suites.pyl
 testing/buildbot/tryserver.chromium.android.json
 testing/buildbot/unittest_expectations/test_android_output_options/chromium.test.json
 testing/buildbot/unittest_expectations/test_isolated_script_tests_android/chromium.test.json
@@ -5020,39 +5028,27 @@ third_party/android_build_tools/manifest_merger/3pp/install.py
 third_party/android_deps/libs/android_arch_core_common/3pp/fetch.py
 third_party/android_deps/libs/android_arch_core_runtime/3pp/fetch.py
 third_party/android_deps/libs/android_arch_lifecycle_common/3pp/fetch.py
-third_party/android_deps/libs/android_arch_lifecycle_common_java8/3pp/fetch.py
 third_party/android_deps/libs/android_arch_lifecycle_livedata/3pp/fetch.py
 third_party/android_deps/libs/android_arch_lifecycle_livedata_core/3pp/fetch.py
 third_party/android_deps/libs/android_arch_lifecycle_runtime/3pp/fetch.py
 third_party/android_deps/libs/android_arch_lifecycle_viewmodel/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_animated_vector_drawable/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_appcompat_v7/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_asynclayoutinflater/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_cardview_v7/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_collections/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_coordinatorlayout/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_cursoradapter/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_customview/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_design/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_documentfile/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_drawerlayout/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_interpolator/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_loader/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_localbroadcastmanager/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_multidex/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_print/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_recyclerview_v7/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_slidingpanelayout/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_support_annotations/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_support_compat/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_support_core_ui/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_support_core_utils/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_fragment/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_media_compat/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_v4/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_support_vector_drawable/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_swiperefreshlayout/3pp/fetch.py
-third_party/android_deps/libs/com_android_support_transition/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_versionedparcelable/3pp/fetch.py
 third_party/android_deps/libs/com_android_support_viewpager/3pp/fetch.py
 third_party/android_deps/libs/com_android_tools_common/3pp/fetch.py
@@ -5097,6 +5093,8 @@ third_party/android_deps/libs/com_google_firebase_firebase_messaging/3pp/fetch.p
 third_party/android_deps/licenses/Android_SDK_License-December_9_2016.txt
 third_party/android_platform/development/scripts/PRESUBMIT.py
 third_party/android_platform/development/scripts/stack.py
+third_party/android_toolchain/3pp/fetch.py
+third_party/android_toolchain_canary/3pp/fetch.py
 third_party/androidx/fetch_all_androidx.py
 third_party/angle/BUILD.gn
 third_party/angle/PRESUBMIT.py
@@ -5205,7 +5203,6 @@ third_party/angle/src/libANGLE/capture/FrameCapture.cpp
 third_party/angle/src/libANGLE/gen_extensions.py
 third_party/angle/src/libANGLE/renderer/SurfaceImpl.h
 third_party/angle/src/libANGLE/renderer/d3d/IndexDataManager.cpp
-third_party/angle/src/libANGLE/renderer/d3d/ProgramD3D.cpp
 third_party/angle/src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp
 third_party/angle/src/libANGLE/renderer/d3d/d3d11/Fence11.cpp
 third_party/angle/src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp
@@ -5216,6 +5213,7 @@ third_party/angle/src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp
 third_party/angle/src/libANGLE/renderer/d3d/d3d9/Renderer9.cpp
 third_party/angle/src/libANGLE/renderer/d3d/d3d9/renderer9_utils.cpp
 third_party/angle/src/libANGLE/renderer/gen_dxgi_support_tables.py
+third_party/angle/src/libANGLE/renderer/gl/renderergl_utils.cpp
 third_party/angle/src/libANGLE/renderer/renderer_utils.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/CommandProcessor.cpp
 third_party/angle/src/libANGLE/renderer/vulkan/ContextVk.h
@@ -5233,11 +5231,13 @@ third_party/angle/src/libANGLE/renderer/vulkan/vk_format_utils.h
 third_party/angle/src/libANGLE/renderer/vulkan/vk_helpers.cpp
 third_party/angle/src/libANGLE/validationEGL.cpp
 third_party/angle/src/libANGLE/validationES.cpp
+third_party/angle/src/libGLESv2/egl_stubs.cpp
 third_party/angle/src/libGLESv2/global_state.cpp
 third_party/angle/src/program_serialize_data_version.py
 third_party/angle/src/tests/deqp_support/deqp_egl_test_expectations.txt
 third_party/angle/src/tests/egl_tests/EGLContextSharingTest.cpp
 third_party/angle/src/tests/egl_tests/EGLIOSurfaceClientBufferTest.cpp
+third_party/angle/src/tests/egl_tests/EGLSurfaceTest.cpp
 third_party/angle/src/tests/gl_tests/BufferDataTest.cpp
 third_party/angle/src/tests/gl_tests/FramebufferTest.cpp
 third_party/angle/src/tests/gl_tests/GLSLTest.cpp
@@ -5529,6 +5529,7 @@ third_party/blink/renderer/core/dom/node_iterator_base.h
 third_party/blink/renderer/core/dom/node_list.idl
 third_party/blink/renderer/core/dom/node_lists_node_data.h
 third_party/blink/renderer/core/dom/node_rare_data.h
+third_party/blink/renderer/core/dom/observable.h
 third_party/blink/renderer/core/dom/processing_instruction.idl
 third_party/blink/renderer/core/dom/range.cc
 third_party/blink/renderer/core/dom/range.idl
@@ -5570,6 +5571,7 @@ third_party/blink/renderer/core/events/wheel_event.idl
 third_party/blink/renderer/core/execution_context/navigator_base.cc
 third_party/blink/renderer/core/exported/web_plugin_container_impl.cc
 third_party/blink/renderer/core/exported/web_searchable_form_data.cc
+third_party/blink/renderer/core/fetch/fetch_manager.cc
 third_party/blink/renderer/core/fetch/response.h
 third_party/blink/renderer/core/fileapi/file_reader_client.h
 third_party/blink/renderer/core/fragment_directive/text_fragment_anchor_metrics_test.cc
@@ -5692,7 +5694,6 @@ third_party/blink/renderer/core/layout/ng/inline/ng_offset_mapping_builder.h
 third_party/blink/renderer/core/layout/ng/inline/ng_score_line_breaker.cc
 third_party/blink/renderer/core/layout/ng/inline/ng_score_line_breaker.h
 third_party/blink/renderer/core/layout/ng/ng_block_node.cc
-third_party/blink/renderer/core/layout/ng/ng_column_layout_algorithm.h
 third_party/blink/renderer/core/layout/ng/ng_length_utils.cc
 third_party/blink/renderer/core/layout/scroll_anchor_test.cc
 third_party/blink/renderer/core/layout/svg/layout_svg_path.cc
@@ -5720,8 +5721,6 @@ third_party/blink/renderer/core/loader/subresource_filter.cc
 third_party/blink/renderer/core/loader/web_bundle/script_web_bundle.cc
 third_party/blink/renderer/core/page/print_context_test.cc
 third_party/blink/renderer/core/page/scrolling/element_fragment_anchor_test.cc
-third_party/blink/renderer/core/page/scrolling/scroll_state.idl
-third_party/blink/renderer/core/page/scrolling/scroll_state_init.idl
 third_party/blink/renderer/core/page/validation_message_client_impl.cc
 third_party/blink/renderer/core/paint/box_painter_base.h
 third_party/blink/renderer/core/paint/compositing/compositing_reason_finder.cc
@@ -5825,6 +5824,7 @@ third_party/blink/renderer/modules/gamepad/gamepad_button_event_init.idl
 third_party/blink/renderer/modules/gamepad/gamepad_effect_parameters.idl
 third_party/blink/renderer/modules/geolocation/geolocation.cc
 third_party/blink/renderer/modules/geolocation/geolocation.h
+third_party/blink/renderer/modules/hid/hid.cc
 third_party/blink/renderer/modules/indexeddb/idb_value_wrapping.cc
 third_party/blink/renderer/modules/manifest/fuzzer_seed_corpus/play_app_url_manifest.json
 third_party/blink/renderer/modules/media_capabilities/media_capabilities.cc
@@ -5856,6 +5856,7 @@ third_party/blink/renderer/modules/webmidi/navigator_web_midi.cc
 third_party/blink/renderer/modules/websockets/websocket_channel_impl.cc
 third_party/blink/renderer/modules/websockets/websocket_stream.h
 third_party/blink/renderer/modules/webtransport/web_transport_test.cc
+third_party/blink/renderer/modules/webusb/usb.cc
 third_party/blink/renderer/modules/xr/xr_session.h
 third_party/blink/renderer/modules/xr/xr_system.cc
 third_party/blink/renderer/platform/PRESUBMIT.py
@@ -5876,7 +5877,7 @@ third_party/blink/renderer/platform/fonts/opentype/open_type_vertical_data.cc
 third_party/blink/renderer/platform/fonts/opentype/open_type_vertical_data.h
 third_party/blink/renderer/platform/fonts/opentype/open_type_vertical_data_test.cc
 third_party/blink/renderer/platform/fonts/script_run_iterator.cc
-third_party/blink/renderer/platform/fonts/shaping/east_asian_spacing.h
+third_party/blink/renderer/platform/fonts/shaping/han_kerning.h
 third_party/blink/renderer/platform/fonts/shaping/harfbuzz_shaper.cc
 third_party/blink/renderer/platform/fonts/shaping/shape_result.cc
 third_party/blink/renderer/platform/fonts/shaping/shape_result_view.cc
@@ -5999,13 +6000,15 @@ third_party/boringssl/src/pki/testdata/parse_certificate_unittest/v3_certificate
 third_party/boringssl/src/pki/testdata/test_certificate_data.h
 third_party/boringssl/src/pki/verify_certificate_chain.cc
 third_party/boringssl/src/ssl/ssl_test.cc
-third_party/boringssl/src/third_party/googletest/include/gtest/gtest_pred_impl.h
-third_party/boringssl/src/third_party/googletest/include/gtest/internal/gtest-port.h
-third_party/boringssl/src/third_party/googletest/src/gtest-death-test.cc
-third_party/boringssl/src/third_party/googletest/src/gtest.cc
-third_party/boringssl/src/third_party/googletest/test/googletest-death-test-test.cc
-third_party/boringssl/src/third_party/googletest/test/gtest_list_output_unittest_.cc
-third_party/boringssl/src/third_party/googletest/test/gtest_skip_test.cc
+third_party/boringssl/src/third_party/googletest/docs/_layouts/default.html
+third_party/boringssl/src/third_party/googletest/googlemock/src/gmock_main.cc
+third_party/boringssl/src/third_party/googletest/googletest/include/gtest/gtest_pred_impl.h
+third_party/boringssl/src/third_party/googletest/googletest/include/gtest/internal/gtest-port.h
+third_party/boringssl/src/third_party/googletest/googletest/src/gtest-death-test.cc
+third_party/boringssl/src/third_party/googletest/googletest/src/gtest.cc
+third_party/boringssl/src/third_party/googletest/googletest/test/googletest-death-test-test.cc
+third_party/boringssl/src/third_party/googletest/googletest/test/gtest_list_output_unittest_.cc
+third_party/boringssl/src/third_party/googletest/googletest/test/gtest_skip_test.cc
 third_party/boringssl/src/tool/fd.cc
 third_party/boringssl/src/tool/internal.h
 third_party/boringssl/src/util/bot/go/env.py
@@ -7590,6 +7593,8 @@ third_party/crashpad/crashpad/util/win/safe_terminate_process_test.cc
 third_party/crashpad/crashpad/util/win/xp_compat.h
 third_party/crashpad/update.py
 third_party/cros-components/src/sidenav/sidenav.ts
+third_party/cros-components/src/textfield/textfield.ts
+third_party/cros-components/src/tooltip/tooltip.ts
 third_party/cros_system_api/dbus/bluetooth/dbus-constants.h
 third_party/cros_system_api/dbus/shill/dbus-constants.h
 third_party/crossbench/chrome-extension-replay/devtools-recorder/crossbench.html
@@ -7643,6 +7648,7 @@ third_party/dawn/src/dawn/native/d3d12/ResourceAllocatorManagerD3D12.h
 third_party/dawn/src/dawn/native/d3d12/SamplerD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/SharedTextureMemoryD3D12.cpp
 third_party/dawn/src/dawn/native/d3d12/TextureD3D12.cpp
+third_party/dawn/src/dawn/native/metal/QueueMTL.h
 third_party/dawn/src/dawn/native/opengl/BackendGL.cpp
 third_party/dawn/src/dawn/native/opengl/CommandBufferGL.cpp
 third_party/dawn/src/dawn/native/opengl/TextureGL.cpp
@@ -7781,6 +7787,8 @@ third_party/dawn/third_party/glfw/src/wl_platform.h
 third_party/dawn/third_party/glfw/src/wl_window.c
 third_party/dawn/third_party/glfw/src/xkb_unicode.h
 third_party/dawn/third_party/glfw/tests/triangle-vulkan.c
+third_party/dawn/third_party/gn/dxc/build/message_compiler.gni
+third_party/dawn/third_party/gn/dxc/build/message_compiler.py
 third_party/dawn/third_party/khronos/EGL-Registry/extensions/ANDROID/EGL_ANDROID_GLES_layers.txt
 third_party/dawn/third_party/khronos/EGL-Registry/extensions/ANDROID/EGL_ANDROID_blob_cache.txt
 third_party/dawn/third_party/khronos/EGL-Registry/extensions/ANDROID/EGL_ANDROID_create_native_client_buffer.txt
@@ -7835,6 +7843,7 @@ third_party/dawn/third_party/khronos/OpenGL-Registry/xml/vendors.txt
 third_party/dawn/third_party/webgpu-cts/src/webgpu/api/operation/command_buffer/queries/occlusionQuery.spec.ts
 third_party/dawn/third_party/webgpu-cts/src/webgpu/api/operation/render_pipeline/sample_mask.spec.ts
 third_party/dawn/third_party/webgpu-cts/src/webgpu/api/operation/rendering/depth_bias.spec.ts
+third_party/dawn/third_party/webgpu-cts/src/webgpu/api/operation/sampling/filter_mode.spec.ts
 third_party/dawn/third_party/webgpu-cts/standalone/index.html
 third_party/dawn/tools/src/cmd/cts/config.json
 third_party/depot_tools/PRESUBMIT.py
@@ -8141,6 +8150,7 @@ third_party/devtools-frontend/src/front_end/models/issues_manager/HeavyAdIssue.t
 third_party/devtools-frontend/src/front_end/models/issues_manager/SharedArrayBufferIssue.ts
 third_party/devtools-frontend/src/front_end/models/persistence/NetworkPersistenceManager.ts
 third_party/devtools-frontend/src/front_end/models/timeline_model/TimelineModel.ts
+third_party/devtools-frontend/src/front_end/models/trace/handlers/MetaHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/UserInteractionsHandler.ts
 third_party/devtools-frontend/src/front_end/models/trace/handlers/UserTimingsHandler.ts
 third_party/devtools-frontend/src/front_end/panels/accessibility/AccessibilityNodeView.ts
@@ -8150,6 +8160,7 @@ third_party/devtools-frontend/src/front_end/panels/application/ApplicationPanelS
 third_party/devtools-frontend/src/front_end/panels/application/BackgroundServiceView.ts
 third_party/devtools-frontend/src/front_end/panels/application/InterestGroupTreeElement.ts
 third_party/devtools-frontend/src/front_end/panels/application/ReportingApiReportsView.ts
+third_party/devtools-frontend/src/front_end/panels/application/ResourcesPanel.ts
 third_party/devtools-frontend/src/front_end/panels/application/ServiceWorkerCacheTreeElement.ts
 third_party/devtools-frontend/src/front_end/panels/application/StorageView.ts
 third_party/devtools-frontend/src/front_end/panels/application/components/BackForwardCacheStrings.ts
@@ -8194,6 +8205,7 @@ third_party/devtools-frontend/src/front_end/panels/timeline/EventUICategory.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/ThreadAppender.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/TimelinePanel.ts
 third_party/devtools-frontend/src/front_end/panels/timeline/TimelineUIUtils.ts
+third_party/devtools-frontend/src/front_end/panels/timeline/components/DetailsView.ts
 third_party/devtools-frontend/src/front_end/panels/webauthn/WebauthnPane.ts
 third_party/devtools-frontend/src/front_end/services/tracing/PerformanceTracing.ts
 third_party/devtools-frontend/src/front_end/third_party/acorn/package/dist/acorn.js
@@ -8264,6 +8276,7 @@ third_party/devtools-frontend/src/front_end/third_party/lodash-isequal/package/p
 third_party/devtools-frontend/src/front_end/third_party/puppeteer-replay/package/lib/main.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer-replay/package/package.json
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/Browser.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/BrowserContext.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/ElementHandle.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/ElementHandle.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/Frame.d.ts
@@ -8276,31 +8289,30 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cj
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/Page.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/Target.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/api/Target.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/FirefoxTargetManager.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/FirefoxTargetManager.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/Input.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/Tracing.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/Tracing.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/WebWorker.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/cdp/WebWorker.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Configuration.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/CustomQueryHandler.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Device.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Device.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/ExecutionContext.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/ExecutionContext.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/FileChooser.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/FileChooser.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/FirefoxTargetManager.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Input.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/PredefinedNetworkConditions.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/PredefinedNetworkConditions.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/PuppeteerViewport.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/QueryHandler.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/QueryHandler.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Tracing.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Tracing.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/WebWorker.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/WebWorker.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/common/Viewport.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/node/ChromeLauncher.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/cjs/puppeteer/node/PuppeteerNode.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/Browser.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/BrowserContext.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/ElementHandle.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/ElementHandle.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/Frame.d.ts
@@ -8313,51 +8325,49 @@ third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/es
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/Page.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/Target.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/api/Target.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/FirefoxTargetManager.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/FirefoxTargetManager.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/Input.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/Tracing.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/Tracing.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/WebWorker.d.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/cdp/WebWorker.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Configuration.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/CustomQueryHandler.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Device.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Device.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/ExecutionContext.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/ExecutionContext.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/FileChooser.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/FileChooser.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/FirefoxTargetManager.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Input.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/PredefinedNetworkConditions.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/PredefinedNetworkConditions.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/PuppeteerViewport.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/QueryHandler.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/QueryHandler.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Tracing.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Tracing.js
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/WebWorker.d.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/WebWorker.js
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/common/Viewport.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/node/ChromeLauncher.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/esm/puppeteer/node/PuppeteerNode.js
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/lib/types.d.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Browser.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/BrowserContext.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/ElementHandle.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Frame.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/HTTPRequest.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Input.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Page.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/api/Target.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/FirefoxTargetManager.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/Input.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/NetworkManager.test.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/PredefinedNetworkConditions.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/Tracing.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/cdp/WebWorker.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/Configuration.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/CustomQueryHandler.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/Device.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/ExecutionContext.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/FileChooser.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/FirefoxTargetManager.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/Input.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/NetworkManager.test.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/PredefinedNetworkConditions.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/PuppeteerViewport.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/QueryHandler.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/Tracing.ts
-third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/WebWorker.ts
+third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/common/Viewport.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/ChromeLauncher.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/LaunchOptions.ts
 third_party/devtools-frontend/src/front_end/third_party/puppeteer/package/src/node/PuppeteerNode.ts
@@ -8873,6 +8883,7 @@ third_party/devtools-frontend/src/node_modules/proxy-agent/node_modules/debug/pa
 third_party/devtools-frontend/src/node_modules/proxy-agent/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/pump/package.json
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/Browser.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/BrowserContext.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/ElementHandle.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/ElementHandle.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/Frame.d.ts
@@ -8885,31 +8896,30 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/Page.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/Target.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/api/Target.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/FirefoxTargetManager.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/FirefoxTargetManager.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/Input.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/PredefinedNetworkConditions.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/Tracing.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/Tracing.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/WebWorker.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/cdp/WebWorker.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Configuration.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/CustomQueryHandler.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Device.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Device.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/ExecutionContext.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/ExecutionContext.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/FileChooser.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/FileChooser.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/FirefoxTargetManager.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Input.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/PredefinedNetworkConditions.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/PredefinedNetworkConditions.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/PuppeteerViewport.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/QueryHandler.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/QueryHandler.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Tracing.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Tracing.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/WebWorker.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/WebWorker.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Viewport.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/ChromeLauncher.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/PuppeteerNode.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/cjs/puppeteer/node/PuppeteerNode.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Browser.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/BrowserContext.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.d.ts
@@ -8922,26 +8932,24 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Target.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/api/Target.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/FirefoxTargetManager.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/FirefoxTargetManager.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/Input.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/PredefinedNetworkConditions.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/Tracing.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/Tracing.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/WebWorker.d.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/cdp/WebWorker.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Configuration.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/CustomQueryHandler.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Device.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Device.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/ExecutionContext.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/ExecutionContext.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/FileChooser.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/FileChooser.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/FirefoxTargetManager.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/FirefoxTargetManager.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Input.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/PredefinedNetworkConditions.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/PredefinedNetworkConditions.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/PuppeteerViewport.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/QueryHandler.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/QueryHandler.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Tracing.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Tracing.js
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/WebWorker.d.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/WebWorker.js
+third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/common/Viewport.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/ChromeLauncher.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/LaunchOptions.d.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/lib/esm/puppeteer/node/PuppeteerNode.d.ts
@@ -8951,25 +8959,25 @@ third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug
 third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/debug/src/browser.js
 third_party/devtools-frontend/src/node_modules/puppeteer-core/node_modules/ws/package.json
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Browser.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/BrowserContext.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/ElementHandle.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Frame.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/HTTPRequest.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Input.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Page.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/api/Target.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/FirefoxTargetManager.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/Input.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/NetworkManager.test.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/PredefinedNetworkConditions.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/Tracing.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/cdp/WebWorker.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/Configuration.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/CustomQueryHandler.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/Device.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/ExecutionContext.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/FileChooser.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/FirefoxTargetManager.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/Input.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/NetworkManager.test.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/PredefinedNetworkConditions.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/PuppeteerViewport.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/QueryHandler.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/Tracing.ts
-third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/WebWorker.ts
+third_party/devtools-frontend/src/node_modules/puppeteer-core/src/common/Viewport.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/ChromeLauncher.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/LaunchOptions.ts
 third_party/devtools-frontend/src/node_modules/puppeteer-core/src/node/PuppeteerNode.ts
@@ -9509,12 +9517,6 @@ third_party/eigen3/src/Eigen/src/misc/Image.h
 third_party/eigen3/src/Eigen/src/misc/Kernel.h
 third_party/eigen3/src/Eigen/src/misc/RealSvd2x2.h
 third_party/eigen3/src/Eigen/src/misc/lapacke_helpers.h
-third_party/eigen3/src/Eigen/src/plugins/BlockMethods.h
-third_party/eigen3/src/Eigen/src/plugins/CommonCwiseBinaryOps.h
-third_party/eigen3/src/Eigen/src/plugins/CommonCwiseUnaryOps.h
-third_party/eigen3/src/Eigen/src/plugins/IndexedViewMethods.h
-third_party/eigen3/src/Eigen/src/plugins/MatrixCwiseBinaryOps.h
-third_party/eigen3/src/Eigen/src/plugins/MatrixCwiseUnaryOps.h
 third_party/eigen3/src/bench/BenchTimer.h
 third_party/eigen3/src/bench/analyze-blocking-sizes.cpp
 third_party/eigen3/src/bench/benchFFT.cpp
@@ -11090,6 +11092,9 @@ third_party/libavif/src/src/scale.c
 third_party/libavif/src/tests/gtest/avifprogressivetest.cc
 third_party/libc++/src/CREDITS.TXT
 third_party/libc++/src/src/chrono.cpp
+third_party/libc++/src/src/print.cpp
+third_party/libc++/src/src/tz.cpp
+third_party/libc++/src/test/libcxx/containers/sequences/deque/asan_turning_off.pass.cpp
 third_party/libc++/src/test/libcxx/containers/sequences/vector/asan_turning_off.pass.cpp
 third_party/libc++abi/src/CREDITS.TXT
 third_party/libdrm/src/android/gralloc_handle.h
@@ -11337,7 +11342,6 @@ third_party/libwebp/src/src/webp/mux.h
 third_party/libwebp/src/src/webp/mux_types.h
 third_party/libwebp/src/src/webp/types.h
 third_party/libwebp/src/swig/setup.py
-third_party/libxml/src/parserInternals.c
 third_party/libxslt/chromium/roll.py
 third_party/libyuv/cleanup_links.py
 third_party/libyuv/include/libyuv/row.h
@@ -11472,6 +11476,7 @@ third_party/nearby/src/internal/platform/thread_check_nocompile.cc
 third_party/nearby/src/internal/platform/uuid.h
 third_party/nearby/src/internal/test/fake_http_client_test.cc
 third_party/nearby/src/presence/fpp/fpp_manager.cc
+third_party/node/node_modules/@aashutoshrathi/word-wrap/package.json
 third_party/node/node_modules/@eslint/eslintrc/node_modules/globals/package.json
 third_party/node/node_modules/@types/dom-speech-recognition/index.d.ts
 third_party/node/node_modules/@types/dom-webcodecs/index.d.ts
@@ -11501,15 +11506,22 @@ third_party/node/node_modules/clean-css/node_modules/source-map/package.json
 third_party/node/node_modules/color-convert/package.json
 third_party/node/node_modules/color-name/package.json
 third_party/node/node_modules/css-tree/data/patch.json
-third_party/node/node_modules/css-tree/dist/csstree.js
 third_party/node/node_modules/css-tree/lib/lexer/generic.js
-third_party/node/node_modules/css-tree/node_modules/source-map/dist/source-map.js
-third_party/node/node_modules/css-tree/node_modules/source-map/lib/base64-vlq.js
-third_party/node/node_modules/css-tree/node_modules/source-map/lib/source-map-consumer.js
-third_party/node/node_modules/css-tree/node_modules/source-map/package.json
 third_party/node/node_modules/css-tree/package.json
-third_party/node/node_modules/csso/dist/csso.js
 third_party/node/node_modules/csso/lib/restructure/6-restructBlock.js
+third_party/node/node_modules/csso/lib/restructure/prepare/specificity.js
+third_party/node/node_modules/csso/node_modules/css-tree/data/patch.json
+third_party/node/node_modules/csso/node_modules/css-tree/lib/lexer/generic.js
+third_party/node/node_modules/csso/node_modules/css-tree/package.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/at-rules.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/at-rules.schema.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/properties.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/properties.schema.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/selectors.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/selectors.schema.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/types.json
+third_party/node/node_modules/csso/node_modules/mdn-data/css/types.schema.json
+third_party/node/node_modules/csso/node_modules/mdn-data/package.json
 third_party/node/node_modules/csso/package.json
 third_party/node/node_modules/debug/package.json
 third_party/node/node_modules/debug/src/browser.js
@@ -11518,6 +11530,7 @@ third_party/node/node_modules/doctrine/lib/doctrine.js
 third_party/node/node_modules/doctrine/lib/typed.js
 third_party/node/node_modules/doctrine/lib/utility.js
 third_party/node/node_modules/doctrine/package.json
+third_party/node/node_modules/domutils/lib/esm/stringify.js
 third_party/node/node_modules/domutils/lib/stringify.js
 third_party/node/node_modules/escape-string-regexp/package.json
 third_party/node/node_modules/eslint-plugin-jsdoc/node_modules/escape-string-regexp/package.json
@@ -11584,8 +11597,6 @@ third_party/node/node_modules/imurmurhash/imurmurhash.js
 third_party/node/node_modules/imurmurhash/imurmurhash.min.js
 third_party/node/node_modules/imurmurhash/package.json
 third_party/node/node_modules/is-path-inside/package.json
-third_party/node/node_modules/js-sdsl/dist/umd/js-sdsl.js
-third_party/node/node_modules/js-sdsl/dist/umd/js-sdsl.min.js
 third_party/node/node_modules/js-yaml/package.json
 third_party/node/node_modules/locate-path/package.json
 third_party/node/node_modules/lodash.merge/package.json
@@ -11606,13 +11617,16 @@ third_party/node/node_modules/path-is-absolute/package.json
 third_party/node/node_modules/path-key/package.json
 third_party/node/node_modules/path-type/package.json
 third_party/node/node_modules/resolve-from/package.json
-third_party/node/node_modules/rollup/dist/es/shared/rollup.js
+third_party/node/node_modules/rollup/dist/es/shared/node-entry.js
 third_party/node/node_modules/rollup/dist/es/shared/watch.js
 third_party/node/node_modules/rollup/dist/shared/index.js
 third_party/node/node_modules/rollup/dist/shared/rollup.js
 third_party/node/node_modules/shebang-command/package.json
 third_party/node/node_modules/shebang-regex/package.json
 third_party/node/node_modules/slash/package.json
+third_party/node/node_modules/source-map-js/lib/base64-vlq.js
+third_party/node/node_modules/source-map-js/lib/source-map-consumer.js
+third_party/node/node_modules/source-map-js/package.json
 third_party/node/node_modules/source-map-support/node_modules/source-map/dist/source-map.js
 third_party/node/node_modules/source-map-support/node_modules/source-map/lib/base64-vlq.js
 third_party/node/node_modules/source-map-support/node_modules/source-map/lib/source-map-consumer.js
@@ -11669,7 +11683,6 @@ third_party/node/node_modules/typescript/lib/typescript.js
 third_party/node/node_modules/uri-js/dist/es5/uri.all.js
 third_party/node/node_modules/uri-js/dist/esnext/uri.js
 third_party/node/node_modules/uri-js/package.json
-third_party/node/node_modules/word-wrap/package.json
 third_party/node/node_modules/yocto-queue/package.json
 third_party/node/package.json
 third_party/openh264/src/build/platform-android.mk
@@ -12323,6 +12336,7 @@ third_party/perfetto/src/profiling/symbolizer/breakpad_parser.cc
 third_party/perfetto/src/profiling/symbolizer/breakpad_parser.h
 third_party/perfetto/src/trace_processor/forwarding_trace_parser.cc
 third_party/perfetto/src/trace_processor/importers/common/args_translation_table.cc
+third_party/perfetto/src/trace_processor/importers/ftrace/binder_tracker.cc
 third_party/perfetto/src/trace_processor/importers/ftrace/thread_state_tracker.cc
 third_party/perfetto/src/trace_processor/importers/fuchsia/fuchsia_trace_tokenizer.h
 third_party/perfetto/src/trace_processor/importers/fuchsia/fuchsia_trace_utils.h
@@ -13142,7 +13156,6 @@ third_party/rust/autocfg/v1/BUILD.gn
 third_party/rust/cxx/v1/BUILD.gn
 third_party/rust/cxxbridge_cmd/v1/BUILD.gn
 third_party/rust/cxxbridge_macro/v1/BUILD.gn
-third_party/rust/itoa/v0_4/BUILD.gn
 third_party/rust/itoa/v1/BUILD.gn
 third_party/rust/lazy_static/v1/BUILD.gn
 third_party/rust/link_cplusplus/v1/BUILD.gn
@@ -13164,6 +13177,7 @@ third_party/rust/serde_derive/v1/BUILD.gn
 third_party/rust/serde_json/v1/BUILD.gn
 third_party/rust/serde_json_lenient/v0_1/BUILD.gn
 third_party/rust/syn/v1/BUILD.gn
+third_party/rust/syn/v2/BUILD.gn
 third_party/rust/termcolor/v1/BUILD.gn
 third_party/rust/unicode_ident/v1/BUILD.gn
 third_party/rust/unicode_linebreak/v0_1/BUILD.gn
@@ -13591,11 +13605,6 @@ third_party/text-fragments-polyfill/src/package.json
 third_party/text-fragments-polyfill/src/src/text-fragment-utils.js
 third_party/text-fragments-polyfill/src/test/unit/complicated-layout.html
 third_party/tflite/src/configure.py
-third_party/tflite/src/tensorflow/compiler/xla/mlir_hlo/mhlo/transforms/chlo_legalize_to_hlo/chlo_legalize_to_hlo.cc
-third_party/tflite/src/tensorflow/compiler/xla/service/gpu/fusions/transpose.h
-third_party/tflite/src/tensorflow/compiler/xla/service/gpu/llvm_gpu_backend/gpu_backend_lib.cc
-third_party/tflite/src/tensorflow/compiler/xla/service/hlo_graph_dumper.cc
-third_party/tflite/src/tensorflow/compiler/xla/service/hlo_verifier.cc
 third_party/tflite/src/tensorflow/core/common_runtime/accumulate_n_optimizer.cc
 third_party/tflite/src/tensorflow/core/distributed_runtime/error_payloads.h
 third_party/tflite/src/tensorflow/core/kernels/decode_proto_op.cc
@@ -13647,27 +13656,34 @@ third_party/tflite/src/tensorflow/python/tpu/tpu_embedding.py
 third_party/tflite/src/tensorflow/python/tpu/tpu_embedding_v2_utils.py
 third_party/tflite/src/tensorflow/tools/android/test/jni/rgb2yuv.cc
 third_party/tflite/src/tensorflow/tools/compatibility/tf_upgrade_v2_safety_test.py
-third_party/tflite/src/tensorflow/tsl/distributed_runtime/coordination/coordination_service_error_util.h
-third_party/tflite/src/tensorflow/tsl/distributed_runtime/rpc/grpc_util.h
-third_party/tflite/src/tensorflow/tsl/lib/io/format.h
-third_party/tflite/src/tensorflow/tsl/platform/cloud/compute_engine_metadata_client.h
-third_party/tflite/src/tensorflow/tsl/platform/cloud/curl_http_request.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/curl_http_request.h
-third_party/tflite/src/tensorflow/tsl/platform/cloud/curl_http_request_test.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/gcs_dns_cache.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/gcs_dns_cache_test.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/gcs_file_system.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/gcs_file_system_test.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/google_auth_provider.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/http_request.h
-third_party/tflite/src/tensorflow/tsl/platform/cloud/oauth_client_test.cc
-third_party/tflite/src/tensorflow/tsl/platform/cloud/testdata/application_default_credentials.json
-third_party/tflite/src/tensorflow/tsl/platform/cloud/testdata/service_account_credentials.json
-third_party/tflite/src/tensorflow/tsl/platform/file_system.cc
-third_party/tflite/src/tensorflow/tsl/platform/status.cc
-third_party/tflite/src/tensorflow/tsl/platform/windows/env.cc
-third_party/tflite/src/tensorflow/tsl/platform/windows/stacktrace.cc
-third_party/tflite/src/tensorflow/tsl/platform/windows/stacktrace_handler.cc
+third_party/tflite/src/tensorflow/tools/pip_package/THIRD_PARTY_NOTICES.txt
+third_party/tflite/src/third_party/xla/configure.py
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/distributed_runtime/coordination/coordination_service_error_util.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/distributed_runtime/rpc/grpc_util.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/lib/io/format.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/compute_engine_metadata_client.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/curl_http_request.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/curl_http_request.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/curl_http_request_test.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/gcs_dns_cache.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/gcs_dns_cache_test.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/gcs_file_system.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/gcs_file_system_test.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/google_auth_provider.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/http_request.h
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/oauth_client_test.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/testdata/application_default_credentials.json
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/cloud/testdata/service_account_credentials.json
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/file_system.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/status.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/env.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stacktrace.cc
+third_party/tflite/src/third_party/xla/third_party/tsl/tsl/platform/windows/stacktrace_handler.cc
+third_party/tflite/src/third_party/xla/xla/mlir_hlo/mhlo/transforms/chlo_legalize_to_hlo/chlo_legalize_to_hlo.cc
+third_party/tflite/src/third_party/xla/xla/service/gpu/fusions/transpose.h
+third_party/tflite/src/third_party/xla/xla/service/gpu/llvm_gpu_backend/gpu_backend_lib.cc
+third_party/tflite/src/third_party/xla/xla/service/hlo_graph_dumper.cc
+third_party/tflite/src/third_party/xla/xla/service/hlo_verifier.cc
 third_party/tflite_support/src/tensorflow_lite_support/c/task/processor/category.h
 third_party/updater/chrome_mac_universal/3pp/fetch.py
 third_party/updater/chrome_mac_universal_prod/3pp/fetch.py
@@ -13704,6 +13720,7 @@ third_party/vulkan-deps/vulkan-tools/src/icd/generated/vk_typemap_helper.h
 third_party/vulkan-deps/vulkan-tools/src/scripts/mock_icd_generator.py
 third_party/vulkan-deps/vulkan-tools/src/scripts/vulkan_tools_helper_file_generator.py
 third_party/vulkan-deps/vulkan-tools/src/windows-runtime-installer/VulkanRT-License.txt
+third_party/vulkan-deps/vulkan-utility-libraries/src/scripts/gn/gn.py
 third_party/vulkan-deps/vulkan-validation-layers/src/layers/external/xxhash.h
 third_party/vulkan-deps/vulkan-validation-layers/src/scripts/android.py
 third_party/vulkan-deps/vulkan-validation-layers/src/scripts/gn.py
@@ -14051,6 +14068,7 @@ third_party/webgl/src/specs/latest/2.0/index.html
 third_party/webgpu-cts/src/src/webgpu/api/operation/command_buffer/queries/occlusionQuery.spec.ts
 third_party/webgpu-cts/src/src/webgpu/api/operation/render_pipeline/sample_mask.spec.ts
 third_party/webgpu-cts/src/src/webgpu/api/operation/rendering/depth_bias.spec.ts
+third_party/webgpu-cts/src/src/webgpu/api/operation/sampling/filter_mode.spec.ts
 third_party/webgpu-cts/src/standalone/index.html
 third_party/webrtc/BUILD.gn
 third_party/webrtc/PRESUBMIT.py
@@ -14356,7 +14374,6 @@ tools/android/dependency_analysis/upload_html_viewer.py
 tools/android/generate_java_test/generate_java_test.py
 tools/android/memtrack_helper/memtrack_helper.c
 tools/android/modularization/convenience/touch_resources.py
-tools/android/modularization/gn/json_gn_editor.py
 tools/android/native_lib_memory/PRESUBMIT.py
 tools/android/python_utils/PRESUBMIT.py
 tools/android/sdk_updater/update_sdk.py
@@ -14410,6 +14427,7 @@ tools/clang/rewrite_raw_ptr_fields/tests/gen-reinterpret-cast-test.cc
 tools/clang/rewrite_templated_container_fields/RewriteTemplatedPtrFields.cpp
 tools/clang/rewrite_templated_container_fields/extract_edits.py
 tools/clang/scripts/build.py
+tools/clang/scripts/dashboard.py
 tools/clang/scripts/include-analysis.html
 tools/clang/scripts/package.py
 tools/clang/scripts/update.py
@@ -14676,7 +14694,6 @@ tools/metrics/histograms/metadata/sharing/histograms.xml
 tools/metrics/histograms/metadata/side_search/histograms.xml
 tools/metrics/histograms/metadata/signin/histograms.xml
 tools/metrics/histograms/metadata/simple/histograms.xml
-tools/metrics/histograms/metadata/software/histograms.xml
 tools/metrics/histograms/metadata/stability/histograms.xml
 tools/metrics/histograms/metadata/start_surface/histograms.xml
 tools/metrics/histograms/metadata/startup/histograms.xml
@@ -14749,8 +14766,6 @@ tools/perf/benchmarks/v8_browsing.py
 tools/perf/benchmarks/v8_loading.py
 tools/perf/benchmarks/wasmpspdfkit.py
 tools/perf/benchmarks/webrtc.py
-tools/perf/cli_tools/soundwave/tables/bugs_test.py
-tools/perf/cli_tools/soundwave/tables/timeseries.py
 tools/perf/cli_tools/tbmv3/trace_downloader.py
 tools/perf/cli_tools/tbmv3/trace_downloader_unittest.py
 tools/perf/cli_tools/update_wpr/update_wpr.py
@@ -15127,7 +15142,7 @@ ui/file_manager/file_manager/common/js/util.js
 ui/file_manager/file_manager/externs/volume_info.js
 ui/file_manager/file_manager/foreground/elements/icons.html
 ui/file_manager/file_manager/foreground/js/file_manager_commands.js
-ui/file_manager/file_manager/foreground/js/file_transfer_controller.js
+ui/file_manager/file_manager/foreground/js/file_transfer_controller.ts
 ui/file_manager/file_manager/foreground/js/ui/banners/google_one_offer_banner.html
 ui/file_manager/file_manager/foreground/js/ui/file_tap_handler.js
 ui/file_manager/file_manager/foreground/js/ui/menu_unittest.js
@@ -15160,6 +15175,7 @@ ui/gl/gl_display.cc
 ui/gl/gl_surface_egl.cc
 ui/gl/gl_surface_presentation_helper.cc
 ui/gl/hdr_metadata_helper_win.cc
+ui/gl/scoped_restore_texture.cc
 ui/gl/vsync_thread_win.cc
 ui/gtk/printing/print_dialog_gtk.cc
 ui/latency/latency_info.h
@@ -15333,14 +15349,3 @@ v8/tools/v8windbg/test/debug-callbacks.h
 v8/tools/v8windbg/test/v8windbg-test.cc
 v8/tools/visual_studio/README.txt
 v8/tools/zone-stats/index.html
-weblayer/browser/android/javatests/skew/build_weblayer_instrumentation_test_cipd_pkg.py
-weblayer/browser/background_fetch/background_fetch_delegate_impl.cc
-weblayer/browser/favicon/favicon_backend_wrapper_unittest.cc
-weblayer/browser/navigation_browsertest.cc
-weblayer/browser/origin_trials_browsertest.cc
-weblayer/browser/popup_blocker_browsertest.cc
-weblayer/browser/prefetch_browsertest.cc
-weblayer/browser/weblayer_security_blocking_page_factory.cc
-weblayer/browser/weblayer_variations_http_browsertest.cc
-weblayer/public/prerender_controller.h
-weblayer/shell/app/shell_main_params.cc
diff --git a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
index 43624db1c..825386a98 100644
--- a/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
+++ b/patches/core/inox-patchset/0001-fix-building-without-safebrowsing.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2303,7 +2303,6 @@ static_library("browser") {
+@@ -2359,7 +2359,6 @@ static_library("browser") {
      "//components/reporting/util:task_runner_context",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -8,7 +8,7 @@
      "//components/safe_browsing/content/browser:safe_browsing_service",
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
-@@ -3703,8 +3702,6 @@ static_library("browser") {
+@@ -3776,8 +3775,6 @@ static_library("browser") {
        "download/download_commands.h",
        "download/download_crx_util.cc",
        "download/download_crx_util.h",
@@ -42,15 +42,15 @@
    virtual subresource_filter::RulesetService*
 --- a/chrome/browser/browser_process_impl.cc
 +++ b/chrome/browser/browser_process_impl.cc
-@@ -73,7 +73,6 @@
- #include "chrome/browser/printing/print_preview_dialog_controller.h"
+@@ -72,7 +72,6 @@
+ #include "chrome/browser/printing/print_job_manager.h"
  #include "chrome/browser/profiles/profile_manager.h"
  #include "chrome/browser/resource_coordinator/resource_coordinator_parts.h"
 -#include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/shell_integration.h"
  #include "chrome/browser/site_isolation/prefs_observer.h"
  #include "chrome/browser/ssl/secure_origin_prefs_observer.h"
-@@ -435,8 +434,6 @@ void BrowserProcessImpl::StartTearDown()
+@@ -437,8 +436,6 @@ void BrowserProcessImpl::StartTearDown()
  #endif
    metrics_services_manager_.reset();
    intranet_redirect_detector_.reset();
@@ -59,7 +59,7 @@
    network_time_tracker_.reset();
  
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_CHROMEOS_ASH)
-@@ -1078,14 +1075,6 @@ StatusTray* BrowserProcessImpl::status_t
+@@ -1080,14 +1077,6 @@ StatusTray* BrowserProcessImpl::status_t
    return status_tray_.get();
  }
  
@@ -74,7 +74,7 @@
  subresource_filter::RulesetService*
  BrowserProcessImpl::subresource_filter_ruleset_service() {
    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
-@@ -1319,26 +1308,6 @@ void BrowserProcessImpl::CreateBackgroun
+@@ -1321,26 +1310,6 @@ void BrowserProcessImpl::CreateBackgroun
  #endif
  }
  
@@ -144,7 +144,7 @@
      browsing_data::RemoveFederatedSiteSettingsData(delete_begin_, delete_end_,
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -1072,34 +1072,6 @@ void SetApplicationLocaleOnIOThread(cons
+@@ -1070,34 +1070,6 @@ void SetApplicationLocaleOnIOThread(cons
    GetIOThreadApplicationLocale() = locale;
  }
  
@@ -179,7 +179,7 @@
  #if BUILDFLAG(ENABLE_EXTENSIONS)
  
  AppLoadedInTabSource ClassifyAppLoadedInTabSource(
-@@ -5141,14 +5113,9 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5168,14 +5140,9 @@ ChromeContentBrowserClient::CreateThrott
    throttles.push_back(std::make_unique<PolicyBlocklistNavigationThrottle>(
        handle, handle->GetWebContents()->GetBrowserContext()));
  
@@ -195,7 +195,7 @@
        base::BindOnce(&HandleSSLErrorWrapper), base::BindOnce(&IsInHostedApp),
        base::BindOnce(
            &ShouldIgnoreSslInterstitialBecauseNavigationDefaultedToHttps)));
-@@ -5194,16 +5161,6 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5221,16 +5188,6 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -212,7 +212,7 @@
    if (base::FeatureList::IsEnabled(safe_browsing::kDelayedWarnings)) {
      throttles.push_back(
          std::make_unique<safe_browsing::DelayedWarningNavigationThrottle>(
-@@ -5476,8 +5433,6 @@ void ChromeContentBrowserClient::Overrid
+@@ -5504,8 +5461,6 @@ void ChromeContentBrowserClient::Overrid
  void ChromeContentBrowserClient::InitOnUIThread() {
    DCHECK_CURRENTLY_ON(BrowserThread::UI);
  
@@ -223,7 +223,7 @@
    base::PathService::Get(chrome::DIR_USER_DATA, &user_data_dir);
 --- a/chrome/browser/component_updater/file_type_policies_component_installer.cc
 +++ b/chrome/browser/component_updater/file_type_policies_component_installer.cc
-@@ -39,20 +39,6 @@ const uint8_t kFileTypePoliciesPublicKey
+@@ -38,20 +38,6 @@ const uint8_t kFileTypePoliciesPublicKey
  const char kFileTypePoliciesManifestName[] = "File Type Policies";
  
  void LoadFileTypesFromDisk(const base::FilePath& pb_path) {
@@ -298,7 +298,7 @@
        is_being_revived_(false) {}
  
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -543,13 +543,13 @@ void DownloadItemModel::SetShouldPreferO
+@@ -530,13 +530,13 @@ void DownloadItemModel::SetShouldPreferO
    data->should_prefer_opening_in_browser_ = preference;
  }
  
@@ -315,7 +315,7 @@
    DownloadItemModelData* data = DownloadItemModelData::GetOrCreate(download_);
    data->danger_level_ = danger_level;
  }
-@@ -729,9 +729,6 @@ bool DownloadItemModel::IsCommandEnabled
+@@ -716,9 +716,6 @@ bool DownloadItemModel::IsCommandEnabled
        // filename. Don't base an "Always open" decision based on it. Also
        // exclude extensions.
        return download_->CanOpenDownload() &&
@@ -327,7 +327,7 @@
        return !download_->IsSavePackageDownload() &&
 --- a/chrome/browser/download/download_prefs.cc
 +++ b/chrome/browser/download/download_prefs.cc
-@@ -264,14 +264,7 @@ DownloadPrefs::DownloadPrefs(Profile* pr
+@@ -263,14 +263,7 @@ DownloadPrefs::DownloadPrefs(Profile* pr
          base::FilePath::StringType(1, base::FilePath::kExtensionSeparator) +
          extension);
  
@@ -343,7 +343,7 @@
    }
  }
  
-@@ -462,10 +455,6 @@ bool DownloadPrefs::IsAutoOpenByPolicy(c
+@@ -460,10 +453,6 @@ bool DownloadPrefs::IsAutoOpenByPolicy(c
  bool DownloadPrefs::EnableAutoOpenByUserBasedOnExtension(
      const base::FilePath& file_name) {
    base::FilePath::StringType extension = file_name.Extension();
@@ -412,7 +412,7 @@
  #include "chrome/browser/download/download_file_icon_extractor.h"
  #include "chrome/browser/download/download_open_prompt.h"
  #include "chrome/browser/download/download_prefs.h"
-@@ -1363,9 +1362,6 @@ DownloadsAcceptDangerFunction::Downloads
+@@ -1364,9 +1363,6 @@ DownloadsAcceptDangerFunction::Downloads
  
  DownloadsAcceptDangerFunction::~DownloadsAcceptDangerFunction() {}
  
@@ -422,7 +422,7 @@
  ExtensionFunction::ResponseAction DownloadsAcceptDangerFunction::Run() {
    absl::optional<downloads::AcceptDanger::Params> params =
        downloads::AcceptDanger::Params::Create(args());
-@@ -1403,42 +1399,7 @@ void DownloadsAcceptDangerFunction::Prom
+@@ -1404,42 +1400,7 @@ void DownloadsAcceptDangerFunction::Prom
      return;
    }
    RecordApiFunctions(DOWNLOADS_FUNCTION_ACCEPT_DANGER);
@@ -548,7 +548,7 @@
            referrer_entries)));
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
-@@ -722,18 +722,6 @@ void WebstorePrivateBeginInstallWithMani
+@@ -717,18 +717,6 @@ void WebstorePrivateBeginInstallWithMani
  
  void WebstorePrivateBeginInstallWithManifest3Function::
      ReportFrictionAcceptedEvent() {
@@ -567,7 +567,7 @@
  }
  
  void WebstorePrivateBeginInstallWithManifest3Function::OnInstallPromptDone(
-@@ -1265,56 +1253,9 @@ WebstorePrivateGetReferrerChainFunction:
+@@ -1236,56 +1224,9 @@ WebstorePrivateGetReferrerChainFunction:
  
  ExtensionFunction::ResponseAction
  WebstorePrivateGetReferrerChainFunction::Run() {
@@ -695,18 +695,6 @@
    scoped_refptr<network::SharedURLLoaderFactory> url_loader_factory_;
  
    // SimpleURLLoader -> (owned loader, extension id).
---- a/chrome/browser/net/trial_comparison_cert_verifier_controller.cc
-+++ b/chrome/browser/net/trial_comparison_cert_verifier_controller.cc
-@@ -128,9 +128,6 @@ void TrialComparisonCertVerifierControll
-   std::string serialized_report;
-   if (!report.Serialize(&serialized_report))
-     return;
--
--  CertificateReportingServiceFactory::GetForBrowserContext(profile_)->Send(
--      serialized_report);
- }
- 
- // static
 --- a/chrome/browser/profiles/profile_impl.cc
 +++ b/chrome/browser/profiles/profile_impl.cc
 @@ -92,7 +92,6 @@
@@ -757,15 +745,15 @@
    sources = [
      "chrome_controller_client.cc",
      "chrome_controller_client.h",
-@@ -96,6 +97,7 @@ static_library("safe_browsing") {
-       "//extensions/browser",
-     ]
-   }
+@@ -68,6 +69,7 @@ static_library("safe_browsing") {
+     "//mojo/public/cpp/system",
+     "//services/preferences/public/cpp",
+   ]
 +  }
  
    if (safe_browsing_mode != 0) {
      # "Safe Browsing Basic" files used for safe browsing in full mode
-@@ -521,6 +523,7 @@ static_library("advanced_protection") {
+@@ -494,6 +496,7 @@ static_library("advanced_protection") {
  }
  
  source_set("metrics_collector") {
@@ -773,7 +761,7 @@
    sources = [
      "safe_browsing_metrics_collector_factory.cc",
      "safe_browsing_metrics_collector_factory.h",
-@@ -540,6 +543,7 @@ source_set("metrics_collector") {
+@@ -513,6 +516,7 @@ source_set("metrics_collector") {
      "//components/safe_browsing/core/common:safe_browsing_prefs",
      "//content/public/browser",
    ]
@@ -878,7 +866,7 @@
  
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -4876,7 +4876,6 @@ static_library("ui") {
+@@ -4952,7 +4952,6 @@ static_library("ui") {
        "views/download/bubble/download_dialog_view.h",
        "views/download/bubble/download_toolbar_button_view.cc",
        "views/download/bubble/download_toolbar_button_view.h",
@@ -888,7 +876,7 @@
        "views/download/download_item_view.cc",
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -446,22 +446,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -454,22 +454,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    //     See https://crbug.com/910288.
    resource_coordinator::ResourceCoordinatorTabHelper::CreateForWebContents(
        web_contents);
@@ -921,7 +909,7 @@
  #include "chrome/browser/download/download_history.h"
  #include "chrome/browser/download/download_item_model.h"
  #include "chrome/browser/download/download_item_warning_data.h"
-@@ -195,13 +194,6 @@ void DownloadsDOMHandler::SaveDangerousR
+@@ -198,13 +197,6 @@ void DownloadsDOMHandler::SaveDangerousR
    }
  
    CountDownloadsDOMEvents(DOWNLOADS_DOM_EVENT_SAVE_DANGEROUS);
@@ -935,7 +923,7 @@
  }
  
  void DownloadsDOMHandler::DiscardDangerous(const std::string& id) {
-@@ -379,12 +371,6 @@ void DownloadsDOMHandler::RemoveDownload
+@@ -400,12 +392,6 @@ void DownloadsDOMHandler::RemoveDownload
    IdSet ids;
  
    for (auto* download : to_remove) {
@@ -948,7 +936,7 @@
      DownloadItemModel item_model(download);
      if (!item_model.ShouldShowInShelf() ||
          download->GetState() == download::DownloadItem::IN_PROGRESS) {
-@@ -512,44 +498,6 @@ void DownloadsDOMHandler::FinalizeRemova
+@@ -533,44 +519,6 @@ void DownloadsDOMHandler::FinalizeRemova
    }
  }
  
diff --git a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
index 31af6f22a..4bd552210 100644
--- a/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
+++ b/patches/core/iridium-browser/all-add-trk-prefixes-to-possibly-evil-connections.patch
@@ -189,7 +189,7 @@ by default.
  bool g_upgrade_bubble_is_showing = false;
 --- a/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
 +++ b/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
-@@ -73,17 +73,17 @@ namespace {
+@@ -75,17 +75,17 @@ namespace {
  // The URL for the the Learn More page shown on incognito new tab.
  const char kLearnMoreIncognitoUrl[] =
  #if BUILDFLAG(IS_CHROMEOS_ASH)
@@ -211,28 +211,6 @@ by default.
  #endif
  
  std::string ReplaceTemplateExpressions(
---- a/chrome/chrome_cleaner/components/recovery_component.cc
-+++ b/chrome/chrome_cleaner/components/recovery_component.cc
-@@ -37,7 +37,7 @@ namespace chrome_cleaner {
- namespace {
- 
- const char kComponentDownloadUrl[] =
--    "https://clients2.google.com/service/update2/crx?response=redirect&os=win"
-+    "trk:108:https://clients2.google.com/service/update2/crx?response=redirect&os=win"
-     "&installsource=swreporter&x=id%3Dnpdjjkjlcidkjlamlmmdelcjbcpdjocm"
-     "%26v%3D0.0.0.0%26uc&acceptformat=crx3";
- 
---- a/chrome/chrome_cleaner/crash/crashpad_crash_reporter.cc
-+++ b/chrome/chrome_cleaner/crash/crashpad_crash_reporter.cc
-@@ -28,7 +28,7 @@
- namespace {
- 
- // The URL where crash reports are uploaded.
--const char kReportUploadURL[] = "https://clients2.google.com/cr/report";
-+const char kReportUploadURL[] = "trk:302:https://clients2.google.com/cr/report";
- 
- // Whether the current process is connected to a crash handler process.
- bool g_is_connected_to_crash_handler = false;
 --- a/chrome/common/extensions/chrome_extensions_client.cc
 +++ b/chrome/common/extensions/chrome_extensions_client.cc
 @@ -45,9 +45,9 @@ namespace {
@@ -438,7 +416,7 @@ by default.
    GURL url(base::WideToUTF16(args[0]));
 --- a/extensions/common/extension_urls.cc
 +++ b/extensions/common/extension_urls.cc
-@@ -26,10 +26,10 @@ bool IsSourceFromAnExtension(const std::
+@@ -27,10 +27,10 @@ bool IsSourceFromAnExtension(const std::
  
  namespace extension_urls {
  
diff --git a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
index ef57fa267..ecb2c5137 100644
--- a/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
+++ b/patches/core/ungoogled-chromium/block-trk-and-subdomains.patch
@@ -60,7 +60,7 @@
      return GURL(parts.scheme.is_valid() ? text : FixupPath(text));
 --- a/content/browser/child_process_security_policy_impl.cc
 +++ b/content/browser/child_process_security_policy_impl.cc
-@@ -811,6 +811,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
+@@ -817,6 +817,7 @@ ChildProcessSecurityPolicyImpl::ChildPro
    RegisterWebSafeScheme(url::kWssScheme);
  #endif  // BUILDFLAG(ENABLE_WEBSOCKETS)
    RegisterWebSafeScheme(url::kDataScheme);
@@ -70,7 +70,7 @@
    // other origins, so we should not treat them as web safe. Remove callers of
 --- a/net/BUILD.gn
 +++ b/net/BUILD.gn
-@@ -1042,6 +1042,8 @@ component("net") {
+@@ -1040,6 +1040,8 @@ component("net") {
      "url_request/report_sender.h",
      "url_request/static_http_user_agent_settings.cc",
      "url_request/static_http_user_agent_settings.h",
diff --git a/patches/core/ungoogled-chromium/disable-crash-reporter.patch b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
index 94c95fd78..f718890d8 100644
--- a/patches/core/ungoogled-chromium/disable-crash-reporter.patch
+++ b/patches/core/ungoogled-chromium/disable-crash-reporter.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -2598,7 +2598,8 @@ void ChromeContentBrowserClient::AppendE
+@@ -2596,7 +2596,8 @@ void ChromeContentBrowserClient::AppendE
      command_line->AppendSwitchASCII(switches::kMetricsClientID,
                                      client_info->client_id);
    }
@@ -29,7 +29,7 @@
                              const base::FilePath& exe_path,
 --- a/components/gwp_asan/client/gwp_asan.cc
 +++ b/components/gwp_asan/client/gwp_asan.cc
-@@ -164,6 +164,11 @@ size_t AllocationSamplingFrequency(const
+@@ -173,6 +173,11 @@ size_t AllocationSamplingFrequency(const
  
  // Exported for testing.
  GWP_ASAN_EXPORT absl::optional<AllocatorSettings> GetAllocatorSettings(
diff --git a/patches/core/ungoogled-chromium/disable-gaia.patch b/patches/core/ungoogled-chromium/disable-gaia.patch
index 76fb4708b..05b5dcf77 100644
--- a/patches/core/ungoogled-chromium/disable-gaia.patch
+++ b/patches/core/ungoogled-chromium/disable-gaia.patch
@@ -3,7 +3,7 @@
 
 --- a/google_apis/gaia/gaia_auth_fetcher.cc
 +++ b/google_apis/gaia/gaia_auth_fetcher.cc
-@@ -271,61 +271,6 @@ void GaiaAuthFetcher::CreateAndStartGaia
+@@ -259,61 +259,6 @@ void GaiaAuthFetcher::CreateAndStartGaia
      network::mojom::CredentialsMode credentials_mode,
      const net::NetworkTrafficAnnotationTag& traffic_annotation) {
    DCHECK(!fetch_pending_) << "Tried to fetch two things at once!";
diff --git a/patches/core/ungoogled-chromium/disable-google-host-detection.patch b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
index 4948052ed..0230a245e 100644
--- a/patches/core/ungoogled-chromium/disable-google-host-detection.patch
+++ b/patches/core/ungoogled-chromium/disable-google-host-detection.patch
@@ -455,7 +455,7 @@
  
 --- a/components/page_load_metrics/browser/page_load_metrics_util.cc
 +++ b/components/page_load_metrics/browser/page_load_metrics_util.cc
-@@ -282,9 +282,7 @@ bool DidObserveLoadingBehaviorInAnyFrame
+@@ -281,9 +281,7 @@ bool DidObserveLoadingBehaviorInAnyFrame
  }
  
  bool IsGoogleSearchHostname(const GURL& url) {
diff --git a/patches/core/ungoogled-chromium/disable-mei-preload.patch b/patches/core/ungoogled-chromium/disable-mei-preload.patch
index ceb59a162..3541397c1 100644
--- a/patches/core/ungoogled-chromium/disable-mei-preload.patch
+++ b/patches/core/ungoogled-chromium/disable-mei-preload.patch
@@ -15,7 +15,7 @@
          "//third_party/widevine/cdm",
        ]
        if (invoker.collect_inputs_only) {
-@@ -1252,7 +1251,6 @@ if (is_win) {
+@@ -1248,7 +1247,6 @@ if (is_win) {
        ":optimization_guide_library",
        ":swiftshader_library",
        ":widevine_cdm_library",
diff --git a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
index 5e202ba05..dbca1350f 100644
--- a/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
+++ b/patches/core/ungoogled-chromium/disable-privacy-sandbox.patch
@@ -1,3 +1,14 @@
+--- a/components/attribution_reporting/features.cc
++++ b/components/attribution_reporting/features.cc
+@@ -11,7 +11,7 @@ namespace attribution_reporting::feature
+ // Controls whether the Conversion Measurement API infrastructure is enabled.
+ BASE_FEATURE(kConversionMeasurement,
+              "ConversionMeasurement",
+-             base::FEATURE_ENABLED_BY_DEFAULT);
++             base::FEATURE_DISABLED_BY_DEFAULT);
+ 
+ BASE_FEATURE(kAttributionReportingNullAggregatableReports,
+              "AttributionReportingNullAggregatableReports",
 --- a/components/privacy_sandbox/privacy_sandbox_prefs.cc
 +++ b/components/privacy_sandbox/privacy_sandbox_prefs.cc
 @@ -12,7 +12,7 @@ namespace privacy_sandbox {
@@ -11,7 +22,7 @@
    registry->RegisterBooleanPref(prefs::kPrivacySandboxM1ConsentDecisionMade,
 --- a/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
 +++ b/components/privacy_sandbox/privacy_sandbox_settings_impl.cc
-@@ -102,7 +102,7 @@ base::Value::Dict CreateBlockedTopicEntr
+@@ -120,7 +120,7 @@ std::set<browsing_topics::Topic> GetTopi
  
  // static
  bool PrivacySandboxSettingsImpl::IsAllowed(Status status) {
@@ -20,7 +31,7 @@
  }
  
  // static
-@@ -672,20 +672,7 @@ bool PrivacySandboxSettingsImpl::IsPriva
+@@ -728,20 +728,7 @@ bool PrivacySandboxSettingsImpl::IsPriva
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxEnabled() const {
@@ -42,7 +53,7 @@
  }
  
  void PrivacySandboxSettingsImpl::SetAllPrivacySandboxAllowedForTesting() {
-@@ -710,11 +697,10 @@ void PrivacySandboxSettingsImpl::SetTopi
+@@ -766,11 +753,10 @@ void PrivacySandboxSettingsImpl::SetTopi
  }
  
  void PrivacySandboxSettingsImpl::SetPrivacySandboxEnabled(bool enabled) {
@@ -55,7 +66,7 @@
  }
  
  bool PrivacySandboxSettingsImpl::IsPrivacySandboxCurrentlyUnrestricted() const {
-@@ -802,11 +788,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
+@@ -857,11 +843,7 @@ PrivacySandboxSettingsImpl::GetPrivacySa
      return Status::kIncognitoProfile;
    }
  
@@ -69,8 +80,8 @@
  PrivacySandboxSettingsImpl::Status
 --- a/content/browser/aggregation_service/aggregation_service_features.cc
 +++ b/content/browser/aggregation_service/aggregation_service_features.cc
-@@ -9,7 +9,7 @@ namespace content {
- // Enables the Aggregation Service. See crbug.com/1207974.
+@@ -8,7 +8,7 @@ namespace content {
+ 
  BASE_FEATURE(kPrivacySandboxAggregationService,
               "PrivacySandboxAggregationService",
 -             base::FEATURE_ENABLED_BY_DEFAULT);
@@ -78,14 +89,3 @@
  
  const base::FeatureParam<std::string>
      kPrivacySandboxAggregationServiceTrustedServerUrlAwsParam{
---- a/third_party/blink/common/features.cc
-+++ b/third_party/blink/common/features.cc
-@@ -542,7 +542,7 @@ BASE_FEATURE(kContentCaptureConstantStre
- // Controls whether the Conversion Measurement API infrastructure is enabled.
- BASE_FEATURE(kConversionMeasurement,
-              "ConversionMeasurement",
--             base::FEATURE_ENABLED_BY_DEFAULT);
-+             base::FEATURE_DISABLED_BY_DEFAULT);
- 
- BASE_FEATURE(kCorrectFloatExtensionTestForWebGL,
-              "CorrectFloatExtensionTestForWebGL",
diff --git a/patches/core/ungoogled-chromium/disable-web-environment-integrity.patch b/patches/core/ungoogled-chromium/disable-web-environment-integrity.patch
index dfe3b658c..457ce9ae5 100644
--- a/patches/core/ungoogled-chromium/disable-web-environment-integrity.patch
+++ b/patches/core/ungoogled-chromium/disable-web-environment-integrity.patch
@@ -1,6 +1,6 @@
 --- a/android_webview/browser/BUILD.gn
 +++ b/android_webview/browser/BUILD.gn
-@@ -233,7 +233,6 @@ source_set("browser") {
+@@ -235,7 +235,6 @@ source_set("browser") {
      "//components/embedder_support:embedder_support",
      "//components/embedder_support/android:util",
      "//components/embedder_support/origin_trials",
@@ -10,7 +10,7 @@
      "//components/keyed_service/content",
 --- a/chrome/android/chrome_test_java_sources.gni
 +++ b/chrome/android/chrome_test_java_sources.gni
-@@ -194,7 +194,6 @@ chrome_test_java_sources = [
+@@ -195,7 +195,6 @@ chrome_test_java_sources = [
    "javatests/src/org/chromium/chrome/browser/download/OMADownloadHandlerTest.java",
    "javatests/src/org/chromium/chrome/browser/download/ServicificationDownloadTest.java",
    "javatests/src/org/chromium/chrome/browser/download/dialogs/DownloadDialogIncognitoTest.java",
@@ -20,7 +20,7 @@
    "javatests/src/org/chromium/chrome/browser/feedback/ConnectivityCheckerTest.java",
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -3435,7 +3435,6 @@ static_library("browser") {
+@@ -3511,7 +3511,6 @@ static_library("browser") {
        "//components/embedder_support/android:util",
        "//components/embedder_support/android:web_contents_delegate",
        "//components/endpoint_fetcher:endpoint_fetcher",
@@ -30,7 +30,7 @@
        "//components/favicon/core:database",
 --- a/components/BUILD.gn
 +++ b/components/BUILD.gn
-@@ -533,7 +533,6 @@ test("components_unittests") {
+@@ -597,7 +597,6 @@ test("components_unittests") {
        "//components/embedder_support/android:native_java_unittests_java",
        "//components/embedder_support/android/metrics:test_support_java",
        "//components/embedder_support/android/metrics:unit_tests",
@@ -68,7 +68,7 @@
  void AndroidEnvironmentIntegrityService::OnGetHandle(
 --- a/content/browser/browser_interface_binders.cc
 +++ b/content/browser/browser_interface_binders.cc
-@@ -128,7 +128,6 @@
+@@ -130,7 +130,6 @@
  #include "third_party/blink/public/mojom/cookie_store/cookie_store.mojom.h"
  #include "third_party/blink/public/mojom/credentialmanagement/credential_manager.mojom.h"
  #include "third_party/blink/public/mojom/device/device.mojom.h"
@@ -76,7 +76,7 @@
  #include "third_party/blink/public/mojom/feature_observer/feature_observer.mojom.h"
  #include "third_party/blink/public/mojom/file/file_utilities.mojom.h"
  #include "third_party/blink/public/mojom/file_system_access/file_system_access_manager.mojom.h"
-@@ -1147,10 +1146,6 @@ void PopulateBinderMapWithContext(
+@@ -1140,10 +1139,6 @@ void PopulateBinderMapWithContext(
      map->Add<blink::mojom::BrowsingTopicsDocumentService>(
          base::BindRepeating(&BrowsingTopicsDocumentHost::CreateMojoService));
    }
@@ -85,7 +85,7 @@
 -        &EmptyBinderForFrame<blink::mojom::EnvironmentIntegrityService>));
 -  }
    if (base::FeatureList::IsEnabled(
-           net::features::kCookieDeprecationFacilitatedTestingLabels)) {
+           features::kCookieDeprecationFacilitatedTesting)) {
      map->Add<blink::mojom::CookieDeprecationLabelDocumentService>(
 --- a/third_party/blink/public/mojom/BUILD.gn
 +++ b/third_party/blink/public/mojom/BUILD.gn
@@ -99,7 +99,7 @@
      "fenced_frame/fenced_frame_config.mojom",
 --- a/third_party/blink/renderer/bindings/generated_in_modules.gni
 +++ b/third_party/blink/renderer/bindings/generated_in_modules.gni
-@@ -1923,8 +1923,6 @@ generated_interface_sources_in_modules =
+@@ -1921,8 +1921,6 @@ generated_interface_sources_in_modules =
    "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_entry.h",
    "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_entry_sync.cc",
    "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_entry_sync.h",
@@ -107,10 +107,10 @@
 -  "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_environment_integrity.h",
    "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_event_source.cc",
    "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_event_source.h",
-   "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_ext_blend_min_max.cc",
+   "$root_gen_dir/third_party/blink/renderer/bindings/modules/v8/v8_ext_blend_func_extended.cc",
 --- a/third_party/blink/renderer/bindings/idl_in_modules.gni
 +++ b/third_party/blink/renderer/bindings/idl_in_modules.gni
-@@ -243,8 +243,6 @@ static_idl_files_in_modules = [
+@@ -244,8 +244,6 @@ static_idl_files_in_modules = [
    "//third_party/blink/renderer/modules/encryptedmedia/media_keys_get_status_for_policy.idl",
    "//third_party/blink/renderer/modules/encryptedmedia/media_keys_policy.idl",
    "//third_party/blink/renderer/modules/encryptedmedia/navigator_request_media_key_system_access.idl",
@@ -121,7 +121,7 @@
    "//third_party/blink/renderer/modules/eyedropper/color_selection_options.idl",
 --- a/third_party/blink/renderer/core/origin_trials/origin_trial_context.cc
 +++ b/third_party/blink/renderer/core/origin_trials/origin_trial_context.cc
-@@ -548,10 +548,6 @@ bool OriginTrialContext::CanEnableTrialF
+@@ -550,10 +550,6 @@ bool OriginTrialContext::CanEnableTrialF
      return base::FeatureList::IsEnabled(features::kComputePressure);
    }
  
@@ -144,7 +144,7 @@
      "//third_party/blink/renderer/modules/eyedropper",
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -4112,17 +4112,6 @@
+@@ -4180,17 +4180,6 @@
        base_feature: "none",
      },
      {
diff --git a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
index 334f6df5e..da19a1ee4 100644
--- a/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
+++ b/patches/core/ungoogled-chromium/disable-webrtc-log-uploader.patch
@@ -117,7 +117,7 @@
  
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -102,7 +102,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -99,7 +99,7 @@ void RegisterBrowserUserPrefs(user_prefs
    registry->RegisterBooleanPref(prefs::kWebRtcEventLogCollectionAllowed, false);
    registry->RegisterListPref(prefs::kWebRtcLocalIpsAllowedUrls);
    registry->RegisterBooleanPref(prefs::kWebRTCAllowLegacyTLSProtocols, false);
diff --git a/patches/core/ungoogled-chromium/disable-webstore-urls.patch b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
index 15cd11eb0..9af114a33 100644
--- a/patches/core/ungoogled-chromium/disable-webstore-urls.patch
+++ b/patches/core/ungoogled-chromium/disable-webstore-urls.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
 +++ b/chrome/browser/extensions/chrome_content_browser_client_extensions_part.cc
-@@ -663,12 +663,6 @@ std::vector<url::Origin> ChromeContentBr
+@@ -654,12 +654,6 @@ std::vector<url::Origin> ChromeContentBr
      GetOriginsRequiringDedicatedProcess() {
    std::vector<url::Origin> list;
  
diff --git a/patches/core/ungoogled-chromium/doh-changes.patch b/patches/core/ungoogled-chromium/doh-changes.patch
index 813ba9f3d..0afdb08c2 100644
--- a/patches/core/ungoogled-chromium/doh-changes.patch
+++ b/patches/core/ungoogled-chromium/doh-changes.patch
@@ -1,6 +1,6 @@
 --- a/chrome/common/chrome_features.cc
 +++ b/chrome/common/chrome_features.cc
-@@ -358,12 +358,7 @@ BASE_FEATURE(kDisruptiveNotificationPerm
+@@ -370,12 +370,7 @@ BASE_FEATURE(kDisruptiveNotificationPerm
  // Enable DNS over HTTPS (DoH).
  BASE_FEATURE(kDnsOverHttps,
               "DnsOverHttps",
@@ -15,14 +15,13 @@
  // Set whether fallback to insecure DNS is allowed by default. This setting may
 --- a/net/dns/public/doh_provider_entry.cc
 +++ b/net/dns/public/doh_provider_entry.cc
-@@ -174,32 +174,6 @@ const DohProviderEntry::List& DohProvide
+@@ -165,30 +165,6 @@ const DohProviderEntry::List& DohProvide
            /*display_globally=*/false, /*display_countries=*/{"EE", "DE"},
            LoggingLevel::kNormal),
        new DohProviderEntry(
 -          "Google",
 -          MAKE_BASE_FEATURE_WITH_STATIC_STORAGE(
 -              DohProviderGoogle, base::FEATURE_ENABLED_BY_DEFAULT),
--          DohProviderIdForHistogram::kGoogle,
 -          {"8.8.8.8", "8.8.4.4", "2001:4860:4860::8888",
 -           "2001:4860:4860::8844"},
 -          /*dns_over_tls_hostnames=*/
@@ -37,7 +36,6 @@
 -          "GoogleDns64",
 -          MAKE_BASE_FEATURE_WITH_STATIC_STORAGE(
 -              DohProviderGoogleDns64, base::FEATURE_ENABLED_BY_DEFAULT),
--          /*provider_id_for_histogram=*/absl::nullopt,
 -          {"2001:4860:4860::64", "2001:4860:4860::6464"},
 -          /*dns_over_tls_hostnames=*/{"dns64.dns.google"},
 -          "https://dns64.dns.google/dns-query{?dns}",
@@ -50,7 +48,7 @@
                DohProviderIij, base::FEATURE_ENABLED_BY_DEFAULT),
 --- a/services/network/public/cpp/features.cc
 +++ b/services/network/public/cpp/features.cc
-@@ -95,12 +95,7 @@ BASE_FEATURE(kSplitAuthCacheByNetworkIso
+@@ -96,12 +96,7 @@ BASE_FEATURE(kSplitAuthCacheByNetworkIso
  // Enable usage of hardcoded DoH upgrade mapping for use in automatic mode.
  BASE_FEATURE(kDnsOverHttpsUpgrade,
               "DnsOverHttpsUpgrade",
diff --git a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
index 43d597a23..97b43cfe1 100644
--- a/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
+++ b/patches/core/ungoogled-chromium/fix-building-with-prunned-binaries.patch
@@ -3,7 +3,7 @@
 
 --- a/chrome/BUILD.gn
 +++ b/chrome/BUILD.gn
-@@ -948,8 +948,6 @@ if (is_win) {
+@@ -944,8 +944,6 @@ if (is_win) {
  
    bundle_data("chrome_framework_resources") {
      sources = [
@@ -14,7 +14,7 @@
        # from disk image and Keystone promotion (if so enabled).  It
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -867,14 +867,6 @@ static_library("browser") {
+@@ -868,14 +868,6 @@ static_library("browser") {
      "navigation_predictor/navigation_predictor_metrics_document_data.h",
      "navigation_predictor/navigation_predictor_preconnect_client.cc",
      "navigation_predictor/navigation_predictor_preconnect_client.h",
@@ -37,8 +37,8 @@
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
 -#include "chrome/browser/navigation_predictor/preloading_model_keyed_service.h"
 -#include "chrome/browser/navigation_predictor/preloading_model_keyed_service_factory.h"
- #include "chrome/browser/prefetch/prefetch_prefs.h"
  #include "chrome/browser/preloading/prefetch/no_state_prefetch/no_state_prefetch_manager_factory.h"
+ #include "chrome/browser/preloading/preloading_prefs.h"
  #include "chrome/browser/profiles/profile.h"
 @@ -88,11 +86,6 @@ base::TimeDelta MLModelExecutionTimerSta
    return base::Milliseconds(timer_start_delay);
@@ -128,7 +128,7 @@
  void NavigationPredictor::SetModelScoreCallbackForTesting(
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -89,7 +89,6 @@
+@@ -91,7 +91,6 @@
  #include "chrome/browser/media_galleries/media_galleries_preferences_factory.h"
  #include "chrome/browser/metrics/variations/google_groups_updater_service_factory.h"
  #include "chrome/browser/navigation_predictor/navigation_predictor_keyed_service_factory.h"
@@ -136,7 +136,7 @@
  #include "chrome/browser/net/dns_probe_service_factory.h"
  #include "chrome/browser/net/profile_network_context_service_factory.h"
  #include "chrome/browser/notifications/metrics/notification_metrics_logger_factory.h"
-@@ -823,7 +822,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -850,7 +849,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #endif
    ModelTypeStoreServiceFactory::GetInstance();
    NavigationPredictorKeyedServiceFactory::GetInstance();
@@ -187,7 +187,7 @@
  python_library("fixtures") {
 --- a/components/update_client/BUILD.gn
 +++ b/components/update_client/BUILD.gn
-@@ -308,8 +308,6 @@ source_set("unit_tests") {
+@@ -312,8 +312,6 @@ source_set("unit_tests") {
      "//third_party/puffin:libpuffpatch",
      "//third_party/re2",
    ]
@@ -198,7 +198,7 @@
  fuzzer_test("update_client_protocol_serializer_fuzzer") {
 --- a/content/shell/BUILD.gn
 +++ b/content/shell/BUILD.gn
-@@ -736,10 +736,6 @@ if (is_apple) {
+@@ -737,10 +737,6 @@ if (is_apple) {
        deps = [ "//third_party/icu:icudata" ]
      }
  
diff --git a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
index e5ca99816..40c641f42 100644
--- a/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
+++ b/patches/core/ungoogled-chromium/fix-building-without-safebrowsing.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -628,8 +628,6 @@ static_library("browser") {
+@@ -629,8 +629,6 @@ static_library("browser") {
      "internal_auth.h",
      "interstitials/chrome_settings_page_helper.cc",
      "interstitials/chrome_settings_page_helper.h",
@@ -11,7 +11,7 @@
      "invalidation/profile_invalidation_provider_factory.cc",
      "invalidation/profile_invalidation_provider_factory.h",
      "ip_protection/ip_protection_config_http.cc",
-@@ -3721,9 +3719,6 @@ static_library("browser") {
+@@ -3792,9 +3790,6 @@ static_library("browser") {
        "enterprise/connectors/analysis/analysis_service_settings.h",
        "enterprise/connectors/analysis/analysis_settings.cc",
        "enterprise/connectors/analysis/analysis_settings.h",
@@ -21,7 +21,7 @@
        "enterprise/connectors/analysis/content_analysis_dialog.cc",
        "enterprise/connectors/analysis/content_analysis_dialog.h",
        "enterprise/connectors/analysis/content_analysis_downloads_delegate.cc",
-@@ -4032,10 +4027,6 @@ static_library("browser") {
+@@ -4108,10 +4103,6 @@ static_library("browser") {
        "new_tab_page/modules/recipes/recipes_service_factory.h",
        "new_tab_page/modules/recipes/time_format_util.cc",
        "new_tab_page/modules/recipes/time_format_util.h",
@@ -32,7 +32,7 @@
        "new_tab_page/modules/v2/history_clusters/history_clusters_page_handler_v2.cc",
        "new_tab_page/modules/v2/history_clusters/history_clusters_page_handler_v2.h",
        "new_tab_page/new_tab_page_util.cc",
-@@ -4515,7 +4506,6 @@ static_library("browser") {
+@@ -4591,7 +4582,6 @@ static_library("browser") {
        "//chrome/browser/new_tab_page/modules/history_clusters/discount:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/photos:mojo_bindings",
        "//chrome/browser/new_tab_page/modules/recipes:mojo_bindings",
@@ -40,7 +40,7 @@
        "//chrome/browser/new_tab_page/modules/v2/history_clusters:mojo_bindings",
        "//chrome/browser/policy:path_parser",
        "//chrome/browser/profile_resetter:profile_reset_report_proto",
-@@ -6277,10 +6267,6 @@ static_library("browser") {
+@@ -6367,10 +6357,6 @@ static_library("browser") {
      sources += [
        "enterprise/chrome_browser_main_extra_parts_enterprise.cc",
        "enterprise/chrome_browser_main_extra_parts_enterprise.h",
@@ -51,7 +51,7 @@
        "enterprise/connectors/device_trust/attestation/browser/attestation_switches.cc",
        "enterprise/connectors/device_trust/attestation/browser/attestation_switches.h",
        "enterprise/connectors/device_trust/attestation/browser/attester.h",
-@@ -7814,9 +7800,14 @@ static_library("browser") {
+@@ -7901,9 +7887,14 @@ static_library("browser") {
        "//components/safe_browsing/content/browser:safe_browsing_blocking_page",
        "//components/safe_browsing/content/browser/download:download_stats",
        "//components/safe_browsing/content/common:file_type_policies",
@@ -69,7 +69,7 @@
      sources += [
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -5162,11 +5162,13 @@ ChromeContentBrowserClient::CreateThrott
+@@ -5189,11 +5189,13 @@ ChromeContentBrowserClient::CreateThrott
        &throttles);
  #endif
  
@@ -83,7 +83,7 @@
  
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
    MaybeAddThrottle(browser_switcher::BrowserSwitcherNavigationThrottle::
-@@ -6909,26 +6911,7 @@ ChromeContentBrowserClient::GetSafeBrows
+@@ -6979,26 +6981,7 @@ ChromeContentBrowserClient::GetSafeBrows
            ? content::BrowserThread::UI
            : content::BrowserThread::IO);
  
@@ -111,7 +111,7 @@
  }
  
  safe_browsing::RealTimeUrlLookupServiceBase*
-@@ -6949,11 +6932,6 @@ ChromeContentBrowserClient::GetUrlLookup
+@@ -7019,11 +7002,6 @@ ChromeContentBrowserClient::GetUrlLookup
          GetForProfile(profile);
    }
  #endif
@@ -133,7 +133,28 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/browser_finder.h"
-@@ -263,8 +262,6 @@ void DownloadBubbleUIController::Process
+@@ -44,7 +43,6 @@
+ #include "components/feature_engagement/public/tracker.h"
+ #include "components/offline_items_collection/core/offline_content_aggregator.h"
+ #include "components/safe_browsing/core/common/features.h"
+-#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "content/public/browser/download_item_utils.h"
+ #include "content/public/browser/download_manager.h"
+ 
+@@ -268,21 +266,11 @@ void DownloadBubbleUIController::Process
+   switch (command) {
+     case DownloadCommands::KEEP:
+     case DownloadCommands::DISCARD:
+-      if (safe_browsing::IsSafeBrowsingSurveysEnabled(*profile_->GetPrefs())) {
+-        TrustSafetySentimentService* trust_safety_sentiment_service =
+-            TrustSafetySentimentServiceFactory::GetForProfile(profile_);
+-        if (trust_safety_sentiment_service) {
+-          trust_safety_sentiment_service->InteractedWithDownloadWarningUI(
+-              warning_surface, warning_action);
+-        }
+-      }
+       DownloadItemWarningData::AddWarningActionEvent(
+           model->GetDownloadItem(), warning_surface, warning_action);
        commands.ExecuteCommand(command);
        break;
      case DownloadCommands::REVIEW:
@@ -264,7 +285,7 @@
  
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -926,80 +926,10 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -918,80 +918,10 @@ void DownloadItemModel::ExecuteCommand(D
  
  DownloadItemModel::BubbleUIInfo
  DownloadItemModel::GetBubbleUIInfoForTailoredWarning() const {
@@ -424,7 +445,7 @@
  std::u16string ContentAnalysisDownloadsDelegate::GetBypassJustificationLabel()
 --- a/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/files_request_handler.cc
-@@ -170,52 +170,12 @@ void FilesRequestHandler::FileRequestCal
+@@ -171,52 +171,12 @@ void FilesRequestHandler::FileRequestCal
  }
  
  bool FilesRequestHandler::UploadDataImpl() {
@@ -477,7 +498,7 @@
  void FilesRequestHandler::OnGotFileInfo(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      size_t index,
-@@ -258,14 +218,6 @@ void FilesRequestHandler::OnGotFileInfo(
+@@ -259,14 +219,6 @@ void FilesRequestHandler::OnGotFileInfo(
  void FilesRequestHandler::FinishRequestEarly(
      std::unique_ptr<safe_browsing::BinaryUploadService::Request> request,
      safe_browsing::BinaryUploadService::Result result) {
@@ -507,7 +528,7 @@
    void OnGotFileInfo(
 --- a/chrome/browser/enterprise/connectors/connectors_service.cc
 +++ b/chrome/browser/enterprise/connectors/connectors_service.cc
-@@ -439,19 +439,6 @@ absl::optional<std::string> ConnectorsSe
+@@ -443,19 +443,6 @@ absl::optional<std::string> ConnectorsSe
    return absl::nullopt;
  }
  
@@ -529,7 +550,7 @@
  }
 --- a/chrome/browser/enterprise/connectors/connectors_service.h
 +++ b/chrome/browser/enterprise/connectors/connectors_service.h
-@@ -88,12 +88,6 @@ class ConnectorsService : public KeyedSe
+@@ -91,12 +91,6 @@ class ConnectorsService : public KeyedSe
    // is no token to use.
    absl::optional<std::string> GetDMTokenForRealTimeUrlCheck() const;
  
@@ -589,7 +610,7 @@
    signals.Set(device_signals::names::kBuiltInDnsClientEnabled,
 --- a/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
 +++ b/chrome/browser/enterprise/connectors/reporting/realtime_reporting_client.cc
-@@ -509,8 +509,7 @@ void RealtimeReportingClient::ReportEven
+@@ -496,8 +496,7 @@ void RealtimeReportingClient::ReportEven
  }
  
  std::string RealtimeReportingClient::GetProfileUserName() const {
@@ -620,7 +641,7 @@
    const base::Value::List* enabled_opt_in_events_value =
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -214,7 +214,6 @@ void ContextInfoFetcher::Fetch(ContextIn
+@@ -221,7 +221,6 @@ void ContextInfoFetcher::Fetch(ContextIn
        GetAnalysisConnectorProviders(enterprise_connectors::BULK_DATA_ENTRY);
    info.on_print_providers =
        GetAnalysisConnectorProviders(enterprise_connectors::PRINT);
@@ -628,7 +649,7 @@
    info.on_security_event_providers = GetOnSecurityEventProviders();
    info.browser_version = version_info::GetVersionNumber();
    info.site_isolation_enabled =
-@@ -271,11 +270,6 @@ std::vector<std::string> ContextInfoFetc
+@@ -278,11 +277,6 @@ std::vector<std::string> ContextInfoFetc
    return connectors_service_->GetAnalysisServiceProviderNames(connector);
  }
  
@@ -737,7 +758,7 @@
      "api/safe_browsing_private/safe_browsing_util.cc",
      "api/safe_browsing_private/safe_browsing_util.h",
      "api/search/search_api.cc",
-@@ -646,8 +642,6 @@ static_library("extensions") {
+@@ -647,8 +643,6 @@ static_library("extensions") {
      "menu_manager_factory.h",
      "navigation_observer.cc",
      "navigation_observer.h",
@@ -748,7 +769,7 @@
      "pending_extension_info.cc",
 --- a/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
 +++ b/chrome/browser/extensions/api/api_browser_context_keyed_service_factories.cc
-@@ -103,7 +103,6 @@ void EnsureApiBrowserContextKeyedService
+@@ -110,7 +110,6 @@ void EnsureApiBrowserContextKeyedService
    extensions::PreferenceAPI::GetFactoryInstance();
    extensions::ProcessesAPI::GetFactoryInstance();
    extensions::ReadingListEventRouter::GetFactoryInstance();
@@ -758,7 +779,7 @@
    extensions::SettingsOverridesAPI::GetFactoryInstance();
 --- a/chrome/browser/extensions/api/cookies/cookies_api.cc
 +++ b/chrome/browser/extensions/api/cookies/cookies_api.cc
-@@ -285,21 +285,6 @@ void CookiesGetFunction::GetCookieListCa
+@@ -303,19 +303,6 @@ void CookiesGetFunction::GetCookieListCa
  }
  
  void CookiesGetFunction::NotifyExtensionTelemetry() {
@@ -766,9 +787,7 @@
 -      safe_browsing::ExtensionTelemetryServiceFactory::GetForProfile(
 -          Profile::FromBrowserContext(browser_context()));
 -
--  if (!telemetry_service || !telemetry_service->enabled() ||
--      !base::FeatureList::IsEnabled(
--          safe_browsing::kExtensionTelemetryCookiesGetSignal)) {
+-  if (!telemetry_service || !telemetry_service->enabled()) {
 -    return;
 -  }
 -
@@ -780,7 +799,7 @@
  }
  
  CookiesGetAllFunction::CookiesGetAllFunction() {
-@@ -377,26 +362,6 @@ void CookiesGetAllFunction::GetCookieLis
+@@ -408,24 +395,6 @@ void CookiesGetAllFunction::GetCookieLis
  }
  
  void CookiesGetAllFunction::NotifyExtensionTelemetry() {
@@ -788,9 +807,7 @@
 -      safe_browsing::ExtensionTelemetryServiceFactory::GetForProfile(
 -          Profile::FromBrowserContext(browser_context()));
 -
--  if (!telemetry_service || !telemetry_service->enabled() ||
--      !base::FeatureList::IsEnabled(
--          safe_browsing::kExtensionTelemetryCookiesGetAllSignal)) {
+-  if (!telemetry_service || !telemetry_service->enabled()) {
 -    return;
 -  }
 -
@@ -829,7 +846,7 @@
    info.enterprise_profile_id = signals.enterprise_profile_id;
 --- a/chrome/browser/extensions/api/tabs/tabs_api.cc
 +++ b/chrome/browser/extensions/api/tabs/tabs_api.cc
-@@ -445,23 +445,6 @@ void NotifyExtensionTelemetry(Profile* p
+@@ -446,23 +446,6 @@ void NotifyExtensionTelemetry(Profile* p
                                safe_browsing::TabsApiInfo::ApiMethod api_method,
                                const std::string& current_url,
                                const std::string& new_url) {
@@ -879,7 +896,7 @@
  void Blocklist::GetMalwareIDs(const std::set<std::string>& ids,
 --- a/chrome/browser/extensions/chrome_extensions_browser_client.cc
 +++ b/chrome/browser/extensions/chrome_extensions_browser_client.cc
-@@ -731,83 +731,23 @@ void ChromeExtensionsBrowserClient::Noti
+@@ -731,81 +731,23 @@ void ChromeExtensionsBrowserClient::Noti
      content::BrowserContext* context,
      const ExtensionId& extension_id,
      const std::string& code) const {
@@ -913,9 +930,7 @@
 -  auto* telemetry_service =
 -      safe_browsing::ExtensionTelemetryServiceFactory::GetForProfile(
 -          Profile::FromBrowserContext(context));
--  if (!telemetry_service || !telemetry_service->enabled() ||
--      !base::FeatureList::IsEnabled(
--          safe_browsing::kExtensionTelemetryDeclarativeNetRequestSignal)) {
+-  if (!telemetry_service || !telemetry_service->enabled()) {
 -    return;
 -  }
 -
@@ -964,7 +979,7 @@
  }
  
  // static
-@@ -977,7 +917,6 @@ void ChromeExtensionsBrowserClient::GetW
+@@ -975,7 +917,6 @@ void ChromeExtensionsBrowserClient::GetW
  
  void ChromeExtensionsBrowserClient::CreatePasswordReuseDetectionManager(
      content::WebContents* web_contents) const {
@@ -1232,15 +1247,15 @@
    }
 --- a/chrome/browser/file_system_access/chrome_file_system_access_permission_context.cc
 +++ b/chrome/browser/file_system_access/chrome_file_system_access_permission_context.cc
-@@ -33,7 +33,6 @@
- #include "chrome/browser/download/download_prefs.h"
+@@ -34,7 +34,6 @@
  #include "chrome/browser/file_system_access/file_system_access_permission_request_manager.h"
+ #include "chrome/browser/permissions/permission_decision_auto_blocker_factory.h"
  #include "chrome/browser/profiles/profile.h"
 -#include "chrome/browser/safe_browsing/download_protection/download_protection_util.h"
  #include "chrome/browser/ui/file_system_access_dialogs.h"
  #include "chrome/common/chrome_paths.h"
  #include "chrome/common/pdf_util.h"
-@@ -401,86 +400,6 @@ bool ShouldBlockAccessToPath(const base:
+@@ -411,86 +410,6 @@ bool ShouldBlockAccessToPath(const base:
    return true;
  }
  
@@ -1327,7 +1342,7 @@
  std::string GenerateLastPickedDirectoryKey(const std::string& id) {
    return id.empty() ? kDefaultLastPickedDirectoryKey
                      : base::StrCat({kCustomLastPickedDirectoryKey, "-", id});
-@@ -500,13 +419,7 @@ std::string_view GetGrantKeyFromGrantTyp
+@@ -510,13 +429,7 @@ std::string_view GetGrantKeyFromGrantTyp
  bool FileHasDangerousExtension(const url::Origin& origin,
                                 const base::FilePath& path,
                                 Profile* profile) {
@@ -1342,7 +1357,7 @@
  }
  
  }  // namespace
-@@ -1413,29 +1326,6 @@ void ChromeFileSystemAccessPermissionCon
+@@ -1494,29 +1407,6 @@ void ChromeFileSystemAccessPermissionCon
        std::move(callback));
  }
  
@@ -1374,7 +1389,7 @@
      const base::FilePath& path,
 --- a/chrome/browser/file_system_access/chrome_file_system_access_permission_context.h
 +++ b/chrome/browser/file_system_access/chrome_file_system_access_permission_context.h
-@@ -93,10 +93,6 @@ class ChromeFileSystemAccessPermissionCo
+@@ -138,10 +138,6 @@ class ChromeFileSystemAccessPermissionCo
        UserAction user_action,
        content::GlobalRenderFrameHostId frame_id,
        base::OnceCallback<void(SensitiveEntryResult)> callback) override;
@@ -1429,15 +1444,15 @@
          NotificationHandler::Type::EXTENSION,
 --- a/chrome/browser/password_manager/chrome_password_manager_client.cc
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.cc
-@@ -32,7 +32,6 @@
- #include "chrome/browser/password_manager/password_reuse_manager_factory.h"
+@@ -34,7 +34,6 @@
  #include "chrome/browser/password_manager/password_store_factory.h"
  #include "chrome/browser/profiles/profile.h"
+ #include "chrome/browser/profiles/profile_manager.h"
 -#include "chrome/browser/safe_browsing/chrome_password_protection_service.h"
  #include "chrome/browser/safe_browsing/user_interaction_observer.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
  #include "chrome/browser/sync/sync_service_factory.h"
-@@ -858,6 +857,7 @@ autofill::LanguageCode ChromePasswordMan
+@@ -863,6 +862,7 @@ autofill::LanguageCode ChromePasswordMan
    return autofill::LanguageCode();
  }
  
@@ -1445,7 +1460,7 @@
  safe_browsing::PasswordProtectionService*
  ChromePasswordManagerClient::GetPasswordProtectionService() const {
    return safe_browsing::ChromePasswordProtectionService::
-@@ -877,6 +877,7 @@ void ChromePasswordManagerClient::CheckS
+@@ -882,6 +882,7 @@ void ChromePasswordManagerClient::CheckS
    }
  }
  #endif  // defined(ON_FOCUS_PING_ENABLED)
@@ -1453,7 +1468,7 @@
  
  #if !BUILDFLAG(IS_ANDROID)
  void ChromePasswordManagerClient::MaybeReportEnterpriseLoginEvent(
-@@ -884,28 +885,10 @@ void ChromePasswordManagerClient::MaybeR
+@@ -889,28 +890,10 @@ void ChromePasswordManagerClient::MaybeR
      bool is_federated,
      const url::Origin& federated_origin,
      const std::u16string& login_user_name) const {
@@ -1482,7 +1497,7 @@
  }
  #endif
  
-@@ -1494,6 +1477,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1498,6 +1481,7 @@ bool ChromePasswordManagerClient::IsPass
      is_enabled = false;
    }
  
@@ -1490,7 +1505,7 @@
    // SafeBrowsing Delayed Warnings experiment can delay some SafeBrowsing
    // warnings until user interaction. If the current page has a delayed warning,
    // it'll have a user interaction observer attached. Disable password
-@@ -1504,6 +1488,7 @@ bool ChromePasswordManagerClient::IsPass
+@@ -1508,6 +1492,7 @@ bool ChromePasswordManagerClient::IsPass
      observer->OnPasswordSaveOrAutofillDenied();
      is_enabled = false;
    }
@@ -1500,7 +1515,7 @@
      password_manager::BrowserSavePasswordProgressLogger logger(
 --- a/chrome/browser/password_manager/chrome_password_manager_client.h
 +++ b/chrome/browser/password_manager/chrome_password_manager_client.h
-@@ -230,6 +230,7 @@ class ChromePasswordManagerClient
+@@ -229,6 +229,7 @@ class ChromePasswordManagerClient
    void AnnotateNavigationEntry(bool has_password_field) override;
    autofill::LanguageCode GetPageLanguage() const override;
  
@@ -1508,7 +1523,7 @@
    safe_browsing::PasswordProtectionService* GetPasswordProtectionService()
        const override;
  
-@@ -237,6 +238,7 @@ class ChromePasswordManagerClient
+@@ -236,6 +237,7 @@ class ChromePasswordManagerClient
    void CheckSafeBrowsingReputation(const GURL& form_action,
                                     const GURL& frame_url) override;
  #endif
@@ -1632,65 +1647,52 @@
  
 --- a/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
 +++ b/chrome/browser/permissions/prediction_based_permission_ui_selector.cc
-@@ -334,63 +334,5 @@ bool PredictionBasedPermissionUiSelector
+@@ -335,50 +335,5 @@ bool PredictionBasedPermissionUiSelector
  
  PredictionSource PredictionBasedPermissionUiSelector::GetPredictionTypeToUse(
      permissions::RequestType request_type) {
--  if (base::FeatureList::IsEnabled(
--          permissions::features::kPermissionDedicatedCpssSetting)) {
--    if (request_type == permissions::RequestType::kNotifications &&
--        !profile_->GetPrefs()->GetBoolean(prefs::kEnableNotificationCPSS)) {
--      return PredictionSource::USE_NONE;
--    }
--    if (request_type == permissions::RequestType::kGeolocation &&
--        !profile_->GetPrefs()->GetBoolean(prefs::kEnableGeolocationCPSS)) {
--      return PredictionSource::USE_NONE;
--    }
--  } else {
--    if (!safe_browsing::IsSafeBrowsingEnabled(*(profile_->GetPrefs()))) {
--      return PredictionSource::USE_NONE;
--    }
--  }
--  bool is_server_side_prediction_enabled = false;
--  bool is_ondevice_prediction_enabled = false;
+-  const bool is_msbb_enabled = profile_->GetPrefs()->GetBoolean(
+-      unified_consent::prefs::kUrlKeyedAnonymizedDataCollectionEnabled);
 -
--  bool is_tflite_available = false;
--#if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
--  is_tflite_available = true;
--#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
--
--  // Notification supports both flavours of the quiet prompt
--  if (request_type == permissions::RequestType::kNotifications &&
+-  const bool is_notification_cpss_enabled =
+-      profile_->GetPrefs()->GetBoolean(prefs::kEnableNotificationCPSS) &&
 -      (base::FeatureList::IsEnabled(features::kQuietNotificationPrompts) ||
 -       base::FeatureList::IsEnabled(
--           permissions::features::kPermissionQuietChip))) {
--    is_server_side_prediction_enabled =
--        base::FeatureList::IsEnabled(features::kPermissionPredictions);
+-           permissions::features::kPermissionQuietChip));
 -
--    is_ondevice_prediction_enabled =
--        is_tflite_available &&
--        base::FeatureList::IsEnabled(
--            permissions::features::kPermissionOnDeviceNotificationPredictions);
+-  const bool is_geolocation_cpss_enabled =
+-      profile_->GetPrefs()->GetBoolean(prefs::kEnableGeolocationCPSS) &&
+-      base::FeatureList::IsEnabled(permissions::features::kPermissionQuietChip);
+-
+-  if (request_type == permissions::RequestType::kNotifications &&
+-      !is_notification_cpss_enabled) {
+-    return PredictionSource::USE_NONE;
 -  }
 -
--  // Geolocation supports only the quiet chip ui
 -  if (request_type == permissions::RequestType::kGeolocation &&
--      base::FeatureList::IsEnabled(
--          permissions::features::kPermissionQuietChip)) {
--    is_server_side_prediction_enabled = base::FeatureList::IsEnabled(
--        features::kPermissionGeolocationPredictions);
+-      !is_geolocation_cpss_enabled) {
+-    return PredictionSource::USE_NONE;
+-  }
 -
--    is_ondevice_prediction_enabled =
--        is_tflite_available &&
--        base::FeatureList::IsEnabled(
--            permissions::features::kPermissionOnDeviceGeolocationPredictions);
+-  bool is_tflite_available = false;
+-#if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
+-  is_tflite_available = true;
+-#endif  // BUILDFLAG(BUILD_WITH_TFLITE_LIB)
+-
+-  bool is_on_device_enabled = false;
+-
+-  if (request_type == permissions::RequestType::kNotifications) {
+-    is_on_device_enabled = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionOnDeviceNotificationPredictions);
+-  } else if (request_type == permissions::RequestType::kGeolocation) {
+-    is_on_device_enabled = base::FeatureList::IsEnabled(
+-        permissions::features::kPermissionOnDeviceGeolocationPredictions);
 -  }
 -
--  if (is_server_side_prediction_enabled && is_ondevice_prediction_enabled) {
--    return PredictionSource::USE_ANY;
--  } else if (is_server_side_prediction_enabled) {
+-  if (is_msbb_enabled && base::FeatureList::IsEnabled(
+-                             permissions::features::kPermissionPredictionsV2)) {
 -    return PredictionSource::USE_SERVER_SIDE;
--  } else if (is_ondevice_prediction_enabled) {
+-  } else if (is_tflite_available && is_on_device_enabled) {
 -    return PredictionSource::USE_ONDEVICE;
 -  } else {
      return PredictionSource::USE_NONE;
@@ -1698,7 +1700,7 @@
  }
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -96,6 +96,7 @@
+@@ -100,6 +100,7 @@
  #include "components/policy/policy_constants.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/proxy_config/proxy_policy_handler.h"
@@ -1706,7 +1708,7 @@
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
  #include "components/safe_browsing/core/common/safe_browsing_policy_handler.h"
  #include "components/safe_browsing/core/common/safe_browsing_prefs.h"
-@@ -2080,8 +2081,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2095,8 +2096,6 @@ std::unique_ptr<ConfigurationPolicyHandl
    handlers->AddHandler(
        std::make_unique<bookmarks::ManagedBookmarksPolicyHandler>(
            chrome_schema));
@@ -1715,7 +1717,7 @@
    handlers->AddHandler(std::make_unique<syncer::SyncPolicyHandler>());
    handlers->AddHandler(
        std::make_unique<URLBlocklistPolicyHandler>(key::kURLBlocklist));
-@@ -2164,20 +2163,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2179,20 +2178,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            prefs::kSafeBrowsingEnterpriseRealTimeUrlCheckMode,
            prefs::kSafeBrowsingEnterpriseRealTimeUrlCheckScope, chrome_schema));
  
@@ -1738,7 +1740,7 @@
  
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -270,7 +270,6 @@
+@@ -280,7 +280,6 @@
  #include "chrome/browser/new_tab_page/modules/drive/drive_service.h"
  #include "chrome/browser/new_tab_page/modules/photos/photos_service.h"
  #include "chrome/browser/new_tab_page/modules/recipes/recipes_service.h"
@@ -1746,7 +1748,7 @@
  #include "chrome/browser/new_tab_page/promos/promo_service.h"
  #include "chrome/browser/policy/developer_tools_policy_handler.h"
  #include "chrome/browser/search/background/ntp_custom_background_service.h"
-@@ -1714,7 +1713,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1805,7 +1804,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    NewTabPageHandler::RegisterProfilePrefs(registry);
    NewTabPageUI::RegisterProfilePrefs(registry);
    NewTabUI::RegisterProfilePrefs(registry);
@@ -1756,7 +1758,7 @@
    PinnedTabCodec::RegisterProfilePrefs(registry);
 --- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
 +++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
-@@ -692,9 +692,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -710,9 +710,6 @@ void ChromeBrowserMainExtraPartsProfiles
    enterprise_connectors::DeviceTrustConnectorServiceFactory::GetInstance();
    enterprise_connectors::DeviceTrustServiceFactory::GetInstance();
  #endif
@@ -1766,7 +1768,7 @@
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) || \
      BUILDFLAG(IS_ANDROID)
    enterprise_idle::IdleServiceFactory::GetInstance();
-@@ -980,23 +977,6 @@ void ChromeBrowserMainExtraPartsProfiles
+@@ -1008,23 +1005,6 @@ void ChromeBrowserMainExtraPartsProfiles
  #if !BUILDFLAG(IS_ANDROID)
    ResetReportUploaderFactory::GetInstance();
  #endif
@@ -1981,7 +1983,7 @@
  }  // namespace
 --- a/chrome/browser/ui/BUILD.gn
 +++ b/chrome/browser/ui/BUILD.gn
-@@ -575,7 +575,6 @@ static_library("ui") {
+@@ -568,7 +568,6 @@ static_library("ui") {
      "//components/renderer_context_menu",
      "//components/resources",
      "//components/safe_browsing/content/browser",
@@ -1989,7 +1991,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/web_ui",
      "//components/safe_browsing/core/browser/db:database_manager",
-@@ -3804,8 +3803,6 @@ static_library("ui") {
+@@ -3877,8 +3876,6 @@ static_library("ui") {
        "startup/web_app_startup_utils.h",
        "tab_contents/chrome_web_contents_menu_helper.cc",
        "tab_contents/chrome_web_contents_menu_helper.h",
@@ -1998,7 +2000,7 @@
        "views/autofill/payments/virtual_card_selection_dialog_view.cc",
        "views/autofill/payments/virtual_card_selection_dialog_view.h",
        "views/autofill/payments/webauthn_dialog_view.cc",
-@@ -5387,8 +5384,6 @@ static_library("ui") {
+@@ -5480,8 +5477,6 @@ static_library("ui") {
        "views/safe_browsing/prompt_for_scanning_modal_dialog.h",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.cc",
        "views/safe_browsing/tailored_security_desktop_dialog_manager.h",
@@ -2035,7 +2037,7 @@
  void JavaScriptTabModalDialogManagerDelegateDesktop::DidCloseDialog() {
 --- a/chrome/browser/ui/tab_helpers.cc
 +++ b/chrome/browser/ui/tab_helpers.cc
-@@ -340,7 +340,6 @@ void TabHelpers::AttachTabHelpers(WebCon
+@@ -347,7 +347,6 @@ void TabHelpers::AttachTabHelpers(WebCon
    chrome::ChainedBackNavigationTracker::CreateForWebContents(web_contents);
    chrome_browser_net::NetErrorTabHelper::CreateForWebContents(web_contents);
    ChromePasswordManagerClient::CreateForWebContents(web_contents);
@@ -2053,7 +2055,7 @@
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/views/download/bubble/download_bubble_partial_view.h"
  #include "chrome/browser/ui/views/download/bubble/download_bubble_primary_view.h"
-@@ -131,10 +130,6 @@ void DownloadBubbleContentsView::AddSecu
+@@ -140,10 +139,6 @@ void DownloadBubbleContentsView::AddSecu
  void DownloadBubbleContentsView::ProcessDeepScanPress(
      const ContentId& id,
      base::optional_ref<const std::string> password) {
@@ -2074,7 +2076,7 @@
  #include "chrome/browser/safe_browsing/safe_browsing_service.h"
  #include "chrome/browser/ui/browser.h"
  #include "chrome/browser/ui/color/chrome_color_id.h"
-@@ -818,9 +817,7 @@ void DownloadItemView::UpdateLabels() {
+@@ -821,9 +820,7 @@ void DownloadItemView::UpdateLabels() {
    deep_scanning_label_->SetVisible(mode_ ==
                                     download::DownloadItemMode::kDeepScanning);
    if (deep_scanning_label_->GetVisible()) {
@@ -2085,7 +2087,7 @@
                         ? IDS_PROMPT_DEEP_SCANNING_DOWNLOAD
                         : IDS_PROMPT_DEEP_SCANNING_APP_DOWNLOAD;
      const std::u16string filename = ElidedFilename(*deep_scanning_label_);
-@@ -846,11 +843,15 @@ void DownloadItemView::UpdateButtons() {
+@@ -849,11 +846,15 @@ void DownloadItemView::UpdateButtons() {
    }
  
    const bool allow_open_during_deep_scan =
@@ -2101,7 +2103,7 @@
    open_button_->SetEnabled((mode_ == download::DownloadItemMode::kNormal) ||
                             prompt_to_scan || allow_open_during_deep_scan);
  
-@@ -1274,7 +1275,9 @@ void DownloadItemView::ShowContextMenuIm
+@@ -1276,7 +1277,9 @@ void DownloadItemView::ShowContextMenuIm
  }
  
  void DownloadItemView::OpenDownloadDuringAsyncScanning() {
@@ -2136,10 +2138,10 @@
 --- a/chrome/browser/ui/views/tab_contents/chrome_web_contents_view_delegate_views.cc
 +++ b/chrome/browser/ui/views/tab_contents/chrome_web_contents_view_delegate_views.cc
 @@ -110,7 +110,7 @@ void ChromeWebContentsViewDelegateViews:
- void ChromeWebContentsViewDelegateViews::OnPerformDrop(
+ void ChromeWebContentsViewDelegateViews::OnPerformingDrop(
      const content::DropData& drop_data,
      DropCompletionCallback callback) {
--  HandleOnPerformDrop(web_contents_, drop_data, std::move(callback));
+-  HandleOnPerformingDrop(web_contents_, drop_data, std::move(callback));
 +  if (!callback.is_null()) std::move(callback).Run(std::move(drop_data));
  }
  
@@ -2147,22 +2149,40 @@
 --- a/chrome/browser/ui/views/tab_contents/chrome_web_contents_view_delegate_views_mac.mm
 +++ b/chrome/browser/ui/views/tab_contents/chrome_web_contents_view_delegate_views_mac.mm
 @@ -87,7 +87,7 @@ bool ChromeWebContentsViewDelegateViewsM
- void ChromeWebContentsViewDelegateViewsMac::OnPerformDrop(
+ void ChromeWebContentsViewDelegateViewsMac::OnPerformingDrop(
      const content::DropData& drop_data,
      DropCompletionCallback callback) {
--  HandleOnPerformDrop(web_contents_, drop_data, std::move(callback));
+-  HandleOnPerformingDrop(web_contents_, drop_data, std::move(callback));
 +  if (!callback.is_null()) std::move(callback).Run(std::move(drop_data));
  }
  
  std::unique_ptr<RenderViewContextMenuBase>
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -198,37 +198,6 @@ void DownloadsDOMHandler::SaveDangerousR
+@@ -201,55 +201,6 @@ void DownloadsDOMHandler::SaveDangerousR
  
  void DownloadsDOMHandler::DiscardDangerous(const std::string& id) {
    CountDownloadsDOMEvents(DOWNLOADS_DOM_EVENT_DISCARD_DANGEROUS);
 -  download::DownloadItem* download = GetDownloadByStringId(id);
 -  if (download) {
+-    content::DownloadManager* manager = GetMainNotifierManager();
+-    if (manager) {
+-      Profile* profile =
+-          Profile::FromBrowserContext(manager->GetBrowserContext());
+-      if (profile &&
+-          safe_browsing::IsSafeBrowsingSurveysEnabled(*(profile->GetPrefs()))) {
+-        TrustSafetySentimentService* trust_safety_sentiment_service =
+-            TrustSafetySentimentServiceFactory::GetForProfile(profile);
+-        if (trust_safety_sentiment_service) {
+-          // Survey triggered on DISCARD action only. If the user clicks to
+-          // PROCEED in the downloads page, their choice is not confirmed until
+-          // they PROCEED within the dangerous download prompt.
+-          trust_safety_sentiment_service->InteractedWithDownloadWarningUI(
+-              DownloadItemWarningData::WarningSurface::DOWNLOADS_PAGE,
+-              DownloadItemWarningData::WarningAction::DISCARD);
+-        }
+-      }
+-    }
 -    // The warning action event needs to be added before Safe Browsing report is
 -    // sent, because this event should be included in the report.
 -    DownloadItemWarningData::AddWarningActionEvent(
@@ -2195,7 +2215,7 @@
    RemoveDownloadInArgs(id);
  }
  
-@@ -466,12 +435,6 @@ void DownloadsDOMHandler::ReviewDangerou
+@@ -487,12 +438,6 @@ void DownloadsDOMHandler::ReviewDangerou
      return;
    }
  
@@ -2267,7 +2287,7 @@
                                 std::move(callback),
 --- a/chrome/test/BUILD.gn
 +++ b/chrome/test/BUILD.gn
-@@ -1667,7 +1667,6 @@ if (!is_android) {
+@@ -1721,7 +1721,6 @@ if (!is_android) {
        "//components/resources",
        "//components/safe_browsing:buildflags",
        "//components/safe_browsing/content/browser",
@@ -2275,7 +2295,7 @@
        "//components/safe_browsing/content/browser:safe_browsing_service",
        "//components/safe_browsing/content/browser/password_protection",
        "//components/safe_browsing/content/browser/password_protection:test_support",
-@@ -6614,7 +6613,6 @@ test("unit_tests") {
+@@ -6679,7 +6678,6 @@ test("unit_tests") {
      "//components/resources",
      "//components/safe_browsing:buildflags",
      "//components/safe_browsing/content/browser",
@@ -2283,7 +2303,7 @@
      "//components/safe_browsing/content/browser/password_protection",
      "//components/safe_browsing/content/browser/password_protection:mock_password_protection",
      "//components/safe_browsing/content/browser/web_ui",
-@@ -9765,9 +9763,6 @@ test("unit_tests") {
+@@ -9848,9 +9846,6 @@ test("unit_tests") {
      ]
    }
  
@@ -2335,7 +2355,7 @@
  }
 --- a/components/password_manager/core/browser/password_manager_client.h
 +++ b/components/password_manager/core/browser/password_manager_client.h
-@@ -399,11 +399,14 @@ class PasswordManagerClient {
+@@ -398,11 +398,14 @@ class PasswordManagerClient {
    // Returns the current best guess as to the page's display language.
    virtual autofill::LanguageCode GetPageLanguage() const;
  
@@ -2419,14 +2439,19 @@
  #include "components/safe_browsing/core/common/utils.h"
  #include "google_apis/google_api_keys.h"
  #include "net/base/net_errors.h"
-@@ -111,18 +110,7 @@ constexpr net::NetworkTrafficAnnotationT
+@@ -111,23 +110,7 @@ constexpr net::NetworkTrafficAnnotationT
    )");
  
  bool IsEnabled(PrefService* pref_service) {
 -  safe_browsing::SafeBrowsingState state =
 -      safe_browsing::GetSafeBrowsingState(*pref_service);
+-  // If this class has been created, it is already known that the session is not
+-  // off-the-record and that the user's location is eligible, so
+-  // |is_off_the_record| is passed through as false and
+-  // |stored_permanent_country| as nullopt.
 -  return safe_browsing::hash_realtime_utils::DetermineHashRealTimeSelection(
--             /*is_off_the_record=*/false, pref_service) ==
+-             /*is_off_the_record=*/false, pref_service,
+-             /*stored_permanent_country=*/absl::nullopt) ==
 -             safe_browsing::hash_realtime_utils::HashRealTimeSelection::
 -                 kHashRealTimeService ||
 -         // The service is enabled when enhanced protection and
@@ -2439,7 +2464,7 @@
  }
  
  GURL GetKeyFetchingUrl() {
-@@ -363,26 +351,9 @@ void OhttpKeyService::MaybeStartServerTr
+@@ -376,26 +359,9 @@ void OhttpKeyService::MaybeStartServerTr
  }
  
  void OhttpKeyService::PopulateKeyFromPref() {
@@ -2468,7 +2493,7 @@
  void OhttpKeyService::Shutdown() {
 --- a/components/safe_browsing/core/browser/tailored_security_service/tailored_security_service.cc
 +++ b/components/safe_browsing/core/browser/tailored_security_service/tailored_security_service.cc
-@@ -518,20 +518,6 @@ void TailoredSecurityService::Shutdown()
+@@ -519,20 +519,6 @@ void TailoredSecurityService::Shutdown()
  }
  
  void TailoredSecurityService::TailoredSecurityTimestampUpdateCallback() {
@@ -2664,7 +2689,7 @@
  
 --- a/extensions/browser/updater/update_service.cc
 +++ b/extensions/browser/updater/update_service.cc
-@@ -128,13 +128,6 @@ void UpdateService::OnCrxStateChange(Upd
+@@ -127,13 +127,6 @@ void UpdateService::OnCrxStateChange(Upd
        break;
    }
  
@@ -2689,13 +2714,3 @@
  }
  
  declare_args() {
---- a/weblayer/BUILD.gn
-+++ b/weblayer/BUILD.gn
-@@ -475,7 +475,6 @@ source_set("weblayer_lib_base") {
-     "//components/reduce_accept_language/browser",
-     "//components/safe_browsing:buildflags",
-     "//components/safe_browsing/content/browser",
--    "//components/safe_browsing/content/browser:client_side_detection",
-     "//components/safe_browsing/content/browser/web_ui",
-     "//components/safe_browsing/content/common:interfaces",
-     "//components/safe_browsing/content/renderer:throttles",
diff --git a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
index aed5073c7..853c88607 100644
--- a/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
+++ b/patches/core/ungoogled-chromium/remove-unused-preferences-fields.patch
@@ -31,16 +31,17 @@
  #include "components/sync/service/sync_service.h"
  #include "google_apis/gaia/gaia_auth_util.h"
  
-@@ -95,8 +94,6 @@ class ProfileDataRemover : public conten
+@@ -95,9 +94,6 @@ class ProfileDataRemover : public conten
        // All the Profile data has been wiped. Clear the last signed in username
        // as well, so that the next signin doesn't trigger the account
        // change dialog.
--      profile_->GetPrefs()->ClearPref(prefs::kGoogleServicesLastGaiaId);
--      profile_->GetPrefs()->ClearPref(prefs::kGoogleServicesLastUsername);
+-      profile_->GetPrefs()->ClearPref(prefs::kGoogleServicesLastSyncingGaiaId);
+-      profile_->GetPrefs()->ClearPref(
+-          prefs::kGoogleServicesLastSyncingUsername);
      }
  
      origin_runner_->PostTask(FROM_HERE, std::move(callback_));
-@@ -134,11 +131,6 @@ SigninManagerAndroid::SigninManagerAndro
+@@ -135,11 +131,6 @@ SigninManagerAndroid::SigninManagerAndro
    DCHECK(user_cloud_policy_manager_);
    DCHECK(user_policy_signin_service_);
  
@@ -52,7 +53,7 @@
    force_browser_signin_.Init(prefs::kForceBrowserSignin,
                               g_browser_process->local_state());
  
-@@ -163,7 +155,7 @@ void SigninManagerAndroid::Shutdown() {
+@@ -164,7 +155,7 @@ void SigninManagerAndroid::Shutdown() {
  }
  
  bool SigninManagerAndroid::IsSigninAllowed() const {
@@ -181,7 +182,7 @@
  }
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -269,7 +269,6 @@
+@@ -272,7 +272,6 @@
  #include "components/safe_browsing/core/browser/realtime/url_lookup_service.h"
  #include "components/safe_browsing/core/browser/url_checker_delegate.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -201,9 +202,9 @@
  #include "content/public/browser/browser_task_traits.h"
 --- a/chrome/browser/download/download_item_model.cc
 +++ b/chrome/browser/download/download_item_model.cc
-@@ -831,13 +831,6 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -823,13 +823,6 @@ void DownloadItemModel::ExecuteCommand(D
+ #if BUILDFLAG(FULL_SAFE_BROWSING)
        CompleteSafeBrowsingScan();
-       SetOpenWhenComplete(true);
  #endif
 -      if (GetDangerType() == download::DOWNLOAD_DANGER_TYPE_ASYNC_SCANNING) {
 -        LogDeepScanEvent(download_,
@@ -215,7 +216,7 @@
        [[fallthrough]];
      case DownloadCommands::KEEP:
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -904,21 +897,9 @@ void DownloadItemModel::ExecuteCommand(D
+@@ -896,21 +889,9 @@ void DownloadItemModel::ExecuteCommand(D
        DownloadUIModel::ExecuteCommand(download_commands, command);
        break;
      case DownloadCommands::DEEP_SCAN: {
@@ -239,7 +240,7 @@
    }
 --- a/chrome/browser/download/download_ui_model.cc
 +++ b/chrome/browser/download/download_ui_model.cc
-@@ -29,7 +29,6 @@
+@@ -31,7 +31,6 @@
  #include "components/google/core/common/google_util.h"
  #include "components/safe_browsing/buildflags.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -247,7 +248,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_referral_methods.h"
  #include "components/vector_icons/vector_icons.h"
  #include "net/base/mime_util.h"
-@@ -982,15 +981,6 @@ DownloadUIModel::BubbleUIInfo DownloadUI
+@@ -952,15 +951,6 @@ DownloadUIModel::BubbleUIInfo DownloadUI
                                 : views::kInfoIcon,
                             kColorDownloadItemIconDangerous);
      case download::DOWNLOAD_DANGER_TYPE_SENSITIVE_CONTENT_BLOCK: {
@@ -263,7 +264,7 @@
          return DownloadUIModel::BubbleUIInfo()
              .AddSubpageSummary(l10n_util::GetStringUTF16(
                  IDS_DOWNLOAD_BUBBLE_SUBPAGE_SUMMARY_SENSITIVE_CONTENT_BLOCK))
-@@ -998,7 +988,6 @@ DownloadUIModel::BubbleUIInfo DownloadUI
+@@ -968,7 +958,6 @@ DownloadUIModel::BubbleUIInfo DownloadUI
                                   ? views::kInfoChromeRefreshIcon
                                   : views::kInfoIcon,
                               kColorDownloadItemIconDangerous);
@@ -271,7 +272,7 @@
      }
      case download::DOWNLOAD_DANGER_TYPE_DANGEROUS_FILE:
      case download::DOWNLOAD_DANGER_TYPE_DANGEROUS_CONTENT:
-@@ -1135,37 +1124,6 @@ DownloadUIModel::GetBubbleUIInfoForInPro
+@@ -1105,37 +1094,6 @@ DownloadUIModel::GetBubbleUIInfoForInPro
        break;
    }
  
@@ -309,6 +310,16 @@
    if (ShouldShowTailoredWarning()) {
      return GetBubbleUIInfoForTailoredWarning();
    }
+--- a/chrome/browser/download/download_ui_safe_browsing_util.cc
++++ b/chrome/browser/download/download_ui_safe_browsing_util.cc
+@@ -5,7 +5,6 @@
+ #include "chrome/browser/download/download_ui_safe_browsing_util.h"
+ 
+ #include "components/safe_browsing/buildflags.h"
+-#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ 
+ #if BUILDFLAG(FULL_SAFE_BROWSING)
+ #include "chrome/browser/safe_browsing/download_protection/download_protection_service.h"
 --- a/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
 +++ b/chrome/browser/enterprise/connectors/analysis/content_analysis_delegate.cc
 @@ -43,7 +43,6 @@
@@ -329,7 +340,7 @@
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/user_prefs/user_prefs.h"
-@@ -369,8 +368,7 @@ std::string ConnectorsService::GetManage
+@@ -373,8 +372,7 @@ std::string ConnectorsService::GetManage
  
    absl::optional<policy::PolicyScope> scope = absl::nullopt;
    for (const char* scope_pref :
@@ -339,7 +350,7 @@
          ConnectorScopePref(AnalysisConnector::FILE_DOWNLOADED),
          ConnectorScopePref(AnalysisConnector::BULK_DATA_ENTRY),
          ConnectorScopePref(AnalysisConnector::PRINT),
-@@ -422,20 +420,6 @@ std::string ConnectorsService::GetManage
+@@ -426,20 +424,6 @@ std::string ConnectorsService::GetManage
  
  absl::optional<std::string> ConnectorsService::GetDMTokenForRealTimeUrlCheck()
      const {
@@ -407,7 +418,7 @@
        Profile::FromBrowserContext(
 --- a/chrome/browser/enterprise/signals/context_info_fetcher.cc
 +++ b/chrome/browser/enterprise/signals/context_info_fetcher.cc
-@@ -226,12 +226,6 @@ void ContextInfoFetcher::Fetch(ContextIn
+@@ -233,12 +233,6 @@ void ContextInfoFetcher::Fetch(ContextIn
    info.third_party_blocking_enabled =
        utils::GetThirdPartyBlockingEnabled(g_browser_process->local_state());
  
@@ -554,7 +565,7 @@
  #include "extensions/browser/api/content_settings/content_settings_service.h"
  #include "extensions/browser/extension_pref_value_map.h"
  #include "extensions/browser/extension_pref_value_map_factory.h"
-@@ -868,18 +867,6 @@ ExtensionFunction::ResponseAction SetPre
+@@ -850,17 +849,6 @@ ExtensionFunction::ResponseAction SetPre
          base::Value(browser_pref_value->GetBool()));
    }
  
@@ -569,13 +580,12 @@
 -                                             prefs::kSafeBrowsingEnhanced,
 -                                             scope, base::Value(false));
 -  }
--
-   // Deprecation issue to developers in the issues tab in Chrome DevTools that
-   // the API chrome.privacy.websites.privacySandboxEnabled is being deprecated.
-   // TODO(b/263568309): Remove this once the deprecated API is retired.
-@@ -1022,16 +1009,6 @@ ExtensionFunction::ResponseAction ClearP
-         extension_id(), prefs::kPrivacySandboxM1AdMeasurementEnabled, scope);
-   }
+ 
+   prefs_helper->SetExtensionControlledPref(extension_id(), browser_pref, scope,
+                                            browser_pref_value->Clone());
+@@ -948,16 +936,6 @@ ExtensionFunction::ResponseAction ClearP
+   prefs_helper->RemoveExtensionControlledPref(extension_id(), browser_pref,
+                                               scope);
  
 -  // Whenever an extension clears the |kSafeBrowsingEnabled| preference,
 -  // it must also clear |kSafeBrowsingEnhanced|. See crbug.com/1064722 for
@@ -616,7 +626,7 @@
      EXPECT_FALSE(prefs->GetBoolean(prefs::kSearchSuggestEnabled));
      VerifyPrefValueAndControlledState(prefs::kPrivacySandboxM1TopicsEnabled,
                                        base::Value(true),
-@@ -250,7 +247,6 @@ IN_PROC_BROWSER_TEST_P(ExtensionPreferen
+@@ -205,7 +202,6 @@ IN_PROC_BROWSER_TEST_P(ExtensionPreferen
        prefetch::prefs::kNetworkPredictionOptions,
        static_cast<int>(prefetch::NetworkPredictionOptions::kDisabled));
    prefs->SetBoolean(password_manager::prefs::kCredentialsEnableService, false);
@@ -646,7 +656,7 @@
  #include "extensions/browser/test_event_router.h"
 --- a/chrome/browser/extensions/api/settings_private/prefs_util.cc
 +++ b/chrome/browser/extensions/api/settings_private/prefs_util.cc
-@@ -47,10 +47,8 @@
+@@ -48,10 +48,8 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/privacy_sandbox/tracking_protection_prefs.h"
  #include "components/proxy_config/proxy_config_pref_names.h"
@@ -657,7 +667,7 @@
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/supervised_user/core/common/features.h"
  #include "components/supervised_user/core/common/pref_names.h"
-@@ -302,8 +300,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -298,8 +296,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
  #endif
  
    // Privacy page
@@ -666,7 +676,7 @@
    (*s_allowlist)[::prefs::kDnsOverHttpsMode] =
        settings_api::PrefType::PREF_TYPE_STRING;
    (*s_allowlist)[::prefs::kDnsOverHttpsTemplates] =
-@@ -334,16 +330,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
+@@ -330,16 +326,6 @@ const PrefsUtil::TypedPrefMap& PrefsUtil
        settings_api::PrefType::PREF_TYPE_BOOLEAN;
  
    // Security page
@@ -685,7 +695,7 @@
    (*s_allowlist)[::kGeneratedHttpsFirstModePref] =
 --- a/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
 +++ b/chrome/browser/extensions/api/webstore_private/webstore_private_apitest.cc
-@@ -697,9 +697,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
+@@ -686,9 +686,6 @@ IN_PROC_BROWSER_TEST_F(ExtensionWebstore
  IN_PROC_BROWSER_TEST_F(ExtensionWebstorePrivateGetReferrerChainApiTest,
                         GetReferrerChainForNonSafeBrowsingUser) {
    PrefService* pref_service = browser()->profile()->GetPrefs();
@@ -803,15 +813,15 @@
  int InstalledLoader::GetCreationFlags(const ExtensionInfo* info) {
 --- a/chrome/browser/extensions/pref_mapping.cc
 +++ b/chrome/browser/extensions/pref_mapping.cc
-@@ -16,7 +16,6 @@
- #include "components/password_manager/core/common/password_manager_pref_names.h"
+@@ -17,7 +17,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
+ #include "components/privacy_sandbox/tracking_protection_prefs.h"
  #include "components/proxy_config/proxy_config_pref_names.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/translate/core/browser/translate_pref_names.h"
  #include "third_party/abseil-cpp/absl/types/optional.h"
-@@ -65,11 +64,6 @@ const PrefMappingEntry kMappings[] = {
+@@ -66,11 +65,6 @@ const PrefMappingEntry kMappings[] = {
       APIPermissionID::kPrivacy},
      {"doNotTrackEnabled", prefs::kEnableDoNotTrack, APIPermissionID::kPrivacy,
       APIPermissionID::kPrivacy},
@@ -833,7 +843,7 @@
  #include "content/public/browser/browser_context.h"
  #include "content/public/browser/browser_thread.h"
  #include "content/public/browser/first_party_sets_handler.h"
-@@ -970,15 +969,8 @@ void ProfileNetworkContextService::Confi
+@@ -958,15 +957,8 @@ void ProfileNetworkContextService::Confi
  
    network_context_params->enable_certificate_reporting = true;
  
@@ -849,83 +859,6 @@
  
    network_context_params->ct_policy = GetCTPolicy();
  
---- a/chrome/browser/net/trial_comparison_cert_verifier_browsertest.cc
-+++ b/chrome/browser/net/trial_comparison_cert_verifier_browsertest.cc
-@@ -18,7 +18,6 @@
- #include "chrome/test/base/in_process_browser_test.h"
- #include "chrome/test/base/ui_test_utils.h"
- #include "components/metrics/content/subprocess_metrics_provider.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "content/public/browser/network_service_instance.h"
- #include "content/public/test/browser_test.h"
- #include "net/base/features.h"
---- a/chrome/browser/net/trial_comparison_cert_verifier_controller.cc
-+++ b/chrome/browser/net/trial_comparison_cert_verifier_controller.cc
-@@ -18,7 +18,6 @@
- #include "chrome/browser/safe_browsing/certificate_reporting_service.h"
- #include "chrome/browser/safe_browsing/certificate_reporting_service_factory.h"
- #include "chrome/common/channel_info.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/security_interstitials/content/certificate_error_report.h"
- #include "content/public/browser/browser_task_traits.h"
- #include "content/public/browser/browser_thread.h"
-@@ -41,17 +40,6 @@ TrialComparisonCertVerifierController::T
-     // enabled.
-     return;
-   }
--
--  base::RepeatingClosure refresh_state_callback =
--      base::BindRepeating(&TrialComparisonCertVerifierController::RefreshState,
--                          base::Unretained(this));
--  pref_change_registrar_.Init(profile_->GetPrefs());
--  pref_change_registrar_.Add(prefs::kSafeBrowsingEnabled,
--                             refresh_state_callback);
--  pref_change_registrar_.Add(prefs::kSafeBrowsingEnhanced,
--                             refresh_state_callback);
--  pref_change_registrar_.Add(prefs::kSafeBrowsingScoutReportingEnabled,
--                             refresh_state_callback);
- }
- 
- TrialComparisonCertVerifierController::
-@@ -91,9 +79,7 @@ bool TrialComparisonCertVerifierControll
-   if (!MaybeAllowedForProfile(profile_))
-     return false;
- 
--  const PrefService& prefs = *profile_->GetPrefs();
--
--  return safe_browsing::IsExtendedReportingEnabled(prefs);
-+  return false;
- }
- 
- void TrialComparisonCertVerifierController::SendTrialReport(
---- a/chrome/browser/net/trial_comparison_cert_verifier_controller.h
-+++ b/chrome/browser/net/trial_comparison_cert_verifier_controller.h
-@@ -13,7 +13,6 @@
- #include "base/memory/raw_ptr.h"
- #include "base/memory/ref_counted.h"
- #include "base/threading/thread_checker.h"
--#include "components/prefs/pref_change_registrar.h"
- #include "mojo/public/cpp/bindings/pending_receiver.h"
- #include "mojo/public/cpp/bindings/pending_remote.h"
- #include "mojo/public/cpp/bindings/receiver_set.h"
-@@ -76,7 +75,6 @@ class TrialComparisonCertVerifierControl
-   void RefreshState();
- 
-   raw_ptr<Profile> profile_;
--  PrefChangeRegistrar pref_change_registrar_;
- 
-   mojo::ReceiverSet<
-       cert_verifier::mojom::TrialComparisonCertVerifierReportClient>
---- a/chrome/browser/net/trial_comparison_cert_verifier_controller_unittest.cc
-+++ b/chrome/browser/net/trial_comparison_cert_verifier_controller_unittest.cc
-@@ -20,7 +20,6 @@
- #include "chrome/test/base/testing_browser_process.h"
- #include "chrome/test/base/testing_profile.h"
- #include "chrome/test/base/testing_profile_manager.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/security_interstitials/content/cert_logger.pb.h"
- #include "components/sync_preferences/testing_pref_service_syncable.h"
- #include "content/public/browser/browser_thread.h"
 --- a/chrome/browser/notifications/metrics/notification_metrics_logger.cc
 +++ b/chrome/browser/notifications/metrics/notification_metrics_logger.cc
 @@ -9,7 +9,6 @@
@@ -1019,9 +952,9 @@
  #include "components/permissions/request_type.h"
  #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/unified_consent/pref_names.h"
  
  #if BUILDFLAG(BUILD_WITH_TFLITE_LIB)
- #include "chrome/browser/permissions/prediction_model_handler_provider_factory.h"
 --- a/chrome/browser/policy/browser_signin_policy_handler.cc
 +++ b/chrome/browser/policy/browser_signin_policy_handler.cc
 @@ -15,7 +15,6 @@
@@ -1085,7 +1018,7 @@
  }  // namespace policy
 --- a/chrome/browser/policy/configuration_policy_handler_list_factory.cc
 +++ b/chrome/browser/policy/configuration_policy_handler_list_factory.cc
-@@ -98,14 +98,11 @@
+@@ -102,14 +102,11 @@
  #include "components/proxy_config/proxy_policy_handler.h"
  #include "components/safe_browsing/buildflags.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
@@ -1100,7 +1033,7 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/sync/base/pref_names.h"
  #include "components/sync/service/sync_policy_handler.h"
-@@ -257,9 +254,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -262,9 +259,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kForcePermissionPolicyUnloadDefaultEnabled,
      policy_prefs::kForcePermissionPolicyUnloadDefaultEnabled,
      base::Value::Type::BOOLEAN},
@@ -1110,7 +1043,7 @@
    { key::kDomainReliabilityAllowed,
      domain_reliability::prefs::kDomainReliabilityAllowedByPolicy,
      base::Value::Type::BOOLEAN },
-@@ -289,12 +283,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -294,12 +288,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kPrintingEnabled,
      base::Value::Type::BOOLEAN },
  #endif // BUILDFLAG(ENABLE_PRINTING)
@@ -1123,7 +1056,7 @@
    { key::kSavingBrowserHistoryDisabled,
      prefs::kSavingBrowserHistoryDisabled,
      base::Value::Type::BOOLEAN },
-@@ -389,9 +377,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -397,9 +385,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdsSettingForIntrusiveAdsSites,
      prefs::kManagedDefaultAdsSetting,
      base::Value::Type::INTEGER },
@@ -1133,7 +1066,7 @@
    { key::kAllowCrossOriginAuthPrompt,
      prefs::kAllowCrossOriginAuthPrompt,
      base::Value::Type::BOOLEAN },
-@@ -594,15 +579,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -599,15 +584,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kPasswordDismissCompromisedAlertEnabled,
      password_manager::prefs::kPasswordDismissCompromisedAlertEnabled,
      base::Value::Type::BOOLEAN },
@@ -1149,7 +1082,7 @@
  #if BUILDFLAG(ENABLE_PDF)
    { key::kPdfLocalFileAccessAllowedForDomains,
      prefs::kPdfLocalFileAccessAllowedForDomains,
-@@ -649,9 +625,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -654,9 +630,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRestoreOnStartupURLs,
      prefs::kURLsToRestoreOnStartup,
      base::Value::Type::LIST },
@@ -1159,7 +1092,7 @@
    { key::kSameOriginTabCaptureAllowedByOrigins,
      prefs::kSameOriginTabCaptureAllowedByOrigins,
      base::Value::Type::LIST },
-@@ -766,9 +739,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -771,9 +744,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kAdditionalDnsQueryTypesEnabled,
      prefs::kAdditionalDnsQueryTypesEnabled,
      base::Value::Type::BOOLEAN },
@@ -1169,7 +1102,7 @@
    { key::kForceGoogleSafeSearch,
      policy_prefs::kForceGoogleSafeSearch,
      base::Value::Type::BOOLEAN },
-@@ -816,9 +786,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -821,9 +791,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kRequireOnlineRevocationChecksForLocalAnchors,
      prefs::kCertRevocationCheckingRequiredLocalAnchors,
      base::Value::Type::BOOLEAN },
@@ -1179,7 +1112,7 @@
  #endif  // #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX)
          // || BUILDFLAG(IS_WIN) || BUILDFLAG(IS_FUCHSIA) || BUILDFLAG(IS_MAC)
  #if BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_LINUX) || BUILDFLAG(IS_WIN) \
-@@ -1616,9 +1583,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1624,9 +1591,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kUnmanagedDeviceSignalsConsentFlowEnabled,
      device_signals::prefs::kUnmanagedDeviceSignalsConsentFlowEnabled,
      base::Value::Type::BOOLEAN },
@@ -1189,7 +1122,7 @@
  #endif // BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX)
  #if BUILDFLAG(IS_WIN) || BUILDFLAG(IS_MAC) || BUILDFLAG(IS_LINUX) \
      || BUILDFLAG(IS_FUCHSIA)
-@@ -1679,9 +1643,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1687,9 +1651,6 @@ const PolicyToPreferenceMapEntry kSimple
      prefs::kImportDialogAutofillFormData,
      base::Value::Type::BOOLEAN },
  
@@ -1199,7 +1132,7 @@
    { key::kHardwareAccelerationModeEnabled,
      prefs::kHardwareAccelerationModeEnabled,
      base::Value::Type::BOOLEAN },
-@@ -1823,15 +1784,6 @@ const PolicyToPreferenceMapEntry kSimple
+@@ -1831,15 +1792,6 @@ const PolicyToPreferenceMapEntry kSimple
    { key::kKioskTroubleshootingToolsEnabled,
      prefs::kKioskTroubleshootingToolsEnabled,
      base::Value::Type::BOOLEAN },
@@ -1215,7 +1148,17 @@
  #endif // BUILDFLAG(IS_CHROMEOS)
  
  #if BUILDFLAG(IS_CHROMEOS_ASH) || BUILDFLAG(IS_LINUX)
-@@ -2156,12 +2108,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -1998,9 +1950,6 @@ const PolicyToPreferenceMapEntry kSimple
+   { key::kGoogleSearchSidePanelEnabled,
+     prefs::kGoogleSearchSidePanelEnabled,
+     base::Value::Type::BOOLEAN },
+-  { key::kSafeBrowsingDeepScanningEnabled,
+-    prefs::kSafeBrowsingDeepScanningEnabled,
+-    base::Value::Type::BOOLEAN },
+ #endif  // BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_FUCHSIA)
+   { key::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
+     policy_prefs::kAllowBackForwardCacheForCacheControlNoStorePageEnabled,
+@@ -2171,12 +2120,6 @@ std::unique_ptr<ConfigurationPolicyHandl
            SimpleSchemaValidatingPolicyHandler::RECOMMENDED_ALLOWED,
            SimpleSchemaValidatingPolicyHandler::MANDATORY_ALLOWED));
  
@@ -1228,7 +1171,7 @@
  
    handlers->AddHandler(
        std::make_unique<NtpCustomBackgroundEnabledPolicyHandler>());
-@@ -2351,18 +2297,7 @@ std::unique_ptr<ConfigurationPolicyHandl
+@@ -2366,18 +2309,7 @@ std::unique_ptr<ConfigurationPolicyHandl
            key::kBrowserContextAwareAccessSignalsAllowlist,
            enterprise_connectors::kBrowserContextAwareAccessSignalsAllowlistPref,
            chrome_schema));
@@ -1244,10 +1187,10 @@
 -          key::kProfileSeparationDataMigrationSettings,
 -          prefs::kProfileSeparationDataMigrationSettings,
 -          base::Value::Type::INTEGER)));
- #elif BUILDFLAG(IS_CHROMEOS) || BUILDFLAG(IS_FUCHSIA)
-   handlers->AddHandler(
-       std::make_unique<ManagedAccountRestrictionsPolicyHandler>(chrome_schema));
-@@ -2397,24 +2332,6 @@ std::unique_ptr<ConfigurationPolicyHandl
+   handlers->AddHandler(std::make_unique<IntRangePolicyHandler>(
+       key::kProfileReauthPrompt, enterprise_signin::prefs::kProfileReauthPrompt,
+       static_cast<int>(enterprise_signin::ProfileReauthPrompt::kDoNotPrompt),
+@@ -2417,24 +2349,6 @@ std::unique_ptr<ConfigurationPolicyHandl
  #else   // BUILDFLAG(IS_CHROMEOS)
    std::vector<std::unique_ptr<ConfigurationPolicyHandler>>
        signin_legacy_policies;
@@ -1274,7 +1217,7 @@
        std::make_unique<BrowserSigninPolicyHandler>(chrome_schema)));
 --- a/chrome/browser/prefs/browser_prefs.cc
 +++ b/chrome/browser/prefs/browser_prefs.cc
-@@ -148,7 +148,6 @@
+@@ -151,7 +151,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
  #include "components/proxy_config/pref_proxy_config_tracker_impl.h"
  #include "components/safe_browsing/content/common/file_type_policies_prefs.h"
@@ -1282,7 +1225,7 @@
  #include "components/search_engines/template_url_prepopulate_data.h"
  #include "components/security_interstitials/content/insecure_form_blocking_page.h"
  #include "components/security_interstitials/content/stateful_ssl_host_state_delegate.h"
-@@ -158,7 +157,6 @@
+@@ -161,7 +160,6 @@
  #include "components/services/storage/public/cpp/storage_prefs.h"
  #include "components/sessions/core/session_id_generator.h"
  #include "components/signin/public/base/signin_buildflags.h"
@@ -1290,7 +1233,7 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
  #include "components/subresource_filter/content/browser/ruleset_service.h"
-@@ -1332,7 +1330,6 @@ void RegisterLocalState(PrefRegistrySimp
+@@ -1415,7 +1413,6 @@ void RegisterLocalState(PrefRegistrySimp
    PushMessagingServiceImpl::RegisterPrefs(registry);
  #endif
    RegisterScreenshotPrefs(registry);
@@ -1298,7 +1241,7 @@
    secure_origin_allowlist::RegisterPrefs(registry);
    segmentation_platform::SegmentationPlatformService::RegisterLocalStatePrefs(
        registry);
-@@ -1598,8 +1595,6 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -1686,8 +1683,6 @@ void RegisterProfilePrefs(user_prefs::Pr
    PushMessagingAppIdentifier::RegisterProfilePrefs(registry);
    QuietNotificationPermissionUiState::RegisterProfilePrefs(registry);
    RegisterBrowserUserPrefs(registry);
@@ -1307,20 +1250,22 @@
    SearchPrefetchService::RegisterProfilePrefs(registry);
    blocked_content::SafeBrowsingTriggeredPopupBlocker::RegisterProfilePrefs(
        registry);
-@@ -2181,18 +2176,6 @@ void MigrateObsoleteProfilePrefs(Profile
+@@ -2279,20 +2274,6 @@ void MigrateObsoleteProfilePrefs(PrefSer
  #endif  // BUILDFLAG(IS_ANDROID)
    profile_prefs->ClearPref(kOriginTrialPrefKey);
  
 -  // Once this migration is complete, the tracked preference
--  // `kGoogleServicesLastAccountIdDeprecated` can be removed.
+-  // `kGoogleServicesLastSyncingAccountIdDeprecated` can be removed.
 -  if (profile_prefs->HasPrefPath(
--          prefs::kGoogleServicesLastAccountIdDeprecated)) {
--    std::string account_id =
--        profile_prefs->GetString(prefs::kGoogleServicesLastAccountIdDeprecated);
--    profile_prefs->ClearPref(prefs::kGoogleServicesLastAccountIdDeprecated);
+-          prefs::kGoogleServicesLastSyncingAccountIdDeprecated)) {
+-    std::string account_id = profile_prefs->GetString(
+-        prefs::kGoogleServicesLastSyncingAccountIdDeprecated);
+-    profile_prefs->ClearPref(
+-        prefs::kGoogleServicesLastSyncingAccountIdDeprecated);
 -    bool is_email = account_id.find('@') != std::string::npos;
 -    if (!is_email && !account_id.empty()) {
--      profile_prefs->SetString(prefs::kGoogleServicesLastGaiaId, account_id);
+-      profile_prefs->SetString(prefs::kGoogleServicesLastSyncingGaiaId,
+-                               account_id);
 -    }
 -  }
  
@@ -1358,39 +1303,33 @@
  #include "components/supervised_user/core/common/buildflags.h"
  #include "components/sync/base/features.h"
  #include "components/sync/base/model_type.h"
-@@ -126,8 +124,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -130,9 +128,6 @@ const prefs::TrackedPreferenceMetadata k
      {5, extensions::pref_names::kExtensions, EnforcementLevel::NO_ENFORCEMENT,
       PrefTrackingStrategy::SPLIT, ValueType::IMPERSONAL},
  #endif
--    {6, prefs::kGoogleServicesLastUsername, EnforcementLevel::ENFORCE_ON_LOAD,
--     PrefTrackingStrategy::ATOMIC, ValueType::PERSONAL},
+-    {6, prefs::kGoogleServicesLastSyncingUsername,
+-     EnforcementLevel::ENFORCE_ON_LOAD, PrefTrackingStrategy::ATOMIC,
+-     ValueType::PERSONAL},
      {7, prefs::kSearchProviderOverrides, EnforcementLevel::ENFORCE_ON_LOAD,
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
  #if !BUILDFLAG(IS_ANDROID)
-@@ -151,8 +147,6 @@ const prefs::TrackedPreferenceMetadata k
+@@ -156,16 +151,6 @@ const prefs::TrackedPreferenceMetadata k
       PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
      // kSyncRemainingRollbackTries is deprecated and will be removed a few
      // releases after M50.
 -    {18, prefs::kSafeBrowsingIncidentsSent, EnforcementLevel::ENFORCE_ON_LOAD,
 -     PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
- #if BUILDFLAG(IS_WIN)
-     {19, prefs::kSwReporterPromptVersion, EnforcementLevel::ENFORCE_ON_LOAD,
-      PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
-@@ -161,14 +155,6 @@ const prefs::TrackedPreferenceMetadata k
-     {22, prefs::kSwReporterPromptSeed, EnforcementLevel::ENFORCE_ON_LOAD,
-      PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
- #endif
 -    {23, prefs::kGoogleServicesAccountId, EnforcementLevel::ENFORCE_ON_LOAD,
 -     PrefTrackingStrategy::ATOMIC, ValueType::PERSONAL},
--    // This is being migrated to `kGoogleServicesLastGaiaId` since 2022/10, and
--    // should move to `CleanupDeprecatedTrackedPreferences()` in
+-    // This is being migrated to `kGoogleServicesLastSyncingGaiaId` since
+-    // 2022/10, and should move to `CleanupDeprecatedTrackedPreferences()` in
 -    // pref_hash_filter.cc when that migration completes.
--    {24, prefs::kGoogleServicesLastAccountIdDeprecated,
+-    {24, prefs::kGoogleServicesLastSyncingAccountIdDeprecated,
 -     EnforcementLevel::ENFORCE_ON_LOAD, PrefTrackingStrategy::ATOMIC,
 -     ValueType::PERSONAL},
- #if BUILDFLAG(IS_WIN)
-     {25, prefs::kSettingsResetPromptPromptWave,
-      EnforcementLevel::ENFORCE_ON_LOAD, PrefTrackingStrategy::ATOMIC,
+     {29, prefs::kMediaStorageIdSalt, EnforcementLevel::ENFORCE_ON_LOAD,
+      PrefTrackingStrategy::ATOMIC, ValueType::IMPERSONAL},
+ #if BUILDFLAG(IS_WIN) && BUILDFLAG(GOOGLE_CHROME_BRANDING)
 --- a/chrome/browser/prefs/pref_functional_browsertest.cc
 +++ b/chrome/browser/prefs/pref_functional_browsertest.cc
 @@ -24,7 +24,6 @@
@@ -1468,7 +1407,7 @@
  void ProfileAttributesEntry::LockForceSigninProfile(bool is_lock) {
 --- a/chrome/browser/profiles/profile_attributes_storage.cc
 +++ b/chrome/browser/profiles/profile_attributes_storage.cc
-@@ -41,7 +41,6 @@
+@@ -42,7 +42,6 @@
  #include "components/prefs/scoped_user_pref_update.h"
  #include "components/profile_metrics/state.h"
  #include "components/signin/public/base/persistent_repeating_timer.h"
@@ -1476,7 +1415,7 @@
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "content/public/browser/browser_task_traits.h"
  #include "content/public/browser/browser_thread.h"
-@@ -418,9 +417,7 @@ void ProfileAttributesStorage::AddProfil
+@@ -419,9 +418,7 @@ void ProfileAttributesStorage::AddProfil
                     params.profile_name,
                     /*include_check_for_legacy_profile_name*/ false))
            // Assume newly created profiles use a default avatar.
@@ -1555,7 +1494,7 @@
  #if BUILDFLAG(IS_CHROMEOS_LACROS)
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
-@@ -684,7 +684,7 @@
+@@ -844,7 +844,7 @@
            </category-setting-exceptions>
          </settings-subpage>
        </template>
@@ -1566,7 +1505,7 @@
            <settings-subpage page-title="$i18n{siteSettingsAds}"
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.ts
-@@ -94,7 +94,7 @@ export class SettingsPrivacyPageElement
+@@ -97,7 +97,7 @@ export class SettingsPrivacyPageElement
        enableSafeBrowsingSubresourceFilter_: {
          type: Boolean,
          value() {
@@ -1577,7 +1516,7 @@
  
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -76,179 +76,6 @@
+@@ -80,179 +80,6 @@
        <img id="banner" alt=""
            src="chrome://settings/images/safe_browsing_banner.svg">
      </picture>
@@ -1757,7 +1696,7 @@
      <div class="cr-row first">
        <h2>$i18n{advancedPageTitle}</h2>
      </div>
-@@ -336,11 +163,3 @@
+@@ -320,11 +147,3 @@
          on-click="onAdvancedProtectionProgramLinkClick_"
          external>
      </cr-link-row>
@@ -1771,7 +1710,7 @@
 -    </template>
 --- a/chrome/browser/resources/settings/privacy_page/security_page.ts
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.ts
-@@ -218,21 +218,6 @@ export class SettingsSecurityPageElement
+@@ -214,21 +214,6 @@ export class SettingsSecurityPageElement
  
    override ready() {
      super.ready();
@@ -1793,7 +1732,7 @@
    }
  
    /**
-@@ -282,8 +267,7 @@ export class SettingsSecurityPageElement
+@@ -278,8 +263,7 @@ export class SettingsSecurityPageElement
    }
  
    private getDisabledExtendedSafeBrowsing_(): boolean {
@@ -1805,7 +1744,7 @@
    private getSafeBrowsingDisabledSubLabel_(): string {
 --- a/chrome/browser/resources/settings/site_settings_page/site_settings_page.ts
 +++ b/chrome/browser/resources/settings/site_settings_page/site_settings_page.ts
-@@ -51,7 +51,7 @@ function getCategoryItemMap(): Map<Conte
+@@ -52,7 +52,7 @@ function getCategoryItemMap(): Map<Conte
        enabledLabel: 'siteSettingsAdsAllowed',
        disabledLabel: 'siteSettingsAdsBlocked',
        shouldShow: () =>
@@ -1897,36 +1836,6 @@
  #include "components/security_interstitials/content/cert_report_helper.h"
  #include "components/security_interstitials/content/certificate_error_report.h"
  #include "components/variations/variations_params_manager.h"
---- a/chrome/browser/safe_browsing/chrome_cleaner/chrome_cleaner_controller_impl_win.cc
-+++ b/chrome/browser/safe_browsing/chrome_cleaner/chrome_cleaner_controller_impl_win.cc
-@@ -43,7 +43,6 @@
- #include "components/component_updater/component_updater_service.h"
- #include "components/component_updater/pref_names.h"
- #include "components/prefs/pref_service.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "content/public/browser/browser_task_traits.h"
- #include "content/public/browser/browser_thread.h"
- #include "net/http/http_status_code.h"
---- a/chrome/browser/safe_browsing/chrome_cleaner/reporter_runner_browsertest_win.cc
-+++ b/chrome/browser/safe_browsing/chrome_cleaner/reporter_runner_browsertest_win.cc
-@@ -42,7 +42,6 @@
- #include "components/policy/core/common/mock_configuration_policy_provider.h"
- #include "components/policy/policy_constants.h"
- #include "components/prefs/pref_service.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "content/public/test/browser_test.h"
- #include "testing/gmock/include/gmock/gmock.h"
- #include "testing/gtest/include/gtest/gtest.h"
---- a/chrome/browser/safe_browsing/chrome_cleaner/srt_client_info_win.cc
-+++ b/chrome/browser/safe_browsing/chrome_cleaner/srt_client_info_win.cc
-@@ -12,7 +12,6 @@
- #include "chrome/browser/profiles/profile.h"
- #include "chrome/browser/profiles/profile_manager.h"
- #include "chrome/common/channel_info.h"
--#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
- #include "components/version_info/version_info.h"
- 
- namespace safe_browsing {
 --- a/chrome/browser/safe_browsing/chrome_password_protection_service.cc
 +++ b/chrome/browser/safe_browsing/chrome_password_protection_service.cc
 @@ -67,7 +67,6 @@
@@ -1937,7 +1846,7 @@
  #include "components/safe_browsing/core/common/safebrowsing_constants.h"
  #include "components/safe_browsing/core/common/utils.h"
  #include "components/security_interstitials/content/unsafe_resource_util.h"
-@@ -1217,14 +1216,6 @@ bool ChromePasswordProtectionService::Ha
+@@ -1239,14 +1238,6 @@ bool ChromePasswordProtectionService::Ha
  }
  
  void ChromePasswordProtectionService::OnWarningTriggerChanged() {
@@ -1952,7 +1861,7 @@
    // Clears captured enterprise password hashes or GSuite sync password hashes.
    password_manager::PasswordReuseManager* reuse_manager =
        GetPasswordReuseManager();
-@@ -1394,7 +1385,7 @@ PrefService* ChromePasswordProtectionSer
+@@ -1416,7 +1407,7 @@ PrefService* ChromePasswordProtectionSer
  }
  
  bool ChromePasswordProtectionService::IsSafeBrowsingEnabled() {
@@ -1961,7 +1870,7 @@
  }
  
  bool ChromePasswordProtectionService::IsExtendedReporting() {
-@@ -1414,39 +1405,7 @@ bool ChromePasswordProtectionService::Is
+@@ -1436,39 +1427,7 @@ bool ChromePasswordProtectionService::Is
  bool ChromePasswordProtectionService::IsPingingEnabled(
      LoginReputationClientRequest::TriggerType trigger_type,
      ReusedPasswordAccountType password_type) {
@@ -2002,7 +1911,7 @@
  }
  
  RequestOutcome ChromePasswordProtectionService::GetPingNotSentReason(
-@@ -1671,23 +1630,6 @@ MaybeCreateCommitDeferringCondition(
+@@ -1693,23 +1652,6 @@ MaybeCreateCommitDeferringCondition(
               : nullptr;
  }
  
@@ -2044,7 +1953,7 @@
    // policy.
 --- a/chrome/browser/safe_browsing/chrome_password_protection_service_browsertest.cc
 +++ b/chrome/browser/safe_browsing/chrome_password_protection_service_browsertest.cc
-@@ -40,7 +40,6 @@
+@@ -43,7 +43,6 @@
  #include "components/safe_browsing/content/browser/password_protection/password_protection_test_util.h"
  #include "components/safe_browsing/core/browser/password_protection/metrics_util.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2086,7 +1995,7 @@
  #include "content/public/browser/browser_task_traits.h"
 --- a/chrome/browser/safe_browsing/download_protection/download_protection_service_unittest.cc
 +++ b/chrome/browser/safe_browsing/download_protection/download_protection_service_unittest.cc
-@@ -93,7 +93,6 @@
+@@ -95,7 +95,6 @@
  #include "components/safe_browsing/core/browser/db/v4_protocol_manager_util.h"
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
@@ -2305,7 +2214,7 @@
  
 --- a/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
 +++ b/chrome/browser/safe_browsing/safe_browsing_blocking_page_test.cc
-@@ -83,7 +83,6 @@
+@@ -84,7 +84,6 @@
  #include "components/safe_browsing/core/browser/safe_browsing_metrics_collector.h"
  #include "components/safe_browsing/core/browser/verdict_cache_manager.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -2615,7 +2524,7 @@
  #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "components/signin/public/identity_manager/accounts_mutator.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -118,14 +117,8 @@ void DiceWebSigninInterceptor::RegisterP
+@@ -119,14 +118,8 @@ void DiceWebSigninInterceptor::RegisterP
    registry->RegisterBooleanPref(prefs::kSigninInterceptionEnabled, true);
    registry->RegisterStringPref(prefs::kManagedAccountsSigninRestriction,
                                 std::string());
@@ -2640,7 +2549,7 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
-@@ -138,7 +137,7 @@ void HeaderModificationDelegateImpl::Pro
+@@ -139,7 +138,7 @@ void HeaderModificationDelegateImpl::Pro
  #endif
  #if BUILDFLAG(ENABLE_DICE_SUPPORT)
        sync_service && sync_service->IsSyncFeatureEnabled(),
@@ -2734,10 +2643,10 @@
  #include "components/signin/public/base/signin_client.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/accounts_in_cookie_jar_info.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
- #include "components/signin/public/identity_manager/primary_account_mutator.h"
-@@ -58,10 +57,6 @@ SigninManager::SigninManager(PrefService
+@@ -59,10 +58,6 @@ SigninManager::SigninManager(PrefService
      : prefs_(prefs),
        signin_client_(client),
        identity_manager_(identity_manager) {
@@ -2748,7 +2657,7 @@
    UpdateUnconsentedPrimaryAccount();
    identity_manager_observation_.Observe(&identity_manager_.get());
  }
-@@ -199,16 +194,6 @@ CoreAccountInfo SigninManager::ComputeUn
+@@ -201,16 +196,6 @@ CoreAccountInfo SigninManager::ComputeUn
          signin::ConsentLevel::kSync);
    }
  
@@ -2786,7 +2695,7 @@
    // Display the signin promo if the user is not signed in.
 --- a/chrome/browser/signin/signin_ui_util.cc
 +++ b/chrome/browser/signin/signin_ui_util.cc
-@@ -40,7 +40,6 @@
+@@ -41,7 +41,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
  #include "components/signin/public/base/signin_metrics.h"
@@ -2801,10 +2710,10 @@
  #include "components/policy/core/browser/signin/profile_separation_policies.h"
  #include "components/prefs/pref_service.h"
 -#include "components/signin/public/base/signin_pref_names.h"
+ #include "components/signin/public/identity_manager/account_managed_status_finder.h"
  #include "content/public/browser/storage_partition.h"
  #include "google_apis/gaia/gaia_auth_util.h"
- #include "net/cookies/canonical_cookie.h"
-@@ -63,8 +62,7 @@ ScopedForceSigninSetterForTesting::~Scop
+@@ -64,8 +63,7 @@ ScopedForceSigninSetterForTesting::~Scop
  CookiesMover::CookiesMover(base::WeakPtr<Profile> source_profile,
                             base::WeakPtr<Profile> destination_profile,
                             base::OnceCallback<void()> callback)
@@ -2814,7 +2723,7 @@
        source_profile_(std::move(source_profile)),
        destination_profile_(std::move(destination_profile)),
        callback_(std::move(callback)) {
-@@ -74,25 +72,7 @@ CookiesMover::CookiesMover(base::WeakPtr
+@@ -75,25 +73,7 @@ CookiesMover::CookiesMover(base::WeakPtr
  CookiesMover::~CookiesMover() = default;
  
  void CookiesMover::StartMovingCookies() {
@@ -2840,6 +2749,23 @@
  }
  
  void CookiesMover::OnCookiesReceived(
+@@ -235,16 +215,7 @@ bool ProfileSeparationAllowsKeepingUnman
+ bool IsAccountExemptedFromEnterpriseProfileSeparation(
+     Profile* profile,
+     const std::string& email) {
+-  if (profile->GetPrefs()
+-          ->FindPreference(prefs::kProfileSeparationDomainExceptionList)
+-          ->IsDefaultValue()) {
+     return true;
+-  }
+-
+-  const std::string domain = gaia::ExtractDomainName(email);
+-  const auto& allowed_domains = profile->GetPrefs()->GetList(
+-      prefs::kProfileSeparationDomainExceptionList);
+-  return base::Contains(allowed_domains, base::Value(domain));
+ }
+ #endif  // !BUILDFLAG(IS_CHROMEOS)
+ 
 --- a/chrome/browser/signin/signin_util_win.cc
 +++ b/chrome/browser/signin/signin_util_win.cc
 @@ -35,7 +35,6 @@
@@ -3000,7 +2926,7 @@
  #include "ui/events/keycodes/keyboard_codes.h"
 --- a/chrome/browser/ui/chrome_pages.cc
 +++ b/chrome/browser/ui/chrome_pages.cc
-@@ -73,7 +73,6 @@
+@@ -74,7 +74,6 @@
  #if !BUILDFLAG(IS_ANDROID)
  #include "base/metrics/histogram_functions.h"
  #include "chrome/browser/signin/identity_manager_factory.h"
@@ -3010,16 +2936,16 @@
  
 --- a/chrome/browser/ui/hats/trust_safety_sentiment_service.cc
 +++ b/chrome/browser/ui/hats/trust_safety_sentiment_service.cc
-@@ -24,8 +24,6 @@
- #include "components/password_manager/core/common/password_manager_pref_names.h"
+@@ -25,8 +25,6 @@
  #include "components/prefs/pref_service.h"
  #include "components/privacy_sandbox/privacy_sandbox_prefs.h"
+ #include "components/privacy_sandbox/tracking_protection_prefs.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/unified_consent/pref_names.h"
  #include "components/version_info/channel.h"
  
-@@ -71,9 +69,6 @@ bool HasNonDefaultPrivacySetting(Profile
+@@ -72,9 +70,6 @@ bool HasNonDefaultPrivacySetting(Profile
    auto* prefs = profile->GetPrefs();
  
    std::vector<std::string> prefs_to_check = {
@@ -3029,7 +2955,7 @@
        prefs::kEnableDoNotTrack,
        password_manager::prefs::kPasswordLeakDetectionEnabled,
        prefs::kCookieControlsMode,
-@@ -91,13 +86,9 @@ bool HasNonDefaultPrivacySetting(Profile
+@@ -92,13 +87,9 @@ bool HasNonDefaultPrivacySetting(Profile
    // Users consenting to sync automatically enable UKM collection
    auto* ukm_pref = prefs->FindPreference(
        unified_consent::prefs::kUrlKeyedAnonymizedDataCollectionEnabled);
@@ -3044,7 +2970,16 @@
  
    // Check the default value for each user facing content setting. Note that
    // this will not include content setting exceptions set via permission
-@@ -391,36 +382,6 @@ void TrustSafetySentimentService::Intera
+@@ -173,8 +164,6 @@ std::map<std::string, bool> BuildProduct
+     PasswordProtectionUIType ui_type,
+     PasswordProtectionUIAction action) {
+   std::map<std::string, bool> product_specific_data;
+-  product_specific_data["Enhanced protection enabled"] =
+-      safe_browsing::IsEnhancedProtectionEnabled(*profile->GetPrefs());
+   product_specific_data["Is page info UI"] = false;
+   product_specific_data["Is modal dialog UI"] = false;
+   product_specific_data["Is interstitial UI"] = false;
+@@ -453,30 +442,12 @@ void TrustSafetySentimentService::Intera
  void TrustSafetySentimentService::InteractedWithSafeBrowsingInterstitial(
      bool did_proceed,
      safe_browsing::SBThreatType threat_type) {
@@ -3061,26 +2996,20 @@
 -      threat_type == safe_browsing::SB_THREAT_TYPE_URL_UNWANTED;
 -  product_specific_data["Threat is billing"] =
 -      threat_type == safe_browsing::SB_THREAT_TYPE_BILLING;
--  DCHECK(!IsOtherInterstitialCategory(threat_type));
+-  DCHECK(!IsOtherSBInterstitialCategory(threat_type));
 -  TriggerOccurred(FeatureArea::kSafeBrowsingInterstitial,
 -                  product_specific_data);
--}
--
--bool TrustSafetySentimentService::IsOtherInterstitialCategory(
--    safe_browsing::SBThreatType threat_type) {
--  switch (threat_type) {
--    case safe_browsing::SB_THREAT_TYPE_URL_PHISHING:
--    case safe_browsing::SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING:
--    case safe_browsing::SB_THREAT_TYPE_URL_MALWARE:
--    case safe_browsing::SB_THREAT_TYPE_URL_UNWANTED:
--    case safe_browsing::SB_THREAT_TYPE_BILLING:
--      return false;
--    default:
--      return true;
--  }
  }
  
- void TrustSafetySentimentService::OnOffTheRecordProfileCreated(
+ void TrustSafetySentimentService::InteractedWithDownloadWarningUI(
+     DownloadItemWarningData::WarningSurface surface,
+     DownloadItemWarningData::WarningAction action) {
+   std::map<std::string, bool> product_specific_data;
+-  product_specific_data["Enhanced protection enabled"] =
+-      safe_browsing::IsEnhancedProtectionEnabled(*profile_->GetPrefs());
+   product_specific_data["Is mainpage UI"] = false;
+   product_specific_data["Is downloads page UI"] = false;
+   product_specific_data["Is download prompt UI"] = false;
 --- a/chrome/browser/ui/startup/first_run_service.cc
 +++ b/chrome/browser/ui/startup/first_run_service.cc
 @@ -33,7 +33,6 @@
@@ -3339,14 +3268,14 @@
        break;
 --- a/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
 +++ b/chrome/browser/ui/webui/downloads/downloads_dom_handler.cc
-@@ -44,7 +44,6 @@
+@@ -46,7 +46,6 @@
  #include "components/history/core/common/pref_names.h"
  #include "components/prefs/pref_service.h"
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "content/public/browser/browser_thread.h"
+ #include "content/public/browser/download_item_utils.h"
  #include "content/public/browser/download_manager.h"
- #include "content/public/browser/render_process_host.h"
 --- a/chrome/browser/ui/webui/history/history_ui.cc
 +++ b/chrome/browser/ui/webui/history/history_ui.cc
 @@ -44,7 +44,6 @@
@@ -3442,7 +3371,7 @@
 --- a/chrome/browser/ui/webui/settings/safety_check_handler.cc
 +++ b/chrome/browser/ui/webui/settings/safety_check_handler.cc
 @@ -30,7 +30,6 @@
- #include "chrome/grit/chromium_strings.h"
+ #include "chrome/grit/branded_strings.h"
  #include "chrome/grit/generated_resources.h"
  #include "components/prefs/pref_service.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
@@ -3451,15 +3380,15 @@
  #include "content/public/browser/storage_partition.h"
 --- a/chrome/browser/ui/webui/settings/safety_hub_handler.cc
 +++ b/chrome/browser/ui/webui/settings/safety_hub_handler.cc
-@@ -30,7 +30,6 @@
+@@ -36,7 +36,6 @@
  #include "components/content_settings/core/common/features.h"
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/permissions/constants.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
+ #include "components/signin/public/base/consent_level.h"
+ #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/site_engagement/content/site_engagement_service.h"
- #include "ui/base/l10n/l10n_util.h"
- #include "ui/base/l10n/time_format.h"
-@@ -100,14 +99,6 @@ GetUnusedSitePermissionsFromDict(
+@@ -102,14 +101,6 @@ GetUnusedSitePermissionsFromDict(
  
  // Returns the state of Safe Browsing setting.
  SafeBrowsingState GetSafeBrowsingState(PrefService* pref_service) {
@@ -3473,18 +3402,18 @@
 -    return SafeBrowsingState::kDisabledByExtension;
    return SafeBrowsingState::kDisabledByUser;
  }
- }  // namespace
+ 
 --- a/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
 +++ b/chrome/browser/ui/webui/settings/settings_localized_strings_provider.cc
-@@ -80,7 +80,6 @@
+@@ -82,7 +82,6 @@
  #include "components/privacy_sandbox/privacy_sandbox_features.h"
  #include "components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/services/screen_ai/buildflags/buildflags.h"
  #include "components/signin/public/base/signin_buildflags.h"
- #include "components/strings/grit/components_chromium_strings.h"
-@@ -3204,11 +3203,6 @@ void AddSiteSettingsStrings(content::Web
+ #include "components/strings/grit/components_branded_strings.h"
+@@ -3295,11 +3294,6 @@ void AddSiteSettingsStrings(content::Web
    html_source->AddLocalizedStrings(kSensorsLocalizedStrings);
  
    html_source->AddBoolean(
@@ -3498,8 +3427,8 @@
  
 --- a/chrome/browser/ui/webui/settings/settings_ui.cc
 +++ b/chrome/browser/ui/webui/settings/settings_ui.cc
-@@ -89,7 +89,6 @@
- #include "components/privacy_sandbox/privacy_sandbox_features.h"
+@@ -92,7 +92,6 @@
+ #include "components/privacy_sandbox/tracking_protection_settings.h"
  #include "components/safe_browsing/core/browser/hashprefix_realtime/hash_realtime_utils.h"
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/signin/public/base/signin_pref_names.h"
@@ -3557,8 +3486,8 @@
    std::string default_email;
    if (reason == signin_metrics::Reason::kSigninPrimaryAccount ||
        reason == signin_metrics::Reason::kForcedSigninPrimaryAccount) {
--    default_email =
--        profile->GetPrefs()->GetString(prefs::kGoogleServicesLastUsername);
+-    default_email = profile->GetPrefs()->GetString(
+-        prefs::kGoogleServicesLastSyncingUsername);
    } else {
      if (!net::GetValueForKeyInQuery(current_url, "email", &default_email))
        default_email.clear();
@@ -3616,8 +3545,8 @@
      // With force sign in enabled, cross account sign in is not allowed.
      if (signin_util::IsForceSigninEnabled() &&
          IsCrossAccountError(profile, gaia_id)) {
--      std::string last_email =
--          profile->GetPrefs()->GetString(prefs::kGoogleServicesLastUsername);
+-      std::string last_email = profile->GetPrefs()->GetString(
+-          prefs::kGoogleServicesLastSyncingUsername);
 +      std::string last_email;
        return SigninUIError::ProfileWasUsedByAnotherAccount(email, last_email);
      }
@@ -3627,7 +3556,7 @@
  bool IsCrossAccountError(Profile* profile, const std::string& gaia_id) {
    DCHECK(!gaia_id.empty());
 -  std::string last_gaia_id =
--      profile->GetPrefs()->GetString(prefs::kGoogleServicesLastGaiaId);
+-      profile->GetPrefs()->GetString(prefs::kGoogleServicesLastSyncingGaiaId);
 -  return !last_gaia_id.empty() && gaia_id != last_gaia_id;
 +  return false;
  }
@@ -3645,8 +3574,8 @@
    // last authenticated account of the current profile, then Chrome will show a
    // confirmation dialog before starting sync.
    // TODO(skym): Warn for high risk upgrade scenario (https://crbug.com/572754).
--  std::string last_email =
--      profile_->GetPrefs()->GetString(prefs::kGoogleServicesLastUsername);
+-  std::string last_email = profile_->GetPrefs()->GetString(
+-      prefs::kGoogleServicesLastSyncingUsername);
 +  std::string last_email;
    delegate_->ShowMergeSyncDataConfirmation(
        last_email, account_info_.email,
@@ -3690,11 +3619,12 @@
  #include "components/spellcheck/browser/pref_names.h"
  #include "components/sync_preferences/pref_service_syncable.h"
  #include "components/unified_consent/unified_consent_metrics.h"
-@@ -35,7 +34,6 @@ namespace {
+@@ -34,8 +33,6 @@ namespace {
+ 
  std::vector<std::string> GetSyncedServicePrefNames() {
    return {
-     prefs::kSearchSuggestEnabled, embedder_support::kAlternateErrorPagesEnabled,
--        prefs::kSafeBrowsingEnabled, prefs::kSafeBrowsingScoutReportingEnabled,
+-    prefs::kSearchSuggestEnabled, prefs::kSafeBrowsingEnabled,
+-        prefs::kSafeBrowsingScoutReportingEnabled,
          spellcheck::prefs::kSpellCheckUseSpellingService,
          commerce::kPriceEmailNotificationsEnabled,
  #if BUILDFLAG(IS_ANDROID)
@@ -3728,8 +3658,8 @@
  namespace feed {
  namespace {
 @@ -178,9 +177,6 @@ FeedStream::FeedStream(RefreshTaskSchedu
-   articles_list_visible_.Init(prefs::kArticlesListVisible, profile_prefs,
-                               preference_change_callback);
+   snippets_enabled_by_dse_.Init(prefs::kEnableSnippetsByDse, profile_prefs,
+                                 preference_change_callback);
    has_stored_data_.Init(feed::prefs::kHasStoredData, profile_prefs);
 -  signin_allowed_.Init(
 -      ::prefs::kSigninAllowed, profile_prefs,
@@ -3739,7 +3669,7 @@
  
 --- a/components/feed/core/v2/public/feed_service.cc
 +++ b/components/feed/core/v2/public/feed_service.cc
-@@ -32,7 +32,6 @@
+@@ -31,7 +31,6 @@
  #include "components/history/core/browser/history_types.h"
  #include "components/prefs/pref_service.h"
  #include "components/signin/public/base/consent_level.h"
@@ -3747,15 +3677,15 @@
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "net/base/network_change_notifier.h"
  #include "services/network/public/cpp/shared_url_loader_factory.h"
-@@ -167,7 +166,7 @@ class FeedService::StreamDelegateImpl :
+@@ -166,7 +165,7 @@ class FeedService::StreamDelegateImpl :
    // Returns if signin is allowed on Android. Return true on other platform so
    // behavior is unchanged there.
    bool IsSigninAllowed() override {
 -    return profile_prefs_->GetBoolean(::prefs::kSigninAllowed);
 +    return false;
    }
-   bool IsSyncOn() override {
-     return identity_manager_->HasPrimaryAccount(signin::ConsentLevel::kSync);
+   void RegisterExperiments(const Experiments& experiments) override {
+     service_delegate_->RegisterExperiments(experiments);
 --- a/components/lookalikes/core/safety_tips_config.cc
 +++ b/components/lookalikes/core/safety_tips_config.cc
 @@ -5,6 +5,7 @@
@@ -3806,16 +3736,6 @@
  }
  
  }  // namespace password_manager
---- a/components/password_manager/core/browser/password_bubble_experiment.cc
-+++ b/components/password_manager/core/browser/password_bubble_experiment.cc
-@@ -18,7 +18,6 @@
- #include "components/prefs/pref_registry_simple.h"
- #include "components/prefs/pref_service.h"
- #include "components/signin/public/base/signin_buildflags.h"
--#include "components/signin/public/base/signin_pref_names.h"
- #include "components/sync/base/user_selectable_type.h"
- #include "components/sync/service/sync_service.h"
- #include "components/sync/service/sync_user_settings.h"
 --- a/components/password_manager/core/browser/password_reuse_detector.cc
 +++ b/components/password_manager/core/browser/password_reuse_detector.cc
 @@ -17,7 +17,6 @@
@@ -3847,7 +3767,7 @@
  #include "third_party/abseil-cpp/absl/types/optional.h"
  
  using base::RecordAction;
-@@ -340,21 +339,6 @@ void PasswordReuseManagerImpl::ScheduleP
+@@ -338,21 +337,6 @@ void PasswordReuseManagerImpl::ScheduleP
  }
  
  void PasswordReuseManagerImpl::ScheduleEnterprisePasswordURLUpdate() {
@@ -3871,7 +3791,7 @@
  void PasswordReuseManagerImpl::RequestLoginsFromStores() {
 --- a/components/password_manager/core/browser/password_store.cc
 +++ b/components/password_manager/core/browser/password_store.cc
-@@ -39,7 +39,6 @@
+@@ -37,7 +37,6 @@
  #include "components/password_manager/core/common/password_manager_features.h"
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/prefs/pref_service.h"
@@ -3881,15 +3801,15 @@
  namespace password_manager {
 --- a/components/password_manager/core/browser/password_sync_util.cc
 +++ b/components/password_manager/core/browser/password_sync_util.cc
-@@ -9,7 +9,6 @@
+@@ -11,7 +11,6 @@
  #include "components/password_manager/core/browser/password_form.h"
- #include "components/password_manager/core/browser/password_manager_features_util.h"
+ #include "components/password_manager/core/browser/password_manager_client.h"
  #include "components/password_manager/core/common/password_manager_features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/signin/public/identity_manager/identity_manager.h"
  #include "components/sync/base/user_selectable_type.h"
  #include "components/sync/service/sync_user_settings.h"
-@@ -93,11 +92,6 @@ bool IsGaiaCredentialPage(const std::str
+@@ -95,11 +94,6 @@ bool IsGaiaCredentialPage(const std::str
  
  bool ShouldSaveEnterprisePasswordHash(const PasswordForm& form,
                                        const PrefService& prefs) {
@@ -3903,7 +3823,7 @@
  
 --- a/components/password_manager/core/browser/store_metrics_reporter.cc
 +++ b/components/password_manager/core/browser/store_metrics_reporter.cc
-@@ -26,7 +26,6 @@
+@@ -27,7 +27,6 @@
  #include "components/password_manager/core/common/password_manager_features.h"
  #include "components/password_manager/core/common/password_manager_pref_names.h"
  #include "components/safe_browsing/core/common/features.h"
@@ -3911,7 +3831,7 @@
  #include "components/sync/base/features.h"
  #include "google_apis/gaia/gaia_auth_util.h"
  #include "google_apis/gaia/gaia_urls.h"
-@@ -693,7 +692,7 @@ StoreMetricsReporter::StoreMetricsReport
+@@ -694,7 +693,7 @@ StoreMetricsReporter::StoreMetricsReport
    is_opted_in_account_storage_ =
        features_util::IsOptedInForAccountStorage(prefs, sync_service);
  
@@ -4025,7 +3945,7 @@
  #include "components/safe_browsing/core/common/utils.h"
  #include "components/sessions/content/session_tab_helper.h"
  #include "content/public/browser/browser_context.h"
-@@ -389,7 +388,7 @@ GURL SafeBrowsingNavigationObserverManag
+@@ -390,7 +389,7 @@ GURL SafeBrowsingNavigationObserverManag
  bool SafeBrowsingNavigationObserverManager::IsEnabledAndReady(
      PrefService* prefs,
      bool has_safe_browsing_service) {
@@ -4150,7 +4070,7 @@
  #include "components/security_interstitials/content/unsafe_resource_util.h"
 --- a/components/safe_browsing/content/browser/web_ui/safe_browsing_ui.cc
 +++ b/components/safe_browsing/content/browser/web_ui/safe_browsing_ui.cc
-@@ -36,7 +36,6 @@
+@@ -37,7 +37,6 @@
  #include "components/safe_browsing/core/common/features.h"
  #include "components/safe_browsing/core/common/proto/csd.pb.h"
  #include "components/safe_browsing/core/common/proto/safebrowsingv5.pb.h"
@@ -4158,7 +4078,7 @@
  #include "content/public/browser/global_routing_id.h"
  #include "services/network/public/mojom/cookie_manager.mojom.h"
  #if BUILDFLAG(FULL_SAFE_BROWSING)
-@@ -1710,17 +1709,7 @@ std::string SerializeHitReport(const Hit
+@@ -1716,17 +1715,7 @@ std::string SerializeHitReport(const Hit
    }
    hit_report_dict.Set("threat_source", threat_source);
    std::string extended_reporting_level;
@@ -4176,7 +4096,7 @@
    hit_report_dict.Set("extended_reporting_level", extended_reporting_level);
    hit_report_dict.Set("is_enhanced_protection",
                        hit_report.is_enhanced_protection);
-@@ -2767,18 +2756,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
+@@ -2773,18 +2762,13 @@ void SafeBrowsingUIHandler::GetPrefs(con
    AllowJavascript();
    DCHECK(!args.empty());
    std::string callback_id = args[0].GetString();
@@ -4515,11 +4435,11 @@
  #include "components/safe_browsing/core/common/features.h"
 -#include "components/safe_browsing/core/common/safe_browsing_prefs.h"
  #include "components/safe_browsing/core/common/utils.h"
+ #include "components/variations/service/variations_service.h"
  
- namespace safe_browsing::hash_realtime_utils {
-@@ -82,44 +81,11 @@ HashRealTimeSelection DetermineHashRealT
-     bool is_off_the_record,
+@@ -96,45 +95,11 @@ HashRealTimeSelection DetermineHashRealT
      PrefService* prefs,
+     absl::optional<std::string> stored_permanent_country,
      bool log_usage_histograms) {
 -  // All prefs used in this method must match the ones returned by
 -  // |GetHashRealTimeSelectionConfiguringPrefs| so that consumers listening for
@@ -4528,8 +4448,9 @@
 -    std::string failed_requirement_histogram_suffix;
 -    bool passes_requirement;
 -  } requirements[] = {
--      {"IneligibleForSession",
--       hash_realtime_utils::IsHashRealTimeLookupEligibleInSession()},
+-      {"IneligibleForSessionOrLocation",
+-       hash_realtime_utils::IsHashRealTimeLookupEligibleInSessionAndLocation(
+-           stored_permanent_country)},
 -      {"OffTheRecord", !is_off_the_record},
 -      {"NotStandardProtection", safe_browsing::GetSafeBrowsingState(*prefs) ==
 -                                    SafeBrowsingState::STANDARD_PROTECTION},
@@ -4674,6 +4595,21 @@
  }
  
  void RealTimeUrlLookupService::Shutdown() {
+@@ -237,14 +229,6 @@ double RealTimeUrlLookupService::GetMinA
+ 
+ void RealTimeUrlLookupService::MaybeLogLastProtegoPingTimeToPrefs(
+     bool sent_with_token) {
+-  // `pref_service_` can be null in tests.
+-  if (pref_service_ && IsEnhancedProtectionEnabled(*pref_service_)) {
+-    pref_service_->SetTime(
+-        sent_with_token
+-            ? prefs::kSafeBrowsingEsbProtegoPingWithTokenLastLogTime
+-            : prefs::kSafeBrowsingEsbProtegoPingWithoutTokenLastLogTime,
+-        base::Time::Now());
+-  }
+ }
+ 
+ }  // namespace safe_browsing
 --- a/components/safe_browsing/core/browser/realtime/url_lookup_service_base.cc
 +++ b/components/safe_browsing/core/browser/realtime/url_lookup_service_base.cc
 @@ -17,7 +17,6 @@
@@ -4684,22 +4620,6 @@
  #include "components/safe_browsing/core/common/safebrowsing_constants.h"
  #include "components/safe_browsing/core/common/utils.h"
  #include "net/base/ip_address.h"
-@@ -383,15 +382,6 @@ void RealTimeUrlLookupServiceBase::SendR
-   RecordBooleanWithAndWithoutSuffix("SafeBrowsing.RT.HasTokenInRequest",
-                                     GetMetricSuffix(),
-                                     !access_token_string.empty());
--  // `pref_service_` can be null in tests or in the Chrome Enterprise version of
--  // the lookup service.
--  if (pref_service_ && IsEnhancedProtectionEnabled(*pref_service_)) {
--    pref_service_->SetTime(
--        access_token_string.empty()
--            ? prefs::kSafeBrowsingEsbProtegoPingWithoutTokenLastLogTime
--            : prefs::kSafeBrowsingEsbProtegoPingWithTokenLastLogTime,
--        base::Time::Now());
--  }
- 
-   // NOTE: Pass |callback_task_runner| by copying it here as it's also needed
-   // just below.
 --- a/components/safe_browsing/core/browser/safe_browsing_metrics_collector.cc
 +++ b/components/safe_browsing/core/browser/safe_browsing_metrics_collector.cc
 @@ -13,13 +13,11 @@
@@ -5541,15 +5461,15 @@
  #include "components/signin/public/identity_manager/primary_account_mutator.h"
 --- a/components/signin/internal/identity_manager/account_tracker_service.cc
 +++ b/components/signin/internal/identity_manager/account_tracker_service.cc
-@@ -36,7 +36,6 @@
+@@ -37,7 +37,6 @@
  #include "components/prefs/scoped_user_pref_update.h"
  #include "components/signin/internal/identity_manager/account_capabilities_constants.h"
  #include "components/signin/internal/identity_manager/account_info_util.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/base/signin_switches.h"
  #include "components/signin/public/identity_manager/account_capabilities.h"
- #include "components/signin/public/identity_manager/tribool.h"
-@@ -201,11 +200,6 @@ AccountTrackerService::~AccountTrackerSe
+ #include "components/signin/public/identity_manager/account_info.h"
+@@ -204,11 +203,6 @@ AccountTrackerService::~AccountTrackerSe
  
  // static
  void AccountTrackerService::RegisterPrefs(PrefRegistrySimple* registry) {
@@ -5561,7 +5481,7 @@
  }
  
  void AccountTrackerService::Initialize(PrefService* pref_service,
-@@ -525,14 +519,12 @@ AccountTrackerService::ComputeNewMigrati
+@@ -533,14 +527,12 @@ AccountTrackerService::ComputeNewMigrati
  void AccountTrackerService::SetMigrationState(AccountIdMigrationState state) {
    DCHECK(state != MIGRATION_DONE || AreAllAccountsMigrated())
        << "state: " << state << ", accounts = " << AccountsToString(accounts_);
@@ -5577,7 +5497,7 @@
  }
  #endif  // BUILDFLAG(IS_CHROMEOS_ASH)
  
-@@ -590,26 +582,6 @@ void AccountTrackerService::OnAccountIma
+@@ -598,26 +590,6 @@ void AccountTrackerService::OnAccountIma
      const CoreAccountId& account_id,
      const std::string& image_url_with_size,
      bool success) {
@@ -5604,7 +5524,7 @@
  }
  
  void AccountTrackerService::RemoveAccountImageFromDisk(
-@@ -621,179 +593,16 @@ void AccountTrackerService::RemoveAccoun
+@@ -629,184 +601,16 @@ void AccountTrackerService::RemoveAccoun
  }
  
  void AccountTrackerService::LoadFromPrefs() {
@@ -5614,6 +5534,11 @@
 -    const base::Value::Dict* dict = list[i].GetIfDict();
 -    if (dict) {
 -      if (const std::string* account_key = dict->FindString(kAccountKeyKey)) {
+-        // Ignore empty account ids.
+-        if (account_key->empty()) {
+-          to_remove.insert(CoreAccountId());
+-          continue;
+-        }
 -        // Ignore incorrectly persisted non-canonical account ids.
 -        if (account_key->find('@') != std::string::npos &&
 -            *account_key != gaia::CanonicalizeEmail(*account_key)) {
@@ -5796,15 +5721,15 @@
  #include "components/signin/public/identity_manager/account_capabilities.h"
 --- a/components/signin/internal/identity_manager/gaia_cookie_manager_service.cc
 +++ b/components/signin/internal/identity_manager/gaia_cookie_manager_service.cc
-@@ -31,7 +31,6 @@
- #include "components/signin/internal/identity_manager/ubertoken_fetcher_impl.h"
+@@ -30,7 +30,6 @@
+ #include "components/signin/internal/identity_manager/oauth_multilogin_helper.h"
  #include "components/signin/public/base/signin_buildflags.h"
  #include "components/signin/public/base/signin_metrics.h"
 -#include "components/signin/public/base/signin_pref_names.h"
  #include "components/signin/public/identity_manager/set_accounts_in_cookie_result.h"
  #include "google_apis/credentials_mode.h"
  #include "google_apis/gaia/gaia_constants.h"
-@@ -463,9 +462,7 @@ GaiaCookieManagerService::GaiaCookieMana
+@@ -438,9 +437,7 @@ GaiaCookieManagerService::GaiaCookieMana
        listAccountsUnexpectedServerResponseRetried_(false),
        external_cc_result_fetched_(false),
        list_accounts_stale_(true) {
@@ -5815,7 +5740,7 @@
  
    if (!gaia_cookie_last_list_accounts_data.empty()) {
      if (!gaia::ParseListAccountsData(gaia_cookie_last_list_accounts_data,
-@@ -489,8 +486,6 @@ GaiaCookieManagerService::~GaiaCookieMan
+@@ -464,8 +461,6 @@ GaiaCookieManagerService::~GaiaCookieMan
  
  // static
  void GaiaCookieManagerService::RegisterPrefs(PrefRegistrySimple* registry) {
@@ -5824,7 +5749,7 @@
  }
  
  void GaiaCookieManagerService::InitCookieListener() {
-@@ -922,16 +917,12 @@ void GaiaCookieManagerService::OnListAcc
+@@ -728,16 +723,12 @@ void GaiaCookieManagerService::OnListAcc
                                     &signed_out_accounts_)) {
      listed_accounts_.clear();
      signed_out_accounts_.clear();
@@ -5881,14 +5806,15 @@
  #include "components/signin/public/base/signin_switches.h"
  #include "third_party/abseil-cpp/absl/types/variant.h"
  
-@@ -139,23 +138,10 @@ PrimaryAccountManager::~PrimaryAccountMa
+@@ -139,24 +138,10 @@ PrimaryAccountManager::~PrimaryAccountMa
  
  // static
  void PrimaryAccountManager::RegisterProfilePrefs(PrefRegistrySimple* registry) {
--  registry->RegisterStringPref(prefs::kGoogleServicesLastAccountIdDeprecated,
+-  registry->RegisterStringPref(
+-      prefs::kGoogleServicesLastSyncingAccountIdDeprecated, std::string());
+-  registry->RegisterStringPref(prefs::kGoogleServicesLastSyncingGaiaId,
 -                               std::string());
--  registry->RegisterStringPref(prefs::kGoogleServicesLastGaiaId, std::string());
--  registry->RegisterStringPref(prefs::kGoogleServicesLastUsername,
+-  registry->RegisterStringPref(prefs::kGoogleServicesLastSyncingUsername,
 -                               std::string());
 -  registry->RegisterStringPref(prefs::kGoogleServicesAccountId, std::string());
 -  registry->RegisterBooleanPref(prefs::kGoogleServicesConsentedToSync, false);
@@ -5905,7 +5831,7 @@
  }
  
  void PrimaryAccountManager::Initialize(PrefService* local_state) {
-@@ -163,27 +149,9 @@ void PrimaryAccountManager::Initialize(P
+@@ -164,27 +149,9 @@ void PrimaryAccountManager::Initialize(P
    DCHECK(!IsInitialized());
    initialized_ = true;
  
@@ -5934,7 +5860,7 @@
  
  #if BUILDFLAG(IS_CHROMEOS_ASH)
    if (!pref_account_id.empty()) {
-@@ -194,15 +162,13 @@ void PrimaryAccountManager::Initialize(P
+@@ -195,15 +162,13 @@ void PrimaryAccountManager::Initialize(P
        // |account_info.gaia| could be empty if |account_id| is already gaia id.
        if (!account_info.gaia.empty()) {
          pref_account_id = account_info.gaia;
@@ -5951,7 +5877,7 @@
    CoreAccountId account_id = CoreAccountId::FromString(pref_account_id);
    CoreAccountInfo account_info =
        account_tracker_service_->GetAccountInfo(account_id);
-@@ -286,8 +252,7 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -287,8 +252,7 @@ void PrimaryAccountManager::SetSyncPrima
  
  #if DCHECK_IS_ON()
    {
@@ -5961,18 +5887,18 @@
      bool consented_to_sync =
          client_->GetPrefs()->GetBoolean(prefs::kGoogleServicesConsentedToSync);
  
-@@ -308,10 +273,6 @@ void PrimaryAccountManager::SetSyncPrima
+@@ -309,10 +273,6 @@ void PrimaryAccountManager::SetSyncPrima
    // Go ahead and update the last signed in account info here as well. Once a
    // user is signed in the corresponding preferences should match. Doing it here
    // as opposed to on signin allows us to catch the upgrade scenario.
--  scoped_pref_commit.SetString(prefs::kGoogleServicesLastGaiaId,
+-  scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingGaiaId,
 -                               account_info.gaia);
--  scoped_pref_commit.SetString(prefs::kGoogleServicesLastUsername,
+-  scoped_pref_commit.SetString(prefs::kGoogleServicesLastSyncingUsername,
 -                               account_info.email);
  }
  
  void PrimaryAccountManager::SetPrimaryAccountInternal(
-@@ -321,15 +282,6 @@ void PrimaryAccountManager::SetPrimaryAc
+@@ -322,15 +282,6 @@ void PrimaryAccountManager::SetPrimaryAc
    primary_account_info_ = account_info;
  
    const std::string& account_id = primary_account_info_.account_id.ToString();
@@ -5988,16 +5914,16 @@
  }
  
  void PrimaryAccountManager::RecordHadPreviousSyncAccount() const {
-@@ -339,7 +291,7 @@ void PrimaryAccountManager::RecordHadPre
+@@ -340,7 +291,7 @@ void PrimaryAccountManager::RecordHadPre
    }
  
    const std::string& last_gaia_id_with_sync_enabled =
--      client_->GetPrefs()->GetString(prefs::kGoogleServicesLastGaiaId);
+-      client_->GetPrefs()->GetString(prefs::kGoogleServicesLastSyncingGaiaId);
 +      std::string();
    const bool existed_primary_account_with_sync =
        !last_gaia_id_with_sync_enabled.empty();
  
-@@ -357,8 +309,7 @@ void PrimaryAccountManager::RecordHadPre
+@@ -358,8 +309,7 @@ void PrimaryAccountManager::RecordHadPre
  
  bool PrimaryAccountManager::HasPrimaryAccount(
      signin::ConsentLevel consent_level) const {
@@ -6046,7 +5972,7 @@
  #include "google_apis/gaia/gaia_constants.h"
  #include "google_apis/gaia/google_service_auth_error.h"
  #include "google_apis/gaia/oauth2_access_token_consumer.h"
-@@ -135,8 +134,6 @@ bool ProfileOAuth2TokenService::HasRefre
+@@ -137,8 +136,6 @@ bool ProfileOAuth2TokenService::HasRefre
  // static
  void ProfileOAuth2TokenService::RegisterProfilePrefs(
      PrefRegistrySimple* registry) {
@@ -6235,9 +6161,9 @@
 -    prefs_->SetBoolean(prefs::kSigninAllowed, false);
 -#endif  // !BUILDFLAG(IS_IOS)
 -
-     prefs_->SetBoolean(feed::prefs::kEnableSnippets, false);
+     prefs_->SetBoolean(feed::prefs::kEnableSnippets,
+                        supervised_user::IsKidFriendlyContentFeedAvailable());
  
- #if BUILDFLAG(IS_ANDROID)
 --- a/components/sync_preferences/common_syncable_prefs_database.cc
 +++ b/components/sync_preferences/common_syncable_prefs_database.cc
 @@ -20,7 +20,6 @@
@@ -6257,40 +6183,41 @@
 -  kSafeBrowsingEnabled = 48,
    kSyncedDefaultSearchProviderGUID = 49,
    kPrefForceTriggerTranslateCount = 50,
-   kPrefNeverPromptSitesDeprecated = 51,
-@@ -241,14 +238,8 @@ const auto& SyncablePreferences() {
-         {payments::kCanMakePaymentEnabled,
-          {syncable_prefs_ids::kCanMakePaymentEnabled, syncer::PREFERENCES,
-           false}},
--        {prefs::kAccountTailoredSecurityUpdateTimestamp,
--         {syncable_prefs_ids::kAccountTailoredSecurityUpdateTimestamp,
--          syncer::PRIORITY_PREFERENCES, false}},
-         {prefs::kCookieControlsMode,
-          {syncable_prefs_ids::kCookieControlsMode, syncer::PREFERENCES, false}},
--        {prefs::kSafeBrowsingEnabled,
--         {syncable_prefs_ids::kSafeBrowsingEnabled, syncer::PREFERENCES,
--          false}},
+   // kPrefNeverPromptSitesDeprecated = 51, (deprecated)
+@@ -251,15 +248,9 @@ const auto& SyncablePreferences() {
+             {payments::kCanMakePaymentEnabled,
+              {syncable_prefs_ids::kCanMakePaymentEnabled, syncer::PREFERENCES,
+               false, MergeBehavior::kNone}},
+-            {prefs::kAccountTailoredSecurityUpdateTimestamp,
+-             {syncable_prefs_ids::kAccountTailoredSecurityUpdateTimestamp,
+-              syncer::PRIORITY_PREFERENCES, false, MergeBehavior::kNone}},
+             {prefs::kCookieControlsMode,
+              {syncable_prefs_ids::kCookieControlsMode, syncer::PREFERENCES,
+               false, MergeBehavior::kNone}},
+-            {prefs::kSafeBrowsingEnabled,
+-             {syncable_prefs_ids::kSafeBrowsingEnabled, syncer::PREFERENCES,
+-              false, MergeBehavior::kNone}},
  // TODO(crbug.com/1434910): Maybe move to chrome_syncable_prefs_database.cc,
  // see bug.
  #if !BUILDFLAG(IS_ANDROID) && !BUILDFLAG(IS_IOS)
 --- a/tools/metrics/histograms/enums.xml
 +++ b/tools/metrics/histograms/enums.xml
-@@ -107139,7 +107139,6 @@ Full version information for the fingerp
+@@ -108207,7 +108207,6 @@ Full version information for the fingerp
    <int value="3" label="kRestoreOnStartup"/>
    <int value="4" label="kURLsToRestoreOnStartup"/>
    <int value="5" label="extensions::pref_names::kExtensions"/>
--  <int value="6" label="kGoogleServicesLastUsername"/>
+-  <int value="6" label="kGoogleServicesLastSyncingUsername"/>
    <int value="7" label="kSearchProviderOverrides"/>
    <int value="8" label="kDefaultSearchProviderSearchURL (Obsolete 12/2016)"/>
    <int value="9" label="kDefaultSearchProviderKeyword (Obsolete 12/2016)"/>
-@@ -107154,10 +107153,7 @@ Full version information for the fingerp
+@@ -108222,10 +108221,7 @@ Full version information for the fingerp
    <int value="18" label="kSafeBrowsingIncidentsSent"/>
-   <int value="19" label="kSwReporterPromptVersion"/>
-   <int value="20" label="kSwReporterPromptReason"/>
+   <int value="19" label="kSwReporterPromptVersion (Obsolete 9/2023)"/>
+   <int value="20" label="kSwReporterPromptReason (Obsolete 9/2023)"/>
 -  <int value="21" label="kGoogleServicesUsername (Obsolete 9/2019)"/>
-   <int value="22" label="kSwReporterPromptSeed"/>
+   <int value="22" label="kSwReporterPromptSeed (Obsolete 9/2023)"/>
 -  <int value="23" label="kGoogleServicesAccountId"/>
--  <int value="24" label="kGoogleServicesLastAccountId"/>
-   <int value="25" label="kSettingsResetPromptPromptWave"/>
-   <int value="26" label="kSettingsResetPromptLastTriggeredForDefaultSearch"/>
-   <int value="27" label="kSettingsResetPromptLastTriggeredForStartupUrls"/>
+-  <int value="24" label="kGoogleServicesLastSyncingAccountId"/>
+   <int value="25" label="kSettingsResetPromptPromptWave (Obsolete 9/2023)"/>
+   <int value="26"
+       label="kSettingsResetPromptLastTriggeredForDefaultSearch (Obsolete
diff --git a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
index 1febdfa7c..8c6f23f12 100644
--- a/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
+++ b/patches/core/ungoogled-chromium/replace-google-search-engine-with-nosearch.patch
@@ -1,6 +1,6 @@
 --- a/components/search_engines/prepopulated_engines.json
 +++ b/components/search_engines/prepopulated_engines.json
-@@ -114,27 +114,11 @@
+@@ -125,27 +125,11 @@
      },
  
      "google": {
diff --git a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
index e9e04ded3..542e35983 100644
--- a/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
+++ b/patches/core/ungoogled-chromium/toggle-translation-via-switch.patch
@@ -1,7 +1,7 @@
 # Disables translation and removes the "Translate to" context menu when --translate-script-url flag is not set
 --- a/chrome/browser/renderer_context_menu/render_view_context_menu.cc
 +++ b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
-@@ -162,6 +162,7 @@
+@@ -163,6 +163,7 @@
  #include "components/spellcheck/spellcheck_buildflags.h"
  #include "components/strings/grit/components_strings.h"
  #include "components/supervised_user/core/common/buildflags.h"
@@ -9,7 +9,7 @@
  #include "components/translate/core/browser/translate_download_manager.h"
  #include "components/translate/core/browser/translate_manager.h"
  #include "components/translate/core/browser/translate_prefs.h"
-@@ -2045,6 +2046,7 @@ void RenderViewContextMenu::AppendPageIt
+@@ -2031,6 +2032,7 @@ void RenderViewContextMenu::AppendPageIt
      menu_model_.AddSeparator(ui::NORMAL_SEPARATOR);
  
    if (CanTranslate(/*menu_logging=*/true)) {
@@ -47,7 +47,7 @@
      request_pending_ = true;
 --- a/components/translate/core/browser/translate_manager.cc
 +++ b/components/translate/core/browser/translate_manager.cc
-@@ -825,8 +825,9 @@ void TranslateManager::FilterIsTranslate
+@@ -832,8 +832,9 @@ void TranslateManager::FilterIsTranslate
          TriggerDecision::kDisabledOffline);
    }
  
diff --git a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
index 3686182bd..040349445 100644
--- a/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
+++ b/patches/extra/bromite/fingerprinting-flags-client-rects-and-measuretext.patch
@@ -9,7 +9,7 @@
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2482,6 +2482,7 @@ static_library("browser") {
+@@ -2539,6 +2539,7 @@ static_library("browser") {
      "//third_party/libyuv",
      "//third_party/metrics_proto",
      "//third_party/re2",
@@ -19,7 +19,7 @@
      "//third_party/widevine/cdm:headers",
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -161,6 +161,7 @@
+@@ -162,6 +162,7 @@
  #include "components/translate/core/browser/translate_ranker_impl.h"
  #include "components/translate/core/common/translate_util.h"
  #include "components/ui_devtools/switches.h"
@@ -44,7 +44,7 @@
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -250,6 +250,7 @@ source_set("browser") {
+@@ -245,6 +245,7 @@ source_set("browser") {
      "//third_party/libyuv",
      "//third_party/re2",
      "//third_party/sqlite",
@@ -62,7 +62,7 @@
  #include "components/viz/common/switches.h"
  #include "components/viz/host/gpu_client.h"
  #include "content/browser/attribution_reporting/attribution_manager.h"
-@@ -3350,6 +3351,8 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3346,6 +3347,8 @@ void RenderProcessHostImpl::PropagateBro
      switches::kEnableWebGLImageChromium,
      switches::kEnableWebGPUDeveloperFeatures,
      switches::kFileUrlPathAlias,
@@ -83,7 +83,7 @@
      "//ui/events/blink",
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -37,6 +37,7 @@
+@@ -39,6 +39,7 @@
  #include "third_party/blink/public/common/loader/referrer_utils.h"
  #include "third_party/blink/public/common/switches.h"
  #include "third_party/blink/public/platform/web_runtime_features.h"
@@ -91,7 +91,7 @@
  #include "ui/accessibility/accessibility_features.h"
  #include "ui/base/ui_base_features.h"
  #include "ui/events/blink/blink_features.h"
-@@ -463,6 +464,10 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -465,6 +466,10 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kEnableWebGPUDeveloperFeatures, true},
        {wrf::EnableDirectSockets, switches::kEnableIsolatedWebAppsInRenderer,
         true},
@@ -116,15 +116,15 @@
  
 --- a/third_party/blink/renderer/core/dom/document.cc
 +++ b/third_party/blink/renderer/core/dom/document.cc
-@@ -38,6 +38,7 @@
- #include "base/debug/dump_without_crashing.h"
+@@ -39,6 +39,7 @@
+ #include "base/i18n/time_formatting.h"
  #include "base/metrics/histogram_functions.h"
  #include "base/notreached.h"
 +#include "base/rand_util.h"
  #include "base/ranges/algorithm.h"
  #include "base/task/single_thread_task_runner.h"
  #include "base/time/time.h"
-@@ -941,6 +942,14 @@ Range* Document::CreateRangeAdjustedToTr
+@@ -943,6 +944,14 @@ Range* Document::CreateRangeAdjustedToTr
                                       Position::BeforeNode(*shadow_host));
  }
  
@@ -139,7 +139,7 @@
  SelectorQueryCache& Document::GetSelectorQueryCache() {
    if (!selector_query_cache_)
      selector_query_cache_ = std::make_unique<SelectorQueryCache>();
-@@ -2294,6 +2303,15 @@ void Document::UpdateStyleAndLayoutTreeF
+@@ -2295,6 +2304,15 @@ void Document::UpdateStyleAndLayoutTreeF
  #if DCHECK_IS_ON()
    AssertLayoutTreeUpdated(*this, true /* allow_dirty_container_subtrees */);
  #endif
@@ -168,7 +168,7 @@
    AtomicString visibilityState() const;
    bool IsPageVisible() const;
    bool hidden() const;
-@@ -2415,6 +2419,9 @@ class CORE_EXPORT Document : public Cont
+@@ -2427,6 +2431,9 @@ class CORE_EXPORT Document : public Cont
  
    base::ElapsedTimer start_time_;
  
@@ -180,7 +180,7 @@
  
 --- a/third_party/blink/renderer/core/dom/element.cc
 +++ b/third_party/blink/renderer/core/dom/element.cc
-@@ -2143,6 +2143,11 @@ DOMRectList* Element::getClientRects() {
+@@ -2144,6 +2144,11 @@ DOMRectList* Element::getClientRects() {
    DCHECK(element_layout_object);
    GetDocument().AdjustQuadsForScrollAndAbsoluteZoom(quads,
                                                      *element_layout_object);
@@ -192,7 +192,7 @@
    return MakeGarbageCollected<DOMRectList>(quads);
  }
  
-@@ -2170,6 +2175,9 @@ gfx::RectF Element::GetBoundingClientRec
+@@ -2171,6 +2176,9 @@ gfx::RectF Element::GetBoundingClientRec
    DCHECK(element_layout_object);
    GetDocument().AdjustRectForScrollAndAbsoluteZoom(result,
                                                     *element_layout_object);
@@ -277,7 +277,7 @@
  namespace blink {
  
  BASE_FEATURE(kDisableCanvasOverdrawOptimization,
-@@ -2865,9 +2868,22 @@ TextMetrics* BaseRenderingContext2D::mea
+@@ -2864,9 +2867,22 @@ TextMetrics* BaseRenderingContext2D::mea
  
    TextDirection direction = ToTextDirection(GetState().GetDirection(), canvas);
  
@@ -303,7 +303,7 @@
  void BaseRenderingContext2D::SnapshotStateForFilter() {
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1694,6 +1694,7 @@ component("platform") {
+@@ -1693,6 +1693,7 @@ component("platform") {
      "//cc/mojo_embedder",
      "//components/paint_preview/common",
      "//components/search_engines:search_engine_utils",
@@ -328,7 +328,7 @@
  }  // namespace blink
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1808,6 +1808,12 @@
+@@ -1817,6 +1817,12 @@
        origin_trial_feature_name: "Focusgroup",
      },
      {
diff --git a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
index f142ea501..cffb17339 100644
--- a/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
+++ b/patches/extra/bromite/flag-fingerprinting-canvas-image-data-noise.patch
@@ -34,7 +34,7 @@ approach to change color components.
  #endif  // CHROME_BROWSER_BROMITE_FLAG_ENTRIES_H_
 --- a/content/browser/renderer_host/render_process_host_impl.cc
 +++ b/content/browser/renderer_host/render_process_host_impl.cc
-@@ -3353,6 +3353,7 @@ void RenderProcessHostImpl::PropagateBro
+@@ -3349,6 +3349,7 @@ void RenderProcessHostImpl::PropagateBro
      switches::kFileUrlPathAlias,
      switches::kFingerprintingClientRectsNoise,
      switches::kFingerprintingCanvasMeasureTextNoise,
@@ -44,7 +44,7 @@ approach to change color components.
      switches::kForceGpuMemAvailableMb,
 --- a/content/child/runtime_features.cc
 +++ b/content/child/runtime_features.cc
-@@ -468,6 +468,8 @@ void SetRuntimeFeaturesFromCommandLine(c
+@@ -470,6 +470,8 @@ void SetRuntimeFeaturesFromCommandLine(c
         switches::kFingerprintingClientRectsNoise, true},
        {wrf::EnableFingerprintingCanvasMeasureTextNoise,
         switches::kFingerprintingCanvasMeasureTextNoise, true},
@@ -73,7 +73,7 @@ approach to change color components.
  #include "third_party/blink/renderer/platform/graphics/stroke_data.h"
  #include "third_party/blink/renderer/platform/graphics/video_frame_image_util.h"
  #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
-@@ -2191,6 +2192,9 @@ ImageData* BaseRenderingContext2D::getIm
+@@ -2190,6 +2191,9 @@ ImageData* BaseRenderingContext2D::getIm
            snapshot->PaintImageForCurrentFrame().GetSkImageInfo().bounds();
        DCHECK(!bounds.intersect(SkIRect::MakeXYWH(sx, sy, sw, sh)));
      }
@@ -85,7 +85,7 @@ approach to change color components.
    return image_data;
 --- a/third_party/blink/renderer/platform/BUILD.gn
 +++ b/third_party/blink/renderer/platform/BUILD.gn
-@@ -1650,7 +1650,9 @@ component("platform") {
+@@ -1648,7 +1648,9 @@ component("platform") {
      "//third_party/blink/renderer:non_test_config",
    ]
  
@@ -322,7 +322,7 @@ approach to change color components.
    // Methods overridden by all sub-classes
 --- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
 +++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
-@@ -1814,6 +1814,9 @@
+@@ -1823,6 +1823,9 @@
        name: "FingerprintingCanvasMeasureTextNoise",
      },
      {
diff --git a/patches/extra/bromite/flag-max-connections-per-host.patch b/patches/extra/bromite/flag-max-connections-per-host.patch
index 1f2ae74b3..474f1a456 100644
--- a/patches/extra/bromite/flag-max-connections-per-host.patch
+++ b/patches/extra/bromite/flag-max-connections-per-host.patch
@@ -17,7 +17,7 @@ with limited CPU/memory resources and it is disabled by default.
 
 --- a/chrome/browser/BUILD.gn
 +++ b/chrome/browser/BUILD.gn
-@@ -2207,6 +2207,7 @@ static_library("browser") {
+@@ -2258,6 +2258,7 @@ static_library("browser") {
      "//components/net_log",
      "//components/network_hints/common:mojo_bindings",
      "//components/network_session_configurator/browser",
@@ -63,7 +63,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "base/synchronization/waitable_event.h"
  #include "base/task/sequenced_task_runner.h"
  #include "base/task/single_thread_task_runner.h"
-@@ -105,6 +107,7 @@
+@@ -104,6 +106,7 @@
  #include "components/metrics/metrics_service.h"
  #include "components/metrics_services_manager/metrics_services_manager.h"
  #include "components/metrics_services_manager/metrics_services_manager_client.h"
@@ -71,7 +71,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "components/network_time/network_time_tracker.h"
  #include "components/permissions/permissions_client.h"
  #include "components/policy/core/common/policy_service.h"
-@@ -136,6 +139,7 @@
+@@ -135,6 +138,7 @@
  #include "media/media_buildflags.h"
  #include "mojo/public/cpp/bindings/pending_receiver.h"
  #include "net/log/net_log.h"
@@ -79,7 +79,7 @@ with limited CPU/memory resources and it is disabled by default.
  #include "ppapi/buildflags/buildflags.h"
  #include "printing/buildflags/buildflags.h"
  #include "services/network/public/cpp/features.h"
-@@ -366,6 +370,18 @@ void BrowserProcessImpl::Init() {
+@@ -368,6 +372,18 @@ void BrowserProcessImpl::Init() {
    pref_change_registrar_.Add(metrics::prefs::kMetricsReportingEnabled,
                               base::BindRepeating(&ApplyMetricsReportingPolicy));
  
@@ -100,7 +100,7 @@ with limited CPU/memory resources and it is disabled by default.
  
 --- a/chrome/browser/flag_descriptions.cc
 +++ b/chrome/browser/flag_descriptions.cc
-@@ -2181,6 +2181,10 @@ const char kUnthrottledNestedTimeoutDesc
+@@ -2226,6 +2226,10 @@ const char kUnthrottledNestedTimeoutDesc
      "websites abusing the API will still eventually have their setTimeouts "
      "clamped.";
  
@@ -113,7 +113,7 @@ with limited CPU/memory resources and it is disabled by default.
  const char kMediaRouterCastAllowAllIPsDescription[] =
 --- a/chrome/browser/flag_descriptions.h
 +++ b/chrome/browser/flag_descriptions.h
-@@ -1233,6 +1233,9 @@ extern const char kUndoAutofillDescripti
+@@ -1261,6 +1261,9 @@ extern const char kUndoAutofillDescripti
  extern const char kUnthrottledNestedTimeoutName[];
  extern const char kUnthrottledNestedTimeoutDescription[];
  
diff --git a/patches/extra/inox-patchset/0006-modify-default-prefs.patch b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
index 8a5ba9389..648adfb33 100644
--- a/patches/extra/inox-patchset/0006-modify-default-prefs.patch
+++ b/patches/extra/inox-patchset/0006-modify-default-prefs.patch
@@ -23,17 +23,17 @@
    // used for mapping the command-line flags).
 --- a/chrome/browser/net/profile_network_context_service.cc
 +++ b/chrome/browser/net/profile_network_context_service.cc
-@@ -431,7 +431,7 @@ void ProfileNetworkContextService::Updat
+@@ -410,7 +410,7 @@ void ProfileNetworkContextService::Updat
  void ProfileNetworkContextService::RegisterProfilePrefs(
      user_prefs::PrefRegistrySyncable* registry) {
-   registry->RegisterBooleanPref(
--      embedder_support::kAlternateErrorPagesEnabled, true,
-+      embedder_support::kAlternateErrorPagesEnabled, false,
-       user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
+   registry->RegisterBooleanPref(embedder_support::kAlternateErrorPagesEnabled,
+-                                true);
++                                false);
    registry->RegisterBooleanPref(prefs::kQuicAllowed, true);
    registry->RegisterBooleanPref(prefs::kGloballyScopeHTTPAuthCacheEnabled,
---- a/chrome/browser/prefetch/prefetch_prefs.h
-+++ b/chrome/browser/prefetch/prefetch_prefs.h
+                                 false);
+--- a/chrome/browser/preloading/preloading_prefs.h
++++ b/chrome/browser/preloading/preloading_prefs.h
 @@ -23,7 +23,7 @@ enum class NetworkPredictionOptions {
    kWifiOnlyDeprecated = 1,
    kDisabled = 2,
@@ -78,7 +78,7 @@
    registry->RegisterBooleanPref(prefs::kCloudPrintProxyEnabled, true);
 --- a/components/autofill/core/common/autofill_prefs.cc
 +++ b/components/autofill/core/common/autofill_prefs.cc
-@@ -140,7 +140,7 @@ const char kAutofillUsingVirtualViewStru
+@@ -144,7 +144,7 @@ const char kAutofillUsingVirtualViewStru
  void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    // Synced prefs. Used for cross-device choices, e.g., credit card Autofill.
    registry->RegisterBooleanPref(
@@ -87,7 +87,7 @@
        user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
    registry->RegisterIntegerPref(
        prefs::kAutofillLastVersionDeduped, 0,
-@@ -152,7 +152,7 @@ void RegisterProfilePrefs(user_prefs::Pr
+@@ -156,7 +156,7 @@ void RegisterProfilePrefs(user_prefs::Pr
        prefs::kAutofillLastVersionDisusedAddressesDeleted, 0,
        user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
    registry->RegisterBooleanPref(
@@ -95,10 +95,10 @@
 +      prefs::kAutofillCreditCardEnabled, false,
        user_prefs::PrefRegistrySyncable::SYNCABLE_PREF);
    registry->RegisterBooleanPref(
-       prefs::kAutofillIbanEnabled, true,
+       prefs::kAutofillPaymentCvcStorage, true,
 --- a/components/bookmarks/browser/bookmark_utils.cc
 +++ b/components/bookmarks/browser/bookmark_utils.cc
-@@ -480,7 +480,7 @@ bool DoesBookmarkContainWords(const std:
+@@ -483,7 +483,7 @@ bool DoesBookmarkContainWords(const std:
  
  void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
@@ -109,7 +109,7 @@
    registry->RegisterBooleanPref(
 --- a/components/content_settings/core/browser/cookie_settings.cc
 +++ b/components/content_settings/core/browser/cookie_settings.cc
-@@ -68,7 +68,7 @@ void CookieSettings::RegisterProfilePref
+@@ -74,7 +74,7 @@ void CookieSettings::RegisterProfilePref
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterIntegerPref(
        prefs::kCookieControlsMode,
diff --git a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
index f33dd417a..5be76b55a 100644
--- a/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
+++ b/patches/extra/iridium-browser/browser-disable-profile-auto-import-on-first-run.patch
@@ -5,7 +5,7 @@ Subject: [PATCH 56/66] browser: disable profile auto-import on first run
 
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1694,11 +1694,6 @@ int ChromeBrowserMainParts::PreMainMessa
+@@ -1645,11 +1645,6 @@ int ChromeBrowserMainParts::PreMainMessa
    // and preferences have been registered since some of the import code depends
    // on preferences.
    if (first_run::IsChromeFirstRun()) {
diff --git a/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch b/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
index 4482294a9..7ea383116 100644
--- a/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
+++ b/patches/extra/iridium-browser/prefs-always-prompt-for-download-directory-by-defaul.patch
@@ -29,7 +29,7 @@ TLDR: Do not let files sneak onto the disk too easily.
 
 --- a/chrome/browser/download/download_prefs.cc
 +++ b/chrome/browser/download/download_prefs.cc
-@@ -275,7 +275,7 @@ void DownloadPrefs::RegisterProfilePrefs
+@@ -274,7 +274,7 @@ void DownloadPrefs::RegisterProfilePrefs
      user_prefs::PrefRegistrySyncable* registry) {
    registry->RegisterBooleanPref(
        prefs::kPromptForDownload,
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
index d6a4011eb..f62e87215 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-close-confirmation.patch
@@ -9,7 +9,7 @@
  #include "chrome/browser/ui/web_applications/app_browser_controller.h"
  #include "chrome/browser/ui/web_applications/web_app_launch_utils.h"
  #include "chrome/browser/ui/webui/signin/login_ui_service.h"
-@@ -471,6 +473,7 @@ Browser::Browser(const CreateParams& par
+@@ -475,6 +477,7 @@ Browser::Browser(const CreateParams& par
        omit_from_session_restore_(params.omit_from_session_restore),
        should_trigger_session_restore_(params.should_trigger_session_restore),
        cancel_download_confirmation_state_(NOT_PROMPTED),
@@ -17,7 +17,7 @@
        override_bounds_(params.initial_bounds),
        initial_show_state_(params.initial_show_state),
        initial_workspace_(params.initial_workspace),
-@@ -855,6 +858,7 @@ Browser::WarnBeforeClosingResult Browser
+@@ -859,6 +862,7 @@ Browser::WarnBeforeClosingResult Browser
    // true or there are no pending downloads we need to prompt about) then
    // there's no need to warn.
    if (force_skip_warning_user_on_close_ || CanCloseWithInProgressDownloads())
@@ -25,7 +25,7 @@
      return WarnBeforeClosingResult::kOkToClose;
  
    DCHECK(!warn_before_closing_callback_)
-@@ -889,6 +893,7 @@ bool Browser::TryToCloseWindow(
+@@ -893,6 +897,7 @@ bool Browser::TryToCloseWindow(
  
  void Browser::ResetTryToCloseWindow() {
    cancel_download_confirmation_state_ = NOT_PROMPTED;
@@ -33,7 +33,7 @@
    unload_controller_.ResetTryToCloseWindow();
  }
  
-@@ -2864,6 +2869,62 @@ bool Browser::CanCloseWithInProgressDown
+@@ -2878,6 +2883,62 @@ bool Browser::CanCloseWithInProgressDown
    return false;
  }
  
@@ -96,7 +96,7 @@
  void Browser::InProgressDownloadResponse(bool cancel_downloads) {
    if (cancel_downloads) {
      cancel_download_confirmation_state_ = RESPONSE_RECEIVED;
-@@ -2882,6 +2943,22 @@ void Browser::InProgressDownloadResponse
+@@ -2896,6 +2957,22 @@ void Browser::InProgressDownloadResponse
  
    std::move(warn_before_closing_callback_)
        .Run(WarnBeforeClosingResult::kDoNotClose);
@@ -129,7 +129,7 @@
  #include "chrome/browser/ui/signin/signin_view_controller.h"
  #include "chrome/browser/ui/tabs/tab_strip_model_observer.h"
  #include "chrome/browser/ui/unload_controller.h"
-@@ -1095,12 +1096,17 @@ class Browser : public TabStripModelObse
+@@ -1099,12 +1100,17 @@ class Browser : public TabStripModelObse
    // Returns true if the window can close, false otherwise.
    bool CanCloseWithInProgressDownloads();
  
@@ -147,7 +147,7 @@
    // Called when all warnings have completed when attempting to close the
    // browser directly (e.g. via hotkey, close button, terminate signal, etc.)
    // Used as a WarnBeforeClosingCallback by ShouldCloseWindow().
-@@ -1271,6 +1277,8 @@ class Browser : public TabStripModelObse
+@@ -1275,6 +1281,8 @@ class Browser : public TabStripModelObse
    // when the browser is closed with in-progress downloads.
    CancelDownloadConfirmationState cancel_download_confirmation_state_;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
index fb5c06353..c9d9600a4 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-custom-ntp.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_content_browser_client.cc
 +++ b/chrome/browser/chrome_content_browser_client.cc
-@@ -893,10 +893,14 @@ bool HandleNewTabPageLocationOverride(
+@@ -891,10 +891,14 @@ bool HandleNewTabPageLocationOverride(
  
    // Don't change the URL when incognito mode.
    if (profile->IsOffTheRecord())
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
index bb7377798..c0e048c5a 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-disabling-link-drag.patch
@@ -11,8 +11,8 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -149,6 +149,8 @@ BASE_FEATURE(kAutofillSendUnidentifiedKe
-              "AutofillSendUnidentifiedKeyAfterFill",
+@@ -155,6 +155,8 @@ BASE_FEATURE(kAutofillUseDomNodeIdForRen
+              "AutofillUseDomNodeIdForRendererId",
               base::FEATURE_DISABLED_BY_DEFAULT);
  
 +BASE_FEATURE(kDisableLinkDrag, "DisableLinkDrag", base::FEATURE_DISABLED_BY_DEFAULT);
@@ -50,7 +50,7 @@
    Node* inner_node = event.InnerNode();
 --- a/third_party/blink/renderer/core/input/mouse_event_manager.cc
 +++ b/third_party/blink/renderer/core/input/mouse_event_manager.cc
-@@ -656,8 +656,14 @@ WebInputEventResult MouseEventManager::H
+@@ -621,8 +621,14 @@ WebInputEventResult MouseEventManager::H
  
    bool single_click = event.Event().click_count <= 1;
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
index 1e16d3153..385375240 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-grab-handle.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -63,6 +63,7 @@ class FrameGrabHandle : public views::Vi
+@@ -66,6 +66,7 @@ class FrameGrabHandle : public views::Vi
      // Reserve some space for the frame to be grabbed by, even if the tabstrip
      // is full.
      // TODO(tbergquist): Define this relative to the NTB insets again.
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch b/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
index e1d9223f0..3cd96cf23 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-incognito-themes.patch
@@ -10,7 +10,7 @@
  }
 --- a/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
 +++ b/chrome/browser/ui/webui/ntp/ntp_resource_cache.cc
-@@ -53,6 +53,7 @@
+@@ -55,6 +55,7 @@
  #include "ui/base/webui/jstemplate_builder.h"
  #include "ui/base/webui/web_ui_util.h"
  #include "ui/color/color_provider.h"
@@ -18,7 +18,7 @@
  #include "ui/gfx/color_utils.h"
  #include "ui/native_theme/native_theme.h"
  
-@@ -423,7 +424,9 @@ void NTPResourceCache::CreateNewTabIncog
+@@ -446,7 +447,9 @@ void NTPResourceCache::CreateNewTabIncog
        profile_->GetPrefs()->GetString(prefs::kCurrentThemeID);
  
    // Colors.
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
index 0b0246a94..b35909d90 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-omnibox-autocomplete-filtering.patch
@@ -41,7 +41,7 @@
  #include "base/feature_list.h"
  #include "base/format_macros.h"
  #include "base/functional/bind.h"
-@@ -369,6 +370,15 @@ AutocompleteController::AutocompleteCont
+@@ -306,6 +307,15 @@ AutocompleteController::AutocompleteCont
        steady_state_omnibox_position_(
            metrics::OmniboxEventProto::UNKNOWN_POSITION) {
    provider_types &= ~OmniboxFieldTrial::GetDisabledProviderTypes();
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
index 9f040634c..7cde6fcd5 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-qr-generator.patch
@@ -27,7 +27,7 @@
    return true;
 --- a/chrome/browser/ui/views/location_bar/location_bar_view.cc
 +++ b/chrome/browser/ui/views/location_bar/location_bar_view.cc
-@@ -331,7 +331,8 @@ void LocationBarView::Init() {
+@@ -333,7 +333,8 @@ void LocationBarView::Init() {
  
      params.types_enabled.push_back(PageActionIconType::kSendTabToSelf);
      params.types_enabled.push_back(PageActionIconType::kClickToCall);
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
index 45efc4674..09dea67c3 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-search-engine-collection.patch
@@ -69,7 +69,7 @@
        search_terms_data_(std::move(search_terms_data)),
        web_data_service_(web_data_service),
        client_(std::move(client)),
-@@ -330,8 +338,8 @@ bool TemplateURLService::CanAddAutogener
+@@ -331,8 +339,8 @@ bool TemplateURLService::CanAddAutogener
    // that may interfere with search queries).  An easy heuristic for this is
    // whether the user has a TemplateURL that has been manually modified (e.g.,
    // renamed) connected to the same host.
@@ -80,7 +80,7 @@
  }
  
  bool TemplateURLService::IsPrepopulatedOrCreatedByPolicy(
-@@ -1618,6 +1626,8 @@ SyncDataMap TemplateURLService::CreateGU
+@@ -1622,6 +1630,8 @@ SyncDataMap TemplateURLService::CreateGU
  
  void TemplateURLService::Init(const Initializer* initializers,
                                int num_initializers) {
@@ -89,7 +89,7 @@
    if (client_)
      client_->SetOwner(this);
  
-@@ -1761,6 +1771,9 @@ void TemplateURLService::ChangeToLoadedS
+@@ -1773,6 +1783,9 @@ void TemplateURLService::ChangeToLoadedS
  
  bool TemplateURLService::CanAddAutogeneratedKeywordForHost(
      const std::string& host) const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
index c46751888..e1422cabf 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tab-hover-cards.patch
@@ -8,7 +8,7 @@
  #include "base/debug/alias.h"
  #include "base/functional/bind.h"
  #include "base/i18n/rtl.h"
-@@ -666,6 +667,8 @@ void Tab::OnGestureEvent(ui::GestureEven
+@@ -684,6 +685,8 @@ void Tab::OnGestureEvent(ui::GestureEven
  }
  
  std::u16string Tab::GetTooltipText(const gfx::Point& p) const {
diff --git a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
index 723484661..65f95796e 100644
--- a/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-for-tabsearch-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_command_controller.cc
 +++ b/chrome/browser/ui/browser_command_controller.cc
-@@ -1361,7 +1361,8 @@ void BrowserCommandController::InitComma
+@@ -1369,7 +1369,8 @@ void BrowserCommandController::InitComma
    command_updater_.UpdateCommandEnabled(IDC_WINDOW_CLOSE_OTHER_TABS,
                                          normal_window);
  
@@ -40,16 +40,16 @@
  #include "base/functional/bind.h"
  #include "base/strings/utf_string_conversions.h"
  #include "build/build_config.h"
-@@ -94,7 +95,8 @@ TabStripRegionView::TabStripRegionView(s
+@@ -97,7 +98,8 @@ TabStripRegionView::TabStripRegionView(s
  
-   // Add and configure the TabSearchButton.
-   std::unique_ptr<TabSearchButton> tab_search_button;
+   // Add and configure the TabSearchContainer.
+   std::unique_ptr<TabSearchContainer> tab_search_container;
 -  if (browser && browser->is_type_normal()) {
 +  if (browser && browser->is_type_normal() &&
 +      !base::CommandLine::ForCurrentProcess()->HasSwitch("remove-tabsearch-button")) {
-     tab_search_button = std::make_unique<TabSearchButton>(tab_strip_);
-     tab_search_button->SetTooltipText(
-         l10n_util::GetStringUTF16(IDS_TOOLTIP_TAB_SEARCH));
+     tab_search_container = std::make_unique<TabSearchContainer>(
+         tab_strip_, render_tab_search_before_tab_strip_);
+     tab_search_container->SetProperty(views::kCrossAxisAlignmentKey,
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -60,4 +60,8 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
index 782264286..6ada0b925 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-close-window-with-last-tab.patch
@@ -8,7 +8,7 @@
  #include "base/containers/adapters.h"
  #include "base/containers/contains.h"
  #include "base/containers/flat_map.h"
-@@ -1898,6 +1899,10 @@ void TabStripModel::CloseTabs(base::span
+@@ -1893,6 +1894,10 @@ void TabStripModel::CloseTabs(base::span
      return;
    }
  
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
index 0ddfba536..764ac3492 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-convert-popups-to-tabs.patch
@@ -13,7 +13,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -1170,6 +1170,8 @@ WindowOpenDisposition NavigationPolicyTo
+@@ -1180,6 +1180,8 @@ WindowOpenDisposition NavigationPolicyTo
      case blink::kWebNavigationPolicyNewWindow:
        return WindowOpenDisposition::NEW_WINDOW;
      case blink::kWebNavigationPolicyNewPopup:
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch b/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
index 71bdf007b..7e1eef611 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-disable-local-history-expiration.patch
@@ -21,7 +21,7 @@
  #include "base/compiler_specific.h"
  #include "base/containers/flat_set.h"
  #include "base/feature_list.h"
-@@ -1336,7 +1337,8 @@ void HistoryBackend::InitImpl(
+@@ -1312,7 +1313,8 @@ void HistoryBackend::InitImpl(
    db_->GetStartDate(&first_recorded_time_);
  
    // Start expiring old stuff.
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
index a22a0073f..e9d34a55f 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-fullscreen-exit-ui.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/browser_view.cc
 +++ b/chrome/browser/ui/views/frame/browser_view.cc
-@@ -1840,6 +1840,10 @@ void BrowserView::UpdateExclusiveAccessE
+@@ -1868,6 +1868,10 @@ void BrowserView::UpdateExclusiveAccessE
      ExclusiveAccessBubbleHideCallback bubble_first_hide_callback,
      bool notify_download,
      bool force_update) {
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-side-panel-button.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-side-panel-button.patch
index 491734c15..a5aae4e14 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-side-panel-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-side-panel-button.patch
@@ -1,15 +1,15 @@
 --- a/chrome/browser/ui/views/toolbar/toolbar_view.cc
 +++ b/chrome/browser/ui/views/toolbar/toolbar_view.cc
-@@ -368,7 +368,8 @@ void ToolbarView::Init() {
+@@ -375,7 +375,8 @@ void ToolbarView::Init() {
  
    std::unique_ptr<SidePanelToolbarButton> side_panel_button;
    std::unique_ptr<SidePanelToolbarContainer> side_panel_toolbar_container;
 -  if (browser_view_->unified_side_panel()) {
 +  if (browser_view_->unified_side_panel() &&
 +      !base::CommandLine::ForCurrentProcess()->HasSwitch("hide-sidepanel-button")) {
-     if (companion::IsCompanionFeatureEnabled()) {
-       side_panel_toolbar_container =
-           std::make_unique<SidePanelToolbarContainer>(browser_view_);
+     if (base::FeatureList::IsEnabled(features::kSidePanelPinning)) {
+       // TODO(b:299463334): Use the new SidePanelContainer which supports
+       // ActionItems
 --- a/chrome/browser/ungoogled_flag_entries.h
 +++ b/chrome/browser/ungoogled_flag_entries.h
 @@ -100,4 +100,8 @@
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
index a8a568f09..d5dae9843 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-hide-tab-close-buttons.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/tabs/tab.cc
 +++ b/chrome/browser/ui/views/tabs/tab.cc
-@@ -1015,7 +1015,11 @@ void Tab::UpdateIconVisibility() {
+@@ -1041,7 +1041,11 @@ void Tab::UpdateIconVisibility() {
    if (IsActive()) {
      // Close button is shown on active tabs regardless of the size.
      showing_close_button_ = true;
@@ -12,7 +12,7 @@
  
      showing_alert_indicator_ =
          has_alert_icon && alert_icon_width <= available_width;
-@@ -1036,6 +1040,8 @@ void Tab::UpdateIconVisibility() {
+@@ -1062,6 +1066,8 @@ void Tab::UpdateIconVisibility() {
        available_width -= favicon_width;
  
      showing_close_button_ = large_enough_for_close_button;
diff --git a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
index d359ad8ab..cac89d3b1 100644
--- a/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
+++ b/patches/extra/ungoogled-chromium/add-flag-to-show-avatar-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/toolbar/toolbar_view.cc
 +++ b/chrome/browser/ui/views/toolbar/toolbar_view.cc
-@@ -459,6 +459,17 @@ void ToolbarView::Init() {
+@@ -469,6 +469,17 @@ void ToolbarView::Init() {
  #elif BUILDFLAG(IS_CHROMEOS_LACROS)
    show_avatar_toolbar_button = !profiles::IsManagedGuestSession();
  #endif
@@ -17,7 +17,7 @@
 +
    avatar_->SetVisible(show_avatar_toolbar_button);
  
-   auto app_menu_button = std::make_unique<BrowserAppMenuButton>(this);
+   if (base::FeatureList::IsEnabled(features::kResponsiveToolbar)) {
 --- a/chrome/browser/ungoogled_flag_choices.h
 +++ b/chrome/browser/ungoogled_flag_choices.h
 @@ -13,4 +13,16 @@ const FeatureEntry::Choice kExtensionHan
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
index a45e76c16..45365cb8e 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-existing-switches.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -3811,10 +3811,12 @@ const FeatureEntry::FeatureVariation kPa
+@@ -4074,10 +4074,12 @@ const FeatureEntry::FeatureVariation kWe
  #include "chrome/browser/ungoogled_flag_choices.h"
  #include "chrome/browser/bromite_flag_choices.h"
  #include "chrome/browser/ungoogled_platform_flag_choices.h"
diff --git a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
index 0ef8e7937..c1283d6bf 100644
--- a/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
+++ b/patches/extra/ungoogled-chromium/add-flags-for-referrer-customization.patch
@@ -19,7 +19,7 @@
  #endif  // CHROME_BROWSER_UNGOOGLED_FLAG_ENTRIES_H_
 --- a/chrome/common/BUILD.gn
 +++ b/chrome/common/BUILD.gn
-@@ -151,6 +151,8 @@ static_library("common_lib") {
+@@ -153,6 +153,8 @@ static_library("common_lib") {
      "pref_names_util.cc",
      "pref_names_util.h",
      "ref_counted_util.h",
@@ -28,7 +28,7 @@
      "search/instant_mojom_traits.h",
      "search/instant_types.cc",
      "search/instant_types.h",
-@@ -259,6 +261,7 @@ static_library("common_lib") {
+@@ -261,6 +263,7 @@ static_library("common_lib") {
      "//components/no_state_prefetch/common",
      "//components/no_state_prefetch/common:mojo_bindings",
      "//components/page_load_metrics/common:common",
@@ -38,7 +38,7 @@
    if (enable_supervised_users) {
 --- a/chrome/common/chrome_features.cc
 +++ b/chrome/common/chrome_features.cc
-@@ -950,6 +950,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
+@@ -981,6 +981,14 @@ BASE_FEATURE(kNewFilesPolicyUX,
  // referrers instead of their ordinary behavior.
  BASE_FEATURE(kNoReferrers, "NoReferrers", base::FEATURE_DISABLED_BY_DEFAULT);
  
@@ -55,7 +55,7 @@
  // on-screen until dismissed, they are instead shown for a very long time.
 --- a/chrome/common/chrome_features.h
 +++ b/chrome/common/chrome_features.h
-@@ -552,6 +552,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
+@@ -561,6 +561,10 @@ BASE_DECLARE_FEATURE(kNewFilesPolicyUX);
  
  COMPONENT_EXPORT(CHROME_FEATURES) BASE_DECLARE_FEATURE(kNoReferrers);
  
@@ -173,7 +173,7 @@
    disallowed_extension_deps_ = [
      # Components should largely not depend on //extensions. Since // extensions
      # is not a component target and is linked with //chrome, depending on most
-@@ -740,7 +740,7 @@ test("components_unittests") {
+@@ -804,7 +804,7 @@ test("components_unittests") {
    # On other platforms, no components should depend on Chrome.
    # Since //chrome depends on //extensions, we also only assert_no_deps on
    # extensions targets for non-lacros builds.
@@ -182,7 +182,7 @@
      assert_no_deps = [ "//chrome/*" ]
      assert_no_deps += disallowed_extension_deps_
    }
-@@ -1029,7 +1029,7 @@ if (use_blink) {
+@@ -1090,7 +1090,7 @@ if (use_blink) {
      # dependency. On other platforms, no components should depend on Chrome.
      # Since //chrome depends on //extensions, we also only assert_no_deps on
      # extensions targets for non-lacros builds.
@@ -201,7 +201,7 @@
  #include "content/browser/blob_storage/chrome_blob_storage_context.h"
  #include "content/browser/browsing_topics/header_util.h"
  #include "content/browser/child_process_security_policy_impl.h"
-@@ -389,10 +390,10 @@ void AddAdditionalRequestHeaders(
+@@ -388,10 +389,10 @@ void AddAdditionalRequestHeaders(
        net::HttpRequestHeaders::kUserAgent,
        ComputeUserAgentValue(*headers, user_agent_override, browser_context));
  
@@ -218,7 +218,7 @@
    if (NeedsHTTPOrigin(headers, method)) {
 --- a/content/renderer/render_frame_impl.cc
 +++ b/content/renderer/render_frame_impl.cc
-@@ -52,6 +52,7 @@
+@@ -54,6 +54,7 @@
  #include "build/chromeos_buildflags.h"
  #include "cc/base/switches.h"
  #include "cc/trees/ukm_manager.h"
@@ -226,7 +226,7 @@
  #include "content/common/associated_interfaces.mojom.h"
  #include "content/common/content_navigation_policy.h"
  #include "content/common/content_switches_internal.h"
-@@ -4338,10 +4339,13 @@ void RenderFrameImpl::WillSendRequestInt
+@@ -4305,10 +4306,13 @@ void RenderFrameImpl::WillSendRequestInt
  
    request.SetHasUserGesture(frame_->HasTransientUserActivation());
  
@@ -284,12 +284,13 @@
  
 --- a/third_party/blink/renderer/modules/service_worker/web_service_worker_fetch_context_impl.cc
 +++ b/third_party/blink/renderer/modules/service_worker/web_service_worker_fetch_context_impl.cc
-@@ -7,10 +7,12 @@
+@@ -7,11 +7,13 @@
  #include "base/ranges/algorithm.h"
  #include "base/synchronization/waitable_event.h"
  #include "base/task/single_thread_task_runner.h"
 +#include "chrome/common/referrer_sanitizer.h"
  #include "mojo/public/cpp/bindings/pending_remote.h"
+ #include "net/cookies/site_for_cookies.h"
  #include "services/network/public/cpp/wrapper_shared_url_loader_factory.h"
  #include "third_party/blink/public/common/loader/loader_constants.h"
  #include "third_party/blink/public/mojom/fetch/fetch_api_request.mojom-blink.h"
@@ -297,7 +298,7 @@
  #include "third_party/blink/public/platform/url_loader_throttle_provider.h"
  #include "third_party/blink/public/platform/web_url_request_extra_data.h"
  #include "third_party/blink/public/platform/websocket_handshake_throttle_provider.h"
-@@ -148,10 +150,13 @@ void WebServiceWorkerFetchContextImpl::W
+@@ -152,10 +154,13 @@ void WebServiceWorkerFetchContextImpl::W
  
    request.SetURLRequestExtraData(std::move(url_request_extra_data));
  
@@ -332,8 +333,8 @@
 +#include "third_party/blink/public/platform/url_conversion.h"
  #include "third_party/blink/public/platform/url_loader_throttle_provider.h"
  #include "third_party/blink/public/platform/weak_wrapper_resource_load_info_notifier.h"
- #include "third_party/blink/public/platform/web_code_cache_loader.h"
-@@ -387,10 +389,13 @@ void DedicatedOrSharedWorkerFetchContext
+ #include "third_party/blink/public/platform/web_security_origin.h"
+@@ -380,10 +382,13 @@ void DedicatedOrSharedWorkerFetchContext
    if (g_rewrite_url)
      request.SetUrl(g_rewrite_url(request.Url().GetString().Utf8(), false));
  
diff --git a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
index 2b311a489..99685f370 100644
--- a/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
+++ b/patches/extra/ungoogled-chromium/add-suggestions-url-field.patch
@@ -427,7 +427,7 @@
  
 --- a/components/search_engines/template_url_service.cc
 +++ b/components/search_engines/template_url_service.cc
-@@ -628,7 +628,8 @@ void TemplateURLService::IncrementUsageC
+@@ -629,7 +629,8 @@ void TemplateURLService::IncrementUsageC
  void TemplateURLService::ResetTemplateURL(TemplateURL* url,
                                            const std::u16string& title,
                                            const std::u16string& keyword,
@@ -437,7 +437,7 @@
    DCHECK(!IsCreatedByExtension(url));
    DCHECK(!keyword.empty());
    DCHECK(!search_url.empty());
-@@ -643,6 +644,7 @@ void TemplateURLService::ResetTemplateUR
+@@ -644,6 +645,7 @@ void TemplateURLService::ResetTemplateUR
    data.safe_for_autoreplace = false;
    data.last_modified = clock_->Now();
    data.is_active = TemplateURLData::ActiveStatus::kTrue;
diff --git a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
index 68f420c2f..c4bca5b9e 100644
--- a/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
+++ b/patches/extra/ungoogled-chromium/add-ungoogled-flag-headers.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/about_flags.cc
 +++ b/chrome/browser/about_flags.cc
-@@ -3807,7 +3807,13 @@ const FeatureEntry::FeatureVariation kPa
+@@ -4070,7 +4070,13 @@ const FeatureEntry::FeatureVariation kWe
  // calculate and verify checksum.
  //
  // When adding a new choice, add it to the end of the list.
diff --git a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
index f1c68fe76..5ebe6d49c 100644
--- a/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
+++ b/patches/extra/ungoogled-chromium/default-webrtc-ip-handling-policy.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/browser_ui_prefs.cc
 +++ b/chrome/browser/ui/browser_ui_prefs.cc
-@@ -97,7 +97,7 @@ void RegisterBrowserUserPrefs(user_prefs
+@@ -94,7 +94,7 @@ void RegisterBrowserUserPrefs(user_prefs
                                  false);
  #endif
    registry->RegisterStringPref(prefs::kWebRTCIPHandlingPolicy,
diff --git a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
index 58ea5752e..bdcaee961 100644
--- a/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
+++ b/patches/extra/ungoogled-chromium/disable-download-quarantine.patch
@@ -142,7 +142,7 @@
  }  // namespace download
 --- a/content/browser/BUILD.gn
 +++ b/content/browser/BUILD.gn
-@@ -98,7 +98,6 @@ source_set("browser") {
+@@ -93,7 +93,6 @@ source_set("browser") {
      "//components/payments/mojom",
      "//components/power_monitor",
      "//components/services/filesystem:lib",
diff --git a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch b/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
index da5f7e538..c5a8abe17 100644
--- a/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
+++ b/patches/extra/ungoogled-chromium/disable-remote-optimization-guide.patch
@@ -1,6 +1,6 @@
 --- a/components/optimization_guide/core/optimization_guide_features.cc
 +++ b/components/optimization_guide/core/optimization_guide_features.cc
-@@ -105,7 +105,7 @@ BASE_FEATURE(kOptimizationHints,
+@@ -155,7 +155,7 @@ BASE_FEATURE(kOptimizationHints,
  // Enables fetching from a remote Optimization Guide Service.
  BASE_FEATURE(kRemoteOptimizationGuideFetching,
               "OptimizationHintsFetching",
diff --git a/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch b/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
index 8142d5580..c43668c60 100644
--- a/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
+++ b/patches/extra/ungoogled-chromium/disable-webgl-renderer-info.patch
@@ -3,7 +3,7 @@
 
 --- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
 +++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
-@@ -3820,8 +3820,7 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -3822,8 +3822,7 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_RENDERER))));
          }
@@ -13,7 +13,7 @@
        }
        SynthesizeGLError(
            GL_INVALID_ENUM, "getParameter",
-@@ -3835,8 +3834,7 @@ ScriptValue WebGLRenderingContextBase::g
+@@ -3837,8 +3836,7 @@ ScriptValue WebGLRenderingContextBase::g
                pname, IdentifiabilityBenignStringToken(
                           String(ContextGL()->GetString(GL_VENDOR))));
          }
diff --git a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
index f84aae2d3..ec7d1aff6 100644
--- a/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
+++ b/patches/extra/ungoogled-chromium/enable-default-prefetch-privacy-changes.patch
@@ -2,7 +2,7 @@
 
 --- a/third_party/blink/common/features.cc
 +++ b/third_party/blink/common/features.cc
-@@ -1315,7 +1315,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
+@@ -1351,7 +1351,7 @@ BASE_FEATURE(kPrefetchFontLookupTables,
  // crbug.com/988956.
  BASE_FEATURE(kPrefetchPrivacyChanges,
               "PrefetchPrivacyChanges",
diff --git a/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch b/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
index ce1a801b2..1ff11d26e 100644
--- a/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-menu-on-reload-button.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/views/toolbar/reload_button.cc
 +++ b/chrome/browser/ui/views/toolbar/reload_button.cc
-@@ -85,7 +85,7 @@ bool ReloadButton::GetMenuEnabled() cons
+@@ -111,7 +111,7 @@ bool ReloadButton::GetMenuEnabled() cons
  }
  
  void ReloadButton::SetMenuEnabled(bool enable) {
diff --git a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
index 81c6c1ec3..29821c1ec 100644
--- a/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
+++ b/patches/extra/ungoogled-chromium/enable-page-saving-on-more-pages.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/browser_commands.cc
 +++ b/chrome/browser/ui/browser_commands.cc
-@@ -523,10 +523,6 @@ int GetContentRestrictions(const Browser
+@@ -524,10 +524,6 @@ int GetContentRestrictions(const Browser
      CoreTabHelper* core_tab_helper =
          CoreTabHelper::FromWebContents(current_tab);
      content_restrictions = core_tab_helper->content_restrictions();
@@ -13,7 +13,7 @@
    }
    return content_restrictions;
  }
-@@ -1613,8 +1609,7 @@ bool CanSavePage(const Browser* browser)
+@@ -1614,8 +1610,7 @@ bool CanSavePage(const Browser* browser)
        DownloadPrefs::DownloadRestriction::ALL_FILES) {
      return false;
    }
diff --git a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
index 7c99193da..af54e10f3 100644
--- a/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
+++ b/patches/extra/ungoogled-chromium/enable-paste-and-go-new-tab-button.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/ui/views/frame/tab_strip_region_view.cc
 +++ b/chrome/browser/ui/views/frame/tab_strip_region_view.cc
-@@ -170,12 +170,10 @@ TabStripRegionView::TabStripRegionView(s
+@@ -195,12 +195,10 @@ TabStripRegionView::TabStripRegionView(s
  
      // TODO(crbug.com/1052397): Revisit the macro expression once build flag
      // switch of lacros-chrome is complete.
diff --git a/patches/extra/ungoogled-chromium/first-run-page.patch b/patches/extra/ungoogled-chromium/first-run-page.patch
index d6f3377d5..9073330f8 100644
--- a/patches/extra/ungoogled-chromium/first-run-page.patch
+++ b/patches/extra/ungoogled-chromium/first-run-page.patch
@@ -1,6 +1,6 @@
 --- a/chrome/browser/chrome_browser_main.cc
 +++ b/chrome/browser/chrome_browser_main.cc
-@@ -1030,6 +1030,7 @@ int ChromeBrowserMainParts::PreCreateThr
+@@ -1037,6 +1037,7 @@ int ChromeBrowserMainParts::PreCreateThr
    if (first_run::IsChromeFirstRun()) {
      if (!base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kApp) &&
          !base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kAppId)) {
@@ -10,7 +10,7 @@
  
 --- a/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
 +++ b/chrome/browser/ui/webui/chrome_web_ui_controller_factory.cc
-@@ -66,6 +66,7 @@
+@@ -65,6 +65,7 @@
  #include "chrome/browser/ui/webui/suggest_internals/suggest_internals_ui.h"
  #include "chrome/browser/ui/webui/sync_internals/sync_internals_ui.h"
  #include "chrome/browser/ui/webui/translate_internals/translate_internals_ui.h"
@@ -18,7 +18,7 @@
  #include "chrome/browser/ui/webui/usb_internals/usb_internals_ui.h"
  #include "chrome/browser/ui/webui/user_actions/user_actions_ui.h"
  #include "chrome/browser/ui/webui/version/version_ui.h"
-@@ -884,6 +885,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
+@@ -889,6 +890,8 @@ WebUIFactoryFunction GetWebUIFactoryFunc
    }
  #endif
  
@@ -174,7 +174,7 @@
 +#endif  // CHROME_BROWSER_UI_WEBUI_UNGOOGLED_FIRST_RUN_H_
 --- a/chrome/common/webui_url_constants.cc
 +++ b/chrome/common/webui_url_constants.cc
-@@ -661,6 +661,7 @@ const char kExtensionConfigureCommandsSu
+@@ -666,6 +666,7 @@ const char kExtensionConfigureCommandsSu
  // Add hosts here to be included in chrome://chrome-urls (about:about).
  // These hosts will also be suggested by BuiltinProvider.
  const char* const kChromeHostURLs[] = {
diff --git a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
index 1efe528ce..2f78dc147 100644
--- a/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
+++ b/patches/extra/ungoogled-chromium/prepopulated-search-engines.patch
@@ -1,6 +1,5 @@
 ## template_url_prepopulate_data.cc
-# Appends search engines to the returned list of prepopulated search engines.
-# Only add DDG if it hasn't already been included.
+# Adds DDG to the default search engines.
 #
 ## util.cc
 # Only snyc the prepoulated search engines when initializing the database.
@@ -8,19 +7,17 @@
 #
 --- a/components/search_engines/template_url_prepopulate_data.cc
 +++ b/components/search_engines/template_url_prepopulate_data.cc
-@@ -1333,6 +1333,9 @@ std::vector<std::unique_ptr<TemplateURLD
-   std::vector<std::unique_ptr<TemplateURLData>> t_urls;
-   for (size_t i = 0; i < num_engines; ++i)
-     t_urls.push_back(TemplateURLDataFromPrepopulatedEngine(*engines[i]));
-+  if (std::find(engines, engines + num_engines, &duckduckgo) == engines + num_engines) {
-+    t_urls.push_back(TemplateURLDataFromPrepopulatedEngine(duckduckgo));
-+  }
-   return t_urls;
- }
+@@ -59,6 +59,7 @@ constexpr EngineAndTier engines_default[
+     {SearchEngineTier::kTopEngines, &google},
+     {SearchEngineTier::kTopEngines, &bing},
+     {SearchEngineTier::kTopEngines, &yahoo},
++    {SearchEngineTier::kTopEngines, &duckduckgo},
+ };
  
+ // Note, the below entries are sorted by country code, not the name in comment.
 --- a/components/search_engines/util.cc
 +++ b/components/search_engines/util.cc
-@@ -522,7 +522,7 @@ void GetSearchProvidersUsingLoadedEngine
+@@ -524,7 +524,7 @@ void GetSearchProvidersUsingLoadedEngine
  
    const int prepopulate_resource_keyword_version =
        TemplateURLPrepopulateData::GetDataVersion(prefs);
diff --git a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
index d76c8046a..95450e4cc 100644
--- a/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
+++ b/patches/extra/ungoogled-chromium/remove-disable-setuid-sandbox-as-bad-flag.patch
@@ -2,7 +2,7 @@
 
 --- a/chrome/browser/ui/startup/bad_flags_prompt.cc
 +++ b/chrome/browser/ui/startup/bad_flags_prompt.cc
-@@ -68,7 +68,6 @@ const char* const kBadFlags[] = {
+@@ -72,7 +72,6 @@ const char* const kBadFlags[] = {
      // These flags disable sandbox-related security.
      sandbox::policy::switches::kDisableGpuSandbox,
      sandbox::policy::switches::kDisableSeccompFilterSandbox,
diff --git a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
index 247a52628..54eed59da 100644
--- a/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
+++ b/patches/extra/ungoogled-chromium/remove-uneeded-ui.patch
@@ -24,7 +24,7 @@
 
 --- a/chrome/browser/resources/extensions/item_list.html
 +++ b/chrome/browser/resources/extensions/item_list.html
-@@ -107,13 +107,6 @@
+@@ -106,13 +106,6 @@
          <h2 class="extension-title-container">$i18n{safetyCheckAllExtensions}</h2>
        </template>
      </div>
@@ -109,8 +109,8 @@
        <!-- tabindex is needed below because <a> without href attribute is not
              focusable in sequential keyboard navigation by default. -->
        <a role="menuitem" id="toggle-history-clusters"
---- a/chrome/browser/resources/ntp4/incognito_tab.html
-+++ b/chrome/browser/resources/ntp4/incognito_tab.html
+--- a/chrome/browser/resources/new_tab_page_incognito_guest/incognito_tab.html
++++ b/chrome/browser/resources/new_tab_page_incognito_guest/incognito_tab.html
 @@ -24,9 +24,6 @@ document.querySelector('#incognitothemec
    <h1>$i18n{incognitoTabHeading}</h1>
    <p id="subtitle">
@@ -132,7 +132,7 @@
            <cr-link-row id="captions"
                class="hr"
                label="$i18n{captionsTitle}"
-@@ -87,11 +87,6 @@
+@@ -88,11 +88,6 @@
              external>
          </cr-link-row>
  </if>
@@ -255,12 +255,12 @@
 -        label="$i18n{urlKeyedAnonymizedDataCollection}"
 -        sub-label="$i18n{urlKeyedAnonymizedDataCollectionDesc}">
 -    </settings-toggle-button>
- <if expr="_google_chrome">
- <if expr="not chromeos_ash">
-     <settings-toggle-button id="spellCheckControl"
+     <template is="dom-if" if="[[enablePageContentSetting_]]">
+       <cr-link-row id="pageContentRow"
+           class="hr"
 --- a/chrome/browser/resources/settings/privacy_page/privacy_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/privacy_page.html
-@@ -39,15 +39,6 @@
+@@ -41,15 +41,6 @@
              label="$i18n{clearBrowsingData}"
              sub-label="$i18n{clearBrowsingDataDescription}"
              on-click="onClearBrowsingDataClick_"></cr-link-row>
@@ -273,14 +273,14 @@
 -              role-description="$i18n{subpageArrowRoleDescription}">
 -          </cr-link-row>
 -        </template>
-         <template is="dom-if" if="[[isPrivacySandboxSettings4_]]">
-           <cr-link-row id="thirdPartyCookiesLinkRow"
-               start-icon="settings:cookie"
+         <template is="dom-if" if="[[is3pcdRedesignEnabled_]]">
+           <cr-link-row id="trackingProtectionLinkRow"
+               start-icon="settings:visibility-off"
 --- a/chrome/browser/resources/settings/privacy_page/security_page.html
 +++ b/chrome/browser/resources/settings/privacy_page/security_page.html
-@@ -156,10 +156,3 @@
+@@ -140,10 +140,3 @@
+           on-click="onChromeCertificatesClick_"></cr-link-row>
      </template>
- </if>
  
 -    <cr-link-row id="advanced-protection-program-link"
 -        class="hr"
@@ -316,7 +316,7 @@
          </cr-icon-button>
 --- a/chrome/browser/ui/toolbar/app_menu_model.cc
 +++ b/chrome/browser/ui/toolbar/app_menu_model.cc
-@@ -708,19 +708,9 @@ void ExtensionsMenuModel::Build(Browser*
+@@ -707,19 +707,9 @@ void ExtensionsMenuModel::Build(Browser*
    SetElementIdentifierAt(
        GetIndexOfCommandId(IDC_EXTENSIONS_SUBMENU_MANAGE_EXTENSIONS).value(),
        kManageExtensionsMenuItem);
@@ -393,7 +393,7 @@
    // Specify the maximum message and title width explicitly.
 --- a/media/base/media_switches.cc
 +++ b/media/base/media_switches.cc
-@@ -894,7 +894,7 @@ const base::FeatureParam<std::string> kM
+@@ -919,7 +919,7 @@ const base::FeatureParam<std::string> kM
  #endif  // BUILDFLAG(IS_WIN)
  
  // Enables the Live Caption feature on supported devices.
diff --git a/pruning.list b/pruning.list
index 5765e8253..18e266183 100644
--- a/pruning.list
+++ b/pruning.list
@@ -72,21 +72,16 @@ chrome/browser/resources/chromeos/accessibility/chromevox/earcons/wrap.ogg
 chrome/browser/resources/chromeos/accessibility/chromevox/earcons/wrap_edge.ogg
 chrome/browser/resources/chromeos/accessibility/select_to_speak/earcons/null_selection.ogg
 chrome/browser/resources/media/mei_preload/preloaded_data.pb
-chrome/chrome_cleaner/parsers/shortcut_parser/target/data/lnk_parser_fuzzer/Network Share Test.lnk
-chrome/chrome_cleaner/parsers/shortcut_parser/target/data/lnk_parser_fuzzer/New folder - Shortcut.lnk
-chrome/chrome_cleaner/parsers/shortcut_parser/target/data/lnk_parser_fuzzer/long_name.lnk
-chrome/chrome_cleaner/parsers/shortcut_parser/target/data/lnk_parser_fuzzer/options.lnk
-chrome/chrome_cleaner/parsers/shortcut_parser/target/data/lnk_parser_fuzzer/regular.lnk
-chrome/chrome_cleaner/test/resources/signed_dll/cleaner_test_cert.pfx
-chrome/chrome_cleaner/test/resources/signed_dll/signed_empty_dll.dll
 chrome/credential_provider/eventlog/gcp_eventlog_messages.mc
 chrome/installer/linux/debian/repo_signing_keys.gpg
 chrome/installer/test/data/SETUP.EX_
 chrome/services/cups_proxy/test/data/basic_handshake.bin
 chrome/test/media_router/resources/bigbuck.webm
+chrome/updater/test/data/ChromiumMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.1.0.0.0/TestSystemMsiInstaller.msi
+chrome/updater/test/data/ChromiumMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.2.0.0.0/TestSystemMsiInstaller.msi
+chrome/updater/test/data/GoogleMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.1.0.0.0/TestSystemMsiInstaller.msi
+chrome/updater/test/data/GoogleMSI/{c28fcf72-bcf2-45c5-8def-31a74ac02012}.2.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/ProcmonConfiguration.pmc
-chrome/updater/test/data/chromium_msi/{C28FCF72-BCF2-45C5-8DEF-31A74AC02012}.1.0.0.0/TestSystemMsiInstaller.msi
-chrome/updater/test/data/chromium_msi/{C28FCF72-BCF2-45C5-8DEF-31A74AC02012}.2.0.0.0/TestSystemMsiInstaller.msi
 chrome/updater/test/data/selfupdate_test_key.der
 chrome/updater/test/data/signed.exe
 chrome/updater/test/data/signed.exe.gz
@@ -105,6 +100,7 @@ chrome/updater/test/data/tagged_msi/GUH-multiple.msi
 chrome/updater/test/data/tagged_msi/GUH-size-greater-than-max.msi
 chrome/updater/test/data/tagged_msi/GUH-special-value.msi
 chrome/updater/test/data/tagged_msi/GUH-untagged.msi
+chrome/updater/test/data/test_installer/Testapp2Setup.exe
 chromeos/ash/components/device_activity/testing/private_computing_service_test_data.binarypb
 chromeos/ash/components/report/device_metrics/testing/preserved_file_test_data.binarypb
 chromeos/test/data/smart_dim/20181115_example_preprocessor_config.pb
@@ -192,7 +188,7 @@ components/signin/public/base/signin_pref_names.h
 components/test/data/ad_tagging/allow.zip
 components/test/data/ad_tagging/bear-320x240-video-only.webm
 components/test/data/ad_tagging/disallow.zip
-components/test/data/autofill/ml_model/autofill_model_baseline.tflite
+components/test/data/autofill/ml_model/autofill_model-br-overfit.tflite
 components/test/data/browsing_topics/golden_data_model.tflite
 components/test/data/crx_file/sample.zip
 components/test/data/crx_file/unsigned.crx3
@@ -342,10 +338,10 @@ fuchsia_web/webengine/test/data/bear-vp8a.webm
 fuchsia_web/webengine/test/data/bear-vp9-opus.webm
 fuchsia_web/webengine/test/data/bear-vp9.webm
 headless/test/data/protocol/emulation/resources/video.webm
-ios/chrome/browser/crash_report/seed_corpuses/process_snapshot_dump_1
-ios/chrome/browser/crash_report/seed_corpuses/process_snapshot_dump_2
-ios/chrome/browser/crash_report/seed_corpuses/process_snapshot_dump_3
-ios/chrome/browser/crash_report/seed_corpuses/process_snapshot_dump_4
+ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_1
+ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_2
+ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_3
+ios/chrome/browser/crash_report/model/seed_corpuses/process_snapshot_dump_4
 ios/chrome/browser/sessions/session_restoration_web_state_list_observer.mm
 ios/chrome/browser/ui/omnibox/popup/omnibox_popup_carousel_control.mm
 ios/chrome/test/data/optimization_guide/additional_file_doesnt_exist.crx3
@@ -356,8 +352,10 @@ ios/chrome/test/data/sessions/session_m57.plist
 ios/chrome/test/data/sessions/session_m58.plist
 ios/chrome/test/data/voice/test_sound.m4a
 ios/chrome/test/earl_grey/chrome_earl_grey.mm
+ios/testing/data/http_server_files/bundle.pkpasses
 ios/testing/data/http_server_files/generic.pkpass
 ios/testing/data/http_server_files/redchair.usdz
+ios/testing/data/http_server_files/semi_bundle.pkpasses
 ios/testing/data/http_server_files/video_sample.mov
 ios/web/navigation/navigation_item_impl_unittest.mm
 ios/web/test/data/testpass.pkpass
@@ -1167,6 +1165,8 @@ net/data/fuzzer_data/parse_authority_key_identifier_fuzzer/key_identifier
 net/data/fuzzer_data/parse_authority_key_identifier_fuzzer/key_identifier_and_issuer_and_serial
 net/data/fuzzer_data/parse_authority_key_identifier_fuzzer/serial_only
 net/data/fuzzer_data/parse_authority_key_identifier_fuzzer/url_issuer_and_serial
+net/data/fuzzer_data/parse_crldp_fuzzer/crldp_issuer_as_dirname.der
+net/data/fuzzer_data/parse_crldp_fuzzer/relative_name_and_reasons_and_multiple_dps.der
 net/data/fuzzer_data/parse_ocsp_cert_id_fuzzer/bad_issuer_key_hash_type
 net/data/fuzzer_data/parse_ocsp_cert_id_fuzzer/bad_name_hash_type
 net/data/fuzzer_data/parse_ocsp_cert_id_fuzzer/bad_params
@@ -1893,10 +1893,6 @@ net/third_party/nist-pkits/crls/requireExplicitPolicy7CACRL.crl
 net/third_party/nist-pkits/crls/requireExplicitPolicy7subCARE2CRL.crl
 net/third_party/nist-pkits/crls/requireExplicitPolicy7subsubCARE2RE4CRL.crl
 net/third_party/nist-pkits/crls/requireExplicitPolicy7subsubsubCARE2RE4CRL.crl
-net/third_party/quiche/src/quiche/common/anonymous_tokens/testdata/strong_rsa_modulus2048_example.binarypb
-net/third_party/quiche/src/quiche/common/anonymous_tokens/testdata/strong_rsa_modulus2048_example_2.binarypb
-net/third_party/quiche/src/quiche/common/anonymous_tokens/testdata/strong_rsa_modulus3072_example.binarypb
-net/third_party/quiche/src/quiche/common/anonymous_tokens/testdata/strong_rsa_modulus4096_example.binarypb
 net/tools/testserver/dist/_socket.pyd
 net/tools/testserver/dist/_ssl.pyd
 pdf/pdfium/fuzzers/corpora/pdf_codec_tiff/not_kitty.tiff
@@ -2553,6 +2549,10 @@ third_party/angle/third_party/glmark2/src/data/models/cat.3ds
 third_party/angle/third_party/glmark2/src/data/models/cube.3ds
 third_party/angle/third_party/glmark2/src/data/models/horse.3ds
 third_party/angle/third_party/r8/custom_d8.jar
+third_party/anonymous_tokens/src/anonymous_tokens/testdata/strong_rsa_modulus2048_example.binarypb
+third_party/anonymous_tokens/src/anonymous_tokens/testdata/strong_rsa_modulus2048_example_2.binarypb
+third_party/anonymous_tokens/src/anonymous_tokens/testdata/strong_rsa_modulus3072_example.binarypb
+third_party/anonymous_tokens/src/anonymous_tokens/testdata/strong_rsa_modulus4096_example.binarypb
 third_party/beto-core/src/nearby/connections/ukey2/ukey2_jni/java/gradle/wrapper/gradle-wrapper.jar
 third_party/beto-core/src/nearby/presence/ldt_np_jni/java/LdtNpJni/gradle/wrapper/gradle-wrapper.jar
 third_party/beto-core/src/nearby/presence/np_cpp_ffi/fuzz/corpus/V0AdvEmpty
@@ -5101,6 +5101,8 @@ third_party/boringssl/src/fuzz/parse_certificate_fuzzer_corpus/feb6a1d3377dadf7a
 third_party/boringssl/src/fuzz/parse_certificate_fuzzer_corpus/ff77dd6c362c66b593c750f51c3c0482ad091174
 third_party/boringssl/src/fuzz/parse_certificate_fuzzer_corpus/ff887ccb7b1a3fc53aa53e0edb9059879fc4f8a3
 third_party/boringssl/src/fuzz/parse_certificate_fuzzer_corpus/ffc5077ed0160c01651c5c8a083a9a1f1b23858a
+third_party/boringssl/src/fuzz/parse_crldp_fuzzer_corpus/crldp_issuer_as_dirname.der
+third_party/boringssl/src/fuzz/parse_crldp_fuzzer_corpus/relative_name_and_reasons_and_multiple_dps.der
 third_party/boringssl/src/fuzz/pkcs12_corpus/04191202c1f7d978bcb3a4c1316d88b046689e31
 third_party/boringssl/src/fuzz/pkcs12_corpus/7dbf598a00e4d22ac2ae1bc658fbc6596901d53f
 third_party/boringssl/src/fuzz/pkcs12_corpus/aab806b45129f3284cf9598951cdd57a86e63ab5
@@ -7794,6 +7796,8 @@ third_party/dawn/third_party/dxc/tools/clang/test/Misc/Inputs/serialized-diags-s
 third_party/dawn/third_party/dxc/tools/clang/test/Preprocessor/Inputs/headermap-rel/foo.hmap
 third_party/dawn/third_party/dxc/tools/clang/test/Preprocessor/Inputs/headermap-rel2/project-headers.hmap
 third_party/dawn/third_party/dxc/tools/clang/test/Profile/Inputs/c-general.profdata.v1
+third_party/dawn/third_party/gn/dxc/win_build_output/mc/include/dxc/Tracing/dxcetw/dxcetwTEMP.BIN
+third_party/dawn/third_party/gn/dxc/win_build_output/mc/include/dxc/Tracing/dxcetw/dxcetw_MSG00001.bin
 third_party/dawn/third_party/khronos/OpenGL-Registry/extensions/SGI/cubemap.sho
 third_party/dawn/third_party/khronos/OpenGL-Registry/extensions/SGI/imaging_pipeline.sho
 third_party/dawn/third_party/khronos/OpenGL-Registry/specs/es/katex/fonts/KaTeX_AMS-Regular.eot
@@ -8250,6 +8254,8 @@ third_party/freetype-testing/src/fuzzing/corpora/windowsfnt/bungeman/HangingS.fo
 third_party/freetype-testing/src/fuzzing/corpora/windowsfnt/oss-fuzz/4881860298539008-integer-overflow
 third_party/freetype-testing/src/fuzzing/corpora/windowsfnt/oss-fuzz/5120086263201792-timeout
 third_party/google-closure-library/scripts/ci/CloseAdobeDialog.exe
+third_party/google-java-format/chromium-overrides.jar
+third_party/google-java-format/google-java-format.jar
 third_party/gradle_wrapper/gradle/wrapper/gradle-wrapper.jar
 third_party/grpc/src/examples/android/helloworld/gradle/wrapper/gradle-wrapper.jar
 third_party/grpc/src/examples/php/GPBMetadata/Helloworld.php
@@ -14263,6 +14269,7 @@ third_party/rust/regex/v1/crate/src/testdata/basic.dat
 third_party/rust/regex/v1/crate/tests/fowler.rs
 third_party/rust/unicode_ident/v1/crate/tests/fst/xid_continue.fst
 third_party/rust/unicode_ident/v1/crate/tests/fst/xid_start.fst
+third_party/skia/demos.skia.org/demos/mesh2d/canvaskit.wasm
 third_party/skia/modules/canvaskit/tests/assets/Roboto-Regular.otf
 third_party/skia/modules/canvaskit/tests/assets/red_line.skp
 third_party/skia/modules/canvaskit/tests/assets/test.ttc
@@ -14513,7 +14520,6 @@ third_party/tflite/src/tensorflow/cc/saved_model/testdata/x_plus_y_v2_debuginfo/
 third_party/tflite/src/tensorflow/cc/saved_model/testdata/x_plus_y_v2_debuginfo/variables/variables.index
 third_party/tflite/src/tensorflow/compiler/aot/codegen_test_o.golden
 third_party/tflite/src/tensorflow/compiler/jit/tests/opens2s_gnmt_mixed_precision.pbtxt.gz
-third_party/tflite/src/tensorflow/compiler/xla/mlir/tools/mlir_bisect/tests/snapshot.mlir.pb
 third_party/tflite/src/tensorflow/core/graph/regularization/testdata/bert1/saved_model.pb
 third_party/tflite/src/tensorflow/core/graph/regularization/testdata/bert2/saved_model.pb
 third_party/tflite/src/tensorflow/core/ir/importexport/tests/saved_model/savedmodel_v1/saved_model.pb
@@ -14986,6 +14992,7 @@ third_party/tflite/src/third_party/icu/data/icu_conversion_data.c.gz.ade
 third_party/tflite/src/third_party/icu/data/icu_conversion_data.c.gz.adf
 third_party/tflite/src/third_party/icu/data/icu_conversion_data.c.gz.adg
 third_party/tflite/src/third_party/icu/data/icu_conversion_data.c.gz.adh
+third_party/tflite/src/third_party/xla/xla/mlir/tools/mlir_bisect/tests/snapshot.mlir.pb
 third_party/tflite_support/src/tensorflow_lite_support/acceleration/configuration/testdata/mobilenet_v1_1.0_224_quant.tflite
 third_party/tflite_support/src/tensorflow_lite_support/acceleration/configuration/testdata/mobilenet_v1_1.0_224_quant_edgetpu.tflite
 third_party/tflite_support/src/tensorflow_lite_support/custom_ops/kernel/sentencepiece/testdata/sentencepiece.model
@@ -15633,5 +15640,3 @@ v8/third_party/wasm-api/example/start.wasm
 v8/third_party/wasm-api/example/table.wasm
 v8/third_party/wasm-api/example/threads.wasm
 v8/third_party/wasm-api/example/trap.wasm
-weblayer/test/data/bear.webm
-weblayer/test/data/test_audio.ogg
